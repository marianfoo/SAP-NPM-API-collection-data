[{"name":"README.md","content":"@sap/node-jwt\r\n=============\r\n\r\nJSON Web Token (JWT) offline validation for Node with current binaries\r\n\r\nThis project contains the JWT binding for Node.js. It also includes the native libraries to run on Windows/Linux.\r\nIf you need another platforms, please write to the author.\r\n\r\n# Platforms\r\n\r\nSupported platforms: **Windows** | **Linux** | **MacOS**\r\nSupported architectures: x64 on supported platforms.\r\nPlease see also section dependencies for Node.js version.\r\n\r\n#### Hello world\r\n\r\nThis standard example is from http://jwt.io \r\n\r\n```javascript\r\n// you can either load a HMAC key for signatures with HSxxx\r\nv.setSecret(\"secret\"); // load HMAC key\r\nv.setBase64Secret(\"c2VjcmV0\"); // load a Base64 encoded HMAC key\r\n// or you can load a PEM encoded X509 certificate for signatures with RSxxx\r\nv.loadPEM(\"MIICozCCAYsCCAogFQcmCUcJMA0GCSqGSIb3DQEBCwUAMBQ....\"); // load X509 public certificate OR public key for RSA signature validation\r\n// check the token signature and validity\r\nv.checkToken(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\");\r\nconsole.log(\"Test JWT for Node.js\");\r\nif (v.getErrorDescription() !== \"\") {\r\n   // error handling\r\n   console.log(\"Error in JWT: \" + v.getErrorDescription());\r\n} else {\r\n   // in case of success, retrieve the payload\r\n   console.log(\"JWT Payload : \" + v.getPayload());\r\n}\r\n```\r\n\r\n# Getting started\r\n\r\nFrom your project directory, run (see below for requirements):\r\n\r\n```\r\n$ var jwt = require('@sap/node-jwt');\r\n```\r\n\r\nReleased versions\r\n```\r\nnpm install @sap/node-jwt\r\n```\r\n\r\n\r\n# Dependencies\r\n\r\n* NodeJS v0.10.x is the minimum version. The maximum version is always the last LTS (long term support, https://nodejs.org/en/about/releases/) , however due to missing binaries, there might be errors in using this project\r\n* You dont need `node-gyp` or any compiler (e.g. Visual Studio on Windows). The source code and binding.gyp is part of this project in case of errors.\r\n* If you run in error with generic node exceptions, please inform the author. The root cause can be missing jwt.node modules.\r\n\r\n\r\n# Error situations\r\n\r\nThe standard error for signature operations is the situation, that the signature is not valid. This error is typical and you should handle\r\nit carefully! and not as fatal error or assert.\r\nIf you think, it must work, but it does not, then you can trace the native functions.\r\nSAPSSOEXT library allows you to set the environment variables:\r\n* SAP_EXT_TRC to define a trace file in your file system\r\n* SAP_EXT_TRL an integer 0 to 3\r\n\r\n```\r\nset SAP_EXT_TRC=stdout\r\nset SAP_EXT_TRL=3\r\n```\r\n\r\nIf you run your application in CloudFoundry or XSA then you can define environment variables with client command tool cf / xs, see\r\nhttps://docs.run.pivotal.io/devguide/deploy-apps/manifest.html#env-block \r\n\r\nIn cf landscapes you can then cf logs <your-app> and you will see trace from JWT validation\r\n\r\n# Install via NPM\r\n\r\nIn order to configure the sap NPM registry you need to issue the following command:\r\n\r\n```\r\nnpm install @sap/node-jwt\r\n```\r\n"}]