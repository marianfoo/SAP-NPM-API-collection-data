[{"name":"README.md","content":"# @sap/textanalysis\r\n\r\n@sap/textanalysis is a Node.js module on the XS Advanced platform that supports text analysis. Text analysis performs linguistic analysis and entity extraction on unstructured text documents.\r\n\r\n@sap/textanalysis is implemented as an interface to the `TA_ANALYZE` SQL stored procedure. It provides the following single API function:\r\n- `analyze()`\r\n\r\nFor more information on text analysis and the `TA_ANALYZE` stored procedure, see the [Text Analysis Developer Guide](http://help.sap.com/hana/SAP_HANA_Text_Analysis_Developer_Guide_en.pdf).\r\nNote that `TA_ANALYZE` and @sap/textanalysis is only available on HANA 2.0 and later versions.\r\n\r\n## Usage example\r\nFirst, a HANA database connection must be established (either with [hdb](https://github.com/SAP/node-hdb) or with @sap/hana-client). Then the client database object can be passed to the analyze method along with the input parameters. The input parameters set the input variables to the `TA_ANALYZE` stored procedure.\r\n\r\n```javascript\r\nvar ta = require('@sap/textanalysis');\r\nvar client;\r\nvar options = {\r\n    host: process.env.HANA_HOST,\r\n    port: process.env.HANA_PORT,\r\n    user: process.env.HANA_USER || 'system',\r\n    password: process.env.HANA_PASSWORD || 'manager',\r\n};\r\nasync.series([\r\n\tfunction connect(callback) {\r\n\t\tclient = hdb.createClient(options);\r\n\t\tclient.connect(callback);\r\n\t},\r\n\tfunction analyze(callback) {\r\n\t\tvar values = {\r\n\t\t\tDOCUMENT_TEXT: '<!DOCTYPE html><html><body><h1>My First Heading</h1><p>My first paragraph.</p></body></html>',\r\n\t\t\tLANGUAGE_CODE: 'EN',\r\n\t\t\tCONFIGURATION: 'EXTRACTION_CORE',\r\n\t\t\tRETURN_PLAINTEXT: 0\r\n\t\t};\r\n\t\tta.analyze(values, client, function done(err, parameters, rows) {\r\n\t\t\tif (err) { return console.error('error', err); }\r\n\t\t\tcallback();\r\n\t\t});\r\n\t},\r\n\tfunction end(callback) {\r\n\t\tclient.end(callback);\r\n\t}], done\r\n);\r\n```\r\n"}]