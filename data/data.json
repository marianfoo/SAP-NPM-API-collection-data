{"packages":[{"name":"adp-abap","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-05-29T13:00:24.808Z","updatedAt":"2024-03-15T08:25:12.471Z","readme":"# Adaptation Project ABAP Package\n\nWARNING: This package is intended for usage within SAP Business Application Studio. VSCode usage is in experimental mode.\n\nThe package includes some joint business logic which is used by other Adaptation Project's packages.\n","downloadsCurrentMonth":7208,"downloadsCurrentFortnight":3365,"downloads365":1388587,"downloadsFortnightGrowth":-7.86,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":17361},{"yearMonth":"2023-06","downloads":181032},{"yearMonth":"2023-07","downloads":180121},{"yearMonth":"2023-08","downloads":175526},{"yearMonth":"2023-09","downloads":166361},{"yearMonth":"2023-10","downloads":176941},{"yearMonth":"2023-11","downloads":172384},{"yearMonth":"2023-12","downloads":165163},{"yearMonth":"2024-01","downloads":141433},{"yearMonth":"2024-02","downloads":6766}],"versions":[{"version":"created","date":"2023-05-29T13:00:24.808Z"},{"version":"0.2.27","date":"2023-05-29T13:00:25.065Z"},{"version":"modified","date":"2024-03-15T08:25:12.471Z"},{"version":"1.1.34","date":"2023-06-12T07:42:40.130Z"},{"version":"1.1.37","date":"2023-06-23T11:39:37.287Z"},{"version":"1.1.38","date":"2023-06-29T14:23:03.507Z"},{"version":"1.1.39","date":"2023-08-11T09:07:32.531Z"},{"version":"1.1.42","date":"2023-09-01T07:12:45.993Z"},{"version":"1.1.43","date":"2023-09-01T13:19:21.768Z"},{"version":"1.1.44","date":"2023-09-29T10:07:44.878Z"},{"version":"1.1.45","date":"2023-10-05T11:25:50.121Z"},{"version":"1.1.46","date":"2023-10-25T08:02:56.656Z"},{"version":"1.1.47","date":"2023-11-23T15:40:42.486Z"},{"version":"1.1.48","date":"2023-12-04T15:59:57.819Z"},{"version":"1.1.49","date":"2023-12-07T14:16:50.025Z"},{"version":"1.1.50","date":"2023-12-18T16:40:10.106Z"},{"version":"1.1.51","date":"2023-12-21T17:12:41.613Z"},{"version":"1.1.52","date":"2024-01-24T13:58:05.968Z"},{"version":"1.1.54","date":"2024-01-31T13:34:42.639Z"},{"version":"1.1.55","date":"2024-02-15T15:01:39.895Z"},{"version":"1.1.56","date":"2024-03-07T14:02:49.053Z"},{"version":"1.1.57","date":"2024-03-15T08:25:12.030Z"}],"npmlink":"https://www.npmjs.com/package/@sap/adp-abap"},{"name":"adp-cf","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-05-29T13:00:33.125Z","updatedAt":"2024-03-15T08:25:21.384Z","readme":"# Adaptation Project CF (Cloud Foundry) Package\n\nWARNING: This package is intended for usage within SAP Business Application Studio. VSCode usage is in experimental mode.\n\nThe package includes some joint business logic which is used by other Adaptation Project's packages.\n","downloadsCurrentMonth":6909,"downloadsCurrentFortnight":3147,"downloads365":1388360,"downloadsFortnightGrowth":-11.9,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":17363},{"yearMonth":"2023-06","downloads":181318},{"yearMonth":"2023-07","downloads":180375},{"yearMonth":"2023-08","downloads":175562},{"yearMonth":"2023-09","downloads":166266},{"yearMonth":"2023-10","downloads":176811},{"yearMonth":"2023-11","downloads":172278},{"yearMonth":"2023-12","downloads":165092},{"yearMonth":"2024-01","downloads":141340},{"yearMonth":"2024-02","downloads":6728}],"versions":[{"version":"created","date":"2023-05-29T13:00:33.125Z"},{"version":"0.2.27","date":"2023-05-29T13:00:33.504Z"},{"version":"modified","date":"2024-03-15T08:25:21.384Z"},{"version":"1.1.34","date":"2023-06-12T07:42:47.909Z"},{"version":"1.1.37","date":"2023-06-23T11:39:46.578Z"},{"version":"1.1.38","date":"2023-06-29T14:23:11.173Z"},{"version":"1.1.39","date":"2023-08-11T09:07:43.040Z"},{"version":"1.1.42","date":"2023-09-01T07:12:54.281Z"},{"version":"1.1.43","date":"2023-09-01T13:19:30.477Z"},{"version":"1.1.44","date":"2023-09-29T10:07:53.434Z"},{"version":"1.1.45","date":"2023-10-05T11:25:57.874Z"},{"version":"1.1.46","date":"2023-10-25T08:03:05.014Z"},{"version":"1.1.47","date":"2023-11-23T15:40:50.472Z"},{"version":"1.1.48","date":"2023-12-04T16:00:06.006Z"},{"version":"1.1.49","date":"2023-12-07T14:16:57.551Z"},{"version":"1.1.50","date":"2023-12-18T16:40:18.241Z"},{"version":"1.1.51","date":"2023-12-21T17:12:50.003Z"},{"version":"1.1.52","date":"2024-01-24T13:58:13.424Z"},{"version":"1.1.54","date":"2024-01-31T13:34:50.576Z"},{"version":"1.1.55","date":"2024-02-15T15:01:50.967Z"},{"version":"1.1.56","date":"2024-03-07T14:02:58.105Z"},{"version":"1.1.57","date":"2024-03-15T08:25:20.943Z"}],"npmlink":"https://www.npmjs.com/package/@sap/adp-cf"},{"name":"adp-cli","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-01-20T13:05:32.912Z","updatedAt":"2024-03-15T08:54:46.268Z","readme":"# Adaptation Project Command-line Interface\n\n**Command-line interface** that allows user to **deploy** (**update**) or **undeploy** an Adaptation Project.\n\n## Usage\n\n```shell\nnpm install -g @sap/adp-cli\n```\n\nIn your terminal run `adp` to _see_ all available options and commands (`adp abap-deploy`, `adp abap-undeploy`).\n\nFor the _correct usage_ of each command add `-h` or `--help`. This will print all the options the command accepts.\n\nExample:<br/>\n**Usage**: `adp abap-deploy [options]` <br/>\n-ap, --abap-package <abap_package\\> Package name<br/>\n-at, --abap-transport [abap_transport] Transport request number<br/>\n-dn, --destination-name [destination_name] Destination name<br/>\n-su, --system-url [system_url] System URL<br/>\n-cl, --client [client] Client<br/>\n-u, --username [username] Username <br/>\n-p, --password [password] Password <br/>\n-h, --help display help for command<br/>\n\nOptions that are surrounded by arrows are **required**, the ones in square brackets are **optional**. <br/>\nIf the project is local pass '\\$TMP' with single quotes or \"\\\\$TMP\" with double quotes and a slash instead of $TMP, then you can omit `-at, --abap-transport` parameter.\n\n## Usage on Business Application Studio (BAS)\n\nYou _can use_ the command on SAP Business Application Studio with **either** [destination_name] **or** [system_url] & [client] parameters (the latter requires you to pass credentials). **NOTE**: You cannot use both at the same time.\n\n```bash\n# abap-deploy with $TMP package\n$ adp abap-deploy --abap-package '$TMP' --destination-name DEST_NAME\n\n# abap-deploy\nadp abap-deploy --abap-package ABAP_PKG --abap-transport ABAP_TRANSPORT --destination-name DEST_NAME\n\n# abap-deploy with force update\nadp abap-deploy --abap-package ABAP_PKG --abap-transport ABAP_TRANSPORT --destination-name DEST_NAME --force-update\n\n# abap-undeploy\nadp abap-undeploy --abap-package ABAP_PKG --abap-transport ABAP_TRANSPORT --destination-name DEST_NAME\n```\n\n## Usage on VSCode\n\nYou _can only use_ the command on **VSCode** (or in you **CI/CD pipelines**) using the following parameters, example:\n\n```bash\n# abap-deploy with system url & client\nadp abap-deploy --abap-package ABAP_PKG --abap-transport ABAP_TRANSPORT --system-url https://SYSTEM_URL.sap --client XXX --username USERNAME --password PASSWORD\n\n# abap-undeploy with system url & client\nadp abap-undeploy --abap-package ABAP_PKG --abap-transport ABAP_TRANSPORT --system-url https://SYSTEM_URL.sap --client XXX --username USERNAME --password PASSWORD\n```\n","downloadsCurrentMonth":5493,"downloadsCurrentFortnight":2565,"downloads365":1753432,"downloadsFortnightGrowth":-7.97,"downloadsHistory":[{"yearMonth":"2023-04","downloads":155773},{"yearMonth":"2023-05","downloads":184512},{"yearMonth":"2023-06","downloads":180279},{"yearMonth":"2023-07","downloads":179534},{"yearMonth":"2023-08","downloads":175333},{"yearMonth":"2023-09","downloads":166140},{"yearMonth":"2023-10","downloads":176786},{"yearMonth":"2023-11","downloads":172330},{"yearMonth":"2023-12","downloads":164929},{"yearMonth":"2024-01","downloads":140212},{"yearMonth":"2024-02","downloads":5259}],"versions":[{"version":"created","date":"2023-01-20T13:05:32.912Z"},{"version":"0.2.21","date":"2023-01-20T13:05:33.164Z"},{"version":"modified","date":"2024-03-15T08:54:46.268Z"},{"version":"0.2.22","date":"2023-01-26T13:08:31.550Z"},{"version":"0.2.23","date":"2023-02-21T15:41:46.614Z"},{"version":"0.2.24","date":"2023-02-23T08:35:22.275Z"},{"version":"0.2.25","date":"2023-03-15T14:18:09.301Z"},{"version":"0.2.26","date":"2023-05-23T09:20:19.433Z"},{"version":"0.2.27","date":"2023-05-29T13:55:44.056Z"},{"version":"1.1.34","date":"2023-06-12T07:56:09.481Z"},{"version":"1.1.37","date":"2023-06-23T12:06:21.138Z"},{"version":"1.1.38","date":"2023-06-29T14:42:45.139Z"},{"version":"1.1.39","date":"2023-08-11T11:34:32.903Z"},{"version":"1.1.42","date":"2023-09-01T07:29:14.109Z"},{"version":"1.1.43","date":"2023-09-01T13:41:34.579Z"},{"version":"1.1.44","date":"2023-09-29T10:30:32.130Z"},{"version":"1.1.45","date":"2023-10-05T11:33:54.684Z"},{"version":"1.1.46","date":"2023-10-25T10:21:11.253Z"},{"version":"1.1.47","date":"2023-11-23T16:05:22.949Z"},{"version":"1.1.48","date":"2023-12-04T16:11:16.187Z"},{"version":"1.1.49","date":"2023-12-07T14:37:34.022Z"},{"version":"1.1.50","date":"2023-12-18T16:53:57.832Z"},{"version":"1.1.51","date":"2023-12-21T17:19:49.451Z"},{"version":"1.1.52","date":"2024-01-24T14:22:18.007Z"},{"version":"1.1.54","date":"2024-01-31T13:52:49.992Z"},{"version":"1.1.55","date":"2024-02-15T15:30:17.174Z"},{"version":"1.1.56","date":"2024-03-07T14:42:20.166Z"},{"version":"1.1.57","date":"2024-03-15T08:54:45.434Z"}],"npmlink":"https://www.npmjs.com/package/@sap/adp-cli"},{"name":"adp-common","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-01-20T12:27:21.282Z","updatedAt":"2024-03-15T08:02:55.283Z","readme":"# Adaptation Project Common Package\n\nWARNING: This package is intended for usage within SAP Business Application Studio. VSCode usage is in experimental mode.\n\nThe package includes some joint business logic which is used by other Adaptation Project's packages.\n","downloadsCurrentMonth":8135,"downloadsCurrentFortnight":3032,"downloads365":1764178,"downloadsFortnightGrowth":-38.5,"downloadsHistory":[{"yearMonth":"2023-04","downloads":156263},{"yearMonth":"2023-05","downloads":186404},{"yearMonth":"2023-06","downloads":181665},{"yearMonth":"2023-07","downloads":180653},{"yearMonth":"2023-08","downloads":175680},{"yearMonth":"2023-09","downloads":166438},{"yearMonth":"2023-10","downloads":177098},{"yearMonth":"2023-11","downloads":172577},{"yearMonth":"2023-12","downloads":165287},{"yearMonth":"2024-01","downloads":141050},{"yearMonth":"2024-02","downloads":6319}],"versions":[{"version":"created","date":"2023-01-20T12:27:21.282Z"},{"version":"0.2.21","date":"2023-01-20T12:27:21.544Z"},{"version":"modified","date":"2024-03-15T08:02:55.283Z"},{"version":"0.2.22","date":"2023-01-26T12:37:23.054Z"},{"version":"0.2.23","date":"2023-02-21T15:21:13.897Z"},{"version":"0.2.24","date":"2023-02-23T07:52:51.423Z"},{"version":"0.2.25","date":"2023-03-15T13:25:40.669Z"},{"version":"0.2.26","date":"2023-05-23T08:56:12.645Z"},{"version":"0.2.27","date":"2023-05-29T12:26:11.485Z"},{"version":"1.1.34","date":"2023-06-12T07:09:04.275Z"},{"version":"1.1.37","date":"2023-06-23T10:04:37.110Z"},{"version":"1.1.38","date":"2023-06-29T14:04:44.836Z"},{"version":"1.1.39","date":"2023-08-11T08:22:31.291Z"},{"version":"1.1.42","date":"2023-09-01T06:36:40.713Z"},{"version":"1.1.43","date":"2023-09-01T12:53:28.450Z"},{"version":"1.1.44","date":"2023-09-29T08:43:26.828Z"},{"version":"1.1.45","date":"2023-10-05T11:02:17.221Z"},{"version":"1.1.46","date":"2023-10-25T07:28:43.889Z"},{"version":"1.1.47","date":"2023-11-23T15:24:18.790Z"},{"version":"1.1.48","date":"2023-12-04T15:29:40.513Z"},{"version":"1.1.49","date":"2023-12-07T13:59:11.601Z"},{"version":"1.1.50","date":"2023-12-18T16:16:30.379Z"},{"version":"1.1.51","date":"2023-12-21T17:04:08.507Z"},{"version":"1.1.52","date":"2024-01-24T13:35:52.135Z"},{"version":"1.1.53","date":"2024-01-30T15:05:48.384Z"},{"version":"1.1.54","date":"2024-01-31T13:16:47.136Z"},{"version":"1.1.55","date":"2024-02-15T14:16:33.381Z"},{"version":"1.1.56","date":"2024-03-07T13:46:54.209Z"},{"version":"1.1.57","date":"2024-03-15T08:02:54.533Z"}],"npmlink":"https://www.npmjs.com/package/@sap/adp-common"},{"name":"adp-ve-bas-ext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-14T11:14:41.413Z","updatedAt":"2024-03-15T08:55:10.778Z","readme":"# SAPUI5 Visual Editor extension for BAS\n\nWARNING: This package is intended for usage within SAP Business Application Studio. VSCode usage is in experimental mode.\n\n### Open SAPUI5 Visual Editor\n1. Create or import an Adaptation Project\n1. Right click on your Adaptation Project folder and then click `Open SAPUI5 Visual Editor` (or open command palette and select `Open SAPUI5 Visual Editor`, then select your Adaptation Project)\n","downloadsCurrentMonth":5620,"downloadsCurrentFortnight":2545,"downloads365":1283568,"downloadsFortnightGrowth":-11.69,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":99049},{"yearMonth":"2023-07","downloads":178847},{"yearMonth":"2023-08","downloads":175156},{"yearMonth":"2023-09","downloads":166198},{"yearMonth":"2023-10","downloads":176753},{"yearMonth":"2023-11","downloads":172310},{"yearMonth":"2023-12","downloads":165114},{"yearMonth":"2024-01","downloads":140422},{"yearMonth":"2024-02","downloads":5409}],"versions":[{"version":"created","date":"2023-06-14T11:14:41.413Z"},{"version":"1.1.36","date":"2023-06-14T11:14:41.813Z"},{"version":"modified","date":"2024-03-15T08:55:10.778Z"},{"version":"1.1.37","date":"2023-06-23T12:06:32.374Z"},{"version":"1.1.38","date":"2023-06-29T14:43:04.223Z"},{"version":"1.1.39","date":"2023-08-11T11:34:50.835Z"},{"version":"1.1.42","date":"2023-09-01T07:29:28.678Z"},{"version":"1.1.43","date":"2023-09-01T13:41:51.659Z"},{"version":"1.1.44","date":"2023-09-29T10:30:48.398Z"},{"version":"1.1.45","date":"2023-10-05T11:34:11.548Z"},{"version":"1.1.46","date":"2023-10-25T10:21:48.267Z"},{"version":"1.1.47","date":"2023-11-23T16:05:36.699Z"},{"version":"1.1.48","date":"2023-12-04T16:11:32.790Z"},{"version":"1.1.49","date":"2023-12-07T14:37:52.733Z"},{"version":"1.1.50","date":"2023-12-18T16:54:17.071Z"},{"version":"1.1.51","date":"2023-12-21T17:20:06.184Z"},{"version":"1.1.52","date":"2024-01-24T14:22:31.627Z"},{"version":"1.1.54","date":"2024-01-31T13:53:06.913Z"},{"version":"1.1.55","date":"2024-02-15T15:30:38.088Z"},{"version":"1.1.56","date":"2024-03-07T14:42:37.617Z"},{"version":"1.1.57","date":"2024-03-15T08:55:10.331Z"}],"npmlink":"https://www.npmjs.com/package/@sap/adp-ve-bas-ext"},{"name":"ams-dev","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"ISC","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-09-21T15:15:24.312Z","updatedAt":"2024-02-28T14:00:26.562Z","readme":"<!-- This is the README for npmjs -->\n\n# @sap/ams-dev\n\nThis module provides tooling support for extending applications which authenticate users via the [SAP Cloud Identity Services](https://help.sap.com/docs/identity-authentication?locale=en-US) with [authorization checks](https://help.sap.com/docs/identity-authentication/identity-authentication/configuring-authorization-policies?locale=en-US) via AMS (Authorization Management Service).\n\nThe primary functionality provided by this module are CLI scripts for compiling DCL as well as starting and stopping a local OPA instance. The compilation takes DCL (Data Control Language) files and outputs files for the `ADC` (Authorization Decision Controller) of AMS. Currently, a modified [OPA](https://www.openpolicyagent.org/) (Open Policy Agent) is used as ADC which takes [REGO](https://www.openpolicyagent.org/docs/latest/policy-language/) files generated by this module as input.\n\n\n## Sample base DCL\nEvery application has to define and provide their application specific, so-called, base [DCLs](https://help.sap.com/docs/BTP/8c9e07421c8b4c108e67ab62e663d32a/ac128d5634ee4f19a65a3173be6c5e54.html). A `*.dcl` file has to be saved in a named package e.g. \"ams\" under ``root/$DCL_SRC_DIR/ams``.\n```\nSCHEMA {\n    salesOrder: {\n            type: number\n    },\n    CountryCode: String\n}\n\nPOLICY readAll {\n    GRANT read ON * WHERE CountryCode IS NOT RESTRICTED;\n}\n\nPOLICY readAll_Europe {\n    USE readAll RESTRICT CountryCode IN ('AT', 'BE', 'BG', ...);\n}\n\nPOLICY adminAllSales {\n    GRANT read, write, delete, activate ON salesOrders, salesOrderItems;\n}\n\nPOLICY anyActionOnSales {\n    GRANT * ON salesOrders, salesOrderItems;\n}\n\nPOLICY readSalesOrders_Type {\n    GRANT read ON salesOrders WHERE salesOrder.type BETWEEN 100 AND 500;\n}\n```\n\n## Setup\nThere are different many ways this library can be used:<br/>\n### npm global\n```\nnpm install -g @sap/ams-dev\n```\nThe advantage of this approach is that the scripts are available everywhere and nothing more needs to be done.<br/>\nYou can check if evrything works by calling:\n```\ncompile-dcl\n```\n### npm project\nOr you can install it on project level.<br/>\nInside your project run:\n```\nnpm install @sap/ams-dev --save-dev\n```\nIn addition the package.json can be extended by adding the desired scripts, e.g.:\n```json\n\"scripts\": {\n    \"compile-dcl\": \"compile-dcl -s (DCL_SRC_PATH) -t (REGO_PATH)\",\n    \"start-opa\": \"start-opa -r (REGO_PATH) -p 8181 -d true\",\n    \"stop-opa\": \"stop-opa\"\n}\n```\nNow inside of your project folder the command `npm run start-opa` can be executed.\nInstead of defining the script command in the package.json one can make use `npx` to directly start the scripts.<br/>\nFor example:\n```\nnpx compile-dcl -d dcl-src -r dcl-target\n```\n\n### config\nInstead of setting the log-level for every cli command it's possible to define a global log-level by creating the file *$HOME/.ams/config.json*.\n```json\n{\n  \"log\": \"debug\"\n}\n```\nFurthermore as long as the folder *$HOME/.ams* exists all temporary files like the information which processes are running background are stored there.\n\n## Documentation\n\n### DCL compilation\nThe folder *resources/dcl-compiler* contains a file `dcl.jar` which is executed by the compile-dcl script.</br>\nTo update the compiler set the correct version in `package.json` and start the update script.\n\n#### Usage\n\nThe dcl-compilation script requires both a source and a target directory as parameter.</br>\nWe highly recommend to always use the flag `--failOn warning` although default is `--failOn error` in order get notified if for example features become deprecated in future dcl versions.</br>\nFor more information on how to execute, the dcl-compilation script run `compile-dcl --help`:\n```\nUsage: compile-dcl --dcl [DCL_SRC_DIR] --rego [DCL_TARGET_DIR]\n\nOptions:\n      --help       Show help                                           [boolean]\n      --version    Show version number                                 [boolean]\n  -d, --dcl        path to DCL source directory              [string] [required]\n  -r, --rego       path to REGO target directory             [string] [required]\n  -l, --log-level  log level\n        [string] [choices: \"debug\", \"info\", \"warn\", \"error\", \"silent\"] [default:\n                                                                        \"error\"]\n  -f, --failOn     fail on error, deprecation or warning\n        [string] [choices: \"error\", \"deprecation\", \"warning\"] [default: \"error\"]\n\nExamples:\n  compile-dcl -d dcl-src/ -r rego/\n```\n*Example globally*:</br>\n```\ncompile-dcl -s dcl-src -t dcl-target\n```\n*Example npx*:</br>\n```\nnpx compile-dcl -s dcl-src -t dcl-target\n```\n*Example in module*:</br>\n```\nnpm run dcl-compile\n```\n\n### DCL tests\nA useful feature of DCL is testing of policies.</br>\nFrom version 0.3.1 this library supports dcl tests which are automatically executed within the [DCL compilation](#dcl-compilation) script.</br>\nThe output of all tests is printed to the console:\n```\n> compile-dcl -d test/integration/dcl-resources -r test/dcl-target\n...\n.../dcl-target/procurement/procurement_test_dcl_test.rego:\ndata.procurement.test_procurement_test_dcl_CanReadPurchaseRequestGermany: PASS (11.18601ms)\ndata.procurement.test_procurement_test_dcl_CanUpdatePurchaseRequestGermany: PASS (3.429217ms)\ndata.procurement.test_procurement_test_dcl_CanInsertPurchaseRequestGermany: PASS (3.25077ms)\ndata.procurement.test_procurement_test_dcl_CanReadPurchaseRequestUK: PASS (6.008628ms)\ndata.procurement.test_procurement_test_dcl_CanReadPurchaseRequestAll: PASS (1.711102ms)\n\n.../dcl-target/sales/sales_test_dcl_test.rego:\ndata.sales.test_sales_test_dcl_readAllSalesOrdersTest: PASS (639.761µs)\ndata.sales.test_sales_test_dcl_readSalesOrdersUserCountryCode: PASS (376.242µs)\n--------------------------------------------------------------------------------\nPASS: 7/7\n```\nIf the dcl tests fail the dcl-compile script returns with a non zero exit code.</br>\nFor local dcl testing we recommend the following `package.json` structure:\n```json\n{\n  \"scripts\": {\n    \"compile-dcl\": \"compile-dcl -d (DCL_PATH) -r (REGO_PATH)\",\n    \"start-opa\": \"start-opa -r (REGO_PATH)\",\n    \"pretest\": \"npm run compile-dcl && npm run start-opa\",\n    \"test\": \"...\",\n    \"posttest\": \"stop-opa && rm -rf (REGO_PATH)\"\n  }\n}\n```\nThis pretest ensures that your dcl code contains no errors and all the dcl tests succeed before executing the actual tests.</br>\nIf this library is installed globally via `npm install -g .` just run the following statement to test your dcl code:\n```sh\ncompile-dcl -d (DCL_PATH) -r (REGO_PATH)\n```\n\n### Start/Stop local opa\nThe folder *resources/opa* currently has three sap custom opa executable binaries for the operating systems mac, darwin and linux.</br>\nThere's also a VERSION file to keep track of the current opa version.</br>\nWhen executing the start-opa or stop-opa script the operating system is automatically detected by `process.platform`.\n\n#### Usage\n\n**Start Opa Server:**</br>\nRun `start-opa --help` to check the usage:\n```\nUsage: start-opa -r [REGO_PATH] -u [USER_TO_POLICY_FILE] -p [PORT]\n\nOptions:\n      --help         Show help                                         [boolean]\n      --version      Show version number                               [boolean]\n  -r, --rego         path to rego policies folder         [string] [default: \"\"]\n  -u, --user2policy  optional path to a json file which maps policies to users\n                                                          [string] [default: \"\"]\n  -p, --port         port of the opa server           [string] [default: \"8181\"]\n  -d, --daemonize    starts the opa as detached background process\n                                                       [boolean] [default: true]\n  -n, --name         gives the opa process a name which can be used to stop it\n                                                          [string] [default: \"\"]\n  -l, --log-level    log level\n        [string] [choices: \"debug\", \"info\", \"warn\", \"error\", \"silent\"] [default:\n                                                                        \"error\"]\n  -w, --watch        starts OPA in watch mode          [boolean] [default: true]\n  -c, --config-file  start opa with a config file                       [string]\n\nExamples:\n  start-opa -r rego/ -u user2policies.json\n```\nThe only required option is the path to the directory which contains the compiled dcl files (rego).</br>\nTherefore the most simple option is to call:\n```\nstart-opa -r \"\"\n```\nThis will start the opa server in the background on 127.0.0.1:8181 but without any policies.</br>\nOpening the browser on http://127.0.0.1:8181 should show the opa landing page.</br>\nBecause the opa runs now in a detached background process the script will store the it's pid.\nWhen the [stop-opa script](#stop-opa-server) is executed this pid will be taken to shutdown the all opa servers running in the background.</br>\nAlternatively the opa server can be started with daemonize set to false which will then **not** run in background and forward all opa logs to the console:\n```\nstart-opa -r \"\" -d false\n```\nTo stop the opa one can just press *Control+C* and **no** stop-opa script has to be executed</br>.\nIn order to test the opa with the own DCL policies one can pass the relative path to the rego files, e.g.:\n```\nstart-opa -r ./REGO_DIR -u ./user2policy.json\n```\nThe policies can be verified by calling http://127.0.0.1:8181/v1/policies.</br>\nFor the assignment of policies to users a data.json file is used:\n```json\n{\n    \"principal2policies\": {\n        \"TEST_ZONE\": {\n            \"TEST_USR\": [\n                \"sales.readAllSalesOrders\"\n            ],\n            \"CONDITION_USR\": [\n                \"sales.readAllSalesOrdersCondition\"\n            ]\n        }\n    }\n}\n```\nThe path of this file must be specified:\n```\nstart-opa -r ./REGO_DIR/ -u ./data.json -i true\n```\nIt can be verified by calling http://127.0.0.1:8181/v1/data.\n\n**Stop Opa Server:**</br>\nRun `stop-opa --help` to check the usage:\n```\nUsage: stop-opa -p [PORT] -n [NAME]\n\nOptions:\n      --help       Show help                                           [boolean]\n      --version    Show version number                                 [boolean]\n  -p, --port       stops the opa process running on this port           [string]\n  -n, --name       stops the opa process with this given name           [string]\n  -l, --log-level  log level\n        [string] [choices: \"debug\", \"info\", \"warn\", \"error\", \"silent\"] [default:\n                                                                        \"error\"]\n  -d, --dry-run    list running instances to delete   [boolean] [default: false]\n\nExamples:\n  stop-opa -p 8181  stopps opa on port 8181\n```\nThis script is used to stop opa servers running in **background**.</br>\nIf no parameters are passed all opa background processes will be killed:\n```\nstop-opa\n```\n\n## Tests\nTests are implemented with mocha and chai.\n```\nnpm test\n```\nTests:\n- Unit tests that verify dcl to rego compilation\n- Integration test that validates functionality of the launch opa script\n\n\n## CAP integration\n\nThis module provides a devtime plugin for [CAP](https://cap.cloud.sap/docs/guides/authorization) (Cloud Application Programming Model) applications which is documented in the docs of [@sap/ams](https://www.npmjs.com/package/@sap/ams).\n","changelog":"## 0.8.3 - 2024-02-02\n\n- provide separate README for npmjs release\n\n## 0.8.2 - 2024-01-26\n\n- [CAP] fix plugin quitting early when production profile is active to allow the AMS BuildTask to run during `cds build --production`\n- [CAP] bugfix OPA not getting started when ams.autoCompile config flag is set to *false*\n\n## 0.8.1 - 2024-01-24\n\n- [CAP] necessary adjustments for mocked auth support under @sap/ams 1.14.1 and later\n- [CAP] role names are now quoted in the generated base policies to support special characters like `.` inside role names\n\n## 0.8.0 - 2023-12-21\n\n- [CAP] integrate AMS DCL generation into the 'cds build' command\n- [CAP] compile DCL into /gen/srv/ams* instead of /ams/*\n- [CAP] move .opa folder away from /ams into user's home directory\n- [CAP] major refactoring and improvements of AMS Dev Plugin\n\n## 0.7.2 - 2023-10-24\n\n- remove (Not restricted) from base policy names generated with CAP Plugin\n\n## 0.7.1 - 2023-9-8\n\n- bugfix path to policyAssignments file in local OPA configuration of CAP applications running on Windows\n\n## 0.7.0 - 2023-8-15\n\n- update dcl-compiler to version 0.15.0\n- replaced --silent flag with -l (--log-level)\n- introduced new flag -d (--dry-run) for stop-opa which shows the running opa processes without killing them\n\n## 0.6.0 - 2023-8-15\n\n- support CAP Hybrid mode for AMS\n\n## 0.5.0 - 2023-8-14\n\n- move CAP plugin logic to cap/amsDevPlugin.js\n- refactor CAP plugin\n- change CAP logging namespace to ams from ams-dev\n\n## 0.4.6 - 2023-8-7\n\n- various improvements and stabilizations to cds-plugin.js\n- new flag: cds.env.requires.auth.ams.autoCompile (Default=false): Compile CDS to DCL whenenver model is loaded, e.g. during start-up of cds watch\n\n## 0.4.5 - 2023-7-26\n\n- remove unnecessarily complex process spawns from CapAmsFlow by directly calling internal functions instead of their CLI binaries.\n\n## 0.4.4 - 2023-7-26\n\n- triggering xMake builds (Staging & Promote) with technical user (p2002428409)token. \n\n## 0.4.3 - 2023-7-21\n\n- the cds plugin now supports policy assignments via CAP mocked authentication by automatically generating a policyAssignments file for OPA in the background\n- various improvements for compilation and OPA management via event and file watchers\n\n## 0.4.2 - 2023-7-20\n\n- convert to cds plugin\n\n## 0.4.1 - 2023-6-30\n\n- update dependencies\n\n## 0.4.0 - 2023-6-22\n\n- update dcl-compiler\n\n## 0.3.2 - 2023-5-3\n\n- update dcl-compiler and opa\n\n## 0.3.1 - 2023-2-13\n\n- fix support for node without top level await\n\n## 0.3.0 - 2023-2-10\n\n- dcl compilation now also executes dcl test files\n\n## 0.2.11 - 2023-1-24\n\n- update dependencies and fix error handling for stopping opa\n\n## 0.2.9 - 2022-12-29\n\n- update opa to 0.47.3-sap-0.3.1\n\n## 0.2.8 - 2022-12-22\n\n- add opa bundle state plugin\n\n## 0.2.7 - 2022-12-22\n\n- further improve xmake build\n\n## 0.2.6 - 2022-12-22\n\n- improve xmake build\n\n## 0.2.5 - 2022-12-22\n\n- fix xmake error\n\n## 0.2.4 - 2022-12-22\n\n- update opa binary\n\n## 0.2.3 - 2022-10-21\n\n- update dcl compiler to version 0.12.1\n\n## 0.2.2 - 2022-10-04\n\n- bugfix on windows\n\n## 0.2.1 - 2022-08-18\n\n- update dcl compiler and opa\n\n## 0.2.0 - 2022-07-29\n\n- update to typescript\n\n## 0.1.1 - 2022-04-14\n\n- updated dcl compiler to version 0.10.0\n\n## 0.1.0 - 2022-03-22\n\n- Remove java-caller lib because of vulnerability\n\n## 0.0.9 - 2022-03-07\n\n- First release\n","downloadsCurrentMonth":490,"downloadsCurrentFortnight":193,"downloads365":1613,"downloadsFortnightGrowth":-32.28,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":0},{"yearMonth":"2023-09","downloads":75},{"yearMonth":"2023-10","downloads":80},{"yearMonth":"2023-11","downloads":63},{"yearMonth":"2023-12","downloads":132},{"yearMonth":"2024-01","downloads":427},{"yearMonth":"2024-02","downloads":507}],"versions":[{"version":"created","date":"2023-09-21T15:15:24.312Z"},{"version":"0.7.1","date":"2023-09-21T15:15:25.600Z"},{"version":"modified","date":"2024-02-28T14:00:26.562Z"},{"version":"0.8.0","date":"2023-12-21T16:02:19.680Z"},{"version":"0.8.1","date":"2024-01-24T08:03:27.831Z"},{"version":"0.8.2","date":"2024-01-29T13:06:26.140Z"},{"version":"0.8.3","date":"2024-02-02T16:17:09.863Z"},{"version":"0.8.4","date":"2024-02-28T14:00:26.121Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ams-dev"},{"name":"ams","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE AGREEMENT","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-09-21T14:49:00.509Z","updatedAt":"2024-03-05T15:42:05.158Z","readme":"<!-- This is the README for npmjs -->\n\n# @sap/ams\n\nThis is the Node.Js runtime library used to perform [authorization checks](https://help.sap.com/docs/identity-authentication/identity-authentication/configuring-authorization-policies?locale=en-US) in applications which authenticate users via the [SAP Cloud Identity Services](https://help.sap.com/docs/identity-authentication?locale=en-US).\n\nThe module [@sap/ams-dev](https://www.npmjs.com/package/@sap/ams-dev) provides the corresponding tooling support during application development.\n\nAs ADC (Authorization Decision Controller) the policy engine [OPA](https://www.openpolicyagent.org/) (Open Policy Agent) is used.\n\n\n## Installation\nVia public [npmjs](https://www.npmjs.com/) repository:\n```\nnpm install @sap/ams\n```\n\n\n## Usage examples\nBasic allow request on resource *salesOrders* with action *read*:\n```javascript\nconst pdp = new PolicyDecisionPoint();\nconst attr = new Attributes();\nattr.setAction(\"read\")\n\t.setResource(\"salesOrders\")\n\t.setPolicies([\"sales.readAllSalesOrders\"])\nlet isAllowedRead = await this.pdp.allow(attr);\n```\nBasic allowFilterClause request with unknown *$env.$user*:\n```javascript\nconst pdp = new PolicyDecisionPoint();\nconst attr = new Attributes();\nattr.setAction(\"read\")\n\t.setResource(\"salesOrders\")\n\t.setPolicies([\"sales.readAllSalesOrders\"])\n\t.addUnknowns(AttributeName.common.APP, AttributeName.common.ENV);\nconst filterClause = await this.pdp.allowFilterClause(attr);\n```\n\n\n## API Description\n\n### Attributes\n\nThe `Attributes` class (*see* `doc/API/Attributes.md`) wraps the input data for the OPA.\\\nInternally a JSON object is created which could look approximately as follows:\n```json\n{\n\t\"$dcl\": {\n\t\t\"action\":                \"read\",\n\t\t\"resource\":              \"SalesOrder\",\n\t\t\"tenant\":                \"12345\",\n\t\t\"principal2policies\":    [\"zone_a\",\"user_a\"],\n\t},\n\t\"$app\": {\n\t\t\"country\": \"DE\"\n\t},\n\t\"$env\": {\n\n\t},\n\t\"unknowns\": [\n\t\t\"$app.SalesID\"\n \t],\n\t \"ignores\": [\n\t\t \"input[\\\"$dcl\\\"][\\\"resource\\\"]\"\n\t]\n}\n```\n\n\nAn Attributes object can be defined as follows:\n```javascript\nconst attr = new Attributes()\n\t.setAction(\"read\")\n\t.setPolicies([\"ams.readAllSalesOrders\"])\n\t.setResource(\"salesOrder\")\n\t.setApp({\"country\": \"DE\"});\n```\nNote: Only principal2policies **or** policies can be set. The other one will be overridden.\\\n\n### Policy Decision Point\n\nThe `PolicyDecisionPoint` or PDP (*see* `doc/API/PolicyDecisionPoint.md`) is responsible for communicating with OPA.\n\nPer default, the URL of the OPA server is set to *127.0.0.1:8181*. This URL can be set via the environment variable *OPA_URL*.\\\nAlternatively, the URL can be passed to the constructor of the Policy Decision Point if a connection to multiple different OPA servers is desired.\n\n### AttributeName\n\n`AttributeName` (*see* `doc/API/AttributeName.md`) is a special type to store unknown and ignore values.\n\n### Call\n\nThe `Call` class (*see* `doc/API/Call.md`) wraps a condition JSON returned from `pdp.allowFilterClause()`.\\\nIn addition it wraps an enum `Call.type`:\n```javascript\n{\n\tAND:         \"and\",\n\tOR:          \"or\",\n\tEQ:          \"eq\",\n\tGT:          \"gt\",\n\t...\n}\n```\nThe Call API contains functionalities which should make working with big condition results easier.\\\nFirst the allowFilterClause condition is transformed into a `Call` object:\n```javascript\nconst filterClause = await pdp.allowFilterClause(attributes);\nconst call = Call.fromCondition(filterClause.condition);\n```\nIn the most common cases one wants to transform the condition into a sql like statement.\\\nTherefore a transform function has to be defined:\n```javascript\nfunction transformToSQL(item) {\n\tif (Call.isCall(item)) {\n\t\tswitch (item.getType()) {\n\t\tcase Call.types.EQ: {\n\t\t\tconst callChildren = [ \"(\", item.getArgument(0), \" = \", item.getArgument(1), \")\" ];\n\t\t\treturn callChildren;\n\t\t}\n\t\tcase Call.types.OR: {\n\t\t\t...\n\t\t}\n\t\tcase Call.types.LT: {\n\t\t\t...\n\t\t}}\n\t\t...\n\t}\n\telse if (AttributeName.isAttributeName(item)) {\n\t\treturn item.toString();\n\t}\n}\n```\nThis transform function will then be recursively applied on the Call object:\n```javascript\nconst sqlString = Call.transform(call, transformToSQL);\n```\n\n### RolesProvider\n\nAn instance of the `RolesProvider` class can be used to evaluate the roles (or scopes) of a user based on policies of the following form:\n\n```\nGRANT <role> ON $SCOPES;\n```\n\nTo get an `Array<String>` of a user's roles, call `getRoles` on a previously constructed instance of RolesProvider:\n\n```javascript\nconst pdp = new PolicyDecisionPoint();\nconst rp = new RolesProvider(pdp);\nconst principle = new Principle(app_tid, scim_id); // app_tid, scim_id taken from SAP Identity Service token\n\nconst roles = await rp.getRoles(principle);\n```\n\nOnly one RolesProvider instance needs to be constructed and can be used to subsequently get the roles of different users.\n\n### RolesCache\nA RolesProvider can use an optional `RolesCache` to improve the performance of subsequent role evaluations for the same user.\nIt has the following configuration parameters:\n- **TTL** [ms] (time-to-live): the lifetime of cache entries. Specifies how long the cached roles of a given user are used without evaluating them again via the ADC. If set too high, administrative changes of a user's policy assignments or changes in policies might affect the application's behavior with a high delay which reduces overall security.\\\nDefault: **1 minute**\n- **limit**: maximum number of simultaneous cache entries. The cache follows a FIFO strategy: if necessary, the oldest cache entry is removed to make space for a new entry.\\\nDefault: **10000**\n\nA RolesCache can be constructed and used by a RolesProvider as follows:\n```javascript\nconst rc = new RolesCache(10 * 60 * 1000, 1E6); // 10 min TTL and 100k users max\nconst rp = new RolesProvider(pdp).withRolesCache(rc);\n```\n\n#### RolesCache Sizing Guide\nThe memory consumed by the RolesCache can be estimated with the following formula:\n\n```\nMemory [Byte] = U*R*(2*S) + 84*U\n\nU: #Users\nR: #Roles per user\nS: String length of role name\n```\n\nIt is only an estimate and should be correct up to a factor of 2. Please use it only to get an understanding for the order of magnitude of the memory consumption.\nUse `avg`, `min` or `max` values of the input parameters to get a memory estimation for the scenario that is most important to you.\n\nThe following table gives a quick reference of expected memory consumption:\n| U (Users) | R (Roles) | S (String length) | Memory |\n|----------:|----------:|------------------:|-------:|\n|        1k |        10 |                20 |    1MB |\n|        1k |        50 |                30 |    3MB |\n|       10k |        10 |                20 |    5MB |\n|      100k |        15 |                20 |   70MB |\n|      100k |        50 |                10 |  100MB |\n|      100k |        50 |                30 |  300MB |\n|        1m |        25 |                20 |    1GB |\n\nTo compute a suitable user limit for your cache given a fixed amount of memory `M`, you can estimate it with the following formula:\n\n$$U = \\frac{M}{2 * R * S + 84}$$\n\n### Express Middleware\n\nThe authorization checks can be performed by the provided express `middleware` (*see* `doc/API/Middleware.md`).\n\nFor example, to restrict the `/read` endpoint to users with `read` authority:\n```javascript\nconst { middleware } = require('@sap/ams');\n\napp.get(\"/read\", [requireAuthentication, middleware.hasAuthority(\"read\")], (req, res) => {\n  res.send(\"User is allowed to read\");\n})\n```\n\nNote that the `req` object has to be extended with a `tokenInfo` object from  [@sap/xssec](https://www.npmjs.com/package/@sap/xssec) before calling `hasAuthority`.\\\nThis can be achieved by registering the middleware after the passport middleware of @sap/xssec.\n\nIf a middleware returns false or fails an error will be thrown otherwise the next handler is called.\n\n\n## CAP integration\n\nThis module provides a runtime plugin for [CAP](https://cap.cloud.sap/docs/guides/authorization) (Cloud Application Programming Model) applications which is documented in `docs/CapIntegration.md`.\n\n\n## Logging\n\nThe Node AMS library does **no** logging.\\\nBut theres's a guide on **how to log Policy Decision Point results** (*see* `doc/Logging/LogPdp.md`) and/or perform **auditlogging** (*see* `doc/Logging/AuditLog.md`).\n\n\n## Resources\n\n### Reporting Incidents\n\nAs registered SAP customers, report your issue in creating an incident for component **BC-CP-CF-SEC-LIB** on the [SAP Support Portal][SAPOSS]\n\nSee also [Getting Support][SAP_GS] in the SAP BTP documentation.\n\n### Open Source Legal Notices\n\n[SAP Cloud Identity 1.0][SSCI10]\n\n[SAPOSS]: https://support.sap.com/en/index.html\n[SAP_GS]: https://help.sap.com/docs/btp/sap-business-technology-platform/btp-getting-support\n[SSCI10]: https://support.sap.com/content/dam/launchpad/en_us/osln/osln/67837800100900008826_20170821125934.pdf","changelog":"## 1.14.2 - 2024-01-30\n\n- provide separate README for npmjs release and clean up docs\n\n## 1.14.1 - 2024-01-23\n\n- [CAP] fix IAS app_tid and scim_id access for @sap/cds 7.5.2 as the information has been removed from user.attr\n\n## 1.14.0 - 2023-12-20\n\n- add @sap/cds@7.5.0 as optional peer depenency\n- [CAP] bugfix missing await in RolesMiddleware\n- [CAP] several changes for new \"cds build --for ams\" feature\n\n## 1.13.1 - 2023-9-12\n\n- support users with empty tenant in CAP\n\n## 1.13.0 - 2023-9-7\n\n- add limit for maximum entries to RolesCache. In CAP, this can be configured via requires.auth.ams.cache.limit\n- fix CAP watch mode detection under Windows file systems\n\n## 1.12.0 - 2023-8-15\n\n- refactor runtime package\n\n## 1.11.0 - 2023-8-14\n\nrefactoring of CAP plugin:\n- \\_dcl\\_.cap file is now called entityMapping\n\n## 1.10.1 - 2023-8-7\n\n- export the new functionality from 1.10.0 via index.js\n\n## 1.10.0 - 2023-8-2\n\n- the API and cache for retrieving a user's roles based on specific role policies has been moved from the corresponding CAP-specific RolesMiddleware to a standalone class (RolesProvider). RolesMiddleware has been changed to configure and use RolesProvider.\n\n## 1.0.9 - 2023-8-1\n\n- change warning to debug message when roles middleware is handling request without user object\n\n## 1.0.8 - 2023-8-1\n\n- the cache TTL (time-to-live) of the roles middleware can now be configured in the CAP config via property requires.auth.ams.cache.TTL\n\n## 1.0.7 - 2023-7-26\n\n- add runtime for AmsInstance functionality\n\n## 1.0.6 - 2023-7-25\n\n- fixed cds-plugin.js missing from previous builds and releases\n\n## 1.0.5 - 2023-7-21\n\n- improved logging of cds plugin\n\n## 1.0.4 - 2023-7-20\n\n- convert to cds plugin\n\n## 1.0.3 - 2023-7-19\n\n- small bugfixes and improvements for CAP integration\n\n## 1.0.2 - 2023-7-17\n\n- small bugfixes and improvements for CAP integration\n\n## 1.0.1 - 2023-7-11\n\n- small bugfixes and improvements for CAP integration\n\n## 1.0.0 - 2023-7-10\n\n- add CAP integration code to src/cap\n\n## 0.4.0 - 2023-6-30\n\n- update ams-dev lib\n\n## 0.3.0 - 2023-5-3\n\n- update ams-dev lib\n\n## 0.2.2 - 2023-1-13\n\n- fix pdp url if set from outside\n\n## 0.2.1 - 2023-1-12\n\n- fix connection refused bug for node versions 17 upwards\n\n## 0.2.0 - 2023-1-11\n\n- support for scim id in attributes setTokenInfo\n\n## 0.1.5 - 2022-12-30\n\n- add getHealthStatus and startupCheck functions\n\n## 0.1.4 - 2022-10-21\n\n- update ams-dev to version 0.2.3\n\n## 0.1.3 - 2022-10-05\n\n- update ams dev lib\n\n## 0.1.2 - 2022-08-18\n\n- update to new ams-compiler and opa version in ams-dev-lib\n\n## 0.1.1 - 2022-04-14\n\n- updated dcl compiler to version 0.10.0\n\n## 0.1.0 - 2022-03-22\n\n- Updated ams-dev lib which contained vulnerability\n\n## 0.0.2 - 2022-03-07\n\n- First release\n","downloadsCurrentMonth":510,"downloadsCurrentFortnight":203,"downloads365":1668,"downloadsFortnightGrowth":-30.95,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":0},{"yearMonth":"2023-09","downloads":81},{"yearMonth":"2023-10","downloads":36},{"yearMonth":"2023-11","downloads":123},{"yearMonth":"2023-12","downloads":117},{"yearMonth":"2024-01","downloads":435},{"yearMonth":"2024-02","downloads":495}],"versions":[{"version":"created","date":"2023-09-21T14:49:00.509Z"},{"version":"1.13.1","date":"2023-09-21T14:49:00.848Z"},{"version":"modified","date":"2024-03-05T15:42:05.158Z"},{"version":"1.14.0","date":"2023-12-21T10:12:38.147Z"},{"version":"1.14.1","date":"2024-01-23T15:23:05.438Z"},{"version":"1.14.2","date":"2024-01-30T16:09:56.879Z"},{"version":"1.15.0","date":"2024-02-16T15:13:12.308Z"},{"version":"1.15.1","date":"2024-03-05T15:42:04.684Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ams"},{"name":"apihub-enterprise-service-provider","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-07-27T11:32:58.262Z","updatedAt":"2023-11-13T11:29:10.151Z","readme":"\n# The apihub-enterprise-service-provider Repository\n\n## Overview\n\n**apihub-enterprise-service-provider** is an npm package that provides the APIs necessary for exposing API Business Hub Enterprise destination systems, products and services. This package also exposes an interface for actions and queries related to the user's registration and subscription.\n\n## Usage\n\nTo add this package as a dependency in your **package.json** file, under the \"dependencies\" section, add the following dependency: `\"@sap/apihub-enterprise-service-provider\": [Version]`\n\n# Public APIs\n\n## ApiHubEntProviderRepository\n### getDestinations\n**Description:** *Provides a list of 'API Business Hub Enterprise' destination systems*  \n**Signature:** \n  ```typescript\n  async getDestinations(filter?: Filter)\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*filter* (optional): For additional filters on the destination list to be received   \n**Output:** A list of [API Business Hub Enterprise Destination Systems](#apihubentdestinationsystem)   \n\n### getServiceRetriever\n**Description:** *Retrieves an instance of the API Business Hub Enterprise's implementation of the ServiceRetriever interface*  \n**Signature:** \n  ```typescript\n  getServiceRetriever(): ApiHubEntServiceRetrieverInterface\n  ```  \n**Input:** none  \n**Output:** An instance that implements the ApiHubEntServiceRetrieverInterface  \n\n## ApiHubEntDestinationSystem\n### getProducts\n**Description:** *Provides a list of 'API Business Hub Enterprise' product systems*  \n**Signature:** \n  ```typescript\n  getProducts(options?: Record<string, any>): Promise<ApiHubEntProductSystem[]>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A list of [API Business Hub Enterprise Product Systems](#apihubentproductsystem) \n\n## ApiHubEntProductSystem\n### getServices\n**Description:** *Provides a list of 'API Business Hub Enterprise' services*  \n**Signature:** \n  ```typescript\n  async getServices(options?: Record<string, any>): Promise<Service[]>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A list of services  \n\n### getMetadata\n**Description:** *Provides the metadata of a 'API Business Hub Enterprise' service*  \n**Signature:** \n  ```typescript\n  async getMetadata(\n        service: Service, \n        encoding: EncodingMode, \n        options?: Record<string, any>, \n        _relativeUrl?: string, \n        credentials?: Authentication): Promise<ServiceMetadata>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*service*: The details of the service we want to get the metadata for   \n&nbsp;&nbsp;&nbsp;&nbsp;*encoding*: For metadata it should always be EncodingMode.XML     \n&nbsp;&nbsp;&nbsp;&nbsp;*options*: Accepts the following parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; apiHubKey: API Business Hub Enterprise authentication methods  \n&nbsp;&nbsp;&nbsp;&nbsp;*credentials* (optional): For services that require authentication  \n**Output:** An object that contains the metadata XML string of the service  \n\n### getJsonLiveData\n**Description:** *Provides live data from the 'API Business Hub Enterprise' service*  \n**Signature:** \n  ```typescript\n  async getJsonLiveData(\n        service: Service, \n        _relativeServiceUrl: string, \n        entityName: string, \n        options?: Record<string, any>): Promise<ServiceCommon>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*service*: The details of the service we want to get the metadata for   \n&nbsp;&nbsp;&nbsp;&nbsp;*entityName*: The name of the entity in the service we want the live data for  \n&nbsp;&nbsp;&nbsp;&nbsp;*options*: Accepts the following parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; apiHubKey: API Business Hub Enterprise authentication methods  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*filter* (optional): For additional query parameters to pass to the service. For example: ```new Filter(new Map([[ServiceRequestKey.TopRows, \"2\"\"]]))```  \n**Output:** An object that contains a JSON string with live data from the service  \n\n### getServiceSwagger\n**Description:** *Provides Swagger from the 'API Business Hub Enterprise' service*  \n**Signature:** \n  ```typescript\n  async getServiceSwagger(serviceId: string): Promise<string | undefined>\n  ```\n**Input:**    \n&nbsp;&nbsp;&nbsp;&nbsp;*serviceId*: The ID of the service that  we want to get the Swagger for  \n**Output:** A JSON string with Swagger data of the service \n\n## AdministrationManager\n### getSubscriptions\n**Description:** *A static method that retrieves the user's subscriptions*  \n**Signature:** \n  ```typescript\n  static async getSubscriptions(\n      destinationName:string, \n      userName: string, \n      productName?: string, \n      options?: Record<string, any>)\n      : Promise<ApiHubEntSubscription[]>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*destinationName*: The name of the destination system  \n&nbsp;&nbsp;&nbsp;&nbsp;*userName*: The name of the current user  \n&nbsp;&nbsp;&nbsp;&nbsp;*productName* (optional): Product's name in order to get the subscription list for only that specific product  \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A list of the user's [subscriptions](#api_hub_enterprise_subscription) in this destination system    \n\n### getRegistrationData\n**Description:** *A static method that retrieves the user's registration information*  \n**Signature:** \n  ```typescript\n    static async getRegistrationData(\n      destinationName:string, \n      userName: string, \n      options?: Record<string, any>)\n      : Promise<RegistrationData | undefined>\n  ```  \n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*destinationName*: The name of the destination system  \n&nbsp;&nbsp;&nbsp;&nbsp;*userName*: The name of the current user  \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A [RegistrationData](#registration-data) object\n\n### registerUser\n**Description:** *A static method that registers the user*  \n**Signature:** \n  ```typescript\n    static async registerUser(\n      registrationParams: RegistrationParams, \n      options?: Record<string, any>)\n      : Promise<RegistrationData>\n  ```  \n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*[RegistrationParams](#registration-parameters)*: An input object with all the parameters for the registration request  \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A [RegistrationData](#registration-data) object  \n\n### subscribeUser\n**Description:** *A static method that subscribes the user's app*  \n**Signature:** \n  ```typescript\n  static async subscribeUser(\n    subscriptionParams: SubscriptionParams, \n    options?: Record<string, any>)\n    : Promise<SubscribeResponse>\n  ```\n**Input:**  \n&nbsp;&nbsp;&nbsp;&nbsp;*[SubscriptionParams](#subscription-parameters)*: An input object with all the parameters for the subscription request   \n&nbsp;&nbsp;&nbsp;&nbsp;*options* (optional): Accepts the following optional parameters:  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; credentials: For services that require authentication  \n**Output:** A [SubscribeResponse](#subscribe-response) object with the response to the registration request \n\n### getAdministrationRaw\n**Description:** *Retrieves an instance of the API Business Hub Enterprise's implementation of the ServiceRetriever interface*  \n**Signature:** \n  ```typescript\n    static getAdministrationRaw() :AdministrationManagerRawInterface\n  ```  \n**Input:** none  \n**Output:** An instance that implements the AdministrationManagerRawInterface\n\n\n## Types\n### API Business Hub Enterprise Subscription\n  **productId**: string  \n  **appName**: string  \n  **id**: string  \n  **title**: string  \n  **description**: string  \n  **appKey**: string  \n  **creationDate**: string  \n  **isSubscribed**: boolean  \n\n### Registration Parameters\n  **destinationName (string):** API Business Hub Enterprise destination provider system  \n  **userId (string):** The current user's username  \n  **firstName (string):** The current user's first name  \n  **lastName (string):** The current user's last name  \n  **emailId (string):** The current user's email address  \n  **country (string):** The current user's country  \n  **roles ([AccessRole](#access_role)[]):** The list of roles associated with the user  \n\n### Access Role\n  **role (SubscriptionRole):** System role  \n  **status (SubscriptionStatus, optional):** The current user's first name  \n  **requestReason (string, optional):** The current user's last name  \n\n### Registration Data\n  **accessRoles**: [AccessRole](#access_role)[]\n\n### Subscription Parameters\n  **destinationName (string):** API Business Hub Enterprise destination provider system  \n  **username (string):** The current user's username  \n  **productName (string):** The product name to register to  \n  **appName (string):** The user's application name to register  \n  \n### Subscribe Response\n  **[key: string]**: unknown  \n\n\n## Example Flow\nCan be found at [test\\flow\\testFlow.ts](test\\flow\\testFlow.ts)\n","downloadsCurrentMonth":373,"downloadsCurrentFortnight":177,"downloads365":1486,"downloadsFortnightGrowth":-3.8,"downloadsHistory":[{"yearMonth":"2023-04","downloads":14},{"yearMonth":"2023-05","downloads":9},{"yearMonth":"2023-06","downloads":8},{"yearMonth":"2023-07","downloads":83},{"yearMonth":"2023-08","downloads":96},{"yearMonth":"2023-09","downloads":22},{"yearMonth":"2023-10","downloads":192},{"yearMonth":"2023-11","downloads":112},{"yearMonth":"2023-12","downloads":15},{"yearMonth":"2024-01","downloads":299},{"yearMonth":"2024-02","downloads":357}],"versions":[{"version":"created","date":"2022-07-27T11:32:58.262Z"},{"version":"0.0.10","date":"2022-07-27T11:32:58.535Z"},{"version":"modified","date":"2023-11-13T11:29:10.151Z"},{"version":"0.0.13","date":"2023-02-14T09:30:20.269Z"},{"version":"0.2.0","date":"2023-07-12T13:36:53.615Z"},{"version":"0.4.0","date":"2023-08-10T14:06:05.855Z"},{"version":"0.4.1","date":"2023-10-01T13:08:06.656Z"},{"version":"0.4.2","date":"2023-11-13T11:29:10.001Z"}],"npmlink":"https://www.npmjs.com/package/@sap/apihub-enterprise-service-provider"},{"name":"apihub-service-provider","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-10-12T07:29:16.965Z","updatedAt":"2023-11-13T11:29:22.002Z","readme":"\n# The apihub-service-provider (SAP Business Accelerator Hub) Repository\n\nThis repository reveals the 'SAP Business Accelerator Hub' service provider that can be used for local development.\n\nThe service provider extends the 'Consume-Services', which prompts the user to enter information to extend the generated project.\n\nThe 'SAP Business Accelerator Hub' service provider prompts the user to enter input to populate the generated project. After entering the input, the project, which consumes data from the SAP API Business Hub can be built and run.\n\nThe 'SAP Business Accelerator Hub' service provider provides a \"modules.json\" file for the 'Consume-services' to discover and prompt its questions. \n\nThe *modules.json* file includes the following parameters: \n\n```\n{\n  \"serviceProvider\": [\n    {\n      \"name\": \"SAP Business Accelerator Hub\", \t// The displayed name in the yeoman-based prompt as part of the service provider's list.\n      \"path\": \"/extbin/serviceProviders/apihub-service-provider\", \t// The path to the service provider's package.\n      \"entryPoint\": { \t\t\t// The main entry point to trigger the specific service provider's logic.\n        \"class\": \"ApihubServiceProvider\",\n        \"method\": \"apihubServiceProviderPrompt\"\n      }\n    }\n  ]\n}\n```\n\nThe 'SAP Business Accelerator Hub' service provider returns the following JSON containing the connectivity details below.\n \n```\nConnectivityDetails {\n  destination: { Name: \"apihub_sandbox\" },\n  serviceURL: \"/dummyPath\",\n  apiKey: \"dummyApiKey\",\n  serviceMetadata: {\n    odataContent: \"<dummyXML></dummyXML>\" \n    }\n}\n```\n\n# Public APIs\n\n### getListODataServices\n**Description:** *Provides a list of OData services for 'SAP Business Accelerator Hub'*  \n**Signiture:** ```async function getListODataServices()```  \n**Input:** none  \n**Output:** Json object containing array of OData services  \n\n### getApihubKey\n**Description:** *Retrieves an APIhub key from 'SAP Business Accelerator Hub' when passing in a valid username and password*  \n**Signiture:** ```async function getApihubKey(username: string, password: string): Promise<string>```  \n**Input:** *username:* The user's username that is used to login to 'SAP Business Accelerator Hub'  \n           *password:* The user's password that is used to login to 'SAP Business Accelerator Hub'  \n**Output:** Promise that resolves a string holding the user's apihub user key  \n\n### getMetadata\n**Description:** *Retrieves xml metadata for a specific service - as configured in the connectivityDetails.servicepath*  \n**Signiture:** ```async function getMetadata(connectivityDetails: ConnectionDetails, serviceName: string)```  \n**Input:** *connectivityDetails:* Object that contains the selected 'servicePath' and the generated 'apiHubApiKey'  \n  *serviceName:* The name of the selected service  \n**Output:** Beautified XML object including the selected service's metadata  \n\n### getListOfServiceName\n**Description:** *Retrieves a mapped list of all the OData services names for 'SAP Business Accelerator Hub'*  \n**Signiture:** ```function getListOfServiceNames(jsonServices: any): string[]```  \n**Input:** Json object including array of OData services  \n**Output:** String array of service names  \n","downloadsCurrentMonth":371,"downloadsCurrentFortnight":173,"downloads365":1858,"downloadsFortnightGrowth":-6.99,"downloadsHistory":[{"yearMonth":"2023-04","downloads":79},{"yearMonth":"2023-05","downloads":227},{"yearMonth":"2023-06","downloads":41},{"yearMonth":"2023-07","downloads":37},{"yearMonth":"2023-08","downloads":52},{"yearMonth":"2023-09","downloads":51},{"yearMonth":"2023-10","downloads":219},{"yearMonth":"2023-11","downloads":160},{"yearMonth":"2023-12","downloads":18},{"yearMonth":"2024-01","downloads":324},{"yearMonth":"2024-02","downloads":363}],"versions":[{"version":"created","date":"2020-10-12T07:29:16.965Z"},{"version":"1.0.2","date":"2020-10-12T07:29:17.384Z"},{"version":"modified","date":"2023-11-13T11:29:22.002Z"},{"version":"1.0.5","date":"2021-02-08T15:02:23.610Z"},{"version":"1.1.0","date":"2021-07-13T11:29:28.994Z"},{"version":"1.2.0","date":"2021-07-21T12:42:32.665Z"},{"version":"1.2.1","date":"2021-07-28T12:48:06.438Z"},{"version":"1.2.2","date":"2021-08-10T11:31:37.670Z"},{"version":"1.3.0","date":"2022-04-26T09:15:24.384Z"},{"version":"1.3.1","date":"2022-04-27T13:27:15.461Z"},{"version":"1.5.0","date":"2022-05-10T16:16:22.996Z"},{"version":"1.5.1","date":"2022-06-15T08:19:29.915Z"},{"version":"1.5.3","date":"2022-07-28T07:34:45.672Z"},{"version":"1.5.6","date":"2023-02-14T13:06:33.152Z"},{"version":"1.6.0","date":"2023-05-02T12:48:10.050Z"},{"version":"1.6.1","date":"2023-05-03T12:31:30.558Z"},{"version":"1.9.3","date":"2023-11-13T11:29:21.818Z"}],"npmlink":"https://www.npmjs.com/package/@sap/apihub-service-provider"},{"name":"approuter","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:49:25.398Z","updatedAt":"2024-03-13T19:56:50.025Z","readme":"@sap/approuter\n==============\n\n<!-- toc -->\n\n- [Overview](#overview)\n- [Deploying a business application with microservices](#deploying-a-business-application-with-microservices)\n- [Working directory](#working-directory)\n- [Configurations](#configurations)\n  * [Destinations](#destinations)\n    + [Environment-destinations](#environment-destinations)\n    + [Destination-service](#destination-service)\n  * [UAA configuration](#uaa-configuration)\n  * [Additional headers configuration](#additional-headers-configuration)\n  * [Additional Cookie Attributes](#additional-cookie-attributes)\n  * [Plugins configuration](#plugins-configuration)\n  * [Session timeout configuration](#session-timeout-configuration)\n  * [X-Frame-Options configuration](#x-frame-options-configuration)\n  * [Cross-Origin Resource Sharing configuration](#cross-origin-resource-sharing-configuration)\n  * [Direct Routing URI Patterns configuration](#direct-routing-uri-patterns-configuration)\n  * [NodeJS Minimal Logging Level configuration](#nodejs-minimal-logging-level-configuration)\n  * [Dynamic Identity Provider configuration](#dynamic-identity-provider-configuration)\n- [Routes](#routes)\n  * [Example routes](#example-routes)\n- [Replacements](#replacements)\n- [*xs-app.json* configuration file](#xs-appjson-configuration-file)\n  * [*welcomeFile* property](#welcomefile-property)\n  * [*authenticationMethod* property](#authenticationmethod-property)\n  * [*routes* property](#routes-property)\n  * [*login* property](#login-property)\n  * [*logout* property](#logout-property)\n  * [*destinations* property](#destinations-property)\n  * [*services* property](#services-property)\n  * [*responseHeaders* property](#responseHeaders-property)\n  * [*compression* property](#compression-property)\n  * [*pluginMetadataEndpoint* property](#pluginmetadataendpoint-property)\n  * [*whitelistService* property](#whitelistservice-property)\n  * [*websockets* property](#websockets-property)\n  * [*errorPage* property](#errorpage-property)\n  * [*cors* property](#cors-property)\n  * [Complete example of an *xs-app.json* configuration file](#complete-example-of-an-xs-appjson-configuration-file)\n- [Headers](#headers)\n  * [Forwarding Headers](#forwarding-headers)\n  * [Hop-by-hop Headers](#hop-by-hop-headers)\n  * [Custom Headers](#custom-headers)\n  * [Authorization Header](#authorization-header)\n- [CSRF Protection](#csrf-protection)\n- [Support of SAP Statistics](#support-of-sap-statistics)\n- [Connectivity](#connectivity)\n- [SaaS Application Registration in CF](#saas-application-registration-in-cloud-foundry)\n  * [How To Expose Approuter for SaaS Subscription](#how-to-expose-approuter-for-saas-subscription)\n- [Authentication with Identity Service (IAS)](#authentication-with-identity-service-ias)\n- [Mutual TLS Authentication (mTLS) and Certificates Handling](#mutual-tls-authentication-mtls-and-certificates-handling)\n- [Integration with HTML5 Application Repository](#integration-with-html5-application-repository)\n- [Integration with Business Services](#integration-with-business-services)\n- [Web Sockets](#web-sockets)\n- [Session Handling](#session-handling)\n  * [Session Contents](#session-contents)\n- [External Session Management](#external-session-management)\n- [Service to Application Router](#service-to-application-router)\n- [Central Logout](#central-logout)\n- [User API Service](#user-api-service)\n- [Allowlist Service](#whitelist-service)\n  * [Enable the service](#enable-the-service)\n  * [Configuring allowed hostnames / domains](#configuring-allowed-hostnames--domains)\n  * [Return value](#return-value)\n- [Scaling](#scaling)\n- [Sizing Guide for Application Router](#sizing-guide-for-application-router)\n- [Configure server-side HTTPS](#configure-server-side-https)\n- [Audit-Log Service](#audit-log-service)\n- [Troubleshooting](#troubleshooting)\n- [Getting Support](#getting-support)\n- [Extending Application Router](#extending-application-router)\n- [Best practices](#best-practices)\n  * [Security best practices](#security-best-practices)\n    + [Content-Security-Policy](#content-security-policy)\n\n<!-- tocstop -->\n\n## Overview\n\nWhen a business application consists of several different apps  (microservices),\nthe application router is used to provide a single entry point to that business application.\nIt has the responsibility to:\n\n* Dispatch requests to backend microservices (reverse proxy)\n* Authenticate users\n* Serve static content\n\n\n![Application router overview diagram](doc/app-router-diagram.png \"Overview diagram\")\n\n\nLet's think of the different apps (microservices) as _destinations_ to which the incoming request will be forwarded.\nThe rules that determine which request should be forwarded to which destination are called _routes_.\nFor every destination there can be more than one route. You may read more on the concept of [routes](#routes) later in this document.\nIf the backend microservices require authentication, the application router can be configured to authenticate the users and propagate the user information.\nAgain by using routes, the application router can serve static content.\n\nThe application router is designed to work in XS Advanced - Cloud Foundry and XS OnPremise Runtime.\n\nA calling component accesses a target service by means of the application router only if there is no JWT token available, for example, \nif a user invokes the application from a Web browser.\nIf a JWT token is already available, for example, because the user has already been authenticated, or the calling component uses a JWT token for its own OAuth client,\nthe calling component calls the target service directly; it does not need to use the application router.\n\n**Note** that the application router does not hide the backend microservices in any way. They are still directly accessible bypassing the application router. So the backend microservices _must_ protect all their endpoints by validating the JWT token and implementing proper scope checks. Network isolation is not provided currently by the platform.\n\n## Deploying a business application with microservices\n\nFor example we can have a business application that has the following structure:\n\n<pre>\n+-- manifest.yml\n+-- manifest-op.yml\n|  +-- microservice-1\n|  | +-- ...\n|  | +-- ...\n|  +-- microservice-2\n|  | +-- ...\n|  | +-- ...\n|  +-- web\n|  | +-- ...\n|  | +-- ...\n</pre>\n\nThe *manifest.yml* file is used to deploy the business application on Cloud Foundry and the *manifest-op.yml* - on the XS OnPremise Runtime.\nThese files should describe all the microservices for that business application.\n\nFolders are used to isolate the different microservices. Let's assume that the application router is the microservice in the *web* folder (every business application has its own application router).\nHere is how we can include the application router:\n\n* Manually create the *node_modules* folder in the *web* folder.\n* Copy and paste the folder that contains the self-contained application router into *node_modules*. In this example the name of that folder is *@sap/approuter*, see the *start* script in the *package.json* below.\n* Check the version of the application router you just copied.\n* Create a *package.json* file in *web* with content similar to the following and replace the version's value with the version of your application router:\n\n```json\n{\n    \"name\": \"hello-world-approuter\",\n    \"dependencies\": {\n       \"@sap/approuter\": \"2.6.1\"\n    },\n    \"scripts\": {\n        \"start\": \"node node_modules/@sap/approuter/approuter.js\"\n    }\n}\n```\n\nIn order to use the application router you don't have to write any JavaScript code.\nOnly some configurations have to be provided in the *web* folder. Here is a complete example:\n\n<pre>\n+-- web\n| +-- package.json\n| +-- xs-app.json\n| +-- resources\n| | +-- hello-world.html\n| | +-- my-page.html\n| +-- node_modules\n| |   +-- ...\n| +-- default-env.json\n| +-- default-services.json\n</pre>\n\nThe *web* folder contains the *package.json*, *node_modules*, some configuration files used by the application router, and static resources to be served.\nYou can read more about the [configurations](#configurations) later in this document.\n\nBy default, the application router runs on port 5000 (if started locally) or it takes the port from the `PORT` environment variable.\n\n## Working directory\n\nThe working directory contains configuration files that the application router needs and static resources that can be served at runtime.\nIn the [previous example](#deploying-a-business-application-with-microservices), the *web* folder is the working directory.\nBy default the current directory is the working directory.\nIt is possible to configure it during start up of the application router with the following command line argument:\n\n```bash\nnode approuter.js -w <working-dir>\n```\n\nApplication router will abort if the working directory does not contain *xs-app.json* file.\n\n## Configurations\n\nThe application router makes use of the following configurations:\n\n- [Main configuration](#xs-appjson-configuration-file) - this is the *xs-app.json* file. This file is mandatory and contains the main configurations of the application router.\n\n- [UAA configuration](#uaa-configuration) - the application router reads this configuration either from the `VCAP_SERVICES` environment variable (when deployed on Cloud Foundry or XS Advanced OnPremise Runtime)\nor from the *default-services.json* file (when running locally). Refer to the documentation of the `@sap/xsenv` package for more details.\n\n- Configurations from the environment - these configurations are either read from the application router's environment (when deployed on Cloud Foundry or XS Advanced OnPremise Runtime)\nor from the *default-env.json* file (when running locally). Refer to the documentation of the `@sap/xsenv` package for more details.\nThe environment variables that the application router takes into account are:\n\n\nConfiguration | Environment variable                  | Description\n------------- |---------------------------------------| ------------\n[UAA service name](#uaa-configuration) | `UAA_SERVICE_NAME`                    | Contains the name of the UAA service to be used.\n[Destinations](#destinations) | `destinations`                        | Provides information about the available destinations.\n[Additional headers](#additional-headers-configuration) | `httpHeaders`                         | Provides headers that the application router will return to the client in its responses.\n[Additional cookie attributes](#additional-cookie-attributes) | `COOKIES`                             | The application router triggers the generation of the following third-party cookies and sends them to the client:</br> &bull; locationAfterLogin</br>  &bull; fragmentAfterLogin</br> &bull; signature</br> &bull; JSESSIONID</br> To control the behavior and usage of the third-party cookies, you can configure the attributes SameSite and Partitioned.For more information about third-party cookies, please see [KBA 3409306](https://me.sap.com/notes/3409306). \n[Plugins](#plugins-configuration) | `plugins`                             | A plugin is just like a [*route*](#routes) except that you can't configure some inner properties.\n[Session timeout](#session-timeout-configuration) | `SESSION_TIMEOUT`                     | Positive integer representing the session timeout in minutes. The default timeout is 15 minutes.\n[X-Frame-Options](#x-frame-options-configuration) | `SEND_XFRAMEOPTIONS`, `httpHeaders`   | Configuration for the X-Frame-Options header value.\n[Allowlist service](#whitelist-service) | `CJ_PROTECT_WHITELIST`                | Configuration for the allowlist that is preventing clickjack attacks.\n[Web Sockets origins allowlist](#web-sockets) | `WS_ALLOWED_ORIGINS`                  | An allowlist configuration that is used for verifying the `Origin` header of the initial upgrade request when establishing a web socket connection.\nJWT Token refresh | `JWT_REFRESH`                         | The time in minutes before a JWT token expires and the application router should trigger a token refresh routine.\nIncoming connection timeout | `INCOMING_CONNECTION_TIMEOUT`         | Maximum time in milliseconds for a client connection. After that time the connection is closed. If set to 0, the timeout is disabled. Default: 120000 (2 min)\nTenant host pattern | `TENANT_HOST_PATTERN`                 | String containing a regular expression with a capturing group. The request host is matched against this regular expression. The value of the first capturing group is used as tenant id.\nDestination host pattern | `DESTINATION_HOST_PATTERN`            | String containing a regular expression with a capturing group. The request host is matched against this regular expression. The value of the capturing group is used as destination name.\n[Compression](#compression-property) | `COMPRESSION`                         | Configuration regarding compressing resources before responding to the client.\n_Secure_ flag of session cookie | `SECURE_SESSION_COOKIE`               | Can be set to `true` or `false`. By default, the _Secure_ flag of the session cookie is set depending on the environment the application router runs in. For example, when application router is behind a router (Cloud Foundry's router or SAP Web Dispatcher) that is configured to serve HTTPS traffic, then this flag will be present. During local development the flag is not set. This environment variable can be used to enforce setting or omitting the _Secure_ flag. **Note**: If the Secure flag is enforced, the application router will reject requests sent over unencrypted connection (http).\nTrusted CA certificates | `XS_CACERT_PATH`                      | List of files paths with trusted CA certificates used for outbound https connections (UAA, destinations, etc.). File paths are separated by [path.delimiter](https://nodejs.org/api/path.html#path_path_delimiter). If this is omitted, several well known \"root\" CAs (like VeriSign) will be used. This variable is set automatically by XSA On-premise runtime.\nReject untrusted certificates | `NODE_TLS_REJECT_UNAUTHORIZED`        | By default an outbound https connection is terminated if the remote end does not provide a trusted certificate. This check can be disabled by setting `NODE_TLS_REJECT_UNAUTHORIZED` to `0`. This is a built-in feature of Node.js. **Note:** Do not use this in production as it compromises security!\nExternal reverse proxy flag | `EXTERNAL_REVERSE_PROXY`              | Boolean value that indicates the use of application router behind an external reverse proxy (outside of Cloud Foundry domain)\nSkip client credentials tokens load on start | `SKIP_CLIENT_CREDENTIALS_TOKENS_LOAD` | Boolean value that indicates that no client credentials tokens should be created during the application router start phase \n[Cross-Origin Resource Sharing](#cross-origin-resource-sharing-configuration) | `CORS`                                | Configuration regarding CORS enablement.\nPreserve URL fragment | `PRESERVE_FRAGMENT`                   | When set to `true` or not set, fragment part of the URL provided during first request of not logged-in user to protected route will be preserved, and after login flow user is redirected to original URL including fragment part. However, this may break programmatic access to Approuter (e.g. e2e tests), since it introduces change in login flow, which is incompatible with Approuter version 4.0.1 and earlier. Setting value to `false` makes login flow backward compatible, however will not take fragment part of the URL into account.\n[Direct Routing URI Patterns](#direct-routing-uri-patterns-configuration) | `DIRECT_ROUTING_URI_PATTERNS`         | Configuration for direct routing URI patterns. \n[NodeJS Minimal Logging Level](#nodejs-minimal-logging-level-configuration) | `CF_NODEJS_LOGGING_LEVEL`             | Configuration for NodeJS minimal logging level.\n[Dynamic Identity Provider](#dynamic-identity-provider-configuration) | `DYNAMIC_IDENTITY_PROVIDER`           | Configuration for dynamic identity provider.\nBackend Cookies Secret | `BACKEND_COOKIES_SECRET`              | Secret that is used to encrypt backend session cookies in service to Application Router flow. Should be set in case multiple instances of Application Router are used. By default a random sequence of characters is used.\nService to Application Router | `SERVICE_2_APPROUTER`                 | If `true`, when the SAP Passport header is received from the application router, it will be transferred without modification to the backend application.\nClient certificate header name | `CLIENT_CERTIFICATE_HEADER_NAME`      | When set application router will use this header name to get the client certificate from the request header in subscription callback. If not provided the default header name `x-forwarded-client-cert` is used.\nServer Keep Alive | `SERVER_KEEP_ALIVE`                   | server keep alive timeout (positive integer in milliseconds).\nMinimum Token Validity | `MINIMUM_TOKEN_VALIDITY`              | positive integer in seconds. When set, approuter will check that the token returned from the authorization service has an expiration time higher than the minimum token validity value.\nState Parameter Secret | `STATE_PARAMETER_SECRET`              | enables the use of state parameters to prevent CSRF attacks. If this environment  variable is set, the application router creates a state parameter for each initial authorization request. By validating that the authentication server returns the same state parameter in its response, the application server can verify that the response did not originate from a third party. **Note**: this feature is only available in Cloud Foundry runtime\nHTTP2 Support | `HTTP2_SUPPORT`                       | Enables the application router to start as an HTTP/2 server. Note: To configure HTTP/2 support, you must use Cloud Foundry routes with an HTTP/2 destination protocol. See [Configuring HTTP/2 Support](https://docs.cloudfoundry.org/adminguide/supporting-http2.html#application) in the Cloud Foundry Documentation. As connection-specific header fields aren't supported by the HTTP/2 protocol, see [rfc9113](https://datatracker.ietf.org/doc/html/rfc9113), the application router removes such headers automatically when they are returned from a backend to prevent a failure of the HTTP/2 response.\nStore CSRF token in external session | SVC2AR_STORE_CSRF_IN_EXTERNAL_SESSION | If `true` and have enabled [external session management](#external-session-management), the application router can generate and validate CSRF tokens in service-to-application-router flows by storing the token in an external session.\nCache service credentials | CACHE_SERVICE_CREDENTIALS             | If `true`, services credentials are cached in the application router memory\nEnable x-forwarded-host header validation | ENABLE_X_FORWARDED_HOST_VALIDATION | If `true`, x-forwarded-host validation will be performed, allowing letters, digits, hypens (-), underscores (_) and dots (.). As well as it validates hostname length.  \nAdd the content security policy headers to the response |ENABLE_FRAME_ANCESTORS_CSP_HEADERS | If `true`,  Approuter will include the content security policy (CSP) header using subaccount trusted domains with frame-ancestors policy.\nTime cache value for frame ancestors CSP header | FRAME_ANCESTORS_CSP_HEADER_CACHE_TIME | Time in seconds for the frame ancestors CSP header to be cached. The default value is 300 seconds.\n**Note:** all those environment variables are optional.\n\n\n### Destinations\n\nThe destinations configuration can be provided by the `destinations` environment variable or by destination  service. There has to be a destination for every single app (microservice) that is a part of the business application.\n\n#### Environment destinations\n\nThe destinations configuration is an array of objects. Here are the properties that a destination can have:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nname | String | | A unique alphanumeric identifier of the destination.\nurl | String | | URL of the app (microservice).\nproxyHost | String | x | The host of the proxy server used in case the request should go through a proxy to reach the destination.\nproxyPort | String | x | The port of the proxy server used in case the request should go through a proxy to reach the destination.\nforwardAuthToken | Boolean | x | If `true`, the OAuth token is sent to the destination. The default value is `false`. This token contains user identity, scopes and other attributes. It is signed by the UAA or IAS service, so it can be used for user authentication and authorization with backend services.\nforwardAuthCertificates | Boolean | x | If `true`, the certificates and key  of the authentication service are added to the HTTP connection to the destination. The default value is false. For more information see: [Mutual TLS Authentication (mTLS) and Certificates Handling](#mutual-tls-authentication-mtls-and-certificates-handling).\nstrictSSL | Boolean | x | Configures whether the application router should reject untrusted certificates. The default value is `true`.<br />**Note:** Do not use this in production as it compromises security!\ntimeout | Number | x | Positive integer representing the maximum wait time for a response (in milliseconds) from the destination. Default is 30000ms.\nsetXForwardedHeaders | Boolean | x | If `true` , the application router adds X-Forwarded-(Host, Path, Proto) headers to the backend request.Default value is true.\nproxyType | String | x | Configures whether the destination is used to access applications in on-premise networks or on public Internet. Possible value: `OnPremise`. if the property is not provided, it is assumed that it is a public Internet access. <br />**Note:** if `OnPremise` value is set,  binding to SAP Cloud Platform connectivity service is required, and `forwardAuthToken` property should not be set.\nIASDependencyName | String | x | Configures the name of the IAS dependency that is used to exchange the IAS login token. The exchanged token is also forwarded to the backend application.\n\n**Note:** The timeout specified will also apply to the [destination's logout path](#destinations-property) or  [service's logout path](#services-property) (if you have set one). <br />\n**Note:** `proxyHost` and `proxyPort` are optional, but if one of them is defined, then the other one becomes mandatory.\n\nSample content of the destinations environment variable:\n\n```json\n[\n  {\n    \"name\" : \"ui5\",\n    \"url\" : \"https://ui5.sap.com\",\n    \"proxyHost\" : \"proxy\",\n    \"proxyPort\" : \"8080\",\n    \"forwardAuthToken\" : false,\n    \"timeout\" : 1200\n  }\n]\n```\n\nIt is also possible to include the destinations in the *manifest.yml* and *manifest-op.yml* files:\n\n```yml\n- name: node-hello-world\n  memory: 100M\n  path: web\n  env:\n    destinations: >\n                  [\n                    {\"name\":\"ui5\", \"url\":\"https://ui5.sap.com\"}\n                  ]\n```\n\n#### Destination service\n\nDestination configuration can also be read from `destination service` .<br>\nHere are the Approuter limitations to destination properties configuration from destination service :\n\nProperty  | Additional Property | Description\n-------- |:--------:| -----------\nType | |only `HTTP` supported.\nAuthentication |  | All authentication types are supported. <br>**Note:** `User` and `Password` are mandatory if the authentication type is `basic authentication`.<br>**Note:** if the authentication type set to `principal propagation` the ProxyType have to be `on-premise`.<br>**Note:** if the authentication type set to `OAuth2SAMLBearerAssertion`, `uaa.user` scope in xs-security.json is required.\nProxyType |   | Supported proxy type : `on-premise`, `internet`, `private-link`.<br> **Note:** if ProxyType set to `on-premise`, binding to SAP Cloud Platform connectivity service is required.<br> **Note:** To check the availability of the private-link proxy type, see [SAP Private Link ServiceInformation](https://discovery-center.cloud.sap/serviceCatalog/private-link-service?tab=service_plan&region=all&service_plan=standard&commercialModel=cpea) published on SAP site in the SAP Discovery Center.\n\n\n##### Optional additional properties:\n\nProperty  | Additional Property | Description\n-------- |:-------------------:| ---------\nHTML5.ForwardAuthToken |          x          | If `true` the OAuth token will be sent to the destination. The default value is `false`. This token contains user identity, scopes and other attributes. It is signed by the UAA so it can be used for user authentication and authorization with backend services.<br> **Note:** if ProxyType set to `on-premise`, ForwardAuthToken property should not be set.<br> **Note:** if Authentication type is other than NoAuthentication, ForwardAuthToken property should not be set.\nHTML5.ForwardAuthCertificates |          x          | If `true`, the certificates and key  of the authentication service are added to the HTTP connection to the destination. The default value is false. For more information see: [Mutual TLS Authentication (mTLS) and Certificates Handling](#mutual-tls-authentication-mtls-and-certificates-handling).\nHTML5.Timeout |          x          | Positive integer representing the maximum wait time for a response (in milliseconds) from the destination. Default is 30000ms.**Note:** The timeout specified will also apply to the [destination's logout path](#destinations-property) or [service's logout path](#services-property) (if you have set one). \nHTML5.PreserveHostHeader |          x          | If `true` , the application router preserves the host header in the backend request.<br />This is expected by some back-end systems like AS ABAP, which do not process x-forwarded-* headers.\nHTML5.DynamicDestination |          x          | If `true` , the application router allows to use this destination dynamically on host or path level.\nHTML5.SetXForwardedHeaders |          x          | If `true` , the application router adds X-Forwarded-(Host, Path, Proto) headers to the backend request.Default value is true.\nHTML5.IASDependencyName |          x          | Configures the name of the IAS dependency that is used to exchange the IAS login token. The exchanged token is also forwarded to the backend application.\nsap-client |          x          | If provided, the application router propagates the sap-client and its value as a header in the backend request.<br />This is expected by ABAP back-end systems.\nURL.headers.`<header-name>` |          x          | If provided, the application router propagates this special attribute in the destination as the header. The application router can get the headers list from the destination API. Existing request headers are not overwritten.\n\n<br />**Note:** \n* In case destination with the same name is defined both in environment destination and destination service, the destination configuration will load from the environment.\n* Destinations on destination service instance level are supported.\n* Only destination client certificates of type p12 are supported.\n* Only destination trust certificates of the type privacy-enhanced mail (PEM) are supported.\n\n### UAA configuration\n\nThe User Account and Authentication (UAA) server is responsible for user authentication.\nIn Cloud Foundry and XS OnPremise Runtime a service is created for this configuration and by using the standard service binding mechanism\nthe content of this configuration is available in the `VCAP_SERVICES` environment variable.</br>\n**Note:** The service should have `xsuaa` in its tags or the environment variable `UAA_SERVICE_NAME` should be specified (stating the exact name of the UAA service).</br>\nDuring local development the UAA configuration is provided in the *default-services.json* file.\nWhen the UAA is used for authentication the user is redirected to the UAA's login page to enter their credentials.\n\nSample content for a *default-services.json* file:\n\n```json\n{\n    \"uaa\": {\n        \"url\" : \"http://my.uaa.server/\",\n        \"clientid\" : \"client-id\",\n        \"clientsecret\" : \"client-secret\",\n        \"xsappname\" : \"my-business-application\"\n    }\n}\n```\n\nThe application router supports the `$XSAPPNAME` placeholder (upper case letters). You may use it in your [route](#routes) configurations in the scope property.\nThe value of `$XSAPPNAME` is taken from the UAA configuration (the `xsappname` property).\n\n### Additional headers configuration\n\nIf configured, the application router can send additional http headers in its responses to the client.\nAdditional headers can be set in the `httpHeaders` environment variable.\n\nSample configuration for additional headers:\n\n```json\n[\n  {\n    \"X-Frame-Options\": \"ALLOW-FROM http://localhost\"\n  },\n  {\n    \"Test-Additional-Header\": \"1\"\n  }\n]\n```\nIn this case, the application router sends two additional headers in the responses to the client.<br>\nCustom response headers, configured in the application router configuration file (xs-app.json) are added to the list of additional http headers.\nIf the response header name already exists in the additional http headers list, the value of the response header name overrides the value of the http header.  \n\n**Caution:** For security reasons, the following headers must not be configured: authorization', 'cookie', and 'set-cookie'.\n\n### Additional Cookie Attributes\n\nIf configured, the application router sends additional cookie attributes in its responses to the client. \nThe cookie attributes can be set in the `COOKIES` environment variable.\n\nExample of configuration for cookies in the manifest.yml :\n\n```json\n  env:\n   COOKIES: >\n     {\n       \"SameSite\":\"None\",\n       \"Partitioned\":\n            {\n               \"supportedPartitionAgents\":\"^Mozilla.*(Chrome|Chromium|)/((109)|(1[1-9][0-9])|([2-9][0-9][0-9]))\",\n               \"unsupportedPartitionAgents\":\"PostmanRuntime/7.29.2\"\n            }\n     }\n```\nIn this example, the application router sets the SameSite attribute of the cookie to \"None\" and the specifies a Partitioned attribute that is sent in the responses to the client.\nNote: Currently, only the value \"None\" are supported for the SameSite attribute. The value \"Strict\" is not supported.\nThe Partitioned attribute contains two required regular expressions:\n\n - supportedPartitionAgents for supported agents\n\n - unsupportedPartitionAgents for unsupported agents\n\nYou can use a wildcard '(.*)' in supportedAgents to allow all agents to use the Partitioned attribute.\nNote: unsupportedPartionAgents overwrites the configurations in supportedAgents. If an agent is allowed in supportedPartitionAgents but disallowed in unsupportedPartitionAgents, the Partitioned attribute will not be returned.\n\n### Plugins configuration\n\nA plugin serves almost the same purpose as [*routes*](#routes). The difference is that plugins can be configured through the environment and that way you can add new routes to the application router without changing the design-time artefact *xs-app.json*. The plugin configuration properties are the same as those of a [*route*](#routes) except that you can't configure `localDir`, `replace` and `cacheControl`.\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nname | String | | The name of this plugin\nsource | String/Object | | Describes a regular expression that matches the incoming [request URL](https://nodejs.org/api/http.html#http_message_url).</br> **Note:** A request matches a particular route if its path __contains__  the given pattern. To ensure the RegExp matches the complete path, use the following form: ^<path>$`. </br> **Note:** Be aware that the RegExp is applied to on the full URL including query parameters.\ntarget | String | x | Defines how the incoming request path will be rewritten for the corresponding destination.\ndestination | String | | An alphanumeric name of the destination to which the incoming request should be forwarded.\nauthenticationType | String | x | The value can be ias, xsuaa, basic, or none. The default authenticationType depends on the authentication service binding: If the application router is bound to the Identity Authentication service, the default authenticationType is ias. Otherwise, the default value is xsuaa. If xsuaa or ias are used, the specified authentication server (Identity Authentication or User Account and Authentication) handles the authentication (the user is redirected to the login form of Identity Authentication or User Account and Authentication). The basic authenticationType works with SAP HANA users, SAP ID service, and Identity Authentication service. For more information, see the SAP Note 3015211 - BASIC authentication options for SAP BTP Cloud Foundry applications. If the value none is used, no authentication is required for this route.\n</br>.\ncsrfProtection | Boolean | x | Enable [CSRF protection](#csrf-protection) for this route. The default value is `true`.\nscope | Array/String/Object | x | Scopes are related to the permissions a user needs to access a resource. This property holds the required scopes to access the target path. Access is granted if the user has at least one of the listed scopes. **Note:** Scopes are defined as part of the xsuaa service instance configuration. You can use `ias` as authenticationType and xsuaa scopes for authorization if the application router is bound to both (`ias` and `xsuaa`).\"\n\nSample content of the `plugins` environment variable:\n```json\n[\n  {\n    \"name\": \"insecurePlugin\",\n    \"source\": \"/plugin\",\n    \"destination\": \"plugin\",\n    \"target\": \"/\",\n    \"csrfProtection\": false,\n    \"scope\": [\"viewer\", \"reader\"]\n  },\n  {\n    \"name\": \"publicPlugin\",\n    \"source\": \"/public-plugin\",\n    \"destination\": \"publicPlugin\",\n    \"authenticationType\": \"none\"\n  }\n]\n```\n\n### Session timeout configuration\n\nFor example, if you have the following line in your *manifest.yml* or *manifest-op.yml* file:\n\n```yml\n- name: node-hello-world\n  memory: 100M\n  path: web\n  env:\n    SESSION_TIMEOUT: 40\n```\n\nAfter 40 minutes of user inactivity (no requests have been sent to the application router), a Central Logout will be triggered due to session timeout.\n\n**Note:** The application router depends on the UAA server for user authentication, if the `authenticationType` for a route is `xsuaa`. The UAA server may have a different session timeout configured.\nIt is recommended that the configurations of the application router and the UAA are identical.<br />\n\n### X-Frame-Options configuration\n\nApplication router sends `X-Frame-Options` header by default with value `SAMEORIGIN`. This behaviour can be changed in 2 ways:\n\n- Disable sending the default header value by setting `SEND_XFRAMEOPTIONS` environment variable to `false`\n- Override the value to be sent via [additional headers configuration](#additional-headers-configuration)\n\n## Cross-Origin Resource Sharing configuration\n\nThe CORS keyword enables you to provide support for cross-origin requests, for example, by allowing the modification of the request header. Cross-origin resource sharing (CORS) permits Web pages from other domains to make HTTP requests to your application domain, where normally such requests would automatically be refused by the Web browser's security policy.\nCross-origin resource sharing(CORS) is a mechanism that allows restricted resources on a webpage to be requested from another domain (/protocol/port) outside the domain (/protocol/port) from which the first resource was served. \nCORS configuration enables you to define details to control access to your application resource from other Web browsers. For example, you can specify where requests can originate from or what is allowed in the request and response headers. \n\nThe CORS configuration can be provided in the CORS environment variable or in the CORS property of the application router configuration file (xs-app.json).\nIf a cross-origin resource sharing (CORS) configuration exists in both the environment variables and the application router configuration file (xs-app.json), the application router gives priority to the CORS configuration in the application router configuration file.\n\nThe CORS configuration is an array of objects. Here are the properties that a CORS object can have:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nuriPattern| String | | A regular expression representing for which source routes CORS configuration is applicable. To ensure the RegExp matches the complete path, surround it with ^ and $. **Defaults:** none.\nallowedOrigin| Array | | A comma-separated list of objects that each one of them containing host name, port and protocol that are allowed by the server.for example: [{?host?: \"www.sap.com\"}] or [{?host?: ?*.sap.com?}]. **Note:** matching is case-sensitive. In addition, if port or protocol are not specified the default is ?_*_?.  **Defaults:** none.\nallowedMethods| Array of upper-case HTTP methods| x | Comma-separated list of HTTP methods that are allowed by the server. **Defaults:** [?GET?, ?POST?, ?HEAD?, ?OPTIONS?] (all) applies. **Note:** matching is case-sensitive.\nmaxAge| Number| x | A single value specifying how long, in seconds, a preflight response should be cached. A negative value will prevent CORS Filter from adding this response header to pre-flight response.  **Defaults:** 1800. \nallowedHeaders| Array of headers| x | Comma-separated list of request headers that are allowed by the serve. **Defaults:** [?Origin?, ?Accept?, ?X-Requested-With?, ?Content-Type?, ?Access-Control-Request-Method?, ?Access-Control-Request-Headers?].\nexposeHeaders| Array of headers| x | Comma-separated list of response headers (other than simple headers) that can be exposed. **Defaults:** none.\nallowedCredentials| Boolean| x | A flag that indicates whether the resource supports user credentials. **Defaults:** true.\n\nSample content of the CORS environment variable:\n\n```json\n[\n  {\n      \"uriPattern\": \"^\\route1$\",\n      \"allowedMethods\": [\n        \"GET\"\n      ],\n      \"allowedOrigin\": [\n        {\n          \"host\": \"my_example.my_domain\",\n          \"protocol\": \"https\",\n          \"port\": 345\n        }\n      ],\n      \"maxAge\": 3600,\n      \"allowedHeaders\": [\n        \"Authorization\",\n        \"Content-Type\"\n      ],\n      \"exposeHeaders\": [\n        \"customHeader1\",\n        \"customHeader2\"\n      ],\n      \"allowedCredentials\": true\n    }\n]\n```\n\nIt is also possible to include the CORS in the *manifest.yml* and *manifest-op.yml* files:\n\n```yml\n- name: node-hello-world\n  memory: 100M\n  path: web\n  env:\n    CORS: >\n      [\n        {\n          \"allowedOrigin\":[\n                            {\n                                \"host\":\"my_host\",\n                                \"protocol\":\"https\"\n                            }\n                          ],\n          \"uriPattern\":\"^/route1$\"\n        }\n      ]\n```\nFor route with source that match the REGEX ?^\\route1$?, the CORS configuration is enabled.\n\n## Direct Routing URI Patterns configuration\n\nWith the direct routing URI patterns configuration, you can define a list of URIs that are directed to the routing configuration file (xs-app.json file) of the application router instead of to a specific application's xs-app.json file that is stored in the HTML5 Application Repository. This configuration improves the application loading time and monitoring options because it prevents unnecessary calls to the HTML5 Application Repository.\n\nThe configuration is an array of strings or regular expressions. \nNote that the following regular expressions are preconfigured in the configuration array: \"^favicon.ico$\", \"^login$\".\nTherefore, do not name your HTML5 applications \"favicon.ico\" or \"login\"!\n\nYou have to provide only the first segment in the URL, after the approuter host. For example, for the URL https://approuter-host/route1/index.html, you enter \"route1\" in the direct routing URI patterns array.\n\nSample content of the Direct Routing URI Patterns environment variable:\n\n```json\n  env:\n    DIRECT_ROUTING_URI_PATTERNS: >\n      [\"route1\", \"^route2$\", \"route3\"]\n```\n\n## NodeJS Minimal Logging Level configuration\n\nWith this configuration, you can set the minimal logging level of the *cf-nodejs-logging-support* library of the application router. The following levels are available:\n\n* *off*\n\n* *error*\n\n* *warn*\n\n* *info*\n\n* *verbose*\n\n* *debug*\n\n* *silly*\n\nThe default value is \"error\".\n\nHere is a sample content for the NodeJS minimal logging level environment variable:\n\n```json\n  env:\n    CF_NODEJS_LOGGING_LEVEL: \"debug\"\n```\n\n**Note** The application router also uses the *@sap/logging* library. To configure the log level for this library, you use the *XS_APP_LOG_LEVEL* environment variable.\n\n## Dynamic Identity Provider configuration\n\nIf `dynamicIdentityProvider` is `true`, the end user can set the identity provider (IDP) for the application’s login process by filling the request query parameter `sap_idp` with the IDP Origin Key. If `IdentityProvider` property is defined in the route, its value will be overwritten by the `sap_idp` query parameter value. The default value for `dynamicIdentityProvider` is `false`.\nThis configuration is relevant for a standalone approuter scenario and it is set for all routes.\n\nHere is a sample content for the dynamic identity provider environment variable:\n\n```json\n  env:\n    DYNAMIC_IDENTITY_PROVIDER: true\n```\n\n## Routes\n\nA route is a configuration that instructs the application router how to process an incoming request with a specific path.\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nsource | String/Object | | Describes a regular expression that matches the incoming [request URL](https://nodejs.org/api/http.html#http_message_url).</br> **Note:** A request matches a particular route if its path __contains__  the given pattern. To ensure the RegExp matches the complete path, use the following form: ^<path>$`. </br> **Note:** Be aware that the RegExp is applied to on the full URL including query parameters.\nhttpMethods | Array of upper-case HTTP methods | x | Which HTTP methods will be served by this route; the methods supported are: `DELETE`, `GET`, `HEAD`, `OPTIONS`, `POST`, `PUT`, `TRACE`, `PATCH` (no extension methods are supported). If this option is not specified, the route will serve any HTTP method.\ntarget | String | x | Defines how the incoming request path will be rewritten for the corresponding destination or static resource.\ndestination | String | x | The name of the destination to which the incoming request should be forwarded.  The destination name can be a static string or a regular expression that defines how to dynamically fetch the destination name from the source property or from the host.\nservice | String | x | The name of the service to which the incoming request should be forwarded.\nendpoint | String | x | The name of the endpoint within the service to which the incoming request should be forwarded. Can only be used in a route containing a service attribute.\nlocalDir | String | x | Folder in the [working directory](#working-directory) from which the application router will serve static content **Note:** localDir routes support only HEAD and GET requests; requests with any other method receive a 405 Method Not Allowed.\npreferLocal | Boolean | x | Defines from which subaccount the destination is retrieved. If preferLocal is true, the destination is retrieved from the provider subaccount. If preferLocal is false or undefined, the destination is retrieved from the subscriber subaccount.\nreplace | Object | x | An object that contains the configuration for replacing placeholders with values from the environment. *It is only relevant for static resources*. Its structure is described in [Replacements](#replacements).\nauthenticationType | String | x | The value can be `xsuaa`,`ias`, `basic` or `none`. The default one is `ias`, if subaccount trusts an ias tenant, else `xsuaa`. When `xsuaa` or `ias` are used the specified authentication server will handle the authentication (the user is redirected to the authentication service login form). The `basic` mechanism works with SAP HANA users, SAP ID Service and SAP Identity Authentication service. Find more details in SAP Note 3015211 - BASIC authentication options for SAP BTP Cloud Foundry applications. If `none` is used then no authentication is needed for this route.\ncsrfProtection | Boolean | x | Enable [CSRF protection](#csrf-protection) for this route. The default value is `true`.\nscope | Array/String/Object | x | Scopes are related to the permissions a user needs to access a resource. This property holds the required scopes to access the target path.\ncacheControl | String | x | String representing the value of the `Cache-Control` header, which is set on the response when serving static resources. By default the `Cache-Control` header is not set. *It is only relevant for static resources.*\nidentityProvider | String | x | The name of the identity provider to use if provided in route’s definition. If not provided, the route will be authenticated with the default identity provider. **Note:** If the authenticationType is set to Basic Authentication or None, do not define the identityProvider property.\ndynamicIdentityProvider | Boolean | x | If `dynamicIdentityProvider` is `true`, the end user can set the identity provider (IDP) for the application’s login process by filling the request query parameter `sap_idp` with the IDP Origin Key. If `IdentityProvider` property is defined in the route, its value will be overwritten by the `sap_idp` query parameter value. The default value for `dynamicIdentityProvider` is `false`.\n\n**Note:** The properties `destination`, `localDir` and `service` are optional, but exactly one of them must be defined. <br />\n**Note:** When using the property `replace` it is mandatory to define the `localDir` property. <br />\n**Note:** The cacheControl property is effective only when one of the following settings is performed:\n*\tThe localDir property was set\n*\tA service pointing to HTML5 Application Repository (\"service\": \"html5-apps-repo-rt\") was set\n \n### Example routes\n\nFor example, if you have a configuration with the following destination:\n\n```json\n[\n  {\n    \"name\" : \"app-1\",\n    \"url\" : \"http://localhost:3001\"\n  }\n]\n```\n\nHere are some sample route configurations:\n\n* Route with a `destination` and no `target`\n\n```json\n{\n    \"source\": \"^/app1/(.*)$\",\n    \"destination\": \"app-1\"\n}\n```\n\nSince there is no `target` property for that route, no path rewriting will take place.\nIf we receive */app1/a/b* as a path, then a request to *http://localhost:3001/app1/a/b* is sent.\nThe source path is appended to the destination URL.\n\n* Route with case-insensitive matching\n\n```json\n{\n    \"source\": {\n      \"path\": \"^/app1/(.*)$\",\n      \"matchCase\": false\n    },\n    \"destination\": \"app-1\"\n}\n```\n\nThis example is much like the previous one,\nbut instead of accepting only paths starting with */app1/*, we accept any variation of _app1_'s case. </br>\nThat means if we receive */ApP1/a/B*, then a request to *http://localhost:3001/ApP1/a/B* is sent. </br>\n**Note:** The property `matchCase` has to be of type boolean. It is optional and has a default value `true`.\n\n* Route with a `destination` and a `target`\n\n```json\n{\n    \"source\": \"^/app1/(.*)$\",\n    \"target\": \"/before/$1/after\",\n    \"destination\": \"app-1\"\n}\n```\n* Route with a `service`, a `target` and an `endpoint`\n\n```json\n{\n     \"source\": \"^/odata/v2/(.*)$\",\n     \"target\": \"$1\",\n     \"service\": \"com.sap.appbasic.country\",\n     \"endpoint\": \"countryservice\"\n}\n```\n\nWhen a request with path */app1/a/b* is received, the path rewriting is done according to the rules in the `target` property.\nThe request will be forwarded to http://localhost:3001/before/a/b/after.\n\n**Note:** In regular expressions there is the term _capturing group_. If a part of a regular expression is surrounded with parenthesis, then what has been matched can be accessed using _$_ + the number of the group (starting from 1).\nIn the last example _$1_ is mapped to the _(.*)_ part of the regular expression in the `source` property.\n\n* Route with dynamic `destination` and `target`\n\n```json\n{\n      \"source\": \"^/destination/([^/]+)/(.*)$\",\n      \"target\": \"$2\",\n      \"destination\": \"$1\",\n      \"authenticationType\": \"xsuaa\"\n    }\n```\nIf you have a another destination configured:\n```json\n[\n\t{\n\t\"name\" : \"myDestination\",\n\t\"url\" : \"http://localhost:3002\"\n\t}\n]\n```\nwhen a request with the path /destination/myDestination/myTarget is received, the destination will be replaced with the url from \"myDestination\", the target will get \"myTarget\" and the request will be redirected to http://localhost:3002/myTarget\n\n**Note:** You can use a dynamic value (regex) or a static string for both destination and target values\n\n**Note:** The approuter first looks for the destination name in the manifest.yaml file, and if not found, looks for it in the destination service.\n\n* Destination In Host\n\nFor legacy applications that do not support relative URL paths, you need to define your URL in the following way to enable the destination to be extracted from the host\nthe url should be defined in the following way:\n\n```https://<tenant>-<destination>.<customdomain>/<pathtofile>```\n\nTo enable the application router to determine the destination of the URL host, a DESTINATION_HOST_PATTERN attribute must be provided as an environment variable.\n\nExample:\nWhen a request with the path https://myDestination.some-approuter.someDomain.com/app1/myTarget is received, the following route is used:\n```json\n {\n      \"source\": \"^/app1/([^/]+)/\",\n      \"target\": \"$1\",\n      \"destination\": \"*\",\n      \"authenticationType\": \"xsuaa\"\n }\n```\n \n In this example, the target will be extracted from the source and the ‘$1’ value is replaced with ‘myTarget’. The destination value is extracted from the host and the ‘*’ value is replaced with ‘myDestination’.\n\n* Route with a `localDir` and no `target`\n\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"localDir\": \"my-static-resources\"\n}\n```\n\nSince there is no `target` property for that route, no path rewriting will take place.\nIf we receive a request with a path */web-pages/welcome-page.html*, the local file at *my-static-resources/web-pages/welcome-page.html*\nunder the working directory will be served.\n\n* Route with a `localDir` and a `target`\n\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"target\": \"$1\",\n    \"localDir\": \"my-static-resources\"\n}\n```\nIf we receive a request with a path '/web-pages/welcome-page.html', the local file at 'my-static-resources/welcome-page.html'\nunder the working directory will be served.</br> **Note:** The capturing group used in the `target` property.\n\n* Route with `localDir` and `cacheControl`\n\n```json\n{\n  \"source\": \"^/web-pages/\",\n  \"localDir\": \"my-static-resources\",\n  \"cacheControl\": \"public, max-age=1000,must-revalidate\"\n}\n```\n\n* Route with `service` \"html5-apps-repo-rt\" and `cacheControl`\n\n```json\n{\n  \"source\": \"^/index.html$\",\n  \"service\": \"html5-apps-repo-rt\",\n  \"authenticationType\": \"xsuaa\",\n  \"cacheControl\":\"public,max-age=1000,must-revalidate\"\n}\n```\n\n* Route with `httpMethods` restrictions\n\nThe `httpMethods` option allows you to split the same path across different targets depending on the HTTP method. For example:\n\n```json\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"target\": \"/before/$1/after\",\n  \"httpMethods\": [\"GET\", \"POST\"]\n}\n```\n\nThis route will be able to serve only GET and POST requests. Any other method (including extension ones) will get a 405 Method Not Allowed response. The same endpoint can be split across multiple *destinations* depending on the HTTP method of the requests:\n\n```json\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"destination\" : \"dest-1\",\n  \"httpMethods\": [\"GET\"]\n},\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"destination\" : \"dest-2\",\n  \"httpMethods\": [\"DELETE\", \"POST\", \"PUT\"]\n}\n```\n\nThe setup above will route GET requests to the target *dest-1*, DELETE, POST and PUT to *dest-2*, and any other method receives a 405. It is also possible to specify \"catchAll\" routes, namely those that do not specify `httpMethods` restrictions:\n\n```json\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"destination\" : \"dest-1\",\n  \"httpMethods\": [\"GET\"]\n},\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"destination\" : \"dest-2\"\n}\n```\n\nIn the setup above, GET requests will be routed to *dest-1*, and all the rest to *dest-2*.\n\nWhy using `httpMethods`? It is often useful to split the implementation of microservices across multiple, highly specialized applications. For example, a Java application written to serve high amounts of GET requests that return large payloads is implemented, sized, scaled and load-tested differently than applications that offer APIs to upload limited amounts of data. `httpMethods` allows you to split your REST APIs, e.g., */Things* to different applications depending on the HTTP methods of the requests, without having to make the difference visible in the URL of the endpoints.\n\nAnother usecase for `httpMethods` is to \"disable\" parts of the REST API. For example, it may be necessary to disable some endpoints that accept DELETE for external usage. By allowing only certain methods in the route, you can hide functionalities of your microservice that should not be consumable without having to modify the code or configurations of your service.\n\n**Note:** `localDir` and `httpMethods` are incompatible. The following route is invalid:\n\n```json\n{\n  \"source\": \"^/app1/(.*)$\",\n  \"target\": \"/before/$1/after\",\n  \"localDir\": \"resources\",\n  \"httpMethods\": [\"GET\", \"POST\"]\n}\n```\n\nHowever, since `localDir` supports only GET and HEAD requests, returning 405 to requests with any other method, any `localDir` route is \"implicitly\" restricted in terms of supported HTTP methods.\n\n* Route with a `scope`\n\nAn application specific scope has the following format:\n\n```\n<application-name>.<scope-name>\n```\n\nIt is possible to configure what scope the user needs to possess in order to access a specific resource. Those configurations are per [route](#routes).\n\nIn this example, the user should have **at least** one of the scopes in order to access the corresponding resource.\n\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"target\": \"$1\",\n    \"scope\": [\"$XSAPPNAME.viewer\", \"$XSAPPNAME.reader\", \"$XSAPPNAME.writer\"]\n}\n```\n\nFor convenience if our route requires only one scope the `scope` property can be a string instead of an array. The following configuration is valid as well:\n\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"target\": \"$1\",\n    \"scope\": \"$XSAPPNAME.viewer\"\n}\n```\n\nYou can configure scopes for the different HTTP methods (GET, POST, PUT, HEAD, DELETE, CONNECT, TRACE, PATCH and OPTIONS). If some of the HTTP methods are not explicitly set, the behaviour for them is defined by the `default` property. In case there is no `default` property specified and the HTTP method is also not specified, the request is rejected by default.\n\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"target\": \"$1\",\n    \"scope\": {\n      \"GET\": \"$XSAPPNAME.viewer\",\n      \"POST\": [\"$XSAPPNAME.reader\", \"$XSAPPNAME.writer\"],\n      \"default\": \"$XSAPPNAME.guest\"\n    }\n}\n```\n\nThe application router supports the `$XSAPPNAME` placeholder. Its value is taken (and then substituted in the routes) from the UAA configuration.\nYou may read more about it [here](#uaa-configuration). </br>**Note:** The substitution is case sensitive.\n\nYou can use the name of the business application directly instead of using the `$XSAPPNAME` placeholder:\n\n```json\n{\n    \"source\": \"^/backend/(.*)$\",\n    \"scope\": \"my-business-application.viewer\"\n}\n```\n\n* Route with an `identityProvider`\n\nFor example, we can define several identity providers for different types of users. In this example, there are 2 categories: hospital patients and hospital personnel: \n1. patientsIDP – use for authenticating patients.\n2. hospitalIDP – use for authenticating all hospital personnel (doctors, nurses etc..).\n    \nWe can configure 2 routes with the following identityProvider properties:\n\n```json\n[\n    { \n\t\"source\": \"^/patients/sap/opu/odata/(.*)\",\n\t\"target\": \"/sap/opu/odata$1\",\n\t\"destination\": \"backend\",\n\t\"authenticationType\": \"xsuaa\",\n\t\"identityProvider\": \"patientsIDP\"\n    },\n    {\n\t\"source\": \"^/hospital/sap/opu/odata/(.*)\",\n\t\"target\": \"/sap/opu/odata$1\",\n\t\"destination\": \"backend\", \"authenticationType\": \"xsuaa\",\n\t\"identityProvider\": \"hospitalIDP\"\n    }\n]\n```\nSo, a patient who tries to log into the system will be authenticated by patientIDP, and a doctor who tries to log in will be authenticated by hospitalIDP.\n\n**Note:** After logging in using one of the identity providers, to switch to the other one it is necessary to logout and perform a new log in.\n\n**Note:** Currently, dynamic provisioning of the subscriber account identity provider is not supported.\n\n**Note:** Identity provider configuration is only supported in the client side login redirect flow.\n\n* Route with a `dynamicIdentityProvider`\n\nFor example, we can define a route where the value of `identityProvider` is `patientsIDP` and where dynamic identity provider provisioning is enabled by setting `dynamicIdentityProvider` to `true`:\n\n```json\n[\n    { \n        \"source\": \"^/patients/index.html\",\n        \"target\": \"/patients-index.html\",\n        \"service\": \"html5-apps-repo-rt\",\n        \"identityProvider\": \"patientsIDP\",\n        \"dynamicIdentityProvider\": true\n    }\n]\n```\nIn this example, the `patientsIDP` value for the `identityProvider` is replaced by `hospitalIDP` if a request with `sap_idp=hospitalIDP` is executed, for example, if the request is https://shiva.health-center-approuter.cfapps.hana.ondemand.com/healthreport/patients/index.html?sap_idp=hospitalIDP.\n\n## Replacements\n\nThis object configures the placeholder replacement in static text resources.\n\nProperty | Type | Description\n-------- | ---- | -----------\npathSuffixes | Array | An array containing the path suffixes that are relative to `localDir`. Only files with a path ending with any of these suffixes will be processed.\nvars | Array | A list with the environment variables that will be replaced in the files matching the suffix.\nservices | Object | An object describing bound services that will provide replacement values. Each property of this object is used to lookup a separate service. The property names are arbitrary. Service lookup format is described in _Service Query_ section in _@sap/xsenv_ documentation.\n\nThe supported tags for replacing environment variables are: `{{ENV_VAR}}` and `{{{ENV_VAR}}}`.\nIf there is such an environment variable it will be replaced, otherwise it will be just an empty string.\n\nFor services you can specify a property from the `credentials` section of the service binding which will be replaced.\nFor example `{{{my_service.property}}}` and `{{my_service.property}}`\n\nEvery variable that is replaced using two-brackets syntax will be HTML-escaped.\n\nFor example if the value of the environment variable is `ab\"cd` the result will be `ab&amp;quot;cd`.</br>\nThe triple brackets syntax is used when the replaced values don't need to be escaped and all values will be unchanged.\n\nFor example, if somewhere in your *xs-app.json* you have a route:\n\n```json\n{\n  \"source\": \"^/get/home(.*)\",\n  \"target\": \"$1\",\n  \"localDir\": \"resources\",\n  \"replace\": {\n    \"pathSuffixes\": [\"index.html\"],\n    \"vars\": [\"escaped_text\", \"NOT_ESCAPED\"],\n    \"services\": {\n      \"my-sapui5-service\": {\n        \"tag\": \"ui5\"\n      }\n    }\n  }\n}\n```\n\nand you have the following `index.html`:\n\n```html\n<html>\n  <head>\n    <title>{{escaped_text}}</title>\n    <script src=\"{{{NOT_ESCAPED}}}/index.js\"/>\n    <script src=\"{{{my-sapui5-service.url}}}\"/>\n  </head>\n</html>\n```\nthen in `index.html`, `{{escaped_text}}` and `{{{NOT_ESCAPED}}}` will be replaced with the values of the environment variables `escaped_text` and `NOT_ESCAPED`.\n\nIf you have a service in VCAP_SERVICES like:\n\n```json\n{\n  \"sapui5_service\": [{\n    \"name\": \"sapui5\",\n    \"tags\": [\"ui5\"],\n    \"credentials\": {\n      \"url\": \"http://sapui5url\"\n    }\n  }]\n}\n```\nthen `{{{my-sapui5-service.url}}}` will be replaced with the `url` property from `sapui5` service - in this case `http://sapui5url`.\n\n**Note:** _All_ index.html files will be processed.\nIf you want to replace only specific files, you have to set the path of the file relative to `localDir`.\n\n**Note:** All files should be **UTF-8** encoded.\n\n**Note:** If a service is not found an error is thrown on startup.\n\n**Note:** If a service and an environment variable from `vars` have the same name, an error is thrown on startup.\n\nThe returned content type is based on the file extension. Currently the supported file extensions are:\n* .json - application/json\n* .txt - text/plain\n* .html - text/html\n* .js - application/javascript\n* .css - test/css\n\nIf the file extension is different, the default content type is `text/html`.\n\nExample for `pathSuffixes`:\n```json\n{\n  \"pathSuffixes\": [\".html\"]\n}\n```\nThe suffix `.html` means that all files with the extension *.html* under `localDir` and it's subfolders will be processed.\n```json\n{\n  \"pathSuffixes\": [\"/abc/main.html\", \"some.html\"]\n}\n```\nThe suffix `/abc/main.html` means that all files named *main.html* which are inside a folder named *abc* will be processed.\n\nThe suffix `some.html` means that all files which have a name that ends with *some.html* will be processed. For example: `some.html`, `awesome.html`.\n\n```json\n{\n  \"pathSuffixes\": [\"/some.html\"]\n}\n```\n\nThe suffix `/some.html` means that all files which have the **exact** name *some.html* will be processed. For example: `some.html`, `/abc/some.html`.\n\n**Note:** URL path parameters are not supported for replacements.\nFor example, replacements will not work if the path looks like '/test;color=red/index.html'. For more information regarding path parameters refer to [http://tools.ietf.org/html/rfc3986#section-3.3](http://tools.ietf.org/html/rfc3986#section-3.3).\n\n## *xs-app.json* configuration file\n\nThis is the main configuration file of the application router.\nIt contains a JSON object with the following properties:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\n[welcomeFile](#welcomefile-property) | String | x | The client is redirected to this page by default, if the request does not have a path. For more information, see [welcomeFile](#welcomefile-property).\n[authenticationMethod](#authenticationmethod-property) | String | x | If set to `none` the UAA login roundtrip is disabled. If the property is not set and authentication is defined per [route](#routes), the value is set to `route` by default.\nsessionTimeout | Number | x | Used to set session timeout. The default is 15 minutes. If the [SESSION_TIMEOUT](#session-timeout) environment variable is set this property will be overwritten.\n[routes](#routes-property) | Array | x | Contains all route configurations. The position of a configuration in this array is of significance for the application router in case a path matches more than one *source*. The first route whose *source* matches the path of the incoming request gets activated.\n[login](#login-property) | Object | x | Contains the configuration for the endpoint of the application router which will be used by the UAA during the OAuth2 authentication routine. By default this endpoint is `/login/callback`.\n[logout](#logout-property) | Object | x | Provides options for a [Central Logout](#central-logout) endpoint and a page to which the client to be redirected by the UAA after logout.\n[destinations](#destinations-property) | Object | x | Additional options for your destinations (besides the ones in the `destinations` environment variable).\n[services](#services-property) | Object | x | Additional options for your business services.\n[responseHeaders](#responseHeaders-property) | Array | x | Contains the optional response headers configuration.\n[compression](#compression-property) | Object | x | Configuration regarding compressing resources before responding to the client. If the [COMPRESSION](#compression-property) environment variable is set it will overwrite existing values.\n[pluginMetadataEndpoint](#pluginmetadataendpoint-property) | String | x | Adds an endpoint that will serve a JSON representing all configured plugins.\n[whitelistService](#whitelistservice-property) | Object | x | Options for the allowlist service preventing clickjack attacks.\n[websockets](#websockets-property) | Object | x | Options for the [web socket communication](#web-sockets).\n[errorPage](#errorpage-property) | Array | x | Optional configuration to set-up a custom error pages whenever the approuter encouters an error.\n[cors](#cors-property) | Array | x | Contains the configuration for cross-origin resource sharing.\n\n### *welcomeFile* property\n\nApprouter will redirect to this URL when `/`(root path) is requested.\nThis could be a file located inside the static resources folder or a resource hosted at a different location.\n\n**Note:** Approuter will serve the content of the resource instead of returning a redirect if the request contains a `x-csrf-token: fetch` header.\nSee [CSRF Protection](#csrf-protection).\n\n\nExample:\n```json\n\"welcomeFile\": \"/web-pages/hello-world.html\"\n```\n\n`web-pages` has to be a part of a local resource or an external destination\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"localDir\": \"my-static-resources\"\n}\n```\nor\n```json\n{\n    \"source\": \"^/web-pages/(.*)$\",\n    \"target\": \"$1\",\n    \"destination\": \"mydest\"\n}\n```\n\n\nNote: If there isn't a route with a localDir property, the folloing default is added to the list of routes:\n\n```json\n{\n  \"source\": \"^/(.*)$\",\n  \"localDir\": \"resources\"\n}\n```\n\n\n### *authenticationMethod* property\n\nIt may have the following values:\n\n* `none` - disables authentication for all routes\n* `route` - authentication type is defined in the [route](#routes) configurations\n\nThe default value is `route`.\n\n### *routes* property\n\nIt holds an array of route configuration objects. The order of the configurations is important for the application router.\nThe first route whose `source` pattern gets matched with the path of the incoming request will be activated.\nSee [Routes](#routes) for more info.\n\n### *login* property\n\nA redirect to the application router at a specific endpoint takes place during OAuth2 authentication with UAA.\nThis endpoint can be configured in order to avoid possible collisions. For example:\n\n```json\n\"login\": {\n  \"callbackEndpoint\": \"/custom/login/callback\"\n}\n```\n\nThe default endpoint is `/login/callback`.\n\n### *logout* property\n\nIn this object you can define your business application's central logout endpoint through the `logoutEndpoint` property.\nThe value of logout property should be an object with the following properties:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nlogoutPath | String |  | The path to be used when logging out from application router.\nlogoutPage | String | x | The logout page url path.\nlogoutMethod | String | x | Could be POST or GET. The default value is GET.\ncsrfProtection | Boolean | x | Can only be defined if logoutMethod is POST. If logoutMethod is POST and this property is not defined, default is true. It can be set to false – for example if csrfProtection is implemented in backend application.\n\nFor example, if somewhere in your *xs-app.json* you have:\n\n```json\n\"logout\": {\n  \"logoutEndpoint\": \"/my/logout\"\n}\n```\n\nThis will open an endpoint on application router which, when requested, will trigger the [central logout](#central-logout) routine.\nChanging the browser location from the client-side JavaScript code:\n\n```javascript\nwindow.location.replace('/my/logout');\n```\n\nwill trigger client initiated central Logout.\n\nIn addition, a page to which the user will be redirected by the UAA after logout can be configured using the `logoutPage` property.\nIt may hold:\n\n- URL path - the UAA will redirect the user back to the application router and the path will be interpreted according the configured [routes](#routes).\n\nThe `logoutEndpoint` can be called with query parameters. For example:\n```javascript\nwindow.location.replace('/my/logout?siteId=3');\n```\nThese parameters will be appended as is to the redirect url set by the `logoutPage` property.\nFor example, if the logout section is the following:\n```\n\"logout\": {\n    \"logoutEndpoint\": \"/logout\",\n    \"logoutPage\": \"/logoff.html\"\n  },\n```\nThe redirect url will end with:\n```\n/logoff.html?siteId=3\n```\n\n**Note**: The resource that matches the path should not require authentication. The property `authenticationType` should be set to `none` for that particular route.\n\nExample:\n\n```json\n{\n  \"authenticationMethod\": \"route\",\n  \"logout\": {\n    \"logoutEndpoint\": \"/my/logout\",\n    \"logoutPage\": \"/logout-page.html\"\n  },\n  \"routes\": [\n    {\n      \"source\": \"^/logout-page.html$\",\n      \"localDir\": \"my-static-resources\",\n      \"authenticationType\": \"none\"\n    }\n  ]\n}\n```\n\nIn this case *my-static-resources* (contains *logout-page.html*) is a folder with static resources in the working directory of the application router.\n\n**Note**: Be sure that your main route in your xs-app.json resource that matches the path is not cached by browser. Therefore, the best practice here would be to model cacheControl accordingly:\n\n```json\n{\n  \"routes\": [\n    {\n      \"source\": \"^/ui/index.html\",\n      \"target\": \"index.html\",\n      \"localDir\": \"web\",\n      \"cacheControl\": \"no-cache, no-store, must-revalidate\"\n    }\n  ]\n}\n```\n\n- Absolute http(s) URL - the UAA will redirect the user to a page (or application) different from the application router. \nFor example:\n\n```json\n\"logout\": {\n  \"logoutEndpoint\": \"/my/logout\",\n  \"logoutPage\": \"http://employees.portal\"\n}\n```\n\n**Note**: UAA will execute redirect only in case redirect URL is a valid redirect-uri in xs-security.json - redirect-uris are maintained as part of the oauth2-configuration section in the UAA application security descriptor JSON file given at the creation of the service instance. For example:\n\nUAA application security descriptor:\n```\n\"oauth2-configuration\": {    \n    \"redirect-uris\":\n    [\n     \"http://employees.portal\"\n    ]    \n}\n```\n\nUsing POST method for Logout\n\nFor security reasons it is recommended to model the logout flow using \"POST\" method and enable CSRF protection. \n\nIn that case, logoutMethod and csrfProtection parameters should be added in logout property:\n```json\n  \"logout\": {\n    \"logoutEndpoint\": \"/my/logout\",\n    \"logoutPage\": \"/logout-page.html\",\n    \"logoutMethod\": \"POST\",\n    \"csrfProtection\": true\n}\n```\n**Note**: For backward compatibility reasons logoutMethod default value is GET. \nThe csrfProtection property can only be set if logoutMethod is POST. \nIf logoutMethod is POST and csrfProtection property is not set, csrfProtection will be enabled by default.\n\nConsumption example:\nThe POST request should be an AJAX request and include CSRF token.\n```\nasync function getToken() {\n  return new Promise((resolve) => {\n  jQuery.ajax({\n    type: \"GET\",\n    url: 'my/logout',\n    headers: {\n      \"X-CSRF-Token\": 'fetch',\n      contentType: \"application/json\",\n    },\n    success: function(data, textStatus, request){\n      resolve(request.getResponseHeader('X-CSRF-Token'));\n    },\n   });\n });\n};\n```\nPOST request example:\n```\nconst token = await getToken();\njQuery.ajax({\n  type: \"POST\",\n  url: \"my/logout\",\n  headers: {\n    \"X-CSRF-Token\": token,\n    contentType: \"application/json\",\n  },\n  success: function (data) {\n    window.location.href = data;\n  }\n});\n```\n**Note**:  Make sure that url field matches logoutEndpoint.\n\n### *destinations* property\n\nLet's say you have a destination called `node-backend`. You can specify options for it by adding the `destinations` property in your xs-app.json:\n```json\n\"destinations\": {\n  \"node-backend\": {}\n}\n```\nThe value of `node-backend` should be an object with the following properties:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nlogoutPath | String | x | The logout endpoint for your destination.\nlogoutMethod | String | x | Could be POST, PUT, GET. The default value is POST.\n\nThe `logoutPath` will be called when [Central Logout](#central-logout) is triggered or a session is deleted due to timeout.\nThe request to the `logoutPath` will contain additional headers, including the JWT token.\nThe `logoutMethod` property specifies the HTTP method with which the `logoutPath` will be requested. For example:\n```json\n{\n  \"destinations\": {\n    \"node-backend\": {\n      \"logoutPath\": \"/ui5logout\",\n      \"logoutMethod\": \"GET\"\n    }\n  }\n}\n```\n\n### *services* property\n\nLet's say you have a service called `com.sap.appbasic.country`. You can specify options for it by adding the `services` property in your xs-app.json:\n```json\n\"services\": {\n  \"com.sap.appbasic.country\": {}\n}\n```\nThe value of `com.sap.appbasic.country` should be an object with the following properties:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nendpoint | String | x | The name of the attribute in the VCAP_SERVICES that contains the URL of the service.  \nlogoutPath | String | x | The path to be used when logging out from the service.\nlogoutMethod | String | x | Could be POST, PUT, GET. The default value is POST.\n\nThe `logoutPath` will be called when [Central Logout](#central-logout) is triggered or a session is deleted due to timeout.\nThe request to the `logoutPath` will contain additional headers, including the JWT token in header `authorization` and approuter host in header `x-approuter-host`.\nThe `logoutMethod` property specifies the HTTP method with which the `logoutPath` will be requested. For example:\n```json\n{\n  \"services\": {\n    \"com.sap.appbasic.country\": {\n      \"endpoint\": \"countryservice\",\n      \"logoutPath\": \"/countrieslogout\",\n      \"logoutMethod\": \"GET\"\n    }\n  }\n}\n```\n\n### *responseHeaders* property\n\nWith the custom response header property, you can add headers, which the application router returns to the client in its responses.<br> \nThe property is an array of objects, each object having the following properties:\n\nProperty | Type         | Optional | Description\n-------- | ------------ |:--------:| -----------\nname     | String       |          | response header name\nvalue    | String       |          | response header value\n\n\nExample:\n```json\n{ \"responseHeaders\" : [\n    {\"name\": \"header1\", \"value\": \"value1\"},\n    {\"name\": \"header2\", \"value\": \"value2\"}\n  ]\n}\n```\n\n### *compression* property\nBy default text resources are compressed before being sent to the client.\nThe default threshold for using compression is 1K. Text resources under this size will not be compressed.\nIf you need to change the compression size threshold, you can add the optional property `minSize`.\n\nHere is an example of a compression section (2048 bytes):\n```json\n{\n  \"compression\": {\n      \"minSize\": 2048\n  }\n}\n```\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nminSize | Number | x | Text resources larger than this size will be compressed.\nenabled | Boolean | x | Globally disables or enables compression. Default value is true.\ncompressResponseMixedTypeContent | Boolean | x | Determines whether response content of multipart/mixed content type should be compressed. The default value is false.\n\n**Note:** There are 3 ways to disable compression:\n* Global - within the compression section add ```\"enabled\": false```\n* Front-End - the client sends a header Accept-Encoding which omits gzip\n* Backend  - the application sends a header Cache-Control with the 'no-transform' directive\n\nExample of globally disabling compression using the environment variable `COMPRESSION`:\n```json\n{\n  \"enabled\": false\n}\n```\n\n**Note:** The header field `Content-Length` is used to determine the resource size.\nIf `Content-Length` is missing, the chunk size is used to determine whether to compress the resource.\nFor more information, see the npm module compression.\n\nHere is a complete example of the compression environment variable:\n```json\n  env:\n   COMPRESSION: >\n        { \n\t  \"enabled\": true,\n\t  \"minSize\": 2048,\n\t  \"compressResponseMixedTypeContent\": true\n\t  }\n```\n\n### *pluginMetadataEndpoint* property\n\nExample:\n```json\n{\n  \"pluginMetadataEndpoint\": \"/metadata\"\n}\n```\n\n**Note**: If you request relative path `/metadata` of your application, you will receive a JSON with configured plugins.\n\n### *whitelistService* property\n\nThe *whitelistService* property is used for enabling the allowlist service that prevents clickjack attacks.\nAn endpoint accepting GET requests will be opened at the relative path configured in the `endpoint` property.\nFor more details see [Allowlist service](#whitelist-service) section.\n\nExample:\n```json\n{\n  \"whitelistService\": {\n    \"endpoint\": \"/whitelist/service\"\n  }\n}\n```\n\n### *websockets* property\n\nFor more details about the web socket communication see [Web sockets](#web-sockets) section.\n\nExample:\n```json\n{\n  \"websockets\": {\n    \"enabled\": true\n  }\n}\n```\n\nTo use Websockets when approuter is integrated with HTML5 Application Repository, this property should be added to the xs-app.json of the deployed HTML5 application. When an incoming request for an application in the repository goes through approuter, approuter retrieves the application's configuration from the repository. If this flag is set, approuter creates a websockets connection with the backend (the target url of the request) and acts as a proxy which delivers messages on top of ws protocol from the backend to the user and vice versa.\n\n### *errorPage* property\n\nBy default, errors originating in the application router are shown the [status code](https://nodejs.org/api/http.html#http_http_status_codes) of the error.\nIt is also possible to display a custom error page using the `errorPage` property.\n\nThe property is an array of objects, each object having the following properties:\n\nProperty | Type         | Optional | Description\n-------- | ------------ |:--------:| -----------\nstatus   | Number/Array |          | HTTP status code\nfile     | String       |          | File path relative to the working directory of the application router\n\n\nExample:\n```json\n{ \"errorPage\" : [\n    {\"status\": [400,401,402], \"file\": \"./custom-err-40x.html\"},\n    {\"status\": 501, \"file\": \"./http_resources/custom-err-501.html\"}\n  ]\n}\n```\nIn the example above 400, 401 and 402 errors would be shown the content of  `./custom-err-4xx.html` and for 501 errors the user would see `./http_resources/custom-err-501.html`.\n\n**Note:** The errorPage conifiguration section has no effect on errors generated outside of the application router.\n\n### *cors* property\n\nWith the cors property, you can support cross-origin requests.<br> \nIf a cross-origin resource sharing (CORS) configuration exists in both the environment variables and the application router configuration file (xs-app.json), the application router gives priority to the CORS configuration in the application router configuration file.<br> \nFor more information about the CORS configuration see [Cross-Origin Resource Sharing configuration](#cross-origin-resource-sharing-configuration).\n\n### Complete example of an *xs-app.json* configuration file \n#### Without HTML5 Application Repository integration:\n```json\n{\n  \"welcomeFile\": \"index.html\",\n  \"authenticationMethod\": \"route\",\n  \"sessionTimeout\": 10,\n  \"pluginMetadataEndpoint\": \"/metadata\",\n  \"routes\": [\n    {\n      \"source\": \"^/sap/ui5/1(.*)$\",\n      \"target\": \"$1\",\n      \"destination\": \"ui5\",\n      \"csrfProtection\": false\n    },\n    {\n      \"source\": \"/employeeData/(.*)\",\n      \"target\": \"/services/employeeService/$1\",\n      \"destination\": \"employeeServices\",\n      \"authenticationType\": \"xsuaa\",\n      \"scope\": [\"$XSAPPNAME.viewer\", \"$XSAPPNAME.writer\"],\n      \"csrfProtection\": true\n    },\n    {\n      \"source\": \"^/(.*)$\",\n      \"target\": \"/web/$1\",\n      \"localDir\": \"static-content\",\n      \"replace\": {\n        \"pathSuffixes\": [\"/abc/index.html\"],\n        \"vars\": [\"NAME\"]\n      }\n    }\n  ],\n  \"login\": {\n    \"callbackEndpoint\": \"/custom/login/callback\"\n  },\n  \"logout\": {\n    \"logoutEndpoint\": \"/my/logout\",\n    \"logoutPage\": \"/logout-page.html\"\n  },\n  \"destinations\": {\n    \"employeeServices\": {\n      \"logoutPath\": \"/services/employeeService/logout\",\n      \"logoutMethod\": \"GET\"\n    }\n  },\n  \"compression\": {\n    \"minSize\": 2048\n  },\n  \"whitelistService\": {\n    \"endpoint\": \"/whitelist/service\"\n  },\n  \"websockets\": {\n    \"enabled\": true\n  },\n  \"errorPage\": [\n    {\"status\": [400,401,402], \"file\": \"/custom-err-4xx.html\"},\n    {\"status\": 501, \"file\": \"/custom-err-501.html\"}\n  ]\n}\n```\n#### With HTML5 Application Repository integration (xs-app.json file stored in HTML5 Application Repository):\n```json\n{\n  \"welcomeFile\": \"index.html\",\n  \"authenticationMethod\": \"route\",\n  \"routes\": [\n    {\n      \"source\": \"/employeeData/(.*)\",\n      \"target\": \"/services/employeeService/$1\",\n      \"destination\": \"employeeServices\",\n      \"authenticationType\": \"xsuaa\",\n      \"scope\": [\"$XSAPPNAME.viewer\", \"$XSAPPNAME.writer\"],\n      \"csrfProtection\": true\n    },\n    {\n       \"source\": \"^/odata/v2/(.*)$\",\n       \"target\": \"$1\",\n       \"service\": \"com.sap.appbasic.country\",\n       \"endpoint\": \"countryservice\"\n    },\n    {\n      \"source\": \"^(/.*)$\",\n      \"target\": \"$1\",\n      \"service\": \"html5-apps-repo-rt\",\n      \"authenticationType\": \"xsuaa\"\n    }\n  ],\n  \"logout\": {\n    \"logoutEndpoint\": \"/my/logout\",\n    \"logoutPage\": \"/logout-page.html\"\n  },\n  \"destinations\": {\n    \"employeeServices\": {\n      \"logoutPath\": \"/services/employeeService/logout\",\n      \"logoutMethod\": \"GET\"\n    }\n  },\n  \"services\": {\n    \"com.sap.appbasic.country\": {\n      \"logoutPath\": \"/countryService/logout\",\n      \"endpoint\": \"countryservice\",\n      \"logoutMethod\": \"GET\"\n    }\n  }\n}\n```\n**Note:** The route in bold is the route that provides access to the HTML5 Application Repository service.\n\n## Headers\n\n### Forwarding Headers\n\nThe application router passes the following x-forwarding-* headers to the route targets:\n\nHeader Name | Description\n----------- | -----------\nx-forwarded-host | Contains the *Host* header which was sent by the client to the application router.\nx-forwarded-proto | Contains the protocol which was used by the client to connect to the application router.\nx-forwarded-for | Contains the address of the client which connects to the application router.\nx-forwarded-path | Contains the original path which was requested by the client.\n\nIf a client performs a path rewriting, it sends the x-forwarded-proto, x-forwarded-host, and the x-forwarded-path headers to the application router. The values of these headers are forwarded to the route targets without modifications instead of being generated from the application router request URL. The x-forwarded-path header of a request does not impact the source pattern of routes in the xs-app.json.\n\n### Hop-by-hop Headers\n\nHop-by-hop headers are meaningful only for a single transport-level connection and therefore are not forwarded by the application router.\nThese headers are:\n* Connection\n* Keep-Alive\n* Public\n* Proxy-Authenticate\n* Transfer-Encoding\n* Upgrade\n\n### Custom Headers\n\n* x-custom-host: Contains the internal reverse proxy host. Relevant only if the application router is used behind an internal reverse proxy as well as an external reverse proxy (EXTERNAL_REVERSE_PROXY  environment variable is set to true). Add this header to the request to internal reverse proxy.\n\nIn a multi-tenancy landscape, the application router will calculate the tenant id based on the value of a certain request header as follows:\n - x-custom-host header or host if EXTERNAL_REVERSE_PROXY is true\n - x-forwarded-host header or host if EXTERNAL_REVERSE_PROXY is false or not specified\n\n### Authorization Header\n* x-approuter-authorization - to be used in [Service to Application Router](#service-to-application-router) scenario - two token types are supported:\n - Bearer: contains the JSON Web Token (JWT) or Open ID Connect (OIDC) access token.\n - Basic: contains a Base64 encoded set of user/password. Note that Application Router uses these credentials to create a Bearer token using the password grant flow (currently supported only with XSUAA credentials).\n\n## CSRF Protection\n\nBy default the application router enables CSRF protection for any HTTP method that is not `HEAD` or `GET` and the route is not public.\nA path is considered _public_, if it does not require authentication. This is the case for routes with `authenticationType: none` or if authentication is disabled completely via the top level property `authenticationMethod: none`.\n\nTo obtain a CSRF token one must send a `GET` or `HEAD` request with a `x-csrf-token: fetch` header to the application router.\nThe application router will return the created token in a `x-csrf-token: <token>` header, where `<token>` will be the value of the CSRF token.\n\nIf a CSRF protected route is requested with any of the above mentioned methods,\n`x-csrf-token: <token>` header should be present in the request with the previously obtained token.\nThis request must use the same session as the fetch token request.\nIf the `x-csrf-token` header is not present or invalid, the application router will return status code *403 Forbidden* and a response header `x-csrf-token: Required`.\n\nNote that CSRF protection is not enabled by default in the service-to-application-router flow because the CSRF token must be stored in a user session. \nHowever, you can enable CSRF protection in the service-to-application-router flow by configuring both external session management and the environment variable SVC2AR_STORE_CSRF_IN_EXTERNAL_SESSION.\n\n## Support of SAP Statistics\n\nThe application router provides performance statistics in an HTTP response header in the following cases:\n- The HTTP request contains an HTTP query parameter (URL parameter) sap-statistics=true.\n- The HTTP request contains an HTTP header field sap-statistics:true.\n\nIf an HTTP request that contains a header field or query parameter with \"sap-statistics=true\" reaches the application router, the application router forwards an \"sap-statistics\" header to the corresponding backend.\nIf SAP statistics is implemented for the backend, the backend returns to the application router a response header containing the statistics information from the backend.\n\nThe application router returns the following statistics information in an sap-statistics-approuter response header:\n- total: The time that has passed between the moment when the request entered into the application router and the moment when the application router started writing the response\n- ext (in case of destination forwarding): The time spent in the backend\n\nEach backend sub-component can add its own response header with the duration measurements when it receives the HTTP header sap-statistics:true.\n\n## Connectivity\n\nThe application router supports integration with SAP Cloud Platform connectivity service. The connectivity service handles proxy access to SAP Cloud Platform cloud connector, which tunnels connections to private network systems. In order to use connectivity, a connectivity service instance should be created and bound to the Approuter application. In addition, the relevant destination configurations should have `proxyType=OnPremise`. Also, a valid XSUAA login token should be obtained via the login flow.\n\n## SaaS Application Registration in Cloud Foundry\n\nThe application router supports SaaS registration. A SaaS business application based on application router may be registered in the SaaS registry  by creating and binding a SaaS Registry service instance.\nAfter fulfilling the CIS process to enable application subscription, the SaaS business application will be visible in the SAP Cloud Platform cockpit in the Cloud Foundry environment for all entitled customers. \nOnce a customer is entitled to the SaaS business application, the subaccounts (tenants) created under the global account will be able to view, subscribe to, and unsubscribe from the application. \nWhen a tenant is subscribed/unsubscribed to/from an application, the tenant will be subscribed/unsubscribed: \n* In the XSUAA instance of the application itself \n* In the reuse services (e.g.: destination ), if the application is dependent on the reuse service. \nAlso, onboarding and offboarding callbacks will be triggered for the subscribed/unsubscribed application and for the reuse services.\n\nIf you use IAS by binding a multi-tenant application router to an identity service instance, the subscription manager service (SMS) should be used to enable the subscription to a subscriber zone and an IAS tenant.\n\n\n### How To Expose Approuter for SaaS Subscription\n\n#### Multi-tenancy\nThe application router should be configured to handle multi-tenant access by maintaining the TENANT_HOST_PATTERN environment configuration.\n\n#### Entitle org for SaaS Application consumption\nThe SaaS Registry service and / or the Subscription Manager service should be available in your space marketplace.\n\n#### Authorize LPS for invoking callbacks\nSaaS business applications should grant LPS the authorization to invoke the application's callbacks. Callback scope should be granted to LPS in the application router’s xs-security.json file:\n\n*xs-security.json:*\n```\n...\n {  \n    \"name\":\"$XSAPPNAME.Callback\",\n    \"description\":\"With this scope set, the callbacks for tenant onboarding, \n     offboarding and getDependencies can be called.\",\n         \"grant-as-authority-to-apps\":[  \n            \"$XSAPPNAME(application,sap-provisioning,tenant-onboarding)\"\n         ]\n  }\n...  \n```\n\n## Authentication with Identity Service (IAS)\nTo use IAS authentication an identity service instance of plan application should be created with the following configuration:\n```\n{\n   \"oauth2-configuration\": {\n     \"redirect-uris\": [\"https://*.<landscapeDomain>/login/callback?authType=ias\"],  //Enable redirect after login\n     \"post-logout-redirect-uris\": [\"https://*.<landscapeDomain>/*/logout.html\" ]    //Enable redirect after logout\n   },\n   \"xsuaa-cross-consumption\":true, //Enable xsuaa trust\n   \"multi-tenant\":true //enable multitenancy\n}\n```\nAuthentication with IAS should be performed using X.509 certificates. To achieve this the identity service should be bound to approuter using the following configuration:\n```\n{\n  \"credential-type\": \"X509_GENERATED\"\n }\n```\n\n#### Register an application in SaaS Registry (SaaS Registry Configuration)\nFor a customer to be able to subscribe to an application through the SAP Cloud Platform cockpit, each SaaS business application should register itself on all CF landscapes where it is deployed.\n\nTo register a SaaS application in LPS, a service instance of saas-registry should be created and the SaaS business application should be bound to it.\nThe instance of saas-registry is created with a configuration json - *saas-config.json:*.\nIn the configuration.json file a url for the getDependencies and onSubscription callbacks must be provided. \nNote that the path segment of these urls are configurable however the tenantId url variable in onSubscription callback must be provided anyway.\n\n```\n{\n\t\"appId\" : \"<appId>\",  # xsappname generated by XSUAA - can be obtained by checking the xsuaa-> xsappname by executing: cf env <application name>\n\t\"appName\" : \"<appName>\",  # Business application name to be shown to subscribers \n\t\"appUrls\": { \n\t\t\"getDependencies\" : \"<providerSubdomain>.<approuter-host>/callback/v1.0/dependencies\",\n\t    \"onSubscription\" : \"<providerSubdomain>.<approuter-host>/callback/v1.0/tenants/{tenantId}\" \n\t},\n\t\"providerTenantId\" : \"<tenant>\"  # Approuter provider account tenant ID.\n}   \n\n```\n\n#### Register an application in Subscription Manager  (Subscription Manager Configuration)\nTo register an SaaS application in the subscription manager service, a service instance of the subscription manager has to be created and the SaaS business application has to be bound to it. \nThe instance of subscription manager is created with a configuration json file - sms-config.json:. In the configuration.json file, a url for the getDependencies callbacks and the onSubscription callbacks must be provided. \nNote that the path segments of these urls are configurable.\n\n```\n{\n  \"iasServiceInstanceName\" : [\"ias-provider-ias\"], #Name of the related IAS instance\n  \"applicationType\": \"application\",\n  \"xsuaaSaasApplicationServiceInstanceId\": \"88afb2a5-5ab3-409a-9c0c-b70e2b86b1cf\", #SaaS Registry service instance id\n  \"appCallbacks\" : {\n    \"dependenciesCallbacks\" : {\n      \"url\" : \"https://<providerSubdomain>.<approuterHost>.cert.<landscapeDomain>/v1.0/callback/zones/{zoneId}/dependencies\"\n    },\n    \"subscriptionCallbacks\" : {\n      \"url\" : \"https://<providerSubdomain>.<approuterHost>.cert.<landscapeDomain>/v1.0/callback/zones/{zoneId}\"\n    }\n  }\n}\n```\nNote that in order to provide certificates the url domain should contain a \"cert\" segment.\nIn addition the TENANT_HOST_PATTERN environment variable should be modified to support requests with the \"cert\" segment. \nFor example:\n```\n^(.*).<approuterHost>.(cert.)?<landscapeDomain>\n```\n\n## Mutual TLS Authentication (mTLS) and Certificates Handling\nThe application router supports the use of certificates for the creation of tokens and a mTLS handshake in backend connections.\nTo enable the mTLS handshake in backend connections, the authentication service instance (IAS or XSUAA) bound to the application router must provide a certificates chain and a private key in its credentials.\nIn addition, the destinations for the backend applications must contain either the HTML5.ForwardAuthCertificates property in the configuration provided by the destination service  or the forwardAuthCertificates property in the destinations environment variable.\n\nNote that application router also supports providing private key via environment variables: IAS_PRIVATE_KEY (IAS).\n\nIf the certificates and the private key are available in the credentials of the authentication service instance (IAS or XSUAA) bound to the application router, the application router gets the IAS/XSUAA tokens providing the certificates chain and private key.\nWhen forwarding request to business services, application router also uses certificates to create a client_credentials token or exchange the login token.\n\nThe application router creates the HTTP connection to backend using the private key and a chain of intermediate and client certificates, which enable the mTLS handshake.\n\nIn Cloud Foundry, the client certificate is propagated via the x-forwarded-client-cert header. To enable this, the backend URL must contain a .cert segment in its domain.\n\n## Integration with HTML5 Application Repository\n\nThe application router supports seamless integration with the HTML5 Application Repository service. \nWhen the application router interacts with HTML5 Application Repository to serve HTML5 Applications, all static content and routes (xs-app.json) are retrieved from HTML5 Application Repository. \nIn case application router needs to route to non HTML5 Applications, it is possible to model that in the xs-app.json of the application router.\n\nTo integrate HTML5 Application Repository to an application router based it is required to create an instance of html5-apps-repo service of plan app-runtime and bind it to the application.\nxs-app.json routes that are used to retrieve static content from HTML5 Application Repository may be modeled in the following format:\n\n```\n { \n     \"source\": \"^(/.*)\",                                    \n     \"target\": \"$1\",                                        \n     \"service\": \"html5-apps-repo-rt\", \n     \"authenticationType\": \"xsuaa\"                      \n }\n```\n### HTML5 Application Repository Multitenancy\nThe HTML5 Application Repository is a multitenant service. Non-public HTML5 Applications are visible only to the application providers (with provider subaccounts) and the consumers subscribed to the applications (with consumer subaccounts).\n\nWhen a multitenant application router is subscribed to a subaccount, the HTML5 Application Repository app-runtime instance that is bound to the application router is returned as a dependency, which triggers the subscription to the app-runtime instance.\nYou can also bind HTML5 Application Repository app-host service instances to the application router to enable the subscription of the corresponding HTML5 applications.\nDuring runtime, the application router creates an HTML5 Application Repository app-runtime client_credentials token using the tenant URL that the application router determines from the TENANT_HOST_PATTERN environment variable.\n\nNote:  The creation of the token can fail if the app-runtime instance is not subscribed to the subaccount, which happens if, for example, the application router was subscribed to the subaccount before the HTML5 Application Repository became a multitenant service.\nIn this case the application router will create the token using the provider subaccount.\n\nYou can trigger the subscription to the HTML5 Application Repository app-runtime instance by using the SAAS Provisioning API: see https://api.sap.com/api/APISaasManagerService/resource\n```\nPATCH /saas-manager/v1/application/tenants/{tenantId}/subscriptions\n```\n\nNote:  If you have an old application router version, the HTML5 Application Repository app-runtime client_credentials token is created by using HTML5 application provider subaccount.\n\n### Blocked HTML5 Application Names\n\nThe following strings are used as predefined direct routing URIs, which lead the request to the routing configuration file of the application router: \"favicon.ico\", \"login\".\nTherefore, do not name your HTML5 applications \"favicon.ico\" or \"login\"!\n\n### Known Gaps in Integration with HTML5 Application Repository\n\nThe following limitations apply when application router is bound to HTML5 Application Repository service:\n\n1. It is not possible to implement the \"first\" middleware slot to provide routes dynamically.\n2. No option apart from workingDir can be provided in application router start.\n3. External session management via extensibility is not supported\n\n\n**Note:** Mixed scenario of modeling part of the static content in local resources folder and also retrieving static content from HTML5 Application Repository is not supported.</br>\n**Note:** This feature is only supported in Cloud Foundry. There is no HTML5 Application Repository service in XSA.\n\n### Runtime Processing\n\nDuring runtime, based on request url path (see URL Format), application router will try to fetch the xs-app.json file from the corresponding HTML5 Application in HTML5 Application Repository and use it for routing the request.\nThe following algorithm is applied for request processing:\n* If no HTML5 Application is found in HTML5 Application Repository for current request, central application router xs-app.json will be used for routing\n* If HTML5 Application exists in HTML5 Application Repository but no xs-app.json file is returned, an error message will be issued and request processing will be stopped.\n\n#### URL Format\n\nA valid request to application router that uses HTML5 Application Repository must have the following format:\n```\nhttps://<tenantId>.<appRouterHost>.<domain>/<bsPrefix>.<appName-appVersion>/<resourcePath>\n\n```\nbsPrefix (business service prefix) - Optional\n* It should be used in case the application is provided by a business service bound to this approuter\n\nappName (application name) - Mandatory\n* Used to uniquely identify the application in HTML5 Application Repository persistence\n* Must not contain dots or special characters\n\nappVersion (application version) - Optional\n* Used to uniquely identify a specific application version in HTML5 Application Repository persistence\n* If no version provided, default application version will be used\n\nresourcePath (path to file)\n* The path to the file as it was stored in HTML5 Application Repository persistence\n\nQuery Parameters:\n\nskipXSAppJsonCache - Optional\n* Value: true\n* Supports skipping the usage of cache when getting the xsApp configuration, bringing it remotely and re-setting the cache.\n* Note that the query parameter is removed from request url before route processing.\n\n### Cache Buster Handling\nA cache buster allows the application router to notify the browser to refresh the resources only when the application resources have been changed. Otherwise the resources are always fetched from the browser's cache.\nThis flow applies to requests that should be forwarded to HTML5 Application Repository. If requests are forwarded to backend applications that return data, cache buster handling is not applied.\n\n* When the second path segment of the request url contains the pattern `~timestamp~`, this segment is removed from the subsequent request to HTML5 Application Repository\n* In case the request had a cache buster segment, application router adds to corresponding response the header: Cache-Control: public, max-age=31536000\n\n**Note:** Cache buster flow is only supported in HTML5 Application Repository integration flow.\n\n### Integration with Business Services\n\nApplication router supports integration with Business Services. \nBusiness Services are a flavour of reuse-services that expose specific information in VCAP_SERVICES credentials block that enable application router to serve Business Service UI and/or data.\n* Business Service UI must be stored in HTML5 Application Repository to be accessible from application router\n* Business Service UI must be defined as \"public\" to be accessible from an application router in a different space than the one from where the UI was uploaded \n* Business Service data can be served using two grant types:\n  1. User Token Grant: Application router performs a token exchange between login JWT token and Business Service token and uses it to trigger a request to the Business Service endpoint\n  2. Client Credentials Grant: Application router generates a client_credentials token and uses it to trigger a request to the Business Service endpoint\n\n#### Business Service Credentials\nWhile binding a Business Service instance to application router the following information should be provided in VCAP_SERVICES credentials:\n\n* sap.cloud.service: Service name as referenced from xs-app.json route and business service prefix (if Business Service UI provided) - Mandatory\n* sap.cloud.service.alias: Short service name alias for user friendly URL business service prefix- Optional\n* endpoints: One or more endpoints that can be used to access Business Service data. \n* html5-apps-repo: html5-apps-repo.app_host_id contains one or more html5-apps-repo service instance GUIDs that can be used to retrieve Business Service UIs - Optional\n* saasregistryenabled: flag that indicates that this Business Service supports SaaS Registry subscription. If provided, application router will return this Business Service xsappname in SaaS Registry \n  getDependencies callback - Optional\n* grant_type: the grant type that should be used to trigger requests to the Business Service. Allowed values: user_token or client_credentials. \n  Default value, in case this attribute is not provided, user_token - Optional\n* forwardiastoken: flag that indicates if, in addition to the exchanged SAP Authorization and Trust Management service (xsuaa) JWT token, the OIDC access token created by Identity Authentication service should be forwarded as well. the OIDC token is forwarded in request header: `x-ias-token`\n* forwardiasauthentication: This flag indicates that if the login was performed using Identity Authentication, the application router will not exchange the JWT token created by the SAP Authorization and Trust Management service (xsuaa). Instead, the OIDC access token created by Identity Authentication will be forwarded in the authorization header.\n\n\nThe value of `endpoints` should be an object with the following properties:\n\nProperty | Type | Optional | Default |Description\n-------- | ---- |:--------:| ---- |-----------\nurl | String |   | |URL to access the Business Service data.\ntimeout | Number | x | 30000ms |Positive integer representing the maximum wait time for a response (in milliseconds) from the Business Service. \n\n\nFor example:\n```\n\"country\": [\n   {\n    ...\n    \"credentials\": {\n     \"sap.cloud.service\": \"com.sap.appbasic.country\", \n     \"sap.cloud.service.alias\": \"country\",            \n     \"endpoints\": {                                   \n      \"countryservice\": { \"url\": https://icf-countriesapp-test-service.cfapps.sap.hana.ondemand.com/odata/v2/countryservice\"},\n      \"countryconfig\":  { \n            \"url\": https://icf-countriesapp-test-service.cfapps.sap.hana.ondemand.com/rest/v1/countryconfig\",\n            \"timeout\": 120000 \n      }\n     },\n     \"html5-apps-repo\": {                           \n      \"app_host_id\": \"1bd7c044-6cf4-4c5a-b904-2d3f44cd5569, 1cd7c044-6cf4-4c5a-b904-2d3f44cd54445\"\n     },\n     \"saasregistryenabled\": true,\n     \"grant_type\": \"user_token\"\n   ....\n```\n\n#### Accessing Business Service Data\nTo access Business Service data xs-app.json configuration file should have a route referencing a specific sap.cloud.service or sap.cloud.service.alias via the service attribute.\nIf an endpoint attribute is also modeled, it will be used to get the service url otherwise the fallback url or uri attribute will be used.\n\nFor example:\n```\n\"routes\": [\n    {\n      \"source\": \"^/odata/v2/(.*)$\",\n      \"target\": \"$1\",\n      \"service\": \"com.sap.appbasic.country\",\n      \"endpoint\": \"countryservice\"\n    },\n\n```\n\nIn order to support JWT token exchange, the login JWT token should contain the uaa.user scope. For that the xs-security configuration must contain a role template that references the uaa.user scope.\nFor example:\n```\n{\n    \"xsappname\"   : \"simple-approuter\",\n    \"tenant-mode\" : \"shared\",\n    \"scopes\": [\n        {\n            \"name\": \"uaa.user\",\n            \"description\": \"UAA\"\n        },\n        {\n            \"name\": \"$XSAPPNAME.simple-approuter.admin\",\n            \"description\": \"Simple approuter administrator\"\n        }\n    ],\n    \"role-templates\": [\n        {\n            \"name\": \"Token_Exchange\",\n            \"description\": \"UAA\",\n            \"scope-references\": [\n                \"uaa.user\"\n            ]\n        },\n        {\n            \"name\": \"simple-approuter-admin\",\n            \"description\": \"Simple approuter administrator\",\n            \"scope-references\": [\n                \"$XSAPPNAME.simple-approuter.admin\"\n            ]\n        }\n    ]\n}\n```\n\n#### Accessing Business Service UI\nBusiness Service UI's must be stored in HTML5 Application Repository and defined in their manifest.json files as \"public: true\" in order to be accessible from an application router\napplication that is typically running in a different space than the Business Service space. In addition dataSources uris must be relative to base url (no slash as first character).\n\nBusiness Service manifest.json example:\n\n```\n{\n  “sap.app”: {\n    “id”:“com.sap.appbasic.country.list”,\n    “applicationVersion: {\n    “version”: “1.0.0”\n  },\n  \"dataSources\": {\n    \"mainService\":{\n      \"uri\": \"odata/v2/countryservice\",\n      \"type\": \"OData\"\n    }\n  },\n  “sap.cloud”: {\n    \"public\": true,\n    “service”: “com.sap.appbasic.country“\n  }\n}\n```\n\nA Business Service that exposes UI must provide one or more app-host GUIDs in an html5-apps-repo block in VCAP_SERVICES credentials (see Business Service credentials).\n\nTo access Business Service UI the request url that hits application router must contain a business service prefix as described above.\n\nRequest URL example:\n```\n  https://approuter-repo-examples.cfapps.sap.hana.ondemand.com/comsapappbasiccountry.comsapappbasicscountrylist/test/flpSandbox.html\n\n```\nIn this example \"comsapappbasiccountry\" is the business service prefix which matches the sap.cloud.service attribute in country service VCAP_SERVICES credentials (without dots).\nThe \"comsapappbasicscountrylist\" is the name of the HTML5 Application as defined in the app.id attribute in the manifest.json (without dots).\n\n## Web Sockets\nThe application router is capable of forwarding web socket communication.\nIn order to use the web socket communication, it should be enabled through the [*websockets* property](#websockets-property).\nIf the backend service requires authentication then the upgrade request should contain a valid session cookie.\nThe destination schemas \"ws\" and \"wss\" are supported in addition to \"http\" and \"https\".\nWhen the application router receives an upgrade request, it verifies that the `Origin` header holds the URL of the application router.\nIf this is not the case, then an HTTP response with status 403 is returned to the client.\nThis origin verification can be further configured via the environment variable `WS_ALLOWED_ORIGINS`.\nIt contains the allowed origins the application router verifies against. It's structure is the same as [`CJ_PROTECT_WHITELIST`](#configuring-allowed-hostnames--domains).\n\n**Note:** A current limitation is that a web socket ping is not forwarded to the backend service.\n\n## Session Handling\n\nThe application router establishes a session with the client (browser) using a session cookie.\n\nThe application router intercepts all _session_ cookies, sent by backend services and stores them in its own session. Backend session cookies are not sent to the client in order to prevent cookie collisions. Upon subsequent requests the application router sends back the cookies to the respective backend services so they can establish their own sessions.\n**Note:** Non-session cookies from backend services are forwarded to the client. Cookie collisions may occur and the application should be able to handle them.\n**Restriction:** You must not use multiple destinations with the same URL in an application router user session!\nThe application router stores the session cookies from the backend services in a user session according to the destination URLs for the backend services. If there are multiple destinations with the same URL, the application router cannot correctly send back the cookies to the backend services.\nTo avoid conflicts, the destination URLs must have different domains.\n\n\nIf a pending request is canceled, the request cancellation will be propagated to the backend service.\n\nIf there is no session in the application router, either because there has been a session timeout or because no session has been created yet, and if the incoming request matches a non-public route, the application router triggers a redirect to the authentication service (UAA or IAS).\nAfter a successful login, a redirect back to application router takes place using the login callback endpoint, which triggers the creation of a new session.\nIf the incoming request is an AJAX request (has the request header X-Requested-With: XMLHttpRequest) or if the HTTP verb is not GET and no session exists (there is no session cookie and the request doesn’t have an x-approuter-authorization header), the application router returns the response code 401 - Unauthorized. This enables the client application to handle the 401 response before it navigates to the authentication service. For example, the application can store data entered by the user and prevent data loss.\nWhen the handling of the 401 response is completed, the client application should send a request without an xmlhttprequest object to trigger the application router authentication flow.\n\n### Session Contents\n\n* CSRF token - the generated CSRF token so it can be verified against the token in the request, see [CSRF Protection](#csrf-protection) above.\n* OAuth token - JSON Web Token (JWT) fetched from UAA and forwarded to backend services in the Authorization header. The client never gets this token.\nThe application router refreshes the JWT automatically before it expires (if the session is valid). By default this routine is triggered 5 minutes before the expiration of the JWT.\nThis can also be configured via the `JWT_REFRESH` environment variable (the value is in minutes). If `JWT_REFRESH` is set to 0 then the refresh is disabled.\n* OAuth scopes - scopes owned by the current user, used to check if the user has the scope required for each request. See `scope` in [Routes](#routes).\n* Backend session cookies - all session cookies sent by backend services.\n* Business Services OAuth tokens - JSON Web Token (JWT) exchanged and used to access re-use services bound to the application router\n\n**Note:** If the JWT is close to expiration and the session is still active a JWT refresh will be triggered in `JWT_REFRESH` minutes before expiration.\n`JWT_REFRESH` is an environment variable stating the number of minutes before the JWT expiration the refresh will be triggered. The default value is 5 minutes.\n\n## External Session Management\nThe application router supports a backup of user sessions in an external session store. This enables the session recovery in case the application router instance that stores a session crashes and another application router instance has to continue handling the running user session.  \nTo enable this capability, you must bind a service instance of a service that supports a fast persistence store, such as *Redis*. When such a service is bound, the application router backs up the in-memory session information into the external persistency store.  \nIf, in subsequent requests, the session information is not found in the in-memory session store, the application router tries to rebuild the in-memory session information from the external persistency store.   \n\nThe sessions are stored compressed. For capacity planning, you can assume 50 Kb per session storage in the fast persistence store. \n\n### External Session Management Configuration\nIn order to use this feature, you have to set the following environment variable:\n\n```EXT_SESSION_MGT```  \n\nThe variable value must be defined in the JSON format and provide the following properties:\n* **instanceName (mandatory)** - the name of the service instance of the storage service.\n* **storageType (mandatory)** - the type of the storage, for example - \"redis\". Note that if no custom storage driver is used, only “redis” is allowed.\n* **sessionSecret (mandatory)** - a secret to be used to generate a session cookie. Please generate a unique string with at least 64 characters.\n* **defaultRetryTimeout** - the maximum duration for automatic retries of failed Redis operations in milliseconds. The default value is 2000 ms.\n* **backOffMultiplier** - a multiplier of the Redis-defined pause that determines the time between consecutive automatic retries of failed Redis operations. The default value is 50.\n\nFor example: \n```json\n{\n    \"instanceName\": \"approuter-redis\",\n    \"storageType\": \"redis\",\n    \"sessionSecret\": \"someuniquesessionsecret\",\n    \"defaultRetryTimeout\": 10000,\n    \"backOffMultiplier\": 10\n}\n```\n\n> **_NOTE:_** Currently, the application router supports only a Redis store\n\n### Configuration of a Custom Storage Driver\nFor information about the configuration of a custom storage driver, see [Configuring a custom storage driver](doc/sessionManagement.md#custom-storage-driver)\n\n\n## Service to Application Router\n\nThe application router can receive a consumer service JWT token created by the SAP Authorization and Trust Management (xsuaa) service or an OIDC access token created by Identity Authentication service and use it to access the UI and the data. The token is passed to the application router in the \"x-approuter-authorization\" header of the request. For more information, see [Authorization Header](#authorization-header).\n\nCookie Handling:\nIn this flow client cookies are merged to backend cookies in case a backend cookie with the same key does not exist.\n\nIf you have configured [external session management](#external-session-management), an external session is created for each token in the external session management service (for example, in Redis). Such an external session has the same expiration time as the token for which it was created. \nThe application router uses the external session to store cached data, such as the exchanged tokens and destination configurations, to improve the performance by reducing roundtrips to the authentication and destination services.\n\n**Note**: The XSUAA JWT token or the OIDC token are generated with the same XSUAA service instance or the same Identity service instance that is bound to the application router. \n\n\n## Central Logout\n\nCentral Logout can be client initiated or can be triggered due to session timeout.\n* Client initiated\n  * Deletes the user session.\n  * Requests all backend services logout paths (if configured in the [destinations property](#destinations-property)).\n  * Request all business services logout paths (if configured in the [services property](#services-property)).\n  * Redirects the client to logout from UAA.\n  * If configured, redirects back to a custom page (for XS OnPremise Runtime only). For more information, see [logout-property](#logout-property).\n* Session timeout\n  * Deletes the user session.\n  * Requests all backend services logout paths (if configured in the [destinations property](#destinations-property)).\n  * Requests all business services logout paths (if configured in the [services property](#services-property)).\n\nThe session timeout can be configured with the [SESSION_TIMEOUT](#session-timeout) variable through the environment.\n\n## Allowlist Service\n\nA protection concept is designed in SAP that uses UI libraries and an allowlist service for proper clickjack protection of applications. The general idea is that when an html page needs to be rendered in a frame, a check is done by calling the allowlist service to validate if the parent frame is allowed to render the content in a frame. The actual check is provided by the allowlist service.\n\n### Enable the service\n\nTo enable the allowlist service and to open the service endpoint you need to configure the [whitelistService](#whitelistservice-property) property in *xs-app.json*.\n\n### Configuring allowed hostnames / domains\n\nThe allowlist service reads allowed hostnames and domains from the environment variable `CJ_PROTECT_WHITELIST`.\nThe content is a JSON array of object with the following properties:\n\nProperty | Type | Optional | Description\n-------- | ---- |:--------:| -----------\nprotocol | String | x | URI scheme, for example `http`.\nhost | String |  | Hostname / domain - valid hostname, or domain defined with a star (\\*), for example `some.concrete.hostname`, or `*.example.domain`.\nport | String / Number | x | Port string or number containing a valid port.\n\nExample:\n```json\n[\n  {\n    \"protocol\": \"http\",\n    \"host\": \"*.example.domain\",\n    \"port\": 12345\n  },\n  {\n    \"host\": \"some.concrete.hostname\",\n  }\n]\n```\n\nMatching is done against provided properties. For example if only host is provided then the service will return `framing: true` for all and matching will be for all schemas and protocols.\n\n### Return value\n\nThe service accepts only `GET` requests and the response is a JSON object.\nThe allowlist service call uses the parent origin as URI parameter (URL encoded) as follows:\n\n```\nGET url/to/whitelist/service?parentOrigin=https://parent.domain.com\n```\n\nThe response is a JSON object with following properties:\n\n```\n{\n    \"version\" : \"1.0\",\n    \"active\"  : true | false,                   // indicates whether framing control is switched on\n    \"origin\"  : \"<same as passed to service>\",\n    \"framing\" : true | false                    // if active, describes if framing should be allowed\n}\n```\n\nThe property `active` will have value `false` only in case `CJ_PROTECT_WHITELIST` is not provided.\n\n**Note**: Keep in mind that the application router sends by default the X-Frame-Options header with value `SAMEORIGIN`, in the case the allowlist service is enabled, this header value probably needs to be changed, see the [X-Frame-Options](#x-frame-options-configuration) header section for details how to change it.\n\n## User API Service\nThe application router exposes a user API that returns the details of the user who is logged in. This API supports two endpoints: `/currentUser` and `/attributes`.\nThe /currentUser endpoint returns all details of logged in users, while the /attributes endpoint returns the main user properties.\nThe user API can be implemented by modelling an xs-app.json route using service sap-approuter-userapi.\n\nNote: The following applies if the route has the authentication type “xsuaa”:\n*\tUser scopes from the xsuaa access token will be added to the response of both endpoints.\n*\tUser attributes from the identity provider (IdP) chosen for the authentication will be added to the response of the “/attributes” endpoint. If a custom IdP is configured for Identity Authentication Service (IAS), the custom user attributes are also added to the response of the “/attributes” endpoint. For more information about the definition of custom properties in IAS, see [Configure the Default Attributes Sent to the Application](https://help.sap.com/docs/IDENTITY_AUTHENTICATION/6d6d63354d1242d185ab4830fc04feb1/a2f1e4692e7d4379ab82144ab309e7b3.html) on the SAP Help Portal.\n*\tIn order to get the user attributes from the custom IdP, the following property should be added to application router xs-security.json file -\n\t\"foreign-scope-references\": [\"user_attributes\"]\n\nExamples:\n\nHandle both endpoints\n```\n{\n    \"source\": \"^/user-api(.*)\",\n    \"target\": \"$1\",\n    \"service\": \"sap-approuter-userapi\"\n},\n```\n\nHandle `/currentUser` endpoint only\n```\n{\n    \"source\": \"^/user-api/currentUser$\",\n    \"target\": \"/currentUser\",\n    \"service\": \"sap-approuter-userapi\"\n},\n```\nThe /currentUser endpoint response has the following format:\n```\n{\n   \"firstname\": \"John\",\n   \"lastname\": \"Doe\",\n   \"email\": \"john.doe@sap.com\",\n   \"name\": \"john.doe@sap.com\",\n   \"displayName\": \"John Doe (john.doe@sap.com)\",\n   \"scopes\": [\"openid\",\"user_attributes\",\"uaa.user\"] (See the note above about routes with authentication type “xsuaa”.)\n}\n```\nThe /attributes endpoint response has the following format:\n```\n{\n   \"firstname\": \"John\",\n   \"lastname\": \"Doe\",\n   \"email\": \"john.doe@sap.com\",\n   \"name\": \"john.doe@sap.com\",\n   \"scopes\": [\"openid\",\"user_attributes\",\"uaa.user\"], (See the note above about routes with authentication type “xsuaa”.)\n   <user attributes, including custom attributes> (See the note above about routes with authentication type “xsuaa”.)\n}\n```\nNote that the \"name\" property is the user ID in the identity provider, which in many cases is also the email address.\n## Scaling\n\nThe application router keeps all established sessions in local memory and does not sync them across multiple instances.\nIn order to scale the application router to multiple instances, session stickiness should be enabled.\nThis means that each HTTP session is handled by the same application router instance.\n\nIn Cloud Foundry's router, session stickiness is enabled from version 0.1.0.\n\nIn SAP HANA XS Advanced OnPremise Runtime session stickiness is enabled, if SAP Web Dispatcher is used as a router.\nThis is set by default from version 0.1535 of SAP HANA XS Advanced runtime.\nIf your on-premise runtime uses *nginx* as router, you can switch to SAP Web Dispatcher by passing the command line option `--router=webdispatcher` to `xs-controller`.\n\n## Sizing Guide for Application Router\n\nThe memory consumption of the application router is described in the [sizing guide](doc/sizingGuide.md).\n\n## Configure server-side HTTPS\n\nYou can configure application router to accept only HTTPS connections. See `httpsOptions` option of [start](doc/extending.md#startoptions-callback) function.\n\n## Audit-Log Service\n\nThe application router logs information regarding unauthorized requests. To avoid exposure of private information such as user id and IP address,  you must bind the consuming application to an instance of the audit-log service.\n\nIf you do not bind the consuming application to the audit-log service, the application router will log this information to the console output, using asterisks to mask the user id and IP address. (This is the default behavior.)\n\n\n## Troubleshooting\n\nThe application router uses _@sap/logging_ package so all of its features are available to control logging.\nFor example to set all logging and tracing to finest level set `XS_APP_LOG_LEVEL` environment variable to `debug`.\n\nIf the application is deployed on Cloud Foundry, you can change the log level by running command:\n```sh\ncf set-env <application-name> XS_APP_LOG_LEVEL debug\n```\n\nIf the application is deployed on XS Advanced On-premise Runtime, you can change the log level without restarting the application.\nFor example this command will set all logging and tracing to finest level.\n```sh\nxs set-logging-level <application-name> \"*\" debug\n```\nSee _@sap/logging_ documentation for details.\n\nYou can enable additional traces of the incoming and outgoing requests by setting the environment variable `REQUEST_TRACE` to `true`.\nWhen enabled they will log basic information for every incoming and outgoing request of the application router. This could have a performance impact.\n\nSome of the libraries used by this package employ other tracing mechanisms. For example many use the popular [debug](https://www.npmjs.com/package/debug) package. This means that by setting `DEBUG` environment variable, you can enable additional traces. Set it to `*` to enable all of them, but be careful as the output may be overwhelming.\nIn addition internal Node.js traces can be enabled via `NODE_DEBUG` environment variable. [This post](http://www.juliengilli.com/2013/05/26/Using-Node.js-NODE_DEBUG-for-fun-and-profit/) describes it in more detail.\n\n\n**Warning:** Enabling some of these options may trace security sensitive data, so use with caution.\n\nThe _@sap/logging_ package sets the header 'x-request-id' in the application router's responses.\nThis is useful if you would like to search entries belonging to a particular request execution in the application router's logs and traces.\nNote that the application router does not change the headers received from the backend and being forwarded to the client.\nIf the backend is a Node.js application which uses the _@sap/logging_ package (and also sets the 'x-request-id' header), then the value of the header\nthat the client will receive will be the one coming from the backend and not the one of the application router itself.\n\n## Getting Support\nCreate a BCP ticket on component `BC-XS-APR`\n\n## Extending Application Router\nSee [extending](doc/extending.md) for information how to extend the application router\nwith custom logic.\n\n## Best practices\n\n### Security best practices\n\n#### Content-Security-Policy\nSetting the `Content-Security-Policy` header - this is a response header which informs browsers (capable of interpreting it) about the trusted sources\nfrom which an application expects to load resources. This mechanism allows the client to detect and block malicious scripts injected into an application.\nA value can be set via the `httpHeaders` environment variable in the [additional headers configuration](#additional-headers-configuration).\nThe value represents a security policy which contains directive-value pairs. The value of a directive is an allowlist of trusted sources.\nIn case content-security-policy headers are returned from backend, they will override `httpHeaders` configuration. \nTo enable returning both (backend and local content-security-policy headers), configure environment variable `MERGE_CSP_HEADERS`.\n\nRefer to the `Content-Security-Policy` specification for more information on the header's value.\n\n**Note:** Usage of the `Content-Security-Policy` header is considered second line of defense. An application should always provide proper input validation and output encoding.\n\n### Identity Provider Configuration Best Practices\n\n#### Modelling options:\n\n1. If you to enable login in same browser window as doctor and patient you can create 2 cf routes to same approuter:\n```https://approuter-doctors.cfapps.hana.com/myapp/doctors/index.html```\n```json\n{\n  \"source\": \"^/doctors(/.*)\",\n  \"target\": \"$1\",\n  \"service\": \"html5-apps-repo-rt\",\n  \"authenticationType\": \"xsuaa\",\n  \"identityProvider\": \"doctorsIDP\"\n}\n```\n\n```https://approuter-patients.cfapps.hana.com/myapp/patients/index.html```\n```json\n{\n  \"source\": \"^/patients(/.*)\",\n  \"target\": \"$1\",\n  \"service\": \"html5-apps-repo-rt\",\n  \"authenticationType\": \"xsuaa\",\n  \"identityProvider\": \"patientsIDP\"\n}\n```\n\n2. If you to enable single access at a time (force logout from doctors idp and re-login to patients idp), create a single cf route\n```https://approuter-hospital.cfapps.hana.com/myapp/doctors/index.html```\n```json\n{\n  \"source\": \"^/doctors(/.*)\",\n  \"target\": \"$1\",\n  \"service\": \"html5-apps-repo-rt\",\n  \"authenticationType\": \"xsuaa\",\n  \"identityProvider\": \"doctorsIDP\"\n}\n```\n \n```https://approuter-hospital.cfapps.hana.com/myapp/patients/index.html```\n```json\n{\n  \"source\": \"^/patients(/.*)\",\n  \"target\": \"$1\",\n  \"service\": \"html5-apps-repo-rt\",\n  \"authenticationType\": \"xsuaa\",\n  \"identityProvider\": \"patientsIDP\"\n}\n```\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/)\n\n\n## 16.2.1 - 2024-03-13\n\n### Fixed\n- Fix for CSP Headers cache - cache the CSP headers for the same tenant in memory\n- Support \".cert.\"  \".internal.\"  \".mesh.\" domains  in subscription via IAS & SMS\n- Fix for instance level destination with IASDependencyName\n- html5-apps-repo-rt property is null in app.services\n\n## 16.2.0 - 2024-03-05\n\n### Added\n- Support new destination service API for Portal subaccount destinations\n- Support \"Partitioned\" cookie attributes.\n\n### Fixed\n- Fix handling of invalid http additional header name\n- Fix App2app navigation in service2approuter with IAS token\n\n## 16.1.1 - 2024-02-14\n\n### Fixed\n- Fix for authenticating with IAS and authorizing with XSUAA in SAP Managed Approuter flows\n\n## 16.1.0 - 2024-02-04\n\n### Added\n- IAS/XSUAA hybrid support for business services\n\n### Fixed\n- Root ca corruption when using destination with private link proxy type\n- Fix for working with HTML5 repo - regenerate token if needed\n- Debug logs for backend requests\n- Fixed case sensitivity for headers defined in the xs-app.json file\n\n## 16.0.2 - 2024-01-11\n\n### Updated dependencies\n- deps: axios@1.6.5\n- deps: @sap/xssec@3.6.1\n- deps: @sap/audit-logging@5.8.3\n\n## 16.0.1 - 2024-01-05\n\n### Updated dependencies\n- deps: axios@1.6.4\n\n## 16.0.0 - 2023-12-31\n\n### Updated dependencies\n- connect.js removed\n\n## 15.0.0 - 2023-12-13\n\n### Added\n- Support node version 18 and node version 20 instead of node version 16 and node version 18\n\n### Updated dependencies\n- deps: cf-nodejs-logging-support@7.2.0\n- deps: e2e-trace@4.1.0\n- deps: logging@7.1.0\n\n## 14.4.3 - 2023-12-07\n\n### Fixed\n- Path traversal validation - normalize for windows \n- Only if tenant_id header not populated set header with provider/subscriber subdomain.\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.8.2\n\n# 14.4.2 - 2023-11-30\n\n### Updated dependencies\n- deps: @sap/xssec@3.6.0\n\n## 14.4.1 - 2023-11-26\n\n### Added\n- Path traversal validation\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.8.1\n\n## 14.4.0 -  2023-11-19\n\n### Fixed\n- Retrieve logs from CLS instead of application log (SAAS approuter)\n\n### Added\n- Introduce a new configuration option (ENABLE_FRAME_ANCESTORS_CSP_HEADERS) to include the content security policy (CSP) header using subaccount trusted domains with frame-ancestors policy.\n- Forward auth certificates only in case it is configured via HTML5.ForwardAuthCertificates destination property\n- FULL_CERTIFICATE_CHAIN and SKIP_DEFAULT_MTLS_AUTH_CA env. variables support remove\n- Provider/subscriber subdomain propagation to logs via tenant_id header\n\n### Updated dependencies\n- deps: @sap/xssec@3.5.0\n- deps: axios@1.6.1\n\n## 14.3.4 -  2023-10-25\n\n### Fixed\n- Avoid reading service credentials on approuter startup\n- Read Redis tls certificates also from binding credentials ca property\n\n### Updated dependencies\n- deps: @sap/xsenv@4.0.0\n\n## 14.3.3 -  2023-10-12\n\n### Fixed\n-  Crash on cookie name equal to basic object attribute\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.7.1\n\n### Added\n- Protect from timing attack on state parameter middleware.\n- Validate state parameter is valid uuid v4 string.\n- Protect against Request Smuggling.\n\n## 14.3.2 - 2023-09-10\n\n### Added\n- Clean invalid token from cache when calling service in case of getting 401/403\n- Add option (ENABLE_X_FORWARDED_HOST_VALIDATION) to validate x-forwarded-host header as a valid hostname\n\n### Fixed\n- Collect logout data also for Direct Routing URI\n- Token exchange in html5 repo credentials flow\n\n### Updated dependencies\n- deps: @sap/xssec@3.3.4\n\n## 14.3.1 - 2023-08-02\n\n### Added\n- Support of using several instances of a Business Service on the same session\n\n## 14.3.0 - 2023-07-30\n\n### Added\n- IAS App2App navigation support via IAS dependency destination configuration\n\n## 14.2.1 - 2023-07-23\n\n### Updated dependencies\n- deps: tough-cookie@4.1.3\n\n### Added\n- Introduce SKIP_DEFAULT_MTLS_AUTH_CA environment to prevent adding Auth certificate to backend call.\n\n### Fixed\n- Support mTLS certificate with more than three certificates in the chain.\n\n## 14.2.0 - 2023-07-11\n\n### Added\n- Credentials caching support\n- No html5 app found (503 response) caching support\n\n### Fixed\n- support not case sensitive in dynamicDestination property\n- fix redis with Sentinel mode initialization: use 'sentinelPassword' instead of 'password'.\n\n## 14.1.2 - 2023-06-13\n\n### Fixed\n- Return content-type in user-api\n- JWT refresh token flow with IAS (add app_tid to request)\n- In service to approuter flow supports Basic token authorization only with XSUAA credentials\n- Subscribed applications API handling\n- Return user name from sub claim in user-api in case of IAS login\n\n## 14.1.1 - 2023-03-21\n\n### Fixed\n- Connectivity token exchange in WS flow (env. ENABLE_CONNECTIVITY_TOKEN_EXCHANGE_WS)\n\n## 14.1.0 - 2023-03-20\n\n### Added\n- Support CSRF token in service2approuter with external session management\n\n### Fixed\n- Set dynamic log level without x-subscriber-tenant\n- IAS logout after session timeout\n- user-api documentation\n- Concatenating encrypted session cookies with non-sessions, in the case when  both received from a backend\n- Backend error handling when statusCode is null\n\n### Updated dependencies\n- deps: cookie-parser@1.4.6\n\n## 14.0.0 - 2023-02-09\n\n### Added\n- Support node version 16 and node version 18 instead of node version 14 and node version 16\n\n### Updated dependencies\n- deps: @sap/logging@^6.2.0\n\n## 13.1.1 - 2023-01-30\n\n### Fixed\n- Destination key calculation in headers sending\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.6.3\n\n## 13.1.0 - 2023-01-24\n\n### Fixed\n- IAS credentials from HTML5 Repo handling\n- Use warning log level in handleBackendError\n- Debug logs for backend response\n\n### Added\n- IAS token sharing support\n\n### Updated dependencies\n- deps: @sap/xssec@^3.2.17\n- deps: @sap/xsenv@^3.4.0\n\n## 13.0.2 - 2023-01-15\n\n### Fixed\n- Fix logout issue, when html5repo returns 503 error approuter still will use logout path from the central xs-app.json\n\n### Updated dependencies\n- deps: @sap/xssec@^3.2.15\n\n## 13.0.1 - 2023-01-03\n\n### Fixed\n- Correct locating html5 repository runtime service by its label\n- When connectivity service is bound to the approuter, load its credentials token in case it expired\n- Query parameter in SAP Managed Approuter runtime url \n- IAS in single tenant flow\n\n### Updated dependencies\n- deps: cf-nodejs-logging-support@^6.14.0\n\n## 13.0.0 - 2022-12-25\n\n### Added\n- IAS custom domains support\n- Create SMS subscribed application url with subscriber subdomain instead of zoneId -- IAS TenantId\n- Certificates forwarding in service2approuter flow\n\n### Fixed\n- html5 repo creds performance fix correction\n- Destination cache key changed from destination name to destinationId plus \n  destination name in case of instance level destination\n- Remove connection specific headers from http2 response\n- Scopes retrieval with IAS login in user-api\n\n## 12.0.3 - 2022-12-11\n\n### Fixed\n- html5 repo creds performance issues \n\n## 12.0.2 - 2022-12-06\n\n### Fixed\n- feature flag to disable html5 repo credentials consumption fix\n\n### Updated dependencies\n- deps: query-string@7.1.2\n\n## 12.0.1 - 2022-11-31\n\n### Fixed\n- feature flag to disable html5 repo credentials consumption\n\n### Updated dependencies\n- deps: @sap/xsenv@3.4.0\n\n## 12.0.0 - 2022-11-13\n\n### Added\n- Consume credentials from html5 repo\n- Use server ca certificates with Hyperscaler Redis\n\n### Fixed\n- HTML5 Repo service name in client credentials token middleware\n\n## 11.6.1 - 2022-11-3 \n\n### Fixed\n- Type error in websockets flow when url does not contain application key\n- Mask 'x-forwarded-client-cert' header\n- Send all certificates chain if exist FULL_CERTIFICATE_CHAIN = 'true'\n\n## 11.6.0 - 2022-10-24\n\n### Added\n- http2 support\n\n## 11.5.1 - 2022-10-13\n\n### Fixed\n- Correct using sap_idp query parameter also in other sessions\n- Avoid deleting sap_idp query parameter from the backend url, since there are use cases in which it is needed\n\n## 11.5.0 - 2022-09-18\n\n### Added\n- Support of state parameters during authorization\n\n### Updated dependencies\n- deps: @sap/passport@0.6.0\n\n## 11.4.1 - 2022-09-11\n\n### Fixed\n- Correct a failure with error code 400 during login callback when using dynamic identity provider\n- Correct scopes handling when running user-api\n- Error handling in password token creation\n\n## 11.4.0 - 2022-09-05\n\n### Added\n- Dynamic log level support\n- x-approuter-authorization with Basic authentication token\n\n## 11.3.4 - 2022-08-30\n\n### Fixed\n- Crash when missing key in backend cookie \n\n## 11.3.3 - 2022-08-25\n\n### Fixed\n- preferLocal destination\n- Modify url for userInfo, as part of user-api/attributes\n\n## 11.3.2 - 2022-08-04\n\n### Fixed\n- Destination token timeout calculation\n- UserId deleted from session\n- Query parameters with special characters in login callback \n\n## 11.3.1 - 2022-07-28\n\n### Fixed\n- Missing destination instance credentials issue\n- Avoid token exchange, when the session user is n/a (grant_type=client_credentials)\n- Correct null pointer exception uaa missing  in subscription-utils\n- Dynamic provisioning of identity provider with welcome file\n\n## 11.3.0 - 2022-07-20\n\n### Added\n- Support for dynamic provisioning of identity providers\n- Support websocket in service2approuter flow\n\n## 11.2.1 - 2022-06-15\n\n### Fixed\n- When user-api/attributes fails to get user attributes, it returns the basic user details\n\n## 11.2.0 - 2022-06-14\n\n### Added\n- Expose the Redis retry strategy as an application router configuration.\n\n### Fixed\n- Support compressing multipart/mixed content type when compressResponseMixedTypeContent is configured in xs-app.json\n- Avoid token exchange in case of expired login token\n- Correct a null pointer exception issue in user-api-middleware\n\n## 11.1.0 - 2022-06-06\n\n### Added\n- Enhance user-api: both endpoints with user scopes, \"attributes\" endpoint with user attributes (including custom attributes)\n- Support TrustAll for Private-link proxy type\n\n### Fixed\n- SAML Assertion via Cloud Connector issue\n- ARBE cookie: null while working with multiple backends.\n\n## 11.0.1 - 2022-05-15\n\n### Fixed\n- ARBE cookie size issue\n\n## 11.0.0 - 2022-05-09\n\n### Added\n- Support node version 14 and node version 16 instead of node version 12 and node version 14\n\n### Updated dependencies\n- async removed\n\n## 10.15.4 - 2022-05-08\n\n### Fixed\n- Instance level destination handling\n- Error handling when calling svc2Approuter middleware\n\n### Updated dependencies\n- deps: @sap/xssec@3.2.13\n- Caret (^) added to: @sap/audit-logging,@sap/e2e-trace,@sap/logging,@sap/xssec,async,node-forge,urijs\n\n\n## 10.15.3 - 2022-04-26\n\n### Fixed\n- Request contains an invalid x-csrf-token\n\n## 10.15.2 - 2022-04-24\n\n### Fixed\n- Improve readme documentation\n- Token xsrf undefined, when approuter bound to external session storage \n\n### Updated dependencies\n- deps: @sap/logging@6.1.1\n- deps: async@3.2.3\n\n## 10.15.1 - 2022-04-07\n\n### Updated dependencies\n- should-send-same-site-none removed\n- request.js removed\n- moment removed\n- deps: urijs@1.19.11\n- deps: @sap/logging@6.1.0\n\n## 10.15.0 -  2022-04-03\n\n### Added\n- External session management support in service2approuter flow\n- Return auditLog, if has multi-tenant plan oauth2, as a dependency during subscription creation\n- Write auditLog error message into subscription tenant, when approuter runs in multi-tenant mode\n- Private-link proxy type support\n- Error stack in error-handler\n\n### Updated dependencies\n- deps: body-parser@1.2.0\n\n### Fixed\n- Type error in case of missing app.services\n\n## 10.14.2 -  2022-03-23\n\n### Updated dependencies\n- deps: node-forge@1.3.0\n\n## 10.14.1 -  2022-03-23\n\n### Fixed\n- Cookie addition in decrypt cookies and check in merge cookies\n- Improve destination service resilience in SaaS Approuter\n\n## 10.14.0 - 2022-03-15\n\n### Added\n- Auto-Pipeline for ioredis support\n\n### Fixed\n- web sockets fixed status code\n- IAS logout page redirect\n- convert environment variable EXTERNAL_REVERSE_PROXY to boolean type\n\n### Updated dependencies\n- bluebird removed\n\n## 10.13.2 - 2022-03-08\n\n### Fixed\n- Change log level to info for missing host destination\n- Null object error for user property\n\n### Updated dependencies\n- deps: urijs@1.19.10\n- deps: @sap/audit-logging@5.5.1\n- deps: @sap/xsenv@3.2.1\n\n## 10.13.1 - 2022-03-01\n\n### Fixed\n- Add check for correlationId header existence in getCorrelationId\n\n## 10.13.0 - 2022-02-27\n\n### Added \n- Support multiple zoneIds in same IAS tenant\n\n### Fixed\n- Avoid reading uaa property from a null object\n- Improve error handling in exchange token\n\n### Updated dependencies\n- deps: urijs@1.19.8\n- deps: axios@0.26.0\n\n## 10.12.0 - 2022-01-30\n\n### Added \n- Replace 'request' module by 'axios'\n- Support query params in user-api\n\n### Updated dependencies\n- deps: tough-cookie@4.0.0\n\n## 10.11.3 - 2022-01-25\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.4.1\n- deps: @sap/xssec@3.2.12\n\n## 10.11.2 - 2022-01-13\n\n### Updated dependencies\n- deps: scmp@1.0.0\n\n## 10.11.1 - 2022-01-12\n\n### Updated dependencies\n- deps: node-forge@1.2.1\n\n## 10.11.0 - 2022-01-11\n\n### Added\n- POST method support for logout flows\n- New env. variable to skip loading client_credentials tokens on approuter start\n- Adding minimumTokenValidity from env variable\n\n### Fixed\n- Get uaadomain from subscription manager in case XSUAA is not bound\n- Logs reduction -remove stackTrace on error log level\n- Websocket try to get status code from message string when statusCode property undefined\n- isDynamicRouting read defaultEnv.json file only in development environment\n- accessToken references\n\n### Updated dependencies\n- deps: node-forge@1.2.0\n\n## 10.10.4 - 2021-12-16\n\n### Fixed\n- SameSite cookie property concatenation   \n\n## 10.10.3 - 2021-12-13\n\n### Fixed\n- Handle bad cookie decryption error\n- Fix missing session when token validity too short\n- Set client_credentials token by tenant timeout to 5000 ms\n- setXForwardedFor remove headers correction\n\n### Added\n- Adding serverKeepAlive from env variable to routerConfig\n\n### Updated dependencies\n- deps: @sap/audit-logging@5.3.0\n- deps: debug@4.3.2 \n- deps: uuid@8.3.2\n- deps: scmp@2.1.0\n\n## 10.10.2 - 2021-12-02\n\n### Fixed\n- Adding expiration date on login-callback-provider check \n- Increase client_credentials token request timeout to 5000 ms\n- Protect accessToken references\n\n### Updated dependencies\n- deps: compressible@2.0.18\n- deps: sap/xssec@3.2.11\n\n## 10.10.1 - 2021-11-21\n\n### Fixed\n- Avoid sending certificates if not authentication type is client certificate or trusted certificate\n\n## 10.10.0 - 2021-11-18\n\n### Added\n- Propagate correlationId to xssec and UAA requests\n- Support compression of response content with multipart/mixed content type\n\n### Fixed\n- Subscriber destination consumption in public flows\n- Samesite attribute in callback login response header\n- Support destination trust certificate propagation (format pem)\n\n### Updated dependencies\n- deps: sap/xssec@3.2.10\n\n## 10.9.2 - 2021-11-09\n\n### Fixed\n- Backend invalid cookies handling\n- Add checking for missing xsappConfig file along with xs-app.json on configuration load\n\n\n### Updated dependencies\n- deps: cf-nodejs-logging-support@6.11.0\n- deps: validator@13.7.0\n\n## 10.9.1 - 2021-10-28\n\n### Fixed\n- Missing HTML5 repo token in cache failure \n\n## 10.9.0 - 2021-10-24\n\n### Added\n- Additional cookie logs\n- Support client certificate authentication (format p12)\n- Change log level to info for backend logs \n- IAS token support in service to approuter flow\n\n### Updated dependencies\n- deps: sap/xssec@3.2.8\n\n## 10.8.2 - 2021-10-11\n\n### Fixed\n- Remove clientsecret validation for mtls\n\n## 10.8.1 - 2021-10-07\n\n### Added\n- New audit log SDK support\n- Kyma Redis credentials documentation\n\n### Fixed\n- Redis credentials handling in Kyma\n- X509 client secret validation in uua schema \n\n### Updated dependencies\n- deps: http-proxy-agent@4.0.1\n- deps: https-proxy-agent@5.0.0\n- deps: @sap/audit-logging@5.1.0\n\n## 10.8.0 - 2021-09-13\n\n### Added\n- Propagate destination headers in approuter\n\n### Fixed\n- Sessions expiration in Redis\n- Connections to Redis on Azure with premium plan\n- Same site support for Lax value\n- Request url with code parameter will be directed to authentication, in case it is required\n- Session handling documentation\n- When application name does not adhere to regex, the request will be directed to main routing configuration file\n \n## 10.7.1 - 2021-08-30\n\n### Added\n- Skip xs-app.json cache support\n- Login with XSUAA certificates \n- Mutual Transport Layer Security (mTLS) handling\n- Single use token support\n\n## 10.6.1 - 2021-08-03\n\n### Fixed\n- Subscription callback requests will be directed to main routing configuration file \n- App. config response headers modify additional headers value\n\n## 10.6.0 - 2021-07-28\n\n### Added\n- HTML5 Application Repository Tenant Awareness support\n\n### Fixed\n- nullifying the Redis client when there's a connection issue with Redis\n- Clear interval when  calling approuter.close()\n\n## 10.5.1 - 2021-07-25\n\n### Fixed\n- Return error immediately when reaches login callback middleware via query parameters\n\n### Updated dependencies\n- deps: urijs@1.19.7\n\n## 10.5.0 - 2021-07-14\n\n### Added\n- Support of the configuration of the minimal logging level for the cf-nodejs-logging-support library\n\n### Fixed\n- Return an error code when calling login callback directly\n- Fix for request traces that crash the application router \n\n## 10.4.3 - 2021-07-05\n\n### Fixed\n- Display log with tenant ID, also when using direct routing URIs\n- Support of session management with redis with multiple nodes plans\n\n## 10.4.2 - 2021-06-13\n\n### Fixed\n- Correcting additional bug when Websocket Proxy is crashing if excluding a route by DIRECT_ROUTING_URI_PATTERN\n\n## 10.4.1 - 2021-06-09\n\n### Fixed\n- Changing \"favico.ico\" to \"favicon.ico\" as a predefined direct routing URI\n- Parsing client certificate for non-CF SMS subscription\n- Improving logs in path-rewriter, request-handler, service-to-approuter-middleware, oauth2-strategy\n- Adding cache-Control header ('no-cache, no-store') to the User API response\n- Correcting a bug when Websocket Proxy is crashing if excluding a route by DIRECT_ROUTING_URI_PATTERN\n\n### Updated dependencies\n- deps: ws@7.4.6\n\n## 10.4.0 - 2021-05-24\n\n### Added\n- External session management support\n\n### Fixed\n- Client certificate handling for non-CF SMS subscription\n- Expose License\n\n## 10.3.0 - 2021-05-11\n\n### Added\n- CLIENT_CERTIFICATE_HEADER_NAME configuration for non CF flows\n- Support of SAP statistics for reporting the request performance\n- AfterRequestHandler and backendTimeout extension support\n\n### Fixed\n- Lazy html5-repo client-credentials token creation in case it could not be created during startup\n- Added \"login\" as a pre-configured direct URI route to prevent unnecessary calls to the HTML5 Application Repository\n\n### Updated dependencies\n- deps: cf-nodejs-logging-support@6.7.0\n\n## 10.2.0 - 2021-04-11\n\n### Added\n- Support of routing directly to the routing configuration file (xs-app.json) of the application router using the DIRECT_ROUTING_URI_PATTERNS environment variable \n- Caching support for destinations from destination service\n\n### Fixed\n- Verify cookie when IAS and XSUAA bound\n- Websockest pong callback handling\n- Empty getDependencies configuration handling in SaaS Registry subscription\n- Handle SMS apiURLs in K8S\n- Encode redirect logout url parameters in case of xsuaa authentication\n\n## 10.1.0 - 2021-03-21\n\n### Added\n- If you are using Identity Authentication (IAS), you can now use subdomains in multitenant URLs\n- Identity Authentication (IAS) is fully supported (no longer a Beta feature)\n\n### Fixed\n- Destination token exchange when using destinations on instance level\n\n## 10.0.0 - 2021-03-10\n\n### Added\n- Support node version 12 and node version 14 instead of node version 10 and node version 12\n\n## 9.4.0 - 2021-03-09\n\n### Added\n- Support the consumption of destinations from the provider subaccount via the preferLocal property\n- Support of cross-origin resource sharing via the application router configuration file (xs-app.json)\n\n### Fixed\n- logout flow while using system plan XSUAA instance\n- missing scope in XSUAA token after refresh\n\n### Updated dependencies\n- deps: lodash@4.17.21\n- deps: @sap/audit-logging@4.2.0\n- deps: @sap/logging@6.0.3\n\n## 9.3.0 - 2021-02-24\n\n### Fixed\n- user-api consumption from local approuter\n- avoid endless loop when calling approuter with /login/callback\n\n### Added\n- Service to approuter is not beta anymore, README file changed\n\n### Updated dependencies\n- deps: urijs@1.19.6\n\n## 9.2.0 - 2021-02-14\n\n### Added\n- Support of custom response headers via the application router configuration file (xs-app.json)\n\n### Fixed\n- Verify application key without query parameters\n\n### Updated dependencies\n- deps: e2e-trace@3.0.0\n- deps: xsenv@3.1.0\n\n## 9.1.0 - 2021-01-21\n\n### Added\n- User API\n\n### Fixed\n- Connectivity authentication issue in IAS flow\n- Initialize server keepAliveTimeout to zero\n\n### Updated dependencies\n-  deps: @sap/audit-logging@3.2.0\n\n## 9.0.2 - 2021-01-14\n\n### Fixed\n- Options handling for extensibility case when html5 repo is bound\n- Logout request handling when approuter session times out\n- Use \"http_header\" section of authTokens from the Destination Service response\n\n### Updated dependencies\n- deps: urijs@1.19.5\n\n## 9.0.1 - 2020-12-20\n\n### Fixed\n- Subprotocol handling in websockets flows\n\n### Updated dependencies\n- deps: validator@13.5.2\n- deps: @sap/logging@6.0.2\n\n## 9.0.0 - 2020-12-06\n\n### Added\n- IAS authentication support\n- Forward IAS token to destination\n- IAS authentication with  XSUAA authorization\n- Subscription manager (SMS) support\n\n### Updated dependencies\n- deps: base64-url@2.3.3\n\n## 8.6.1 - 2020-11-25\n\n### Fixed\n- Wrong application URL protocol returned by onSubscription callback additional fix\n\n## 8.6.0 - 2020-11-19\n\n### Fixed\n- Wrong application URL protocol returned by onSubscription callback\n\n## 8.5.5 - 2020-10-21\n\n### Fixed\n- Destination middleware improvement\n\n## 8.5.4 - 2020-10-14\n\n### Fixed\n- Fix invalid backend response handling\n\n## 8.5.3 - 2020-10-06\n\n### Fixed\n- Do not forward SAP-Connectivity-Authentication header in onPremise flows if destination authentication type is NoAuthentication\n\n## 8.5.2 - 2020-09-21\n\n### Fixed\n- Handle SameSite:None value in client side cookies (signature, locationAfterLogin and fragmentAfterLogin)\n\n## 8.5.1 - 2020-08-25\n\n### Updated dependencies\n- deps: lodash@4.17.20\n- deps: sap/logging@5.3.1\n- deps: cf-nodejs-logging-support@6.4.3\n\n### Fixed\n- Avoid crash if user provided service without credentials\n- Don't forward auth token to connectivity in service2approuter flow if destination.forwardToken = false\n\n## 8.5.0 - 2020-08-10\n\n### Updated dependencies\n- deps: @sap/audit-logging@3.1.1\n- deps: request@2.88.2\n- deps: @sap/xssec@3.0.9\n- deps: lodash@4.17.19\n- deps: ws@7.3.1\n\n### Fixed\n- Pass tenant id in service to approuter audit log message\n\n## 8.4.1 - 2020-08-02\n\n### Fixed\n- Fix token exchange for Business Service access\n\n## 8.4.0 - 2020-08-02\n\n### Added\n- Support merge of approuter and backend content-security-policy headers\n- Support cookie merge in service2Approuter flow\n\n### Fixed\n- Handle undefined user in refresh token flow\n\n## 8.3.1 - 2020-07-26\n\n### Fixed\n- Upgrade xssec version to 3.0.7 - fix big tokens exchange error\n\n## 8.3.0 - 2020-07-23\n\n### Fixed\n- Fix missing subdomain in exchange token\n\n## 8.2.2 - 2020-07-15\n\n### Fixed\n- Adapt to changes in @sap/xssec-3.0.6 - replace secContext private subdomain property by getSubdomain method\n- Fix websocket pong behavior when status is not open\n\n## 8.2.1 - 2020-07-09\n\n### Fixed\n- SAP Passport header handling fixed in service 2 approuter flow\n\n## 8.2.0 - 2020-07-02\n\n### Fixed\n- Passport handling fix in service 2 approuter flow – increment counter\n\n### Updated dependencies\n- deps: sap/xssec@3.0.6\n\n## 8.1.1 - 2020-06-24\n\n### Announcement\n- The Preserve URL fragment (PRESERVE_FRAGMENT) will not be deprecated as previously announced.\n\n### Fixed\n- Bug correction in forwardAuthToken in business service flow\n\n## 8.1.0 - 2020-06-14\n\n### Added\n- Added fallback mechanism for html5 repo client_credentials token refresh\n- Security improvement for signature verifying during login\n\n### Fixed\n- Bug fix when calling connectivity in a non-authenticated flow (no login in approuter)\n\n## 8.0.0 - 2020-05-26\n\n### Updated dependencies\n - deps: @sap/xssec@3.0.3\n\n### Removed\n- Remove of SAP_JWT_TRUST_ACL environment variable support (functionality now comes with audience validation)\n\n## 7.1.3 - 2020-05-17\n\n### Added\n- Enhances of the x-approuter-authorization token security check in the service2Approuter flow.\n\n## 7.1.2 - 2020-05-08\n\n### Fixed\n- Fix appurl usage of x-subscriber-tenant\n\n## 7.1.1 - 2020-05-05\n\n### Added\n- Cache improvements\n- Usage of x-subscriber-tenant header when provided.\n- handle html5 repo and xsuaa destinations separately\n\n### Fixed\n- Fix connectivity token handling for Kubernetes\n\n## 7.1.0 - 2020-04-16\n\n### Added\n- Enable service logout configuration in central xs-app.json.\n### Fixed\n- Destination token cached in session is never refreshed.\n\n## 7.0.0 - 2020-04-06\n\n### Added\n- Support node version 10 and node version 12 instead of node version 8 and node version 10\n\n## 6.8.2 - 2020-03-04\n\n### Fixed\n- Fix extension of resolveUaaConfig\n\n## 6.8.1 - 2020-02-20\n\n### Fixed\n- Fix default route\n\n## 6.8.0 - 2020-02-10\n\n### Added\n- Enable external session manager extensibility when using HTML5 Repository\n\n## 6.7.2 - 2020-01-30\n\n### Added\n- Support SameSite cookie attribute\n\n### Updated dependencies\n - deps: express-session@1.17.0\n - deps: @sap/logging@5.2.0\n\n## 6.7.1 - 2019-12-24\n\n### Added\n- Backend cookies secret variable (BACKEND_COOKIES_SECRET) Secret that is used to encrypt backend session cookies in service to Application Router flow. Should be set in case multiple instances of Application Router are used. By default a random sequence of characters is used.\n\n\n## 6.7.0 - 2019-11-24\n\n### Added\n- Enhance the use of the xsenv@2.1.0 library to access bound destination service credentials, which support reading destination service credentials in Kubernetes.\n\n### Fixed\n- Anonymous login on destination flow\n\n## 6.6.0 - 2019-11-12\n\n### Announcement\n- The Preserve URL fragment (PRESERVE_FRAGMENT) is being deprecated and will be removed in the near future\n\n### Updated dependencies\n- deps: sap/xsenv@2.1.0 Application Router uses xsenv library to access bound services credentials. We have upgraded the library to xsenv version 2.1.0 which supports reading credentials in Kubernetes.\n- deps: https-proxy-agent@2.2.4\n## 6.5.1 - 2019-10-10\n\n### Fixed\n- Adding sec-websocket-protocol header as the protocol of websockets\n\n## 6.5.0 - 2019-10-03\n\n### Added\n- Timeout for Business Service\n\n### Fixed\n- Adding destination token middleware for websockets\n\n## 6.4.1 - 2019-09-23\n\n### Fixed\n- CSP header fix return frame-ancestors in login\n\n## 6.4.0 - 2019-09-16\n\n### Added\n- Allowed dynamic destinations \n- Return CSP header with no cache\n- Added setXForwardedHeaders option\n\n## 6.3.0 - 2019-09-10\n\n### Added\n- Support Cache-Control for static content from html5-repo\n\n## 6.2.0 - 2019-09-03\n\n### Added\n- Support Subscription url from vcap.\n- Adding validation - Session created for one tenant must not be used by other tenants\n\n### Updated dependencies\n - deps: @sap/xssec@2.2.2\n\n## 6.1.2 - 2019-08-28\n- Support Xsuaa credentials in request body\n\n## 6.1.1 - 2019-08-27\n- Fix in destination middleware - session.update\n \n## 6.1.0 - 2019-07-31\n\n### Added\n- Support for redirection to logout page with query parameters after central logout\n- Connectivity is now returned in subscription getDependencies callback\n\n### Fixed\n- Error when processing unknown authentication types\n\n## 6.0.2 - 2019-07-14\n\n### Fixed\n- Validation of destination with OnPremise proxyType\n- CSRF protection in Service to Approuter flow\n### Updated dependencies\n- deps: lodash@4.17.13\n\n## 6.0.1 - 2019-05-30\n\n### Fixed\n- Fixed TypeError bug when Approuter saves a cookie from backend and should logout when session timeout exceeded. \n- Fixed calculation of location after login.\n\n## 6.0.0 - 2019-05-06\n\n### Added\n- Support node version 8 and node version 10 instead of node version 4.5 and node version 6\n\n## 5.15.0 - 2019-04-29\n\n### Added\n- Support for Service to Application Router functionality (Beta version).\n- Added destination in host support.\n\n## 5.14.1 - 2019-04-17\n\n### Added\n- Enhanced Approuter application logs when serving of static content (from HTML5 App Repo) was failed.\n\n### Fixed\n- Fixed subscription callbacks url.\n\n## 5.14.0 - 2019-04-04\n\n### Added\n- Websockets support for HTML5 Application Repository.\n\n### Fixed\n- onSubscription callback.\n\n## 5.13.1 - 2019-03-27\n\n### Added\n- Added automatic recovery of Approuter after recovery of UAA.\n\n### Fixed\n- Fixed subscription callbacks url.\n- Fixed avoid central appConfig routes overrides.\n\n### Updated dependencies\n - deps: @sap/xssec@2.1.16\n\n## 5.13.0 - 2019-02-14\n\n### Added\n- Ability to define identity provider for authentication in the route.\n\n## 5.12.0 - 2019-02-05\n\n### Added\n- Dynamic destination support.\n\n## 5.11.0 - 2019-01-22\n\n### Added\n- Client credentials token support.\n\n## 5.10.2 - 2019-01-08\n\n### Fixed\n- Fix proxy issue in Connectivity flow.\n\n## 5.10.1 - 2019-01-03\n\n### Fixed\n- Fixed flow of access destination via desination service.\n\n## 5.10.0 - 2018-12-30\n\n### Added\n- Propagation of approuter host during logout.\n\n## 5.9.0 - 2018-12-18\n\n### Added\n- Ability to change destination without restarting application on CF\n- Access destination that is exposed on destination service instance level.\n- Enabled all authentication types defined in the destination service.\n\n## 5.8.0 - 2018-10-27\n\n### Fixed\n- Fix login flow for URLs with empty query (URL that ends with '?').\n\n### Added\n- Documentation of integration with HTML5 Apps Repo.\n\n### Updated dependencies\n - deps: ws@1.1.5\n - deps: lodash@4.17.11\n - deps: @sap/logging@4.0.2\n    - deps: lodash@4.17.11\n\n## 5.7.0 - 2018-10-08\n\n### Added\n - Propagate client id to UAA during Logout\n \n## 5.6.4 - 2018-08-27\n\n### Updated dependencies\n- deps: @sap/audit-logging@2.2.4\n- deps: sync-request@5.0.0\n     \n### Fixed\n- Duplicate destination names in xs-app.json bug\n\n## 5.6.3 - 2018-08-15\n\n### Updated dependencies\n - deps: e2e-trace@1.3.0\n - deps: xssec@2.1.15\n    - deps: request@2.88.0\n\n### Fixed\n - Fix bug of post/put requests with content/type=application/json\n\n## 5.6.2 - 2018-08-09\n\n### Updated dependencies\n - deps: serve-static@1.13.2\n    - deps: send@0.16.1\n\t     - deps: mime@1.4.1\n\t     - \tdeps: debug@2.6.9\n\n### Fixed\n - Fix error in case of local destination and UAA with tenant mode shared\n \n## 5.6.1 - 2018-08-07\n\n### Updated dependencies\n - deps: body-parser@1.18.3\n - deps: uid-safe@2.1.5\n - deps: @sap/xssec@2.1.9\n - deps: send@0.16.2\n - deps: compression@1.7.3\n - deps: express-session@1.15.6\n - deps: connect@3.6.5\n\n## 5.6.0 - 2018-08-05\n\n### Added\n - Added SaaS application registration support (subscription)\n - Enhanced usage of PreserveHostHeader additional property\n\n### Fixed\n - Fix error handling in case of bad signature\n\n## 5.5.0 - 2018-07-19\n\n### Added\n - Added optional additional properties 'PreserveHostHeader' to Destination service\n - Added optional additional properties 'sap-client' to Destination service\n\n## 5.4.2 - 2018-07-04\n\n### Fixed\n - Fix refresh page location after timeout bug\n - Fix fragment cookie name bug\n - Fix vulnerabilities issues\n \n## 5.4.1 - 2018-06-25\n \n### Fixed\n - Fix logout bug\n\n## 5.4.0 - 2018-06-10\n\n### Added\n - Support extensibility of logout end-point \n \n### Fixed\n - Fix vulnerabilities issues\n\n## 5.3.0 - 2018-05-13\n\n### Added\n - Enable extended session management\n - Enable Correlation ID propagation\n\n## 5.2.1 - 2018-05-02\n\n### Added\n - Support audit log service\n\n## 5.2.0 - 2018-04-16\n\n### Added\n - Support routing to destination with authentication type OAuth2SAMLBearerAssertion\n\n### Fixed\n - Fix bug in forward undefine token\n\n\n## 5.1.0 - 2018-03-14\n\n### Added\n - Support destination configuration from destination service\n\n### Fixed\n - Fix bug in trace functionality\n - Fix bug in fragment functionality\n\n## 5.0.0 - 2018-01-29\n\n### Fixed\n - Minor fix in destinations handling in Extension flow.\n - Fix fragment handling in URL during Login flow.\n \n## 4.0.1 - 2018-01-01\n\n### Fixed\n - Minor fixes in CORs.\n\n## 4.0.0 - 2017-12-18\n\n### Added\n - Application router can consume content from the HTML5 application repository.\n\n### Fixed\n - Fix in headers handling when using CF destination and onPremise destination in same xs-app.json.\n - Minor fix in CORs.\n\n## 3.0.1 - 2017-10-08\n\n### Removed\n - Node 0.12 support.\n \n## 2.10.0 - 2017-07-30\n\n### Added\n - Enabled connectivity to on premise backend.\n - Added external reverse proxy support.\n\n### Fixed\n - Fix CSRF token generation to use a Secure Random number generator.\n\n## 2.9.1 - 2017-06-29\n\n### Fixed\n - Minor fixes in CORs.\n - Introduce CORs feature in README.md.\n \n## 2.9.0 - 2017-06-27\n\n### Added\n - Support for CORs functionality.\n\n## 2.8.2 - 2017-06-13\n\n### Fixed\n - Fix cancel request.\n - Fix logout in dynamic routing.\n\n## 2.8.1 - 2017-06-01\n\n### Fixed\n - Fixes in documentation of dynamic routing and troubleshooting section.\n - Fix logout when using websocket.\n\n## 2.8.0 - 2017-04-26\n\n### Added\n - Introduce table of contents in README.md.\n - Added JWT refresh in websocket connections.\n - Significant performance improvements via adopting @sap/logging version 3\n\n## 2.7.1 - 2017-03-20\n\n### Fixed\n - Add username to logs.\n - Minor fixes in websockets and session handling.\n\n## 2.7.0 - 2017-02-13\n\n### Added\n- Replacements from services.\n- Start approuter on https\n- Show warning when a route is explicitly both public and csrf protected.\n\n### Fixed\n- Should not escape client cookies.\n- Redirect to welcome page if not CSRF token fetch request.\n- Wrong basic authentication status codes.\n\n## 2.6.1 - 2017-01-25\n\n### Changed\n- Rename package to use @sap scope\n\n## 2.6.0 - 2017-01-25\n\n### Added\n- `REQUEST_TRACE` environment variable for enhanced request tracing.\n- Support for PATCH in router configuration.\n- New extensions - see extending.md.\n\n### Removed\n- Customizable UAA config resolution.\n\n### Fixed\n- Fixes in documentation.\n- Handling of request protocol.\n- Removed npm 2 restriction.\n\n## 2.5.0 - 2016-12-13\n\n### Added\n- Enable customizable UAA config resolution\n- Support for custom error pages (errorPage in xs-app.json)\n- Extend sizing guide\n\n### Fixed\n- Crash in error handler due to missing logger.\n- Does not cache login responses.\n- Does not log UAA missing when not needed.\n- In case of parallel logins Approuter may use wrong user.\n- Does not send basic credentials to backend, unless route is public.\n\n## 2.4.0 - 2016-11-16\n\n### Added\n- Introduce SECURE_SESSION_COOKIE environment variable - enforces the secure flag of application router's session cookie.\n- Additional checks for regular expressions during startup.\n\n### Changed\n- Previous component name in sap passport has been changed to 'XSA Approuter'.\n\n### Fixed\n - Missing logging context in error handler when using extensions.\n\n## 2.3.4 - 2016-11-04\n\n### Fixed\n- The _x-csrf-token_ header is no longer forwarded to backend in case a path requires authentication and CSRF token protection.\n- Set the _Secure_ flag of the session cookie depending on the environment application router runs in.\n- Some of the links in README.md were broken.\n\n## 2.3.3 - 2016-11-02\n\n### Added\n-\tAdd COMPRESSION env var to be able to configure compression.\n\n### Fixed\n- Do not cache wsAllowedOrigins across requests.\n- Favor UAA config from default-env.json over default-services.json.\n-\tExtend error message for proxy settings problem.\n-\tEnable compression by default when custom setting is provided.\n-\tPropagate errors to handler.\n- Avoid session resave at the end of request. Fix session overwrite.\n\n## 2.3.2 - 2016-09-30\n\n### Fixed\n- Cookie locationAfterLogin clash in port based routing.\n\n## 2.3.1 - 2016-09-28\n\n### Fixed\n- Unverified redirect via locationAfterLogin cookie.\n- Fallback to default UAA if no tenant captured.\n- Fix X-Frame-Options header overwriting.\n- Session cookie name - use application_id instead of instance_id.\n- Fix port validation for approuter.start().\n\n## 2.3.0 - 2016-09-02\n\n### Added\n- Multitenancy support.\n- Matching route by both URL path and HTTP method.\n\n### Fixed\n- Fixed race condition while CSRF token generation.\n\n## 2.2.0 - 2016-08-17\n\n### Added\n- Start approuter with xs-app.json passed as an object.\n- Follow symlinks in localDir config.\n- Document the Content-Security-Policy header as a best practice.\n\n## 2.1.3 - 2016-08-13\n\n### Added\n- Genarate CSRF token once per session.\n\n## 2.1.2 - 2016-08-06\n\n### Fixed\n- Remove instance cookies from client request.\n- Fix locatioinAfterLogin cookie path.\n\n## 2.1.1 - 2016-07-24\n\n### Fixed\n- Support to host welcome page externally.\n- Fix logout path matching.\n- Fix 500 sent in case locationAfterLogin cookie is missing.\n\n\n## 2.1.0 - 2016-07-17\n\n### Added\n- Allow source of route to be matched in case-insensitive way.\n- New configuration for maximum client connection timeout.\n- Add support for approuter extensions (custom middleware).\n- Allow fetching CSRF token with HEAD request.\n\n## 2.0.0 - 2016-05-12\n\n### Added\n- Configuration for the Cache-Control header in xs-app.json. The header is used when serving static resources.\n\n### Removed\n- local-* files (e.g. local-destinations, local-plugins) can no longer be used in the approuter during local development. Instead of these the approuter reads a single file located in the working directory (default-env.json), which contains the corresponding environment variables (e.g. destinations, plugins) and their values.\n","downloadsCurrentMonth":100619,"downloadsCurrentFortnight":46590,"downloads365":1339697,"downloadsFortnightGrowth":-5.5,"downloadsHistory":[{"yearMonth":"2023-04","downloads":106560},{"yearMonth":"2023-05","downloads":125882},{"yearMonth":"2023-06","downloads":153482},{"yearMonth":"2023-07","downloads":114993},{"yearMonth":"2023-08","downloads":104509},{"yearMonth":"2023-09","downloads":110535},{"yearMonth":"2023-10","downloads":116570},{"yearMonth":"2023-11","downloads":112678},{"yearMonth":"2023-12","downloads":97609},{"yearMonth":"2024-01","downloads":97852},{"yearMonth":"2024-02","downloads":93888}],"versions":[{"version":"created","date":"2020-06-11T19:49:25.398Z"},{"version":"7.1.0","date":"2020-06-11T19:49:25.821Z"},{"version":"modified","date":"2024-03-13T19:56:50.025Z"},{"version":"6.7.0","date":"2020-06-11T19:49:33.538Z"},{"version":"6.0.0","date":"2020-06-11T19:49:40.990Z"},{"version":"5.7.0","date":"2020-06-11T19:49:48.137Z"},{"version":"2.10.0","date":"2020-06-11T19:49:55.785Z"},{"version":"5.14.0","date":"2020-06-11T19:50:03.773Z"},{"version":"5.15.0","date":"2020-06-11T19:50:13.795Z"},{"version":"5.13.1","date":"2020-06-11T19:50:22.936Z"},{"version":"7.1.3","date":"2020-06-11T19:50:31.070Z"},{"version":"5.10.1","date":"2020-06-11T19:50:39.855Z"},{"version":"5.11.0","date":"2020-06-11T19:50:49.299Z"},{"version":"4.0.0","date":"2020-06-11T19:50:57.802Z"},{"version":"5.14.1","date":"2020-06-11T19:51:05.217Z"},{"version":"2.7.0","date":"2020-06-11T19:51:12.093Z"},{"version":"5.4.2","date":"2020-06-11T19:51:20.705Z"},{"version":"5.0.0","date":"2020-06-11T19:51:29.162Z"},{"version":"5.13.0","date":"2020-06-11T19:51:37.442Z"},{"version":"3.0.1","date":"2020-06-11T19:51:45.056Z"},{"version":"6.8.2","date":"2020-06-11T19:51:53.054Z"},{"version":"5.6.1","date":"2020-06-11T19:52:03.209Z"},{"version":"7.1.2","date":"2020-06-11T19:52:10.593Z"},{"version":"5.5.0","date":"2020-06-11T19:52:19.959Z"},{"version":"6.0.2","date":"2020-06-11T19:52:29.030Z"},{"version":"2.7.1","date":"2020-06-11T19:52:37.581Z"},{"version":"5.6.3","date":"2020-06-11T19:52:45.373Z"},{"version":"6.8.1","date":"2020-06-11T19:52:54.123Z"},{"version":"5.6.4","date":"2020-06-11T19:53:05.713Z"},{"version":"5.2.1","date":"2020-06-11T19:53:13.666Z"},{"version":"6.5.0","date":"2020-06-11T19:53:21.005Z"},{"version":"5.4.1","date":"2020-06-11T19:53:29.645Z"},{"version":"6.4.0","date":"2020-06-11T19:53:38.278Z"},{"version":"5.8.0","date":"2020-06-11T19:53:47.320Z"},{"version":"4.0.1","date":"2020-06-11T19:53:54.745Z"},{"version":"6.4.1","date":"2020-06-11T19:54:05.240Z"},{"version":"8.0.0","date":"2020-06-11T19:54:14.880Z"},{"version":"5.9.0","date":"2020-06-11T19:54:22.229Z"},{"version":"6.3.0","date":"2020-06-11T19:54:29.580Z"},{"version":"6.1.2","date":"2020-06-11T19:54:37.656Z"},{"version":"6.5.1","date":"2020-06-11T19:54:46.619Z"},{"version":"5.10.2","date":"2020-06-11T19:54:54.012Z"},{"version":"5.1.0","date":"2020-06-11T19:55:03.500Z"},{"version":"2.6.1","date":"2020-06-11T19:55:11.127Z"},{"version":"5.2.0","date":"2020-06-11T19:55:18.394Z"},{"version":"6.6.0","date":"2020-06-11T19:55:30.987Z"},{"version":"6.7.2","date":"2020-06-11T19:55:39.811Z"},{"version":"6.2.0","date":"2020-06-11T19:55:47.065Z"},{"version":"7.0.0","date":"2020-06-11T19:55:58.185Z"},{"version":"5.6.2","date":"2020-06-11T19:56:06.805Z"},{"version":"7.1.1","date":"2020-06-11T19:56:24.334Z"},{"version":"6.1.0","date":"2020-06-11T19:56:43.162Z"},{"version":"6.7.1","date":"2020-06-11T19:56:51.045Z"},{"version":"2.9.1","date":"2020-06-11T19:56:59.756Z"},{"version":"6.0.1","date":"2020-06-11T19:57:07.294Z"},{"version":"5.3.0","date":"2020-06-11T19:57:17.437Z"},{"version":"5.12.0","date":"2020-06-11T19:57:27.627Z"},{"version":"6.1.1","date":"2020-06-11T19:57:36.244Z"},{"version":"5.10.0","date":"2020-06-11T19:57:44.157Z"},{"version":"6.8.0","date":"2020-06-11T19:57:51.730Z"},{"version":"8.1.0","date":"2020-06-15T19:40:53.898Z"},{"version":"8.1.1","date":"2020-06-17T10:28:48.157Z"},{"version":"8.1.2","date":"2020-06-17T10:30:31.769Z"},{"version":"8.1.3","date":"2020-06-18T08:31:50.833Z"},{"version":"8.2.0","date":"2020-07-03T08:47:30.942Z"},{"version":"8.2.1","date":"2020-07-09T14:48:03.899Z"},{"version":"8.2.2","date":"2020-07-16T11:45:15.594Z"},{"version":"8.3.0","date":"2020-07-23T17:27:02.019Z"},{"version":"8.3.1","date":"2020-07-27T06:53:22.573Z"},{"version":"8.4.0","date":"2020-08-02T09:47:35.116Z"},{"version":"8.4.1","date":"2020-08-02T20:07:48.297Z"},{"version":"8.5.0","date":"2020-08-10T12:09:53.012Z"},{"version":"8.5.1","date":"2020-08-30T15:02:46.491Z"},{"version":"8.5.2","date":"2020-09-21T09:05:43.594Z"},{"version":"8.5.3","date":"2020-10-07T13:04:20.559Z"},{"version":"8.5.4","date":"2020-10-14T11:45:06.922Z"},{"version":"8.5.5","date":"2020-10-26T08:35:14.261Z"},{"version":"8.6.0","date":"2020-11-19T14:15:35.086Z"},{"version":"8.6.1","date":"2020-11-25T12:47:06.651Z"},{"version":"9.0.0","date":"2020-12-08T14:01:24.163Z"},{"version":"9.0.1","date":"2020-12-20T14:47:24.892Z"},{"version":"9.0.2","date":"2021-01-14T13:05:10.619Z"},{"version":"9.1.0","date":"2021-01-26T12:39:31.083Z"},{"version":"9.2.0","date":"2021-02-15T16:26:55.025Z"},{"version":"9.3.0","date":"2021-02-24T17:30:05.707Z"},{"version":"9.4.0","date":"2021-03-09T16:23:00.082Z"},{"version":"10.0.0","date":"2021-03-10T16:19:56.897Z"},{"version":"10.1.0","date":"2021-03-21T10:43:57.218Z"},{"version":"10.2.0","date":"2021-04-11T11:06:06.987Z"},{"version":"10.3.0","date":"2021-05-19T14:43:28.495Z"},{"version":"10.4.0","date":"2021-05-25T13:12:48.767Z"},{"version":"10.4.1","date":"2021-06-09T14:26:36.936Z"},{"version":"10.4.2","date":"2021-06-13T19:05:48.282Z"},{"version":"10.4.3","date":"2021-07-05T09:59:05.896Z"},{"version":"10.5.0","date":"2021-07-14T18:45:07.065Z"},{"version":"10.5.1","date":"2021-07-25T15:08:54.585Z"},{"version":"10.6.0","date":"2021-07-28T11:14:59.985Z"},{"version":"10.6.1","date":"2021-08-03T10:08:11.256Z"},{"version":"10.7.1","date":"2021-08-30T14:58:03.975Z"},{"version":"10.8.0","date":"2021-09-13T11:48:44.069Z"},{"version":"10.8.1","date":"2021-10-07T08:31:33.979Z"},{"version":"10.8.2","date":"2021-10-11T08:33:47.332Z"},{"version":"10.9.0","date":"2021-10-24T10:36:17.700Z"},{"version":"10.9.1","date":"2021-10-28T16:00:55.131Z"},{"version":"10.9.2","date":"2021-11-09T12:19:52.989Z"},{"version":"10.10.0","date":"2021-11-18T11:57:37.706Z"},{"version":"10.10.1","date":"2021-11-22T08:55:17.182Z"},{"version":"10.10.2","date":"2021-12-02T12:18:06.694Z"},{"version":"10.10.3","date":"2021-12-13T08:56:09.942Z"},{"version":"10.10.4","date":"2021-12-16T18:39:42.752Z"},{"version":"10.11.0","date":"2022-01-11T10:11:32.045Z"},{"version":"10.11.1","date":"2022-01-12T09:21:20.619Z"},{"version":"10.11.2","date":"2022-01-13T14:27:39.182Z"},{"version":"10.11.3","date":"2022-01-25T12:27:47.516Z"},{"version":"10.12.0","date":"2022-01-30T13:51:29.744Z"},{"version":"10.13.0","date":"2022-02-27T16:32:39.147Z"},{"version":"10.13.1","date":"2022-03-01T11:55:09.683Z"},{"version":"10.13.2","date":"2022-03-08T14:24:14.646Z"},{"version":"10.14.0","date":"2022-03-15T16:06:53.297Z"},{"version":"10.14.1","date":"2022-03-23T09:31:06.158Z"},{"version":"10.14.2","date":"2022-03-23T11:16:28.344Z"},{"version":"10.15.0","date":"2022-04-03T14:36:18.553Z"},{"version":"10.15.1","date":"2022-04-07T14:45:15.425Z"},{"version":"10.15.2","date":"2022-04-24T15:23:21.644Z"},{"version":"10.15.3","date":"2022-04-26T09:48:44.569Z"},{"version":"10.15.4","date":"2022-05-08T15:51:53.721Z"},{"version":"11.0.0","date":"2022-05-09T11:39:59.110Z"},{"version":"11.0.1","date":"2022-05-15T15:15:50.327Z"},{"version":"11.1.0","date":"2022-06-06T16:29:36.338Z"},{"version":"11.2.0","date":"2022-06-14T19:46:34.773Z"},{"version":"11.2.1","date":"2022-06-15T15:20:10.082Z"},{"version":"11.3.0","date":"2022-07-20T10:12:10.628Z"},{"version":"11.3.1","date":"2022-07-28T14:29:06.360Z"},{"version":"11.3.2","date":"2022-08-04T16:29:11.659Z"},{"version":"11.3.3","date":"2022-08-25T15:52:58.164Z"},{"version":"11.3.4","date":"2022-08-30T10:12:34.298Z"},{"version":"11.4.0","date":"2022-09-05T19:16:04.384Z"},{"version":"11.4.1","date":"2022-09-11T13:08:54.495Z"},{"version":"11.5.0","date":"2022-09-18T15:16:33.701Z"},{"version":"11.5.1","date":"2022-10-13T21:08:17.143Z"},{"version":"11.6.0","date":"2022-10-24T18:24:38.642Z"},{"version":"11.6.1","date":"2022-11-03T14:06:53.457Z"},{"version":"12.0.0","date":"2022-11-13T15:55:00.229Z"},{"version":"12.0.1","date":"2022-11-30T16:17:40.675Z"},{"version":"12.0.2","date":"2022-12-06T16:47:48.026Z"},{"version":"12.0.3","date":"2022-12-11T13:05:17.807Z"},{"version":"13.0.0","date":"2022-12-25T10:34:16.177Z"},{"version":"13.0.1","date":"2023-01-03T16:32:46.705Z"},{"version":"13.0.2","date":"2023-01-15T17:00:04.670Z"},{"version":"13.1.0","date":"2023-01-24T12:19:00.577Z"},{"version":"13.1.1","date":"2023-01-30T12:35:40.693Z"},{"version":"14.0.0","date":"2023-02-10T10:57:50.973Z"},{"version":"14.1.0","date":"2023-03-21T10:41:33.811Z"},{"version":"14.1.1","date":"2023-03-21T11:47:28.804Z"},{"version":"14.1.2","date":"2023-06-13T10:24:32.929Z"},{"version":"14.2.0","date":"2023-07-11T12:24:56.911Z"},{"version":"14.2.1","date":"2023-07-23T15:21:11.768Z"},{"version":"14.3.0","date":"2023-07-30T13:25:15.945Z"},{"version":"14.3.1","date":"2023-09-05T10:45:34.523Z"},{"version":"14.3.2","date":"2023-09-11T11:29:54.175Z"},{"version":"14.3.3","date":"2023-10-12T13:27:58.275Z"},{"version":"14.3.4","date":"2023-10-25T08:25:45.081Z"},{"version":"14.4.0","date":"2023-11-19T17:49:36.772Z"},{"version":"14.4.1","date":"2023-11-27T06:49:55.938Z"},{"version":"14.4.2","date":"2023-11-30T13:48:26.307Z"},{"version":"14.4.3","date":"2023-12-07T17:59:03.499Z"},{"version":"15.0.0","date":"2023-12-18T07:22:09.528Z"},{"version":"16.0.0","date":"2023-12-31T13:05:31.559Z"},{"version":"16.0.1","date":"2024-01-04T21:04:37.050Z"},{"version":"16.0.2","date":"2024-01-10T22:09:28.611Z"},{"version":"16.1.0","date":"2024-02-04T12:22:47.989Z"},{"version":"16.1.1","date":"2024-02-19T19:35:27.533Z"},{"version":"16.2.0","date":"2024-03-05T17:29:15.862Z"},{"version":"16.2.1","date":"2024-03-13T19:56:49.545Z"}],"npmlink":"https://www.npmjs.com/package/@sap/approuter"},{"name":"artifact-management-base-types","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"ISC","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-10-26T08:49:15.924Z","updatedAt":"2024-03-06T10:20:13.374Z","readme":"# Introduction\nThis package contains type definitions for [artifact-management-base](https://www.npmjs.com/package/@sap/artifact-management-base).\n\n# Usage\n npm i @sap/artifact-management-base-types","downloadsCurrentMonth":820,"downloadsCurrentFortnight":384,"downloads365":10790,"downloadsFortnightGrowth":-6.11,"downloadsHistory":[{"yearMonth":"2023-04","downloads":628},{"yearMonth":"2023-05","downloads":800},{"yearMonth":"2023-06","downloads":821},{"yearMonth":"2023-07","downloads":1118},{"yearMonth":"2023-08","downloads":875},{"yearMonth":"2023-09","downloads":894},{"yearMonth":"2023-10","downloads":1297},{"yearMonth":"2023-11","downloads":1056},{"yearMonth":"2023-12","downloads":713},{"yearMonth":"2024-01","downloads":1146},{"yearMonth":"2024-02","downloads":681}],"versions":[{"version":"created","date":"2021-10-26T08:49:15.924Z"},{"version":"1.1.0","date":"2021-10-26T08:49:16.110Z"},{"version":"modified","date":"2024-03-06T10:20:13.374Z"},{"version":"1.1.1","date":"2021-11-15T15:17:15.317Z"},{"version":"1.1.2","date":"2021-11-16T08:00:39.805Z"},{"version":"1.1.3","date":"2021-11-24T11:12:31.897Z"},{"version":"1.2.0","date":"2021-11-24T11:43:25.597Z"},{"version":"1.3.0","date":"2021-12-22T15:08:44.988Z"},{"version":"1.4.0","date":"2022-01-13T16:28:09.884Z"},{"version":"1.5.0","date":"2022-02-01T05:22:30.398Z"},{"version":"1.6.0","date":"2022-02-11T04:21:55.390Z"},{"version":"1.6.1","date":"2022-02-17T13:28:34.567Z"},{"version":"1.7.0","date":"2022-02-25T05:50:57.309Z"},{"version":"1.8.0","date":"2022-03-14T05:14:46.466Z"},{"version":"1.8.1","date":"2022-03-18T01:15:41.774Z"},{"version":"1.9.0","date":"2022-03-25T04:08:37.574Z"},{"version":"1.10.0","date":"2022-04-08T06:15:38.431Z"},{"version":"1.11.0","date":"2022-05-10T10:04:58.557Z"},{"version":"1.11.1","date":"2022-05-17T12:10:26.828Z"},{"version":"1.12.0","date":"2022-06-06T02:32:30.761Z"},{"version":"1.12.1","date":"2022-06-09T05:57:48.906Z"},{"version":"1.13.0","date":"2022-07-05T03:31:40.428Z"},{"version":"1.13.1","date":"2022-07-12T08:43:15.093Z"},{"version":"1.14.1","date":"2022-08-01T09:19:42.970Z"},{"version":"1.14.2","date":"2022-08-12T06:43:39.281Z"},{"version":"1.15.0","date":"2022-09-09T08:54:32.035Z"},{"version":"1.15.1","date":"2022-09-14T09:06:46.201Z"},{"version":"1.16.0","date":"2022-09-26T02:01:23.367Z"},{"version":"1.16.3","date":"2022-09-28T08:37:01.957Z"},{"version":"1.16.4","date":"2022-10-31T10:38:46.514Z"},{"version":"1.17.0","date":"2022-11-18T08:53:09.877Z"},{"version":"1.17.1","date":"2022-11-23T06:10:53.156Z"},{"version":"1.17.2","date":"2022-12-05T03:25:34.895Z"},{"version":"1.18.0","date":"2022-12-30T06:46:01.286Z"},{"version":"1.19.0","date":"2023-02-13T03:32:18.102Z"},{"version":"1.18.1","date":"2023-02-14T07:53:21.769Z"},{"version":"1.19.1","date":"2023-02-17T09:01:50.413Z"},{"version":"1.20.0","date":"2023-03-13T03:40:56.697Z"},{"version":"1.20.1","date":"2023-03-15T08:05:24.934Z"},{"version":"1.20.2","date":"2023-03-21T09:21:00.969Z"},{"version":"1.21.0","date":"2023-04-10T04:01:04.368Z"},{"version":"1.22.0","date":"2023-05-10T02:43:12.959Z"},{"version":"1.22.1","date":"2023-05-26T06:38:19.402Z"},{"version":"1.23.0","date":"2023-06-05T08:19:57.943Z"},{"version":"1.23.2","date":"2023-06-14T07:59:24.528Z"},{"version":"1.23.3","date":"2023-06-21T07:01:04.284Z"},{"version":"1.23.4","date":"2023-06-29T07:17:20.183Z"},{"version":"1.24.1","date":"2023-07-03T09:49:26.584Z"},{"version":"1.24.2","date":"2023-07-13T03:33:31.014Z"},{"version":"1.25.0","date":"2023-07-28T03:58:47.242Z"},{"version":"1.25.1","date":"2023-08-09T06:10:24.674Z"},{"version":"1.26.0","date":"2023-08-23T05:55:06.866Z"},{"version":"1.26.1","date":"2023-09-06T06:16:57.936Z"},{"version":"1.27.0","date":"2023-09-27T02:00:45.071Z"},{"version":"1.27.1","date":"2023-11-06T01:26:08.634Z"},{"version":"1.28.0","date":"2023-11-15T07:02:13.761Z"},{"version":"1.28.1","date":"2023-11-27T03:21:27.369Z"},{"version":"1.29.0","date":"2023-12-12T01:43:48.063Z"},{"version":"1.30.0","date":"2024-01-10T02:25:11.821Z"},{"version":"1.30.1","date":"2024-01-23T06:54:23.019Z"},{"version":"1.32.0","date":"2024-03-06T10:20:12.727Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-base-types"},{"name":"artifact-management-base","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-10-26T08:49:07.276Z","updatedAt":"2024-03-06T10:20:04.179Z","readme":"# Introduction\nThis package contains helper classes/methods that are used by [artifact-management](https://www.npmjs.com/package/@sap/artifact-management) and plugins.\nThis serves as the dependency for artifact-management and plugins.","downloadsCurrentMonth":1098,"downloadsCurrentFortnight":482,"downloads365":1025681,"downloadsFortnightGrowth":-16.46,"downloadsHistory":[{"yearMonth":"2023-04","downloads":278214},{"yearMonth":"2023-05","downloads":329094},{"yearMonth":"2023-06","downloads":314988},{"yearMonth":"2023-07","downloads":8802},{"yearMonth":"2023-08","downloads":1663},{"yearMonth":"2023-09","downloads":1470},{"yearMonth":"2023-10","downloads":1581},{"yearMonth":"2023-11","downloads":817},{"yearMonth":"2023-12","downloads":463},{"yearMonth":"2024-01","downloads":1281},{"yearMonth":"2024-02","downloads":974}],"versions":[{"version":"created","date":"2021-10-26T08:49:07.276Z"},{"version":"1.1.0","date":"2021-10-26T08:49:07.504Z"},{"version":"modified","date":"2024-03-06T10:20:04.179Z"},{"version":"1.1.1","date":"2021-11-15T15:17:07.037Z"},{"version":"1.1.2","date":"2021-11-16T08:00:29.423Z"},{"version":"1.1.3","date":"2021-11-24T11:12:18.434Z"},{"version":"1.2.0","date":"2021-11-24T11:43:15.212Z"},{"version":"1.3.0","date":"2021-12-22T15:08:31.879Z"},{"version":"1.4.0","date":"2022-01-13T16:27:59.076Z"},{"version":"1.5.0","date":"2022-02-01T05:22:18.230Z"},{"version":"1.6.0","date":"2022-02-11T04:21:44.435Z"},{"version":"1.6.1","date":"2022-02-17T13:28:26.349Z"},{"version":"1.7.0","date":"2022-02-25T05:50:49.353Z"},{"version":"1.8.0","date":"2022-03-14T05:14:38.539Z"},{"version":"1.8.1","date":"2022-03-18T01:15:33.623Z"},{"version":"1.9.0","date":"2022-03-25T04:08:29.454Z"},{"version":"1.10.0","date":"2022-04-08T06:15:30.981Z"},{"version":"1.11.0","date":"2022-05-10T10:04:49.161Z"},{"version":"1.11.1","date":"2022-05-17T12:10:19.369Z"},{"version":"1.12.0","date":"2022-06-06T02:32:23.034Z"},{"version":"1.12.1","date":"2022-06-09T05:57:41.307Z"},{"version":"1.13.0","date":"2022-07-05T03:31:32.346Z"},{"version":"1.13.1","date":"2022-07-12T08:43:07.885Z"},{"version":"1.14.1","date":"2022-08-01T09:19:35.794Z"},{"version":"1.14.2","date":"2022-08-12T06:43:28.702Z"},{"version":"1.15.0","date":"2022-09-09T08:54:24.012Z"},{"version":"1.15.1","date":"2022-09-14T09:06:37.926Z"},{"version":"1.16.0","date":"2022-09-26T02:01:16.702Z"},{"version":"1.16.3","date":"2022-09-28T08:36:53.260Z"},{"version":"1.16.4","date":"2022-10-31T10:38:37.680Z"},{"version":"1.17.0","date":"2022-11-18T08:53:02.303Z"},{"version":"1.17.1","date":"2022-11-23T06:10:41.788Z"},{"version":"1.17.2","date":"2022-12-05T03:25:25.836Z"},{"version":"1.18.0","date":"2022-12-30T06:45:52.930Z"},{"version":"1.19.0","date":"2023-02-13T03:32:09.190Z"},{"version":"1.18.1","date":"2023-02-14T07:53:14.345Z"},{"version":"1.19.1","date":"2023-02-17T09:01:40.652Z"},{"version":"1.20.0","date":"2023-03-13T03:40:47.855Z"},{"version":"1.20.1","date":"2023-03-15T08:05:15.570Z"},{"version":"1.20.2","date":"2023-03-21T09:20:50.647Z"},{"version":"1.21.0","date":"2023-04-10T04:00:55.135Z"},{"version":"1.22.0","date":"2023-05-10T02:43:03.818Z"},{"version":"1.22.1","date":"2023-05-26T06:38:11.440Z"},{"version":"1.23.0","date":"2023-06-05T08:19:49.588Z"},{"version":"1.23.2","date":"2023-06-14T07:59:15.121Z"},{"version":"1.23.3","date":"2023-06-21T07:00:54.680Z"},{"version":"1.23.4","date":"2023-06-29T07:17:11.574Z"},{"version":"1.24.1","date":"2023-07-03T09:49:17.475Z"},{"version":"1.24.2","date":"2023-07-13T03:33:21.505Z"},{"version":"1.25.0","date":"2023-07-28T03:58:36.994Z"},{"version":"1.25.1","date":"2023-08-09T06:10:14.070Z"},{"version":"1.26.0","date":"2023-08-23T05:54:57.386Z"},{"version":"1.26.1","date":"2023-09-06T06:16:49.968Z"},{"version":"1.27.0","date":"2023-09-27T02:00:34.106Z"},{"version":"1.27.1","date":"2023-11-06T01:25:58.559Z"},{"version":"1.28.0","date":"2023-11-15T07:02:03.969Z"},{"version":"1.28.1","date":"2023-11-27T03:21:18.771Z"},{"version":"1.29.0","date":"2023-12-12T01:43:39.937Z"},{"version":"1.30.0","date":"2024-01-10T02:25:01.781Z"},{"version":"1.30.1","date":"2024-01-23T06:54:14.350Z"},{"version":"1.32.0","date":"2024-03-06T10:20:03.677Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-base"},{"name":"artifact-management-fioriplugin-types","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"ISC","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-05T08:52:13.747Z","updatedAt":"2024-03-06T10:43:04.970Z","readme":"# Introduction\nThis package contains type definitions for artifact-management-fioriplugin.\n\n# Usage\n npm i @sap/artifact-management-fioriplugin-types","downloadsCurrentMonth":432,"downloadsCurrentFortnight":184,"downloads365":2789,"downloadsFortnightGrowth":-22.03,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":226},{"yearMonth":"2023-07","downloads":298},{"yearMonth":"2023-08","downloads":238},{"yearMonth":"2023-09","downloads":211},{"yearMonth":"2023-10","downloads":187},{"yearMonth":"2023-11","downloads":331},{"yearMonth":"2023-12","downloads":100},{"yearMonth":"2024-01","downloads":505},{"yearMonth":"2024-02","downloads":360}],"versions":[{"version":"created","date":"2023-06-05T08:52:13.747Z"},{"version":"1.23.0","date":"2023-06-05T08:52:14.050Z"},{"version":"modified","date":"2024-03-06T10:43:04.970Z"},{"version":"1.23.2","date":"2023-06-14T08:27:32.478Z"},{"version":"1.23.3","date":"2023-06-21T07:44:18.384Z"},{"version":"1.23.4","date":"2023-06-29T07:31:15.495Z"},{"version":"1.24.1","date":"2023-07-03T10:12:55.886Z"},{"version":"1.24.2","date":"2023-07-13T05:33:30.382Z"},{"version":"1.25.0","date":"2023-07-28T05:03:27.831Z"},{"version":"1.25.1","date":"2023-08-09T06:35:14.991Z"},{"version":"1.26.0","date":"2023-08-23T06:31:30.494Z"},{"version":"1.26.1","date":"2023-09-06T07:26:15.612Z"},{"version":"1.27.0","date":"2023-09-27T02:27:03.819Z"},{"version":"1.27.1","date":"2023-11-06T01:49:40.602Z"},{"version":"1.28.0","date":"2023-11-15T07:39:49.793Z"},{"version":"1.28.1","date":"2023-11-27T03:52:24.971Z"},{"version":"1.29.0","date":"2023-12-12T02:02:58.509Z"},{"version":"1.30.0","date":"2024-01-10T02:49:25.084Z"},{"version":"1.30.1","date":"2024-01-23T07:15:47.403Z"},{"version":"1.32.0","date":"2024-03-06T10:43:04.537Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-fioriplugin-types"},{"name":"artifact-management-fioriplugin","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-05T08:52:05.045Z","updatedAt":"2024-03-06T10:42:56.281Z","readme":"# Introduction\nThis package contains all the files related to FioriPlugin(eg: artifact-management-fioriplugin).\nThis package depends on artifact-management-base.","downloadsCurrentMonth":935,"downloadsCurrentFortnight":424,"downloads365":5802,"downloadsFortnightGrowth":-10.74,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":524},{"yearMonth":"2023-07","downloads":600},{"yearMonth":"2023-08","downloads":693},{"yearMonth":"2023-09","downloads":465},{"yearMonth":"2023-10","downloads":325},{"yearMonth":"2023-11","downloads":489},{"yearMonth":"2023-12","downloads":195},{"yearMonth":"2024-01","downloads":973},{"yearMonth":"2024-02","downloads":831}],"versions":[{"version":"created","date":"2023-06-05T08:52:05.045Z"},{"version":"1.23.0","date":"2023-06-05T08:52:05.260Z"},{"version":"modified","date":"2024-03-06T10:42:56.281Z"},{"version":"1.23.2","date":"2023-06-14T08:27:24.500Z"},{"version":"1.23.3","date":"2023-06-21T07:44:10.945Z"},{"version":"1.23.4","date":"2023-06-29T07:31:08.450Z"},{"version":"1.24.1","date":"2023-07-03T10:12:48.666Z"},{"version":"1.24.2","date":"2023-07-13T05:33:23.211Z"},{"version":"1.25.0","date":"2023-07-28T05:03:20.248Z"},{"version":"1.25.1","date":"2023-08-09T06:35:07.918Z"},{"version":"1.26.0","date":"2023-08-23T06:31:22.604Z"},{"version":"1.26.1","date":"2023-09-06T07:26:08.158Z"},{"version":"1.27.0","date":"2023-09-27T02:26:55.440Z"},{"version":"1.27.1","date":"2023-11-06T01:49:33.062Z"},{"version":"1.28.0","date":"2023-11-15T07:39:42.799Z"},{"version":"1.28.1","date":"2023-11-27T03:52:18.194Z"},{"version":"1.29.0","date":"2023-12-12T02:02:51.366Z"},{"version":"1.30.0","date":"2024-01-10T02:49:17.968Z"},{"version":"1.30.1","date":"2024-01-23T07:15:40.803Z"},{"version":"1.32.0","date":"2024-03-06T10:42:55.817Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-fioriplugin"},{"name":"artifact-management-hanaplugin","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-02-13T05:42:20.285Z","updatedAt":"2024-03-06T10:43:14.298Z","readme":"# Introduction\nThis package contains all the files related to HANAPlugin(eg: artifact-management-hanaplugin).\nThis package depends on artifact-management-base.\n","downloadsCurrentMonth":1044,"downloadsCurrentFortnight":476,"downloads365":1021624,"downloadsFortnightGrowth":-10.02,"downloadsHistory":[{"yearMonth":"2023-04","downloads":277705},{"yearMonth":"2023-05","downloads":328503},{"yearMonth":"2023-06","downloads":314320},{"yearMonth":"2023-07","downloads":8420},{"yearMonth":"2023-08","downloads":1410},{"yearMonth":"2023-09","downloads":1205},{"yearMonth":"2023-10","downloads":999},{"yearMonth":"2023-11","downloads":581},{"yearMonth":"2023-12","downloads":362},{"yearMonth":"2024-01","downloads":1075},{"yearMonth":"2024-02","downloads":938}],"versions":[{"version":"created","date":"2023-02-13T05:42:20.285Z"},{"version":"1.19.0","date":"2023-02-13T05:42:20.541Z"},{"version":"modified","date":"2024-03-06T10:43:14.298Z"},{"version":"1.19.1","date":"2023-02-20T02:35:09.185Z"},{"version":"1.20.0","date":"2023-03-13T05:30:38.921Z"},{"version":"1.20.1","date":"2023-03-15T08:43:52.557Z"},{"version":"1.20.2","date":"2023-03-21T09:48:48.248Z"},{"version":"1.21.0","date":"2023-04-10T05:00:39.931Z"},{"version":"1.22.0","date":"2023-05-10T03:23:03.287Z"},{"version":"1.22.1","date":"2023-05-26T07:01:13.726Z"},{"version":"1.23.0","date":"2023-06-05T08:52:22.807Z"},{"version":"1.23.2","date":"2023-06-14T08:27:41.135Z"},{"version":"1.23.3","date":"2023-06-21T07:44:26.021Z"},{"version":"1.23.4","date":"2023-06-29T07:31:23.485Z"},{"version":"1.24.1","date":"2023-07-03T10:13:03.498Z"},{"version":"1.24.2","date":"2023-07-13T05:33:37.921Z"},{"version":"1.25.0","date":"2023-07-28T05:03:35.740Z"},{"version":"1.25.1","date":"2023-08-09T06:35:24.263Z"},{"version":"1.26.0","date":"2023-08-23T06:31:40.583Z"},{"version":"1.26.1","date":"2023-09-06T07:26:27.696Z"},{"version":"1.27.0","date":"2023-09-27T02:27:12.984Z"},{"version":"1.27.1","date":"2023-11-06T01:49:51.336Z"},{"version":"1.28.0","date":"2023-11-15T07:40:05.721Z"},{"version":"1.28.1","date":"2023-11-27T03:52:33.694Z"},{"version":"1.29.0","date":"2023-12-12T02:03:08.839Z"},{"version":"1.30.0","date":"2024-01-10T02:49:35.937Z"},{"version":"1.30.1","date":"2024-01-23T07:15:55.959Z"},{"version":"1.32.0","date":"2024-03-06T10:43:13.868Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-hanaplugin"},{"name":"artifact-management-mdkplugin-types","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"ISC","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-27T02:44:20.606Z","updatedAt":"2024-03-06T10:43:32.309Z","readme":"# Introduction\nThis package contains type definitions for artifact-management-mdkplugin.\n\n# Usage\n npm i @sap/artifact-management-mdkplugin-types","downloadsCurrentMonth":457,"downloadsCurrentFortnight":196,"downloads365":3925,"downloadsFortnightGrowth":-21.29,"downloadsHistory":[{"yearMonth":"2023-04","downloads":123},{"yearMonth":"2023-05","downloads":233},{"yearMonth":"2023-06","downloads":298},{"yearMonth":"2023-07","downloads":462},{"yearMonth":"2023-08","downloads":370},{"yearMonth":"2023-09","downloads":284},{"yearMonth":"2023-10","downloads":246},{"yearMonth":"2023-11","downloads":428},{"yearMonth":"2023-12","downloads":147},{"yearMonth":"2024-01","downloads":574},{"yearMonth":"2024-02","downloads":361}],"versions":[{"version":"created","date":"2022-09-27T02:44:20.606Z"},{"version":"1.16.0","date":"2022-09-27T02:44:20.928Z"},{"version":"modified","date":"2024-03-06T10:43:32.309Z"},{"version":"1.16.3","date":"2022-09-28T08:37:18.908Z"},{"version":"1.16.4","date":"2022-10-31T11:42:06.527Z"},{"version":"1.17.0","date":"2022-11-18T09:19:22.518Z"},{"version":"1.17.1","date":"2022-11-23T06:31:39.113Z"},{"version":"1.17.2","date":"2022-12-05T03:54:30.292Z"},{"version":"1.18.0","date":"2022-12-30T07:19:23.001Z"},{"version":"1.19.0","date":"2023-02-13T04:06:20.175Z"},{"version":"1.18.1","date":"2023-02-14T08:08:46.238Z"},{"version":"1.19.1","date":"2023-02-17T09:21:59.283Z"},{"version":"1.20.0","date":"2023-03-13T05:30:53.183Z"},{"version":"1.20.1","date":"2023-03-15T08:44:07.084Z"},{"version":"1.20.2","date":"2023-03-21T09:49:03.044Z"},{"version":"1.21.0","date":"2023-04-10T05:00:54.559Z"},{"version":"1.22.0","date":"2023-05-10T03:23:17.960Z"},{"version":"1.22.1","date":"2023-05-26T07:01:31.240Z"},{"version":"1.23.0","date":"2023-06-05T08:52:37.413Z"},{"version":"1.23.2","date":"2023-06-14T08:27:56.772Z"},{"version":"1.23.3","date":"2023-06-21T07:44:40.824Z"},{"version":"1.23.4","date":"2023-06-29T07:31:38.252Z"},{"version":"1.24.1","date":"2023-07-03T10:13:18.144Z"},{"version":"1.24.2","date":"2023-07-13T05:33:53.279Z"},{"version":"1.25.0","date":"2023-07-28T05:03:51.386Z"},{"version":"1.25.1","date":"2023-08-09T06:35:40.748Z"},{"version":"1.26.0","date":"2023-08-23T06:31:58.531Z"},{"version":"1.26.1","date":"2023-09-06T07:26:45.340Z"},{"version":"1.27.0","date":"2023-09-27T02:27:28.509Z"},{"version":"1.27.1","date":"2023-11-06T01:50:06.552Z"},{"version":"1.28.0","date":"2023-11-15T07:40:21.593Z"},{"version":"1.28.1","date":"2023-11-27T03:52:47.684Z"},{"version":"1.29.0","date":"2023-12-12T02:03:26.186Z"},{"version":"1.30.0","date":"2024-01-10T02:49:50.266Z"},{"version":"1.30.1","date":"2024-01-23T07:16:11.208Z"},{"version":"1.32.0","date":"2024-03-06T10:43:31.844Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-mdkplugin-types"},{"name":"artifact-management-mdkplugin","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-27T02:44:14.162Z","updatedAt":"2024-03-06T10:43:22.675Z","readme":"# Introduction\nThis package contains all the files related to MDKPlugin(eg: artifact-management-mdkplugin).\nThis package depends on artifact-management-base.","downloadsCurrentMonth":1056,"downloadsCurrentFortnight":485,"downloads365":1023443,"downloadsFortnightGrowth":-8.83,"downloadsHistory":[{"yearMonth":"2023-04","downloads":278086},{"yearMonth":"2023-05","downloads":328965},{"yearMonth":"2023-06","downloads":314760},{"yearMonth":"2023-07","downloads":8506},{"yearMonth":"2023-08","downloads":1458},{"yearMonth":"2023-09","downloads":1250},{"yearMonth":"2023-10","downloads":1072},{"yearMonth":"2023-11","downloads":649},{"yearMonth":"2023-12","downloads":361},{"yearMonth":"2024-01","downloads":1120},{"yearMonth":"2024-02","downloads":947}],"versions":[{"version":"created","date":"2022-09-27T02:44:14.162Z"},{"version":"1.16.0","date":"2022-09-27T02:44:14.418Z"},{"version":"modified","date":"2024-03-06T10:43:22.675Z"},{"version":"1.16.3","date":"2022-09-28T08:37:12.546Z"},{"version":"1.16.4","date":"2022-10-31T11:41:58.765Z"},{"version":"1.17.0","date":"2022-11-18T09:19:15.958Z"},{"version":"1.17.1","date":"2022-11-23T06:31:32.604Z"},{"version":"1.17.2","date":"2022-12-05T03:54:23.691Z"},{"version":"1.18.0","date":"2022-12-30T07:19:16.535Z"},{"version":"1.19.0","date":"2023-02-13T04:06:12.428Z"},{"version":"1.18.1","date":"2023-02-14T08:08:39.128Z"},{"version":"1.19.1","date":"2023-02-17T09:21:43.261Z"},{"version":"1.20.0","date":"2023-03-13T05:30:46.235Z"},{"version":"1.20.1","date":"2023-03-15T08:44:00.227Z"},{"version":"1.20.2","date":"2023-03-21T09:48:56.079Z"},{"version":"1.21.0","date":"2023-04-10T05:00:47.424Z"},{"version":"1.22.0","date":"2023-05-10T03:23:11.001Z"},{"version":"1.22.1","date":"2023-05-26T07:01:21.710Z"},{"version":"1.23.0","date":"2023-06-05T08:52:30.522Z"},{"version":"1.23.2","date":"2023-06-14T08:27:49.033Z"},{"version":"1.23.3","date":"2023-06-21T07:44:33.718Z"},{"version":"1.23.4","date":"2023-06-29T07:31:30.924Z"},{"version":"1.24.1","date":"2023-07-03T10:13:11.038Z"},{"version":"1.24.2","date":"2023-07-13T05:33:45.903Z"},{"version":"1.25.0","date":"2023-07-28T05:03:43.904Z"},{"version":"1.25.1","date":"2023-08-09T06:35:33.210Z"},{"version":"1.26.0","date":"2023-08-23T06:31:49.977Z"},{"version":"1.26.1","date":"2023-09-06T07:26:38.523Z"},{"version":"1.27.0","date":"2023-09-27T02:27:20.822Z"},{"version":"1.27.1","date":"2023-11-06T01:49:59.167Z"},{"version":"1.28.0","date":"2023-11-15T07:40:14.063Z"},{"version":"1.28.1","date":"2023-11-27T03:52:41.004Z"},{"version":"1.29.0","date":"2023-12-12T02:03:18.394Z"},{"version":"1.30.0","date":"2024-01-10T02:49:43.296Z"},{"version":"1.30.1","date":"2024-01-23T07:16:03.160Z"},{"version":"1.32.0","date":"2024-03-06T10:43:22.260Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-mdkplugin"},{"name":"artifact-management-types","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"ISC","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-10-26T08:49:24.665Z","updatedAt":"2024-03-06T11:12:59.735Z","readme":"# Introduction\nThis package contains type definitions for [artifact-management](https://www.npmjs.com/package/@sap/artifact-management).\n\n# Usage\n npm i @sap/artifact-management-types","downloadsCurrentMonth":841,"downloadsCurrentFortnight":397,"downloads365":11189,"downloadsFortnightGrowth":-4.8,"downloadsHistory":[{"yearMonth":"2023-04","downloads":589},{"yearMonth":"2023-05","downloads":709},{"yearMonth":"2023-06","downloads":817},{"yearMonth":"2023-07","downloads":1127},{"yearMonth":"2023-08","downloads":858},{"yearMonth":"2023-09","downloads":1042},{"yearMonth":"2023-10","downloads":1574},{"yearMonth":"2023-11","downloads":1230},{"yearMonth":"2023-12","downloads":668},{"yearMonth":"2024-01","downloads":1104},{"yearMonth":"2024-02","downloads":684}],"versions":[{"version":"created","date":"2021-10-26T08:49:24.665Z"},{"version":"1.1.0","date":"2021-10-26T08:49:24.899Z"},{"version":"modified","date":"2024-03-06T11:12:59.735Z"},{"version":"1.1.1","date":"2021-11-15T15:17:23.589Z"},{"version":"1.1.2","date":"2021-11-16T08:00:49.824Z"},{"version":"1.1.3","date":"2021-11-24T11:12:42.307Z"},{"version":"1.2.0","date":"2021-11-24T11:43:35.649Z"},{"version":"1.3.0","date":"2021-12-22T15:09:11.204Z"},{"version":"1.4.0","date":"2022-01-13T16:28:32.679Z"},{"version":"1.5.0","date":"2022-02-01T05:23:01.334Z"},{"version":"1.6.0","date":"2022-02-11T04:22:30.366Z"},{"version":"1.6.1","date":"2022-02-17T13:28:50.877Z"},{"version":"1.7.0","date":"2022-02-25T05:51:11.428Z"},{"version":"1.8.0","date":"2022-03-14T05:15:07.368Z"},{"version":"1.8.1","date":"2022-03-18T01:16:00.019Z"},{"version":"1.9.0","date":"2022-03-25T04:08:51.563Z"},{"version":"1.10.0","date":"2022-04-08T06:15:52.423Z"},{"version":"1.11.0","date":"2022-05-10T10:05:07.906Z"},{"version":"1.11.1","date":"2022-05-17T12:10:35.517Z"},{"version":"1.12.0","date":"2022-06-06T02:32:39.322Z"},{"version":"1.12.1","date":"2022-06-09T05:57:57.032Z"},{"version":"1.13.0","date":"2022-07-05T03:31:48.867Z"},{"version":"1.13.1","date":"2022-07-12T08:43:22.894Z"},{"version":"1.14.1","date":"2022-08-01T09:19:50.981Z"},{"version":"1.14.2","date":"2022-08-12T06:43:47.804Z"},{"version":"1.15.0","date":"2022-09-09T08:54:40.003Z"},{"version":"1.15.1","date":"2022-09-14T09:06:53.759Z"},{"version":"1.16.0","date":"2022-09-26T02:01:31.685Z"},{"version":"1.16.3","date":"2022-09-28T08:37:26.423Z"},{"version":"1.16.4","date":"2022-10-31T12:08:42.749Z"},{"version":"1.17.0","date":"2022-11-18T09:46:30.867Z"},{"version":"1.17.1","date":"2022-11-23T06:56:06.235Z"},{"version":"1.17.2","date":"2022-12-05T04:13:06.725Z"},{"version":"1.18.0","date":"2022-12-30T07:43:08.450Z"},{"version":"1.19.0","date":"2023-02-13T06:44:41.896Z"},{"version":"1.18.1","date":"2023-02-14T08:29:03.308Z"},{"version":"1.19.1","date":"2023-02-20T05:37:30.813Z"},{"version":"1.20.0","date":"2023-03-13T06:04:36.289Z"},{"version":"1.20.1","date":"2023-03-15T09:22:05.767Z"},{"version":"1.20.2","date":"2023-03-21T12:35:41.314Z"},{"version":"1.21.0","date":"2023-04-10T06:19:07.968Z"},{"version":"1.22.0","date":"2023-05-10T03:54:14.310Z"},{"version":"1.22.1","date":"2023-05-26T07:36:42.651Z"},{"version":"1.23.0","date":"2023-06-05T09:54:40.626Z"},{"version":"1.23.2","date":"2023-06-14T09:34:05.269Z"},{"version":"1.23.3","date":"2023-06-21T08:09:13.701Z"},{"version":"1.23.4","date":"2023-06-29T07:44:11.106Z"},{"version":"1.24.1","date":"2023-07-03T10:31:10.129Z"},{"version":"1.24.2","date":"2023-07-13T06:18:28.025Z"},{"version":"1.25.0","date":"2023-07-28T06:36:28.625Z"},{"version":"1.25.1","date":"2023-08-09T07:03:41.392Z"},{"version":"1.26.0","date":"2023-08-23T07:28:05.840Z"},{"version":"1.26.1","date":"2023-09-06T07:49:05.100Z"},{"version":"1.27.0","date":"2023-09-27T02:59:57.093Z"},{"version":"1.27.1","date":"2023-11-06T02:14:51.136Z"},{"version":"1.28.0","date":"2023-11-16T01:41:26.774Z"},{"version":"1.28.1","date":"2023-11-27T05:09:28.091Z"},{"version":"1.29.0","date":"2023-12-12T02:44:35.955Z"},{"version":"1.30.0","date":"2024-01-10T03:12:23.734Z"},{"version":"1.30.1","date":"2024-01-23T07:39:22.785Z"},{"version":"1.32.0","date":"2024-03-06T11:12:58.850Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management-types"},{"name":"artifact-management","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-08-03T09:36:48.630Z","updatedAt":"2024-03-06T11:12:48.544Z","readme":"# Introduction\n\nArtifact Management on SAP BTP facilitates the generation of project metadata comprising of multiple modules of different technologies,\nbundles the module into one single deployment artifact and supports one click deploy to Cloud Foundry\n\n## Key Capabilities\n* Access to project properties\n* Access to VSCode workspace\n* Provide list of modules and items of each module\n* Watchers to notify of changes to project\n* Support of tags and filter\n* Capability to Test run\n* Capability to generate \n[MTA yaml](https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.04/en-US/ebb42efc880c4276a5f2294063fae0c3.html) and \n[MTAR](https://sap.github.io/cloud-mta-build-tool)\n* Deployment of MTAR to [Cloud Foundry](https://www.cloudfoundry.org)\n* Plugins for SAP technologies such as \n[MDK](https://developers.sap.com/topics/mobile-development-kit.html),\n[FioriElement](https://sapui5.hana.ondemand.com/sdk/#/topic/03265b0408e2432c9571d6b3feb6b1fd),\n[CAP](https://cap.cloud.sap/docs/), \n[XSUAA](https://blogs.sap.com/2019/01/07/uaa-xsuaa-platform-uaa-cfuaa-what-is-it-all-about/)\n\n---\n\n### Pre-Requisites\n\n* Node.JS 12 or higher\n* CAP Development Kit (`npm install -g @sap/cds-dk`)\n\n### Pre-Requisites to Build and Deploy MTARs\n\n* [MTAR builder](https://www.npmjs.com/package/mbt) (`npm install -g mbt`)\n* Install [lerna] for mono-repo building (`npm install -g lerna`)\n* Install MDK-Tools, `npm install @sap/mdk-tools -g`\n* [Cloud Foundary CLI](https://docs.cloudfoundry.org/cf-cli/install-go-cli.html), Install cf-cli and run command `cf install-plugin multiapps`.\n\n---\n\n### Initialization\n```\nnpm i -g @sap/artifact-management\n```\nThere are two main sets of classes provided by the library. \n- `ProjectApi`, `ProjectImpl` : These are the interface and implmentation classes respectively for project level usages.\n- `WorkspaceApi`, `WorkspaceImpl` : These are the interface and implmentation classes respectively for Workspace level usages.\n\nYou can import the module in your code as follows:\n`import { ProjectImpl } from '@sap/artifact-management';`\n\nTo initialise Project API, instance of ProjectImpl has to be created which takes absolute path of a project.\n```\nimport { ProjectImpl } from '@sap/artifact-management';\nconst path = '<my-application-folder-root-path>';\n\n/**\n* readModuleAsProject Default value is false.\n* If the boolean is false, then only lcap/cap projects are read.\n* If true then any project can also be read.\n*/\nconst readModuleAsProject = false\n\nconst project = new ProjectImpl(path ,readModuleAsProject);\n```\n\nTo initialise Workspace API, instance of WorkspaceImpl has to be created.\n```\nimport { WorkspaceImpl } from '@sap/artifact-management';\n\nconst path = '<my-workspace-root-path>';\nconst workspace = new WorkspaceImpl(path);\n```\nor\n```\nimport * as vscode from 'vscode';\nimport { WorkspaceImpl } from '@sap/artifact-management';\n\nconst workspace = new WorkspaceImpl(vscode);\n```\n\nThe library also provides the object CommandExecutor to help create customized CLI tools. On BAS, for example, use the basctl tool to call Project API which resides on an BAS extenison.\n\n---\n# APIs & Examples\n\n## Access to VSCode workspace\n### Get Projects \n###### Description\nGet all the projects in the workspace. Get the project based on tag if provided and Return type is array of ProjectAPIs / Returns ProjectAPI based on the tag.\n###### Method\n`getProjects(tag?: Tag) : Promise<ProjectApi[]>`\n\n###### Parameters\n- tag: (Optional) `Tag` value which can be used to filter projects.\n###### returns\n- array of `ProjectApi` instance or `undefined`\n\n###### Example\n```\nimport {Tag} from @sap/artifact-management'  //Optional\nconst ws = new WorkspaceImpl(workspacePath);\nconst projects = await ws.getProjects();\n```\n\n### Get Project \n###### Description\nGet the project with specific path.Return the ProjectAPI object based on the path.\n###### Method\n`getProject(path: string) : Promise<ProjectApi>`\n\n###### Parameters\n- path: the path of a project. It could be absolute or relative.\n###### returns\n- `ProjectApi` instance or `undefined`\n\n###### Example\n```\nconst ws = new WorkspaceImpl(workspacePath);\nconst path = '/Users/me/projects/lcap-project';\nconst project = await ws.getProject(path);\n```\n\n### Get Project URIs\n###### Description\nGet all project Uris in the workspace.\n###### Method\n`getProjectUris(): Promise<string[]>`\n\n###### returns\n- array of `string` or `undefined`\n\n###### Example\n```\nconst ws = new WorkspaceImpl(workspacePath);\nconst projectUris = await ws.getProjectUris();\n```\n\n\n### Start Watch \n###### Description\nit detects File addition or deletions in workspace and triggers the updated event\n###### Method\n`startWatch() : void`\n\n###### returns\n- `void`\n\n###### Example\n```\nconst ws = new WorkspaceImpl(workspacePath);\nawait ws.startWatch();\n```\n\n\n### Stop Watch \n###### Description\nit stops the watch event \n###### Method\n`stopWatch() : void`\n\n###### returns\n- `void`\n\n###### Example\n```\nconst ws = new WorkspaceImpl(workspacePath);\nawait ws.stopWatch();\n```\n\n### onWorkspaceChanged\n###### Description\nit captures the add/remove events for the folders in the Workspace \n###### Method\n`onWorkspaceChanged(handler: (event: string, folders: string[]) => void) : void`\n\n###### Parameters\n- a `function` which takes a string `event` (\"add\" | \"remove\") and array of `string` as arguments\n\n###### returns\n- `void`\n\n###### Example\n```\nimport * as vscode from 'vscode';\nconst ws = new WorkspaceImpl(vscode);\nws.onWorkspaceChanged((event: string, folders: WorkspaceFolder[]) => {\n  // add implementation \n});\n```\n### getPluginManager\n###### Description\nit returns an IPluginManager instance which can be used to register the custom plugin.\n###### Method\n`getPluginManager() : IPluginManager`\n\n###### returns\n- an `IPluginManager` instance\n\n###### Example\n```\nimport * as vscode from 'vscode';\n\nconst ws = new WorkspaceImpl(vscode);\nconst pluginManager = ws.getPluginManager();\npluginManager.register(customPlugin);\n```\n---\n\n## Access to project properties\n### Get Project Structure \n###### Description\nRead the entire project and return the information about project, its CAP modules and their items.\n###### Method\n`read(logger? : IChildLogger, tag? : Tag): Promise<Project | undefined>;`\n\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n- tag: (Optional) `Tag` value which can be used to filter projects.\n###### returns\n- `Project` instance or `undefined`\n\n###### Example\n```\nimport {Tag} from @sap/artifact-management'   //Optional\nconst api = new ProjectImpl(projectPath);\nconst project = await api.read();\n```\n###### CLI\n\n```\ndev-project show  <my-application-folder-root absolute path> \n```\n\n###### Sample Output\n```\n{\n  \"type\": \"com.sap.cap\",\n  \"path\": \"<Absolute Path of Project>\",\n  \"prefix\": \"DemoProject\",\n  \"cloudService\": \"com.DemoProject\",\n  \"name\": \"DemoProject\",\n  \"tags\": [\n    \"project\",\n    \"cap\"\n  ],\n  \"modules\": [\n    {\n      \"type\": \"com.sap.security.XsSecurity\",\n      \"name\": \"_To_Be_Generated_\",\n      \"path\": \"\",\n      \"items\": []\n    }\n  ]\n}\n```\n\n### Get Project information\n###### Description\nReads only Project level information without reading its modules and items. If there are MTA extension files in the project, the file list of MTA extension will be added to the info property in the returned PorjectData object.\n###### Method\n`getProjectInfo(logger? : IChildLogger): Promise<ProjectData | undefined>;`\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n###### returns\n- `ProjectData` or `undefined`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nconst project = await api.getProjectInfo();\n```\n###### CLI\n```\ndev-project get-project-info  <my-application-folder-root absolute path> \n```\n###### Sample Output\n```\n{\n  \"type\": \"com.sap.cap\",\n  \"path\": \"<Absolute Path of Project>\",\n  \"prefix\": \"DemoProject\",\n  \"cloudService\": \"com.DemoProject\",\n  \"name\": \"DemoProject\",\n  \"tags\": [\n    \"project\",\n    \"cap\"\n  ],\n  \"info\": {\n    \"mtaExtensions\": [\n      \"extension1.mtaext\",\n      \"extension2.mtaext\"\n    ]\n  }\n}\n```\n---\n\n## Provide list of modules and items of each module\n### Get Modules information\n###### Description\nReads only module level information for all the modules in the project without reading their items.\n###### Method\n`getModules(logger? : IChildLogger): Promise<ModuleData[] | undefined>;`\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- Array of `ModuleData` or `undefined`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nconst project = await api.getModules();\n```\n###### CLI\n```\ndev-project get-modules-info  <my-application-folder-root absolute path> \n```\n###### Sample Output\n```\n[\n  {\n    \"type\": \"com.sap.security.XsSecurity\",\n    \"name\": \"_To_Be_Generated_\",\n    \"path\": \"\"\n  }\n]\n```\n\n### Read Items\n###### Description\nRead the entire project and return the information about all the items/entities in the project.\n###### Method\n`readItems(filter? : ItemFilter, logger? : IChildLogger) : Promise<Item[]>;`\n###### Parameters\n- filter: (Optional) `ItemFilter` which can be used to filter items in the project.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- An array of `Item`\n###### Example\n```\nimport {ItemFilter} from @sap/artifact-management'  //Optional\nconst api = new ProjectImpl(projectPath);\nconst project = await api.readItems();\n```\n\n###### CLI\n\nRead all items\n\n```\ndev-project list-items  <my-application-folder-root absolute path> \n```\n###### Sample Output\n\n```\n[\n    {\n      \"external\": false,\n      \"name\": \"fioriApp\",\n      \"namespace\": \"sap.ui.demoproject\",\n      \"path\": \"db/schema.cds\",\n      \"ref\": \"sap.ui.demoproject.fioriApp\",\n      \"tags\": [\n          \"item\",\n          \"cap\"\n      ],\n      \"type\": \"com.sap.cds/Entity\"\n    },\n    ...\n    ...\n    ...\n]\n```\n### Read Detail Items\n###### Description\nRead the entire project and return the information about all the detail items/entities in the project.\n###### Method\n`readDetailItems(filter? : ItemFilter, logger? : IChildLogger) : Promise<Item[]>;`\n###### Parameters\n- filter: (Optional) `ItemFilter` which can be used to filter items in the project.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- An array of `Item`\n###### Example\n```\nimport {ItemFilter} from @sap/artifact-management'  //Optional\nconst api = new ProjectImpl(projectPath);\nconst project = await api.readDetailItems();\n```\n\n###### CLI\n\nRead all items with detail information\n\n```\ndev-project list-detail-items  <my-application-folder-root absolute path> \n```\n###### Sample Output\n\n```\n[\n    {\n      \"external\": false,\n      \"name\": \"fioriApp\",\n      \"namespace\": \"sap.ui.demoproject\",\n      \"path\": \"db/schema.cds\",\n      \"ref\": \"sap.ui.demoproject.fioriApp\",\n      \"tags\": [\n          \"item\",\n          \"cap\"\n      ],\n      \"type\": \"com.sap.cds/Entity\",\n      \"info\": {\n        \"attributes\": {\n          \"ID\": {\n            \"@Core.Computed\": true,\n            \"key\": true,\n            \"type\": \"cds.UUID\"\n          },\n          \"name\": {\n            \"type\": \"cds.String\",\n            \"length\": 100\n          }\n        }\n      }\n    },\n    ...\n    ...\n    ...\n]\n```\n---\n\n\n## Watchers to notify of changes to project\n###### Description\nRead and watch the items/entities in the project. Any changes in the items addition, deletion or updation which match the watch criteria will be notified by the event `updated` which is listened by `ItemWatcherApi`.\n###### Method\n`watchItems(filter? : ItemFilter, logger? : IChildLogger) : Promise<ItemWatcherApi>;`\n###### Parameters\n- filter: (Optional) `ItemFilter` which can be used to filter items in the project.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `ItemWatcherApi`. This can be used to read the updated items.\n\n###### Example\n```\nimport {ItemFilter} from @sap/artifact-management'  //Optional\nconst project = new ProjectImpl(projectPath);\nconst itemWatcher = await project.watchItems();\nconst items = await itemWatcher.readItems();\nitemWatcher.on('updated', () => {\n    console.log('Items updated');\n});\n```\n\n###### CLI\n\nRead all items\n\n```\ndev-project watch-items  <my-application-folder-root absolute path> \n```\n\n---\n\n\n## Support of Filters\n###### Description\nItems can be filtered on basis of `type`, `tag` and `ref`\nThe filter can be passed in `readItems` and `watchItems` APIs as an argument which will return items based on the filter. Check `readItems` and `watchItems` APIs for further information\n\n###### Example \n```\nimport {ItemFilter} from @sap/artifact-management'\n\n// Filter by type\nconst filter: ItemFilter = {types: [\"com.sap.cds/Entity\"]};\n\n// Filter by tags\nconst filter: ItemFilter = {​​​tags: {​​​values: [\"db\", \"srv\"]}​​​}​​​;\n\n// Filter by refs\nconst filter: ItemFilter= {refs: [\"<item ref>\"]​​​}​​​;\n\n\nconst api = new ProjectImpl(projectPath);\nconst entities = await api.readItems(filter);\n```\n\n---\n\n## Capability to Test run\n###### Method\n`run(option?: string[] | undefined, logger? : IChildLogger ) : Promise<void>`\n###### Description\nIt starts the CDS server and watches for any modifications in the files, if any changes detected it automatically restarts to serve the new content \n###### Parameters\n- options: (Optional) run options. Comma separated list of options and their values. e.g. ['port', '8008', 'open']. Currently only supports port number and open option.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.run();\n```\n###### CLI\n```\ndev-project run  <my-application-folder-root absolute path> port 9039 open\n```\n\n---\n\n## Capability to generate MTA yaml and MTAR\n###### Method\n`build(options? : MtaGeneratorSettings, logger? : IChildLogger) : Promise<void>;`\n###### Description\nGenerate manifest for the project and all the modules and create a `mta.yaml` and `<app-name>.mtar` file.\n###### Parameters\n- options: (Optional) `MtaGeneratorSettings` build options.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.build();\n```\n###### CLI\n```\ndev-project build  <my-application-folder-root absolute path> \n```\n###### Sample Output\n```\n_schema-version: '3.1'\nID: DemoProject\nversion: 1.0.0\ndescription: A simple CAP project.\nparameters:\n  enable-parallel-deployments: true\nbuild-parameters:\n  before-all:\n    - builder: custom\n      commands:\n        - bash -c \"cds compile srv --to xsuaa > xs-security.json\"\n    - builder: custom\n      commands:\n        - npm install --production\n        - >-\n          bash -c \"cds -v 2>/dev/null >/dev/null || npm install --no-save\n          @sap/cds-dk\"\n        - npx cds build --production\nmodules:\n  - name: DemoProject-db-deployer\n    type: hdb\n    path: gen/db\n    parameters:\n      buildpack: nodejs_buildpack\n    build-parameters:\n      builder: npm\n      ignore:\n        - node_modules\n    requires:\n      - name: DemoProject-service-uaa\n      - name: DemoProject-service-db\n    ...\n    ...\n    ...\n\nresources:\n  - type: org.cloudfoundry.managed-service\n    name: DemoProject-service-uaa\n    parameters:\n      service: xsuaa\n      service-plan: application\n      service-name: DemoProject-uaa\n      path: xs-security.json\n    ...\n    ...\n    ...\n\n```\n\n---\n\n## Capability to generate MTA yaml and MTAD yaml\n###### Method\n`buildV2(options? : MtaGeneratorSettings, logger? : IChildLogger) : Promise<void>;`\n###### Description\nGenerate manifest for the project and the modules specified in .status_tracker file and create a `mta.yaml` and `mtad.yaml` file.\n###### Parameters\n- options: (Optional) `MtaGeneratorSettings` build options.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.buildV2();\n```\n###### CLI\n```\ndev-project buildV2  <my-application-folder-root absolute path> \n```\n###### Sample Output\n```\n_schema-version: '3.1'\nID: DemoProject\nversion: 1.0.0\ndescription: A simple CAP project.\nparameters:\n  enable-parallel-deployments: true\nbuild-parameters:\n  before-all:\n    - builder: custom\n      commands:\n        - bash -c \"cds compile srv --to xsuaa > xs-security.json\"\n    - builder: custom\n      commands:\n        - npm install --production\n        - >-\n          bash -c \"cds -v 2>/dev/null >/dev/null || npm install --no-save\n          @sap/cds-dk\"\n        - npx cds build --production\nmodules:\n  - name: DemoProject-db-deployer\n    type: hdb\n    path: gen/db\n    parameters:\n      buildpack: nodejs_buildpack\n    build-parameters:\n      builder: npm\n      ignore:\n        - node_modules\n    requires:\n      - name: DemoProject-service-uaa\n      - name: DemoProject-service-db\n    ...\n    ...\n    ...\n\nresources:\n  - type: org.cloudfoundry.managed-service\n    name: DemoProject-service-uaa\n    parameters:\n      service: xsuaa\n      service-plan: application\n      service-name: DemoProject-uaa\n      path: xs-security.json\n    ...\n    ...\n    ...\n\n```\n---\n\n#### Build MTA Manifest content\n###### Method\n`buildManifest(options? : MtaGeneratorSettings, logger? : IChildLogger) : Promise<void>;`\n###### Description\nGenerate manifest for the project and all the modules and create a `mta.yaml`\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.buildManifest();\n```\nor \n\n```\nconst api = new ProjectImpl(projectPath);\nawait api.buildManifest({ui5version: '1.1112.3', ui5theme: 'sap_belize'});\n```\n---\n\n\n#### Get MTA Manifest content\n###### Method\n`getManifest(logger? : IChildLogger) : Promise<any>;`\n###### Description\nGet the content of the `mta.yaml` file.\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n###### returns\n- `Promise<any>`\n###### CLI\n```\n./src/project-api/bin/dev-project show-manifest ../risk-management-example\n```\n###### Sample Output\n```\n_schema-version: '3.1'\nID: cpapp\nversion: 1.0.0\ndescription: \"A simple CAP project.\"\nparameters:\n  enable-parallel-deployments: true\n\nbuild-parameters:\n  before-all:\n   - builder: custom\n     commands:\n      - npm install --production\n      ...\n      ...\n\nmodules:\n - name: cpapp-app\n   type: html5\n   path: app\n   build-parameters:\n     builder: custom\n     commands:\n      - bash build.sh\n     supported-platforms: []\n     build-result: dist\n  ...\n  ...\n\n```\n---\n\n## Deployment of MTAR to Cloud Foundry\n###### Method\n`deploy(logger? : IChildLogger) : Promise<void>;`\n###### Description\nDeploy the generated `<app-name>.mtar` file to currently targeted CF space.\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.deploy();\n```\n###### CLI\nBuild and deploy in one step\n```\ndev-project deploy  <my-application-folder-root absolute path> \n```\n\n---\n\n## Deployment of MTAR to Cloud Foundry\n###### Method\n`deployV2(logger? : IChildLogger) : Promise<void>;`\n###### Description\nGenerate the `<app-name>.mtar` file based on contents of .status_tracker file and deploy to currently targeted CF space.\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<void>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nawait api.deployV2();\n```\n###### CLI\nBuild and deploy in one step\n```\ndev-project deployV2  <my-application-folder-root absolute path> \n```\n\n---\n\n## Get Project Overview URL\n###### Method\n`getProjectOverviewURL(logger? : IChildLogger) : Promise<string | undefined>;`\n###### Description\nGet the Project Overview URL of application deployed to currently targeted CF space.\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n###### returns\n- `Promise<string | undefined>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nconst projectOverviewURL = await api.getProjectOverviewURL();\n```\n###### CLI\n```\ndev-project get-projectoverview-url <my-application-folder-root absolute path>\n```\n###### Sample Output\n```\n{\n  applicationOverviewURL : <projectOverviewURL>\n}\n```\n---\n\n## Get Application Deployment Summary\n###### Method\n`getApplicationDeploymentSummary(logger? : IChildLogger) : Promise<{ ProjectOverviewURL?: string; DeployedUTCTime?: String; } | undefined>;`\n###### Description\nGet the Application Deployment Summary of application deployed to currently targeted CF space which contains ProjectOverviewURL and DeployedUTCTime.\n###### Parameters\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of Project API.\n###### returns\n- `Promise<{ ProjectOverviewURL?: string; DeployedUTCTime?: String; } | undefined>`\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nconst applicationSummary = await api.getApplicationDeploymentSummary();\n```\n###### CLI\n```\ndev-project get-application-deployment-summary <my-application-folder-root absolute path>\n```\n###### Sample Output\n```\n{\n  applicationOverviewURL : <projectOverviewURL>,\n  DeployedUTCTime : <deployedUTCTime>\n}\n```\n---\n\n## Get Detail Information of Entities\n#### Get Detail information\n###### Method\n`getDetailInfo(type: ItemType, ref: string, entityPath?: string, logger? : IChildLogger) :Promise<Item | undefined>;`\n###### Description\nGet additional detail information about a particular item.\n###### Parameters\n- type: `ItemType` type of the Item.\n- ref: Unique reference of the Item.\n- entityPath: (Optional) Path of the item.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Item` or `undefined`\n\n###### Example\n```\nimport {ItemType} from \"src/project-glue/ItemType.ts\"  //Optional\nconst api = new ProjectImpl(projectPath);\nconst entities = await api.getDetailInfo(type, ref, entityPath)\n```\n###### CLI\n```\ndev-project get-detail-info  <my-application-folder-root absolute path> <type> <ref>\n```\n###### Sample Output\n```\n{\n  \"type\": \"com.sap.cds/Entity\",\n  \"name\": \"fioriApp\",\n  \"ref\": \"sap.ui.demoproject.fioriApp\",\n  \"path\": \"schema.cds\",\n  \"info\": {\n    \"ID\": {\n      \"@Core.Computed\": true,\n      \"key\": true,\n      \"type\": \"cds.UUID\"\n    },\n    \"title\": {\n      \"type\": \"cds.String\",\n      \"length\": 100\n    },\n    \"owner\": {\n      \"type\": \"cds.String\"\n    },\n    \"descr\": {\n      \"type\": \"cds.String\"\n    },\n    \"miti\": {\n      \"type\": \"cds.Association\",\n      \"target\": \"sap.ui.demo.ui5App\"\n    },\n    \"impact\": {\n      \"type\": \"cds.Integer\"\n    },\n    \"criticality\": {\n      \"type\": \"cds.Integer\"\n    }\n  }\n}\n```\n\n---\n\n## Get Data Information\n###### Method\n`getDataInfo(data: any, mainEntityName?: string, logger? : IChildLogger): Promise<any>;`\n###### Description\nRead and parse an Excel data file (CSV or XML format), or generate the main entity for a data model.\n###### Parameters\n- data: Path of the data file, or a data model parsed from an Excel file.\n- mainEntityName: (Optional) Name of the entity taken as the main entity.\n- logger: (Optional) An instance of IChildLogger which can be implemented by consumers of this library.\n###### returns\n- `Promise<any>`\n\n###### Example\n```\nconst api = new ProjectImpl(projectPath);\nconst data = await api.getDataInfo(filePath);\nconst dataWithMainEntity = await api.getDataInfo(data, 'mainEntity');\n```\n###### CLI\n```\ndev-project get-data-info  <data file absolute path>\n```\n###### Sample Output\n```\n[\n  {\n    entity: \"test\",\n    labels: [\n      { label: \"ID\", value: \"ID\" },\n      { label: \"Capex Request\", value: \"capex_request\" },\n      { label: \"Total Cost\", value: \"total_cost\" },\n      { label: \"Department\", value: \"department\" },\n    ],\n    props: [\n      {\n        name: \"ID\",\n        kind: \"dataType\",\n        type: \"UUID\",\n        key: \"true\",\n        isComputed: \"true\",\n      },\n      {\n        name: \"capex_request\",\n        kind: \"dataType\",\n        type: \"Integer\",\n        key: \"false\",\n      },\n      { \n        name: \"total_cost\",\n        kind: \"dataType\",\n        type: \"Integer\",\n        key: \"false\"\n      },\n      {\n        name: \"department\",\n        kind: \"dataType\",\n        type: \"String\",\n        key: \"false\"\n      },\n    ],\n    values: [\n      [\"2d22e87a-4a74-43e3-8f0c-fa9de4c1d008\", \"1\", \"1000000\", \"Technology\"],\n      [\"d6a88765-b2a1-4c4a-916d-a10c5d286b53\", \"2\", \"1500000\", \"Products\"],\n      [\"66c76a6b-da32-41ff-89e8-bd38c787bd86\", \"3\", \"2000000\", \"Technology\"],\n    ],\n    dbProps: [\"ID\", \"capex_request\", \"total_cost\", \"department\"],\n  },\n]\n```\n---","downloadsCurrentMonth":3210,"downloadsCurrentFortnight":1594,"downloads365":1032781,"downloadsFortnightGrowth":6.05,"downloadsHistory":[{"yearMonth":"2023-04","downloads":278390},{"yearMonth":"2023-05","downloads":329171},{"yearMonth":"2023-06","downloads":315137},{"yearMonth":"2023-07","downloads":8879},{"yearMonth":"2023-08","downloads":1610},{"yearMonth":"2023-09","downloads":1585},{"yearMonth":"2023-10","downloads":1816},{"yearMonth":"2023-11","downloads":983},{"yearMonth":"2023-12","downloads":491},{"yearMonth":"2024-01","downloads":3718},{"yearMonth":"2024-02","downloads":3239}],"versions":[{"version":"created","date":"2021-08-03T09:36:48.630Z"},{"version":"1.0.0","date":"2021-08-03T09:36:48.916Z"},{"version":"modified","date":"2024-03-06T11:12:48.544Z"},{"version":"1.0.1","date":"2021-08-20T07:58:50.500Z"},{"version":"1.1.0","date":"2021-10-26T03:57:54.821Z"},{"version":"1.1.1","date":"2021-11-15T15:16:53.049Z"},{"version":"1.1.2","date":"2021-11-16T08:00:14.596Z"},{"version":"1.1.3","date":"2021-11-24T11:12:03.700Z"},{"version":"1.2.0","date":"2021-11-24T11:43:00.796Z"},{"version":"1.3.0","date":"2021-12-22T15:08:21.452Z"},{"version":"1.4.0","date":"2022-01-13T16:27:46.725Z"},{"version":"1.5.0","date":"2022-02-01T05:22:07.946Z"},{"version":"1.6.0","date":"2022-02-11T04:21:34.650Z"},{"version":"1.6.1","date":"2022-02-17T13:28:19.047Z"},{"version":"1.7.0","date":"2022-02-25T05:50:42.340Z"},{"version":"1.8.0","date":"2022-03-14T05:14:31.392Z"},{"version":"1.8.1","date":"2022-03-18T01:15:26.380Z"},{"version":"1.9.0","date":"2022-03-25T04:08:22.175Z"},{"version":"1.10.0","date":"2022-04-08T06:15:23.532Z"},{"version":"1.11.0","date":"2022-05-10T10:04:40.712Z"},{"version":"1.11.1","date":"2022-05-17T12:10:11.629Z"},{"version":"1.12.0","date":"2022-06-06T02:32:15.437Z"},{"version":"1.12.1","date":"2022-06-09T05:57:33.878Z"},{"version":"1.13.0","date":"2022-07-05T03:31:25.215Z"},{"version":"1.13.1","date":"2022-07-12T08:43:00.456Z"},{"version":"1.14.1","date":"2022-08-01T09:19:28.340Z"},{"version":"1.14.2","date":"2022-08-12T06:43:20.054Z"},{"version":"1.15.0","date":"2022-09-09T08:54:16.663Z"},{"version":"1.15.1","date":"2022-09-14T09:06:28.826Z"},{"version":"1.16.0","date":"2022-09-26T02:01:07.838Z"},{"version":"1.16.3","date":"2022-09-28T08:36:45.186Z"},{"version":"1.16.4","date":"2022-10-31T12:08:32.863Z"},{"version":"1.17.0","date":"2022-11-18T09:46:19.618Z"},{"version":"1.17.1","date":"2022-11-23T06:55:56.743Z"},{"version":"1.17.2","date":"2022-12-05T04:12:57.141Z"},{"version":"1.18.0","date":"2022-12-30T07:42:58.151Z"},{"version":"1.19.0","date":"2023-02-13T06:44:31.555Z"},{"version":"1.18.1","date":"2023-02-14T08:28:53.311Z"},{"version":"1.19.1","date":"2023-02-20T05:37:21.176Z"},{"version":"1.20.0","date":"2023-03-13T06:04:26.077Z"},{"version":"1.20.1","date":"2023-03-15T09:21:53.627Z"},{"version":"1.20.2","date":"2023-03-21T12:35:30.038Z"},{"version":"1.21.0","date":"2023-04-10T06:18:56.730Z"},{"version":"1.22.0","date":"2023-05-10T03:54:03.011Z"},{"version":"1.22.1","date":"2023-05-26T07:36:32.145Z"},{"version":"1.23.0","date":"2023-06-05T09:54:27.549Z"},{"version":"1.23.2","date":"2023-06-14T09:33:52.014Z"},{"version":"1.23.3","date":"2023-06-21T08:09:00.679Z"},{"version":"1.23.4","date":"2023-06-29T07:44:00.420Z"},{"version":"1.24.1","date":"2023-07-03T10:30:59.208Z"},{"version":"1.24.2","date":"2023-07-13T06:18:16.773Z"},{"version":"1.25.0","date":"2023-07-28T06:36:16.749Z"},{"version":"1.25.1","date":"2023-08-09T07:03:29.209Z"},{"version":"1.26.0","date":"2023-08-23T07:27:54.551Z"},{"version":"1.26.1","date":"2023-09-06T07:48:55.546Z"},{"version":"1.27.0","date":"2023-09-27T02:59:34.249Z"},{"version":"1.27.1","date":"2023-11-06T02:14:39.398Z"},{"version":"1.28.0","date":"2023-11-16T01:41:13.795Z"},{"version":"1.28.1","date":"2023-11-27T05:09:16.892Z"},{"version":"1.29.0","date":"2023-12-12T02:44:24.786Z"},{"version":"1.30.0","date":"2024-01-10T03:12:09.497Z"},{"version":"1.30.1","date":"2024-01-23T07:39:11.717Z"},{"version":"1.32.0","date":"2024-03-06T11:12:48.111Z"}],"npmlink":"https://www.npmjs.com/package/@sap/artifact-management"},{"name":"asp-middleware","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE - SEE LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-09-10T18:09:11.494Z","updatedAt":"2024-02-05T11:19:59.713Z","readme":"@sap/asp-middleware\n==============\n\n<!-- toc -->\n\n- [@sap/asp-middleware](#sapasp-middleware)\n\t- [Overview](#overview)\n\t- [Usage](#usage)\n\t\t- [Approuter Middleware](#approuter-middleware)\n\t\t- [ABAP Solution Runtime Client](#abap-solution-runtime-client)\n\t\t\t- [Get Tenant](#get-tenant)\n\t\t- [Configuration](#configuration)\n\t\t\t- [Custom User Onboarding Path](#custom-user-onboarding-path)\n\t- [Supported Approuter versions](#supported-approuter-versions)\n\t- [Getting Support](#getting-support)\n\n<!-- tocstop -->\n\n## Overview\nThe `asp-middleware` is an extension for the [@sap/approuter](https://www.npmjs.com/package/@sap/approuter) that enables usage of the *ABAP Solution* Service offered for the *SAP BTP, ABAP Environment*.\n\n**It takes care of the following:**\n- User onboarding for the initial administrator of a new tenant\n- Routing to the right tenant url once a user onboarding is completed successfully\n\n## Usage\n\n### Approuter Middleware\n\nThis module must be loaded as an extension into the [@sap/approuter](https://www.npmjs.com/package/@sap/approuter).\n\n\nThe simplest way to achieve this is:\n```javascript\nconst approuter = require('@sap/approuter');\nconst ar = approuter();\n\nar.start({\n  extensions: [ require('@sap/asp-middleware') ]\n});\n```\n\n### ABAP Solution Runtime Client\n\nThe AspRuntimeClient allows you to communicate with the ABAP Solution Service to get information about your tenants.\n\n```javascript\nconst AspRuntimeClient = require('@sap/asp-middleware/asp-runtime-client');\n\nconst client = AspRuntimeClient.getInstance();\nconst tenant = client.getTenant({\n  consumerZoneId: '<consumer-zone-id>'\n})\n```\n\n#### Get Tenant\n\nThe parameter *consumerZoneId* is passed to you during the getDependency call (as *tenantId* URL parameter) and the onSubscription call (as *subscribedTenantId* in the body), that is by default handled by the approuter component, but can also be implemented manually.\n\nThe getTenant call results in a Promise of a Tenant object, which has the following fields:\n\n| Name | Description |\n|---|---|\n| tenantHost | The host of the ABAP tenant corresponding to this consumer |\n| consumerZoneId | The zone ID of the consumer (as passed into the getTenant call) |\n| abapServiceInstanceId | The service instance ID of the ABAP service instance the tenant is located on | \n| abapTenantId | The id of the ABAP tenant itself |\n\n### Configuration\n\nA service instance of service `abap-solution` in plan `standard` must be bound to the approuter application.\n\nAs a last step the `xs-app.json` must be configured to route to the `abap-solution` service. As a minimum this results in the following `xs-app.json` file:\n```json\n{\n\t\"authenticationMethod\": \"route\",\n\t\"welcomeFile\": \"/ui\",\n\t\"logout\": {\n\t\t\"logoutEndpoint\": \"/public/logout\",\n\t\t\"logoutPage\": \"/ui\"\n\t},\n\t\"routes\": [\n\t\t{\n\t\t\t\"source\": \"^/sap/(.*)$\",\n\t\t\t\"target\": \"/sap/$1\",\n\t\t\t\"authenticationType\": \"xsuaa\",\n\t\t\t\"service\": \"com.sap.cloud.abap.solution\",\n\t\t\t\"csrfProtection\": false\n\t\t},\n\t\t{\n\t\t\t\"source\": \"^/ui(.*)$\",\n\t\t\t\"target\": \"/ui$1\",\n\t\t\t\"authenticationType\": \"xsuaa\",\n\t\t\t\"service\": \"com.sap.cloud.abap.solution\",\n\t\t\t\"csrfProtection\": false\n\t\t}\n\t]\n}\n```\n\n#### Custom User Onboarding Path\n\nBy configuring an environment variable called ASP_USER_ONBOARDING_PATHS, the application can decide, which paths should be intercepted for the onboarding of the initial user in the ABAP tenant. By default this is only /ui as this is the path to the ABAP Fiori Launchpad.\n\nThe variable should be configured as a JSON array. E.g. \n\n```json\n[\"/path/to/entry_point_1\",\"/path/to/entry_point_2\"]\n```\n\n\n## Getting Support\nCreate a BCP Ticket on `BC-CP-ABA-ASP`\n","downloadsCurrentMonth":976,"downloadsCurrentFortnight":596,"downloads365":4272,"downloadsFortnightGrowth":64.19,"downloadsHistory":[{"yearMonth":"2023-04","downloads":220},{"yearMonth":"2023-05","downloads":228},{"yearMonth":"2023-06","downloads":175},{"yearMonth":"2023-07","downloads":237},{"yearMonth":"2023-08","downloads":248},{"yearMonth":"2023-09","downloads":262},{"yearMonth":"2023-10","downloads":363},{"yearMonth":"2023-11","downloads":185},{"yearMonth":"2023-12","downloads":338},{"yearMonth":"2024-01","downloads":503},{"yearMonth":"2024-02","downloads":588}],"versions":[{"version":"created","date":"2020-09-10T18:09:11.494Z"},{"version":"1.0.1","date":"2020-09-10T18:09:11.940Z"},{"version":"modified","date":"2024-02-05T11:19:59.713Z"},{"version":"1.0.2","date":"2020-11-27T14:23:57.883Z"},{"version":"1.0.3","date":"2020-12-18T06:52:36.283Z"},{"version":"1.0.4","date":"2021-01-05T17:22:52.124Z"},{"version":"1.0.6","date":"2021-04-19T12:54:00.053Z"},{"version":"1.0.7","date":"2021-11-08T10:57:07.536Z"},{"version":"1.0.8","date":"2021-12-14T14:07:43.231Z"},{"version":"1.0.9","date":"2022-05-20T08:46:10.464Z"},{"version":"1.0.10","date":"2022-07-07T11:39:37.538Z"},{"version":"1.0.11","date":"2022-07-14T14:54:14.727Z"},{"version":"1.0.12","date":"2023-12-18T15:42:55.901Z"},{"version":"1.0.13","date":"2023-12-18T16:32:43.442Z"},{"version":"1.0.14","date":"2024-02-05T11:19:59.527Z"}],"npmlink":"https://www.npmjs.com/package/@sap/asp-middleware"},{"name":"async-xsjs","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-01-31T13:13:28.857Z","updatedAt":"2023-12-08T09:59:34.575Z","readme":"@sap/async-xsjs\n===========\n\nAsynchronous compatibility layer for SAP HANA XS applications running on Node.js 16 and higher. \n<!-- toc -->\n\n- [Usage](#usage)\n    * [Options](#options)\n        + [hana](#hana)\n        + [secureStore](#securestore)\n        + [formData](#formdata)\n        + [mail](#mail)\n        + [destinationProvider](#destinationprovider)\n        + [auditLog](#auditlog)\n        + [context](#context)\n        + [libraryCache](#librarycache)\n        + [Multitenant usage](#multitenant-usage)\n- [OData support](#odata-support)\n    * [Clear OData model cache](#clear-odata-model-cache)\n- [NPM packages support](#npm-packages-support)\n- [Destinations support](#destinations-support)\n    + [Via user provided services](#via-user-provided-services)\n    + [Via custom provider function](#via-custom-provider-function)\n- [Accessing column values by index in *$.hdb.ResultSet* rows](#accessing-column-values-by-index-in-hdbresultset-rows)\n- [Tracing via *$.trace* API](#tracing-via-trace-api)\n- [Troubleshooting](#troubleshooting)\n- [Differences with SAP HANA XS Classic](#differences-with-hana-xs-classic)\n\n<!-- tocstop -->\n\nFor the API of the XS Engine:\n* [SAP HANA XS JavaScript Reference](http://help.sap.com/hana/SAP_HANA_XS_JavaScript_API_Reference_en/)\n\n\n## Usage\n\n```js\n'use strict';\n\nvar xsenv = require('@sap/xsenv');\nvar async_xsjs = require('@sap/async-xsjs');\n\nvar port = process.env.PORT || 3000;\nvar options = xsenv.getServices({\n    uaa: 'xsuaa',\n    hana: 'hana-hdi',\n    jobs: 'scheduler',\n    mail: 'mail',\n    secureStore: 'secureStore',\n    auditLog: 'audit-log'\n});\nasync_xsjs(options).then((async_xsjs_server)=>{\n  async_xsjs_server.listen(port, (err)=>{\n    if(!err) {\n      console.log('Node XS server listening on port %d', port);\n    }else{\n      console.log('Node XS server failed to start on port %d', port);\n    }\n  });\n});\n```\n\nThe starting function takes an object that contains service credentials and application options.\n\nYou need to set up the Application Router for authentication.\nTo learn how, see: \n[Configure the XS Advanced Application Router](https://help.sap.com/docs/SAP_HANA_PLATFORM/4505d0bdaf4948449b7f7379d24d0f0d/6ba89596e3a64a5480c3977d4ea7fdba.html)\n\nFor local testing, you can set `options.anonymous = true` to disable authentication.\n\n### Options\n\nHere is a list of options you can provide:\n\n| property | default | usage |\n| -------- | ------- | ----- |\n| rootDir | 'lib' | XSJS files location |\n| rootDirs |  | Same as above but array of directories can be provided. Overrides `rootDir` if provided. |\n| uaa |  | UAA configuration necessary to enable JWT token authentication and business user propagation to SAP HANA |\n| [hana](#hana) |  | Object containing SAP HANA DB connection parameters - used for DB connectivity |\n| [secureStore](#secureStore) |  | Object containing SAP HANA DB connection parameters - used for secure store connectivity |\n| jobs |  | Job Scheduler connection parameters - used for registering jobs during application startup, and later for updating job execution status when the job is finished |\n| [mail](#mail) |  | Mail options - used by $.net.Mail API |\n| maxBodySize | '1mb' | Maximum body size accepted by _async-xsjs_. The value is passed to the [bytes library](https://www.npmjs.com/package/bytes) for parsing. |\n| anonymous | false | Enables anonymous access - without credentials |\n| [formData](#formdata) |  | Special restrictions over form-data submitted to server |\n| [destinationProvider](#destinationProvider) |  | Custom function, synchronous or asynchronous, to be used when $.net.http.readDestination is called in the XSJS code. For more information on destination support, check the detailed description for this configuration option. |\n| ca | certificates listed in the `XS_CACERT_PATH` env variable | Trusted SSL certificates for any outgoing HTTPS connections. Should be an array of loaded certificates. |\n| compression | true | By default, text resources over 1K are compressed. |\n| [auditLog](#auditlog) |  | Object containing Audit Log service credentials. If not provided, audit logging will be disabled. If set to `{ logToConsole: true }` Audit Log messages will be written to the console (only suitable for non-productive setup, e.g. local development).|\n| [context](#context) | {} | Extends the default context in `.xsjs` scripts |\n| [libraryCache](#librarycache) | {} | Contains the `.xsjslibs` that should be cached |\n| redirectUrl | | If specified, a redirect to this URL is triggered when the root path is requested. <br> **Note**: When _async-xsjs_ is performed behind a reverse proxy (for example, Application Router), the value of this property should be aligned with the path rewriting rules that may apply. |\n| xsApplicationUser | true | If set to false, the session variable `XS_APPLICATIONUSER` will not be set. | \n\n**Note:** When there are several `rootDirs` (for example, **repo1** and **repo2**) and their file structures are identical (_/repo1/hello.xsjs_ and _/repo2/hello.xsjs_), then:\n* The file from the first directory, as listed in the `rootDirs` property, will be used (_/repo1/hello.xsjs_).\n* The file from the second directory (_/repo2/hello.xsjs_) will be ignored with a warning message in the logs.\n\nSAP HANA XS Advanced applications connect to SAP HANA with a fixed technical user provided via a Cloud Foundry service (environment variables). The actual (business) user of the application is retrieved from the JWT token and propagated to SAP HANA.\n\nThe connection to the Job Scheduler service is done by using a fixed technical user provided by the Cloud Foundry service binding.\n\n\n#### hana\n\n| property | mandatory | usage |\n| -------- | ----- | -------- |\n| host | x | DB host |\n| port | x | DB port |\n| user | x | Technical user used for a DB connection |\n| password | x | Technical user password |\n| schema |  | If provided, it will be set as a current schema to DB connection |\n| connectWithLoggedUser |  | Possible values are `true` / `false`. Default is `false`. If provided, the DB connection will be done with the SAML assertion contained in the JWT token of the logged user. <br> **Note:** This option is provided only for the SAP HANA cockpit transition to SAP HANA XS Advanced. In general, this option should be avoided. |\n| sqlcc |  | Object containing all SQLCC configurations as properties with name after SQLCC name used in the XSJS code |\n| ca |  | Trusted SSL certificates explicitly for SAP HANA connection. Should be an array of loaded certificates. If not provided, certificate from the service binding will be used. If none are available, SAP HANA connection will not be encrypted. |\n\n- `sqlcc` - referring to the example above. SQLCC property can be initialized from the bound services like this:\n\n```js\n...\noptions.hana.sqlcc = xsenv.getServices({\n  'com.sap.my.sqlcc_config': 'SQLCC__NAME',\n  'com.sap.my.other_sqlcc_config': 'OTHER_SQLCC_UPS_NAME'\n  });\n...\n```\n\nand later used in an XSJS code like:\n```js\nvar connection = await $.db.getConnection('com.sap.my.sqlcc_config');\n```\n\n\n#### secureStore\n\n| property | mandatory | usage |\n| -------- | ----- | -------- |\n| host | x | DB host |\n| port | x | DB port |\n| user | x | Technical user used for DB connection |\n| password | x | Technical user password |\n| schema |  | If provided, it will be set as a current schema to DB connection |\n\n\n\n#### formData\n\nObject with the following properties:\n\n| property | default | usage |\n| -------- | ------- | ----- |\n| maxFilesSizeInBytes | `10485760` | It restricts the total size of all uploaded files. |\n\n\n#### mail\n\nObject with the following properties:\n\n| property | mandatory | usage |\n| -------- | ----- | -------- |\n| host | x | SMTP server host |\n| port | x | SMTP server port |\n| ignoreTLS |  | Can be `true` or `false`. Represents whether a STARTTLS command should be invoked, if available by the mail server. Default: `false` |\n| secure |  | Can be `true` or `false`. Represents whether the connection should be over TLS/SSL. Default: `false` |\n| connectionTimeout |  | Connection timeout in ms. Default: 60000 |\n| authMethod |  | Authentication method to use. Can be: `'PLAIN'` / `'LOGIN'` / `'CRAM-MD5'` |\n| auth |  | Authentication credentials. Example: `{user: 'user', pass: 'pass'}`  Default: no authentication |\n\n\n#### destinationProvider\n\nIf your application requires different mechanism for destination configuration - for example, dynamic configuration changes or dynamically adding new destinations to your application - you can provide your own function that retrieves these configurations from your storage.\n\nFor convenience, we support synchronous and asynchronous destination provider function. Depending on the number of parameters your function has, we call it synchronously or asynchronously.\n\nHere are the signatures for both:\n\n```js\nfunction getDestinationSync(packagename, objectname, dtDescriptor) {\n}\n\nfunction getDestinationAsync(packagename, objectname, dtDescriptor, callback) {\n}\n```\n\n\n| parameter | description |\n| -------- | --------- |\n| packagename | The package of the destination supplied to `$.net.http.readDestination` |\n| objectname | The object name of the destination supplied to `$.net.http.readDestination` |\n| dtDescriptor | Object containing all properties contained in the corresponding `.xshttpdest` file, if such file is available. Otherwise - __undefined__. |\n| callback | Provided only in the asynchronous case - should be called by your provider function to return the destination or report an error.  |\n\n#### auditLog\n\nThis package generates audit log entries in the following cases:\n- When the validation of the incoming JWT token fails\n- When the token in the request used to trigger a job does not contain the required scope\n\nApplications can also write audit log messages:\n\n```js\nvar async_xsjs = require('@sap/async-xsjs');\nvar xsenv = require('@sap/xsenv');\nvar auditLogging = require('@sap/audit-logging');\n\nvar port = process.env.PORT || 3000;\nvar options = xsenv.getServices({ auditLog: 'audit-log', uaa: 'xsuaa', hana: 'hana-hdi' });\n\n// Using Audit Log REST API v2\nvar auditLog = await auditLogging.v2(options.auditLog);\noptions.context = { auditLog: auditLog };\n(await async_xsjs(options)).listen(port);\n```\n\nIt is recommended to use Audit Log REST API v2.\nFor more information, refer to the documentation of the _@sap/audit-logging_ package.\n\nThe audit log client object can then be used as following:\n\n```js\nawait auditLog\n  .securityMessage('Content of the message')\n  .by($.session.getUsername())\n  .log();\n```\n\n**Note**: `$.session.getUsername()` returns `undefined` in case `anonymous` mode is used. It is up to applications whether to use another string as a user or not to audit log at all.\n\n\n#### context\n\nThis option can be used if you want to extend the XSJS scripts with additional global variables.\n\nExample:\n\n```js\nvar async_xsjs = require('@sap/async_xsjs');\nvar options = {\n  anonymous: true,\n  context: { answer: 42 }\n};\n(await async_xsjs(options)).listen(3000);\n```\n\nThis configuration extends the context of XSJS scripts with one additional variable called `answer`.\nEvery time an XSJS script is executed, it will not only have the `$` variable in its context, but will also include the variable `answer` with value `42`.\n\nLet's say we have a file `answer.xsjs` with the following content:\n```js\nawait $.response.setBody(answer);\n```\nA request to `http://<your_domain>:3000/answer.xsjs` will respond with `42`.\n\nWith the `context` property set, you can expose Node.js packages and variables:\n```js\nvar options = {\n  anonymous: true,\n  context: { environment: process.env, _: require('lodash') }\n};\n```\n\nCurrently, we are aware of a limitation which causes `<variable> instanceof <constructor_function>` used in an XSJS script to have odd behaviour.\nAlso, stubbing or mocking constructor functions such as `Date`, `String`, etc in an XSJS script won't affect other XSJS files.\n\nThe `context` property also finds usage in a workaround for this limitations. \n\nSetting:\n```js\nvar options = {\n  anonymous: true,\n  context: { Array: Array, String: String }\n};\n```\nwill fix these problems, but has the following side effects:\n\n* Creating an array in an XSJS script and checking its instance will now return `false`:\n```js\n  var myArray = [1, 2, 3];\n  await $.response.setBody(myArray instanceof Array); // Responds with false\n```\n* Monkey-patching built-in types won't work as expected if they are exposed through the `context` property:\n```js\n  String.prototype.contains = function(str) { return this.indexOf(str) >= 0; };\n  var stringLiteral = 'Abc';\n  var stringObject = new String('Abc');\n  console.log(stringLiteral.contains); // undefined\n  console.log(stringObject.contains); // [Function]\n```\nSince there might be other side effects, **use this feature at your own risk.**\n\n#### libraryCache\n\nAn object that contains the `.xsjslibs` that will be cached. Example:\n\n```js\n{\n  'my.libs.utility': 'global'\n}\n```\n\nIn an XSJS code, the import looks like this:\n\n```js\nvar utility = await $.import('my.libs', 'utility');\n```\n\n**Note:** It is recommended to use this feature only when necessary, because it keeps the cached content until the application is running.\nIt might have side effects in case the `.xsjslib` keeps state. It also leads to extensive memory consumption and this should be considered while calculating application memory limits.\n\n#### Multitenant Usage\n\nIn multitenant scenarios, the `hana` and `secureStore` properties can contain an object with the credentials of a _managed-hana_ (Instance Manager) service (created with the appropriate service plan) instead of the credentials of the _hana_ service. In this case, the application will connect to a SAP HANA system, depending on the tenant (identity zone) of the incoming request.\nA managed service instance for the particular tenant should be created in advance, and the corresponding database artefacts should be deployed prior to requesting the application with this tenant. Otherwise, the processing of the request will be terminated with an error.\n\n**Note**: Currently, jobs are not multitenant-aware. They are shared between tenants, and a connection to a SAP HANA database cannot be established.\nA job executing XSJS code can still connect to a specific SAP HANA service instance, by using SQLCC configuration.\n\n## OData Support\n\nOData support is provided by OData package `@sap/xsodata`. Details on what features are provided can be found in the project itself. The compatibility layer scans for `.xsodata` files in the specified source directory and registers OData endpoints for each valid descriptor. Both JavaScript and SQL script exits are supported.\n\n### Clear OData model cache\n\nFor each OData service, the model is loaded and cached in memory upon first request.\nIn case the schema of the underlying DB objects is changed at runtime, it is necessary to reload the model. Here is an example:\n```js\nvar app = await xsjs(options);\n\nfunction onSchemaChange(tenant) {\n  app.clearODataCache(tenant);\n}\n```\n* `clearODataCache(tenant)` clears the OData model cache for the given tenant.\n* `tenant` argument is optional. If not provided, the cache for all tenants will be cleared.\n\n**Note:** Each application instance contains a cache of OData models. Clearing the cache in one of those instances does not automatically trigger cache invalidation in the others. The application itself is responsible for calling `clearODataCache` in each instance. Since an HTTP request is received only by a single instance, it cannot be used to trigger clearing the cache in a consistent manner for the whole application. Other solutions, like messaging, are more suitable for that purpose.\n\n## NPM Package Support\nAs an extension in the dollar API, we included support for all the available NPM packages. <br />\nFor example, in your XSJS file you can add the following code:\n\n```js\nvar _ = $.require('underscore');\n// Count to ten\nvar count = '';\n_.range(11).forEach(function(number) {\n  count += number + ' ';\n});\nawait $.response.setBody(count);\n```\n\nYou can also require a file relatively. The required file will execute in a Node.js context. This means, you will have access to global Node.js variables, such as `__dirname`, `process`, etc. in it.\n\nFor example, if we have a file called `myAPI.js` with content:\n\n```js\n// myAPI.js\nmodule.exports = {\n  getDirname: function() {\n    return __dirname;\n  }\n};\n```\n\nLet's say `myAPI.js` is located in a parent directory for the following XSJS file:\n```js\nvar myAPI = $.require('../myAPI.js');\nawait $.response.setBody(myAPI.getDirname());\n```\n\n## Destinations Support\n\n#### Via user provided services\nBy default, the compatibility layer supports destination configuration via user-provided services. The destination name (the repo resource ID, e.g. package + '.' + xshttpdest name) is matched to a service name.\n\nExample content of VCAP_SERVICES:\n\n```js\n\"VCAP_SERVICES\": {\n  \"user-provided\": [\n    {\n      \"label\": \"user-provided\",\n      \"name\": \"foobar.httpdest.mydest\",\n      \"credentials\": {\n        \"host\": \"some.host\",\n        \"port\": 8088,\n        \"username\": \"user\",\n        \"password\": \"secret\"\n      }\n    }\n  ]\n}\n```\nExample usage in an XSJS code:\n```js\nvar destination = await $.net.http.readDestination('foobar.httpdest', 'mydest');\n```\nIf there is no service in VCAP_SERVICES with the same name as the destination requested, an exception is thrown.\n\nWhen a destination is read, the content of the design time descriptor is merged with the properties provided in the user-provided service. Property values of the UP service override DT descriptor values.\n\n\n#### Via custom provider function\n\nIf the default support is not enough for your use case, you can provide a custom destination provider function. For details how to do that, see the __destinationProvider__ configuration option explained above.\n\n## Accessing Column Values by Index in `$.hdb.ResultSet` Rows\n\nColumn values from within a row of `$.hdb.ResultSet` in XS Classic can be accessed either by column name or by column index.\nIf an application does not make use of accessing columns by index, then this capability can be turned off, which will result in an improved performance:\n\n```js\nvar connection = await $.hdb.getConnection({ enableColumnIndices: false });\n```\n\n## Tracing Via `$.trace` API\n\nEach trace entry is associated with a location. The entry point being accessed is used as a location:\n- All application trace entries produced during OData handling (entries produced by exits and the imported `.xsjslib` scripts, `@sap/xsodata` entries) use the location of the `.xsodata` service itself, e.g. '/odata/service.xsodata'.\n- All application trace entries produced during job execution (entries from `.xsjs` scripts and the imported `.xsjslib` scripts) use the location of the `.xsjob` descriptor, e.g '/jobs/my-job.xsjob'.\n- All application trace entries produced by `.xsjs` code (including the imported `.xsjslib` scripts) use the location of the `.xsjs` file itself, e.g. '/xsjs/service.xsjs'. The same applies to scripts referenced from `$.response.followUp`.\n\nThis allows easier change of the tracing level (only of the entry point - `.xsodata`, `.xsjob` or `.xsjs`) without doing so for every single script involved in the execution or by using wildcards. The trace message can be used to find the source line that has produced it.\n\n**Note:** Regarding request-ids for jobs: the run-id received from the jobscheduler is used as the request-id instead of an auto-generated one.\n\n## Troubleshooting\n\nThis package uses `@sap/logging` package, so all of its features are available to control logging.\nFor example, to set all logging and tracing to the finest level, set `XS_APP_LOG_LEVEL` environment variable to `debug`.\n\nIf the application is deployed on XS Advanced On-Premise Runtime, you can change the log level without restarting the application.\nFor example, the following command will set all logging and tracing to the finest level.\n```sh\nxs set-logging-level <application-name> \"*\" debug\n```\nSee the `@sap/logging` documentation for more information.\n\nSome of the libraries used by this package employ other tracing mechanisms. For example, many use the popular [debug](https://www.npmjs.com/package/debug) package. This means that by setting `DEBUG` environment variable, you can enable additional traces. Set it to `*` to enable all of them, but be careful as the output may be overwhelming.\n\nIn addition, internal Node.js traces can be enabled via the `NODE_DEBUG` environment variable.\n\n**Warning:** Enabling some of these options may trace security sensitive data, so use with caution.\n\n## Differences with SAP HANA XS Classic\n\nSee the differences [here](differences.md).\n<br/>\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n<a name=\"2.0.0\"></a>\n## 2.0.0 - 2023-12-08\n\n### Added\n- Added Node.js 20.x support.\n\n### Updated\n- Dependent node module versions updated to latest versions to support Node 20.\n- Updated axios version to 1.6.2 to fix the security vulnerability.\n\n### Removed\n- Removed support Node.js 16.x\n- Removed text-mining and text-analysis features.\n\n<a name=\"1.0.8\"></a>\n## 1.0.8 - 2023-10-20\n\n### Fixed\n- Fixed Sql script job runner for xsjob procedure\n\n\n<a name=\"1.0.7\"></a>\n## 1.0.7 - 2023-10-03\n\n### Updated\n- Updated hana-client to v2.18.24\n- Updated hdbext to v8.0.0\n- Updated xssec to v3.3.5\n- Updated audit-logging to v5.7.1\n\n\n### Fixed\n- Fixed Sql script job runner\n\n\n<a name=\"1.0.6\"></a>\n## 1.0.6 - 2023-06-23\n\n### Updated\n- Updated hana-client to v2.17.14\n- Updated hdbext to v7.7.5\n\n<a name=\"1.0.5\"></a>\n## 1.0.5 - 2023-06-08\n\n### Fixed\n- Replace deprecated _request_ with _axios_ v1.3.5\n\n\n<a name=\"1.0.4\"></a>\n## 1.0.4 - 2023-03-28\n\n### Updated\n- Updated hana-client to v2.16.21\n- Updated hdbext to v7.7.3\n\n<a name=\"1.0.3\"></a>\n## 1.0.3 - 2023-02-07\n\n### Fixed\n- Npm-shrinkwrap file with the right resources\n\n<a name=\"1.0.2\"></a>\n## 1.0.2 - 2023-01-31\n\n### Updated\n- Updated xsodata to v8.0.2\n\n### Fixed\n- Way to require method isString from lodash\n\n<a name=\"1.0.1\"></a>\n## 1.0.1 - 2023-01-30\n\n### Added\n- Docs folder \n\n<a name=\"1.0.0\"></a>\n## 1.0.0 - 2023-01-26\n\n### Initial release\n","downloadsCurrentMonth":2914,"downloadsCurrentFortnight":1173,"downloads365":21668,"downloadsFortnightGrowth":-27.73,"downloadsHistory":[{"yearMonth":"2023-04","downloads":685},{"yearMonth":"2023-05","downloads":789},{"yearMonth":"2023-06","downloads":1760},{"yearMonth":"2023-07","downloads":1190},{"yearMonth":"2023-08","downloads":2055},{"yearMonth":"2023-09","downloads":1332},{"yearMonth":"2023-10","downloads":2170},{"yearMonth":"2023-11","downloads":1375},{"yearMonth":"2023-12","downloads":2743},{"yearMonth":"2024-01","downloads":2708},{"yearMonth":"2024-02","downloads":2606}],"versions":[{"version":"created","date":"2023-01-31T13:13:28.857Z"},{"version":"1.0.2","date":"2023-01-31T13:13:29.109Z"},{"version":"modified","date":"2023-12-08T09:59:34.575Z"},{"version":"1.0.3","date":"2023-02-07T12:21:49.245Z"},{"version":"1.0.4","date":"2023-03-28T14:06:54.704Z"},{"version":"1.0.5","date":"2023-06-09T12:25:02.504Z"},{"version":"1.0.6","date":"2023-06-23T10:52:21.523Z"},{"version":"1.0.7","date":"2023-10-06T13:40:02.512Z"},{"version":"1.0.8","date":"2023-10-20T15:36:59.696Z"},{"version":"2.0.0","date":"2023-12-08T09:59:34.393Z"}],"npmlink":"https://www.npmjs.com/package/@sap/async-xsjs"},{"name":"audit-logging","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:52:21.479Z","updatedAt":"2024-02-08T15:28:52.911Z","readme":"# @sap/audit-logging\n\nProvides audit logging functionalities for Node.js applications.\n\n<!-- toc -->\n\n- [Overview](#overview)\n  * [General audit logging principles](#general-audit-logging-principles)\n  * [Prerequisites](#prerequisites)\n  * [Versions](#versions)\n  * [Express Middleware](#express-middleware)\n    - [Simple Usage](#simple-usage)\n    - [Making Use of the SecurityContext and User Token Exchange Flow](#making-use-of-the-securitycontext-and-user-token-exchange-flow)\n    - [Plugging Middleware Only When Needed](#plugging-middleware-only-when-needed)\n  * [mTLS Support](#mtls-support)\n- [API - v1](#api---v1)\n  * [Importing the library](#importing-the-library)\n  * [Data access messages](#data-access-messages)\n  * [Data modification messages](#data-modification-messages)\n  * [Update data modification](#update-data-modification)\n  * [Configuration change messages](#configuration-change-messages)\n  * [Update configuration change](#update-configuration-change)\n  * [General security messages](#general-security-messages)\n  * [Logging a message](#logging-a-message)\n- [API - v2](#api---v2)\n  * [Importing the library](#importing-the-library-1)\n  * [Data access messages](#data-access-messages-1)\n  * [Data modification messages](#data-modification-messages-1)\n  * [Configuration change messages](#configuration-change-messages-1)\n  * [General security messages](#general-security-messages-1)\n- [OAuth2 User Token Exchange](#oauth2-user-token-exchange)\n- [Local development](#local-development)\n  * [Without Audit log service](#without-audit-log-service)\n  * [With Audit log service](#with-audit-log-service)\n\n<!-- tocstop -->\n\n## Overview\n\nAudit logging is about writing entries in a specific format to a log storage. Subject to audit logging are events of significant importance.\nFor example, security events which may impact the confidentiality, the integrity or the availability of a system.\nAnother example of such an event would be access to personal data (both reading and altering) like bank accounts, political opinion,\nhealth status etc.\n\nWhile the consumer of ordinary logs is a system administrator who would like to keep track of the state of a system,\naudit logs are read by an auditor. There are legal requirements (in some countries stricter than in others) regarding audit logging.\n\nIn general the events that are supposed to be audit logged can be grouped in 3 main categories:\n- changes to system configurations (which may have significant effect on the system itself)\n- access to personal data (related to data privacy)\n- general security events (like starting/stopping a system, failed authorization checks etc.)\n\n---\n> **NOTE:** \n> SAP customers can use this library to access (read) audit logs. They cannot write log messages for their applications.\nWriting audit log messages is only possible for SAP internal users.\n\n---\n### General audit logging principles\n\n- All attempts to perform an action in a system should be audit logged no matter if they have been successful or not.\n- Audit log entries should be consistent with the state of the system. If, for example, the writing of the audit log entry fails,\nbut the changes to system critical parameters have been applied, then those changes should be reverted. Best practice is to wait for\nthe callback of the logger before continuing with the execution of other code.\n- Especially important is which user (or other agent) has triggered the corresponding event that is being audit logged.\nFor most of the cases the library will validate that such a field is provided in the message.\n- All audit log entries should be in English. Numbers should be converted to strings with English locale.\nAll time fields should be in UTC time in order to avoid timezone and day light saving time issues.\n- Passwords should never be audit logged.\n\n### Prerequisites\n\nAn application using the audit log library needs to be bound to an instance of the Audit log service.\n\n### Versions\n\nThe Audit log service provides REST APIs that are available to applications for\nlogging relevant messages. The latest Audit log server supports 2 versions\nof the REST APIs. This library provides JavaScript programming interfaces for\nboth of these versions of the server's APIs.\n**Note:** It is recommended to use REST APIs v2 if available on the Audit log server being in use (and respectively the JavaScript v2 APIs).\nThe initial version of the Audit log server REST APIs is deprecated in favor of the v2 version. The same applies to the JavaScript APIs provided by this library.\n\n### Express Middleware\n\nThe Audit Log client provides an easier way to use the auditlog client in an express application. Below you can find a few examples on how to make use of the express middleware. The middleware works with both **v1** and **v2** of the Auditlog Service.\n\n#### Simple Usage\n\n```js\nconst express = require(\"express\");\nconst app = express();\n\nconst auditMiddleware = require('./node-audit-logging/middleware');\n\n// Config for auditLoggingService.\nconst auditLogConfig = {...}; // Retrieved from the environment using @sap/xsenv.\n// app.use(auditMiddleware(auditLogConfig, 1)); // Here we select using v1.\napp.use(auditMiddleware(auditLogConfig, 2));\n\napp.get('/', async function (req, res) {\n  let auditLog = req.auditLog;\n  // ...\n});\n```\n\n#### Making Use of the SecurityContext and User Token Exchange Flow\n\nIn order to make use also of the *SecurityContext* that comes from the *@sap/xssec* library, you need to make sure you import the *@sap/xssec* middleware before the auditlogging. **This only works with the OAuth2 plan.**\n\n```js\nconst express = require('express');\n// Includes required for xssec.\nconst passport = require('passport');\nconst { JWTStrategy } = require('xssec');\n// Includes required for auditLogging.\nconst auditLogMiddleware = require('@sap/audit-logging/middleware');\n\nconst app = express();\n\n// Config for xssec middelware.\nconst xsuaaConfig = {...}; // Retrieved from the environment using @sap/xsenv.\npassport.use(new JWTStrategy(xsuaaConfig));\napp.use(passport.initialize());\napp.use(passport.authenticate('JWT', { session: false, failWithError: true }));\n\n// Config for auditLoggingService.\nconst auditLogConfig = {...}; // Retrieved from the environment using @sap/xsenv.\napp.use(auditLogMiddleware(auditLogConfig));\n\napp.get('/', async function (req, res) {\n  let auditLog = req.auditLog;\n  // ...\n});\n```\n\n#### Plugging Middleware Only When Needed\n\nIf you have the case where you do not want to include the auditLog to a request, you can plug the middleware only on the routes it is required:\n\n```js\nconst express = require('express');\n// Includes required for xssec.\nconst passport = require('passport');\nconst { JWTStrategy } = require('xssec');\n// Includes required for auditLogging.\nconst auditLogMiddleware = require('@sap/audit-logging/middleware');\n\nconst app = express();\n\n// Config for xssec middelware.\nconst xsuaaConfig = {...}; // Retrieved from the environment using @sap/xsenv.\npassport.use(new JWTStrategy(xsuaaConfig));\napp.use(passport.initialize());\napp.use(passport.authenticate('JWT', { session: false, failWithError: true }));\n\n// Config for auditLoggingService.\nconst auditLogConfig = {...}; // Retrieved from the environment using @sap/xsenv.\n\n// In this API we need auditlog, so we add the auditLogMiddleware\napp.get('/withAuditLog', auditLogMiddleware(auditLogConfig), function(req, res) {\n    let auditLog = req.auditLog; // This will be undefined.\n    // ...\n});\n\n// Here we do not need the auditLog, so we do not add the auditLogMiddleware.\napp.get('/withoutAuditLog', function(req, res) {\n    let auditLog = req.auditLog; // This will be undefined.\n    // ...\n});\n```\n\n### mTLS Support\n\nThe library also supports certificate based authentication. In order to use this type of authentication, you need to create x509 credentials and pass them to the auditlog library the same way you would pass all other credential types. If you are retrieving credentials via *@sap/xsenv* you might need to create **binding** and not **service key**.\n\nFor further information how to create the appropriate credential type, visit [Audit Log Retrieval API Usage for the Cloud Foundry Environment](https://help.sap.com/products/BTP/65de2977205c403bbc107264b8eccf4b/30ece35bac024ca69de8b16bff79c413.html).\n\n## API - v1\n\n\n---\n> **NOTE:** \n> API v1 will be deprecated by March 2023. We strongly recommend that you switch to API v2 as soon as possible.\n\n\n---\n\nThe library provides an API for writing audit messages of type configuration changes, data modifications, data accesses and security events.\n\n### Importing the library\n\n`credentials` object is the bound audit log service's credentials.\nTake a look at *@sap/xsenv* package for more information on how to retrieve service credentials.\n\n#### Standard Plan (deprecated)\n\n```js\nvar credentials = {\n  \"user\": \"user\",\n  \"password\": \"password\",\n  \"url\": \"https://host:port\"\n};\nvar auditLog = require('@sap/audit-logging')(credentials);\n```\n\n#### OAuth2 Plan\n\n```js\nvar credentials = {\n  \"uaa\": {\n    \"clientid\": \"clientid\",\n    \"clientsecret\": \"clientsecret\",\n    \"url\": \"https://host:port\"\n  }\n  \"url\": \"https://host:port\"\n};\nvar auditLog = require('@sap/audit-logging')(credentials, securityContext);\n```\n\n* `credentials` - Retrieved from the environment.\n* `securityContext` - *Optional* - created manually or through usage of the req.AuthInfo from **@sap/xssec**.\n\n### Data access messages\n\nLet's suppose we need to create an entry for a data access operation over personal data. We can achieve that with the following code:\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.read('user123')\n  .attribute('username', true)\n  .attribute('first name', true)\n  .attribute('last name', true)\n  .accessChannel('UI')\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `read` - takes a string which identifies the object which is being *accessed*.\n* `attribute(name, successful)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being accessed.\n  * `successful` - specifies whether the access was successful or not.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `accessChannel` - takes a string which specifies *channel* of access.\n* `attachment(id, name)` - if attachments or files are downloaded or displayed, information identifying the attachment shall be logged.\n  * `id` - attachment id\n  * `name` - attachment name\n* `tenant` - takes a string which specifies the tenant id. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n#### OAuth2 Plan\n\n```js\nauditLog.read('user123')\n  .attribute('username', true)\n  .attribute('first name', true)\n  .attribute('last name', true)\n  .accessChannel('UI')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `read` - takes a string which identifies the object which is being *accessed*.\n* `attribute(name, successful)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being accessed.\n  * `successful` - specifies whether the access was successful or not.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `accessChannel` - takes a string which specifies *channel* of access.\n* `attachment(id, name)` - if attachments or files are downloaded or displayed, information identifying the attachment shall be logged.\n  * `id` - attachment id\n  * `name` - attachment name\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n### Data modification messages\n\nHere is how to create an entry for a data modification operation:\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.update('user123')\n  .attribute('first name', 'john', 'John')\n  .tenant('tenantId')\n  .by('John Doe')\n  .log(...);\n```\n\n**Note**: Specifying an old and a new value for an attribute is only supported in newer versions of the Audit log service. Providing these values while working with an older version of the service results in an error in the callback. In such cases one may use the `attribute` method with an alternative signature:\n\n```js\nauditLog.update('user123')\n  .attribute('password', false)\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `update` - takes a string which identifies the object which is being *updated*.\n* `attribute(name, oldValue, newValue)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being modified.\n  * `oldValue` - is the current value of the attribute.\n  * `newValue` - is the value of the attribute after the change.\n\n  **Note**: One may use this signature of the `attribute` method only if the Audit log service being consumed supports old and new values.\n\n* `attribute(name, successful)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being modified.\n  * `successful` - specifies whether the modification was successful or not.\n\n  **Note**: this signature of the method is **deprecated**. It should be used only if the consumed Audit log service does not support old and new values.\n\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `tenant` - takes a string which specifies the tenant id. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n#### OAuth2 Plan\n\n```js\nauditLog.update('user123')\n  .attribute('first name', 'john', 'John')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .log(...);\n```\n\n**Note**: Specifying an old and a new value for an attribute is only supported in newer versions of the Audit log service. Providing these values while working with an older version of the service results in an error in the callback. In such cases one may use the `attribute` method with an alternative signature:\n\n```js\nauditLog.update('user123')\n  .attribute('password', false)\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `update` - takes a string which identifies the object which is being *updated*.\n* `attribute(name, oldValue, newValue)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being modified.\n  * `oldValue` - is the current value of the attribute.\n  * `newValue` - is the value of the attribute after the change.\n\n  **Note**: One may use this signature of the `attribute` method only if the Audit log service being consumed supports old and new values.\n\n* `attribute(name, successful)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being modified.\n  * `successful` - specifies whether the modification was successful or not.\n\n  **Note**: this signature of the method is **deprecated**. It should be used only if the consumed Audit log service does not support old and new values.\n\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n### Update data modification\n\n```js\nauditLog.updateDataModification(id, isSuccessful)\n  .log(...);\n```\n\n* `updateDataModification(id, isSuccessful)` - takes two arguments.\n  * `id` - id of the data modification message saved earlier (see [log](#logging-a-message))\n  * `isSuccessful` - denotes whether the data modification was successful or not.\n* `log` - See [here](#logging-a-message)\n\n**Note**: This function should only be used with an Audit log service that supports old and new values.\n\n### Configuration change messages\n\nHere is how to create an entry for a configuration change operation:\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.configurationChange('configuration object')\n  .attribute('session timeout', '5', '25')\n  .tenant('tenantId')\n  .by('Application Admin')\n  .successful(true)\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `configurationChange` - takes a string which identifies the object which is being *configured*.\n* `attribute(name, oldValue, newValue)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being accessed.\n  * `oldValue` - is the current value of the attribute being changed.\n  * `newValue` - is the value of the attribute after the change.\n* `successful(isSuccessful)` - used to mark whether the configuration change is finished with success, failure.\n  If not called configuration change will be marked as *pending*.\n  * `isSuccessful` - should be a valid boolean.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `tenant` - takes a string which specifies the tenant id. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n#### OAuth2 Plan\n\n```js\nauditLog.configurationChange('configuration object')\n  .attribute('session timeout', '5', '25')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .successful(true)\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `configurationChange` - takes a string which identifies the object which is being *configured*.\n* `attribute(name, oldValue, newValue)` - sets object attributes. It is **mandatory** to provide at least one attribute.\n  * `name` - is the name of the attribute being accessed.\n  * `oldValue` - is the current value of the attribute being changed.\n  * `newValue` - is the value of the attribute after the change.\n* `successful(isSuccessful)` - used to mark whether the configuration change is finished with success, failure.\n  If not called configuration change will be marked as *pending*.\n  * `isSuccessful` - should be a valid boolean.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n### Update configuration change\n\n```js\nauditLog.updateConfigurationChange(id, isSuccessful)\n  .log(...);\n```\n\n* `updateConfigurationChange(id, isSuccessful)` - takes two arguments.\n  * `id` - id of the configuration message saved earlier (see [log](#logging-a-message))\n  * `isSuccessful` - denotes whether the configuration change was successful or not.\n* `log` - See [here](#logging-a-message)\n\n### General security messages\n\nHere is how to create a general security audit log message:\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .tenant('tenantId')\n  .by('John Doe')\n  .externalIP('127.0.0.1')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `securityMessage` - takes a formatted string as in [util.format()](https://nodejs.org/api/util.html#util_util_format_format_args).\n* `externalIP` - states the IP of the machine that contacts the system. It is not mandatory, but it should be either IPv4 or IPv6.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `tenant` - takes a string which specifies the tenant id. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n#### OAuth2 Plan\n\n```js\nauditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .externalIP('127.0.0.1')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(...);\n```\n\n* `securityMessage` - takes a formatted string as in [util.format()](https://nodejs.org/api/util.html#util_util_format_format_args).\n* `externalIP` - states the IP of the machine that contacts the system. It is not mandatory, but it should be either IPv4 or IPv6.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. The provided value is ignored by older versions of the Audit log service that do not support setting a tenant. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - See [here](#logging-a-message)\n\n### Logging a message\n\nUse the `log` method to write a message to the Audit log. It takes one argument - a callback function.\nBe aware that the state of the audit logs should be consistent with the state of the system.\nMake sure you handle errors from the audit log writer properly.\nApplication code **should wait** for the logging to finish before executing any other code.\n\n```js\nvar message = /* any of the above example messages */;\nmessage.log(function (err, id) {\n    // Do error handling and place all of the remaining logic here\n  });\n```\n\n* `message` - Any of the following:\n  * [`read`](#data-access-messages)\n  * [`update`](#data-modification-messages)\n  * [`configurationChange`](#configuration-change-messages)\n  * [`updateConfigurationChange`](#update-configuration-change)\n  * [`securityMessage`](#general-security-messages)\n* `err` - error object in case of error.\n* `id` - Id of the message that is saved. Use it when you want to do [`updateConfigurationChange`](#update-configuration-change). `id` is undefined in case of [`updateConfigurationChange`](#update-configuration-change).\n\n**Note**: When a message is logged, the library checks for missing properties and will throw an error if some are missing.\n\n## API - v2\n\n> **NOTE:** \n> The API v2 is dual - it supports both the traditional callbacks and promises.\n\n### Importing the library\n\n`credentials` object with credentials for the Audit log service.\nTake a look at *@sap/xsenv* package for more information on how to retrieve service credentials.\nThe callback will be called with an error if the Audit log server does not support version 2 of the REST APIs.\n\n#### Standard Plan (deprecated)\n\n```js\nvar credentials = {\n  \"user\": \"user\",\n  \"password\": \"password\",\n  \"url\": \"https://host:port\"\n};\n\nvar auditLogging = require('@sap/audit-logging');\nauditLogging.v2(credentials, function(err, auditLog) {\n  if (err) {\n    // if the Audit log server does not support version 2 of the REST APIs\n    // an error in the callback is returned\n    return console.log(err);\n  }\n});\n```\n\nPromise based\n```js\nvar credentials = {\n  \"user\": \"user\",\n  \"password\": \"password\",\n  \"url\": \"https://host:port\"\n};\n\nvar auditLogging = require('@sap/audit-logging');\nvar auditLog = await auditLogging.v2(credentials);\n```\n\n#### OAuth2 Plan\n\n```js\nvar credentials = {\n  \"uaa\": {\n    \"clientid\": \"clientid\",\n    \"clientsecret\": \"clientsecret\",\n    \"url\": \"https://host:port\"\n  }\n  \"url\": \"https://host:port\"\n};\n\nvar auditLogging = require('@sap/audit-logging');\nauditLogging.v2(credentials, securityContext, function(err, auditLog) {\n  if (err) {\n    // if the Audit log server does not support version 2 of the REST APIs\n    // an error in the callback is returned\n    return console.log(err);\n  }\n});\n```\nPromise based\n```js\nvar credentials = {\n  \"uaa\": {\n    \"clientid\": \"clientid\",\n    \"clientsecret\": \"clientsecret\",\n    \"url\": \"https://host:port\"\n  }\n  \"url\": \"https://host:port\"\n};\n\nvar auditLogging = require('@sap/audit-logging');\nvar auditlog = await auditLogging.v2(credentials, securityContext);\n```\n\n* `credentials` - Retrieved from the environment.\n* `securityContext` - *Optional* - created manually or through usage of the req.AuthInfo from **@sap/xssec**.\n*Note: This method is backwards compatible if you provide the callback instead of the securityContext it will still work.*\n\n### Data access messages\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.read({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'date-of-birth', successful: true })\n  .attachment({ id: 'exam-results-9537' })\n  .attachment({ id: 'recommendations-4381', name: 'file.doc' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  // multiple data subjects can also be provided in array format as following:\n  //  .dataSubjects([{ type: 'student', id: { student_id: 'st_913' }, role: 'foreign student' },\n  //                 { type: 'student', id: { student_id: 'st_619' }, role: 'foreign student' }])\n  .accessChannel('UI')\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(function (err) {\n\n  });\n```\n\nPromise based\n\n```js\nawait auditLog.read({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'date-of-birth', successful: true })\n  .attachment({ id: 'exam-results-9537' })\n  .attachment({ id: 'recommendations-4381', name: 'file.doc' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  // multiple data subjects can also be provided in array format as following:\n  //  .dataSubjects([{ type: 'student', id: { student_id: 'st_913' }, role: 'foreign student' },\n  //                 { type: 'student', id: { student_id: 'st_619' }, role: 'foreign student' }])\n  .accessChannel('UI')\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log();\n```\n\n\n* `read` - takes a JavaScript object which identifies the object which contains the data being accessed. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name` property and optionally a `successful` property. It is **mandatory** to provide at least one attribute.\n* `attachment(attachment)` - takes an object which describes an attachment (used if attachments or files are downloaded or displayed). Should have an `id` property and optionally a `name` property.\n* `dataSubject` - takes an object describing the owner of the personal data. Should have `type` and `id` properties. The `role` property is optional. `dataSubject` or `dataSubjects` is **mandatory**.\n* `dataSubjects` - takes an array of data subject objects.\n* `accessChannel` - takes a string which specifies *channel* of access.\n* `tenant` - takes a string which specifies the tenant id.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - logs the message.\n\n#### OAuth2 Plan\n\n```js\nauditLog.read({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'date-of-birth', successful: true })\n  .attachment({ id: 'exam-results-9537' })\n  .attachment({ id: 'recommendations-4381', name: 'file.doc' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  // multiple data subjects can also be provided in array format as following:\n  //  .dataSubjects([{ type: 'student', id: { student_id: 'st_913' }, role: 'foreign student' },\n  //                 { type: 'student', id: { student_id: 'st_619' }, role: 'foreign student' }])\n  .accessChannel('UI')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(function (err) {\n\n  });\n```\n\nPromise based\n```js\nawait auditLog.read({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'date-of-birth', successful: true })\n  .attachment({ id: 'exam-results-9537' })\n  .attachment({ id: 'recommendations-4381', name: 'file.doc' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  // multiple data subjects can also be provided in array format as following:\n  //  .dataSubjects([{ type: 'student', id: { student_id: 'st_913' }, role: 'foreign student' },\n  //                 { type: 'student', id: { student_id: 'st_619' }, role: 'foreign student' }])\n  .accessChannel('UI')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log();\n```\n\n* `read` - takes a JavaScript object which identifies the object which contains the data being accessed. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name` property and optionally a `successful` property. It is **mandatory** to provide at least one attribute.\n* `attachment(attachment)` - takes an object which describes an attachment (used if attachments or files are downloaded or displayed). Should have an `id` property and optionally a `name` property.\n* `dataSubject` - takes an object describing the owner of the personal data. Should have `type` and `id` properties. The `role` property is optional. `dataSubject` or `dataSubjects` is **mandatory**.\n* `dataSubjects` - takes an array of data subject objects.\n* `accessChannel` - takes a string which specifies *channel* of access.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - logs the message.\n\n### Data modification messages\n\n#### Standard Plan (deprecated)\n\n```js\nvar message = auditLog.update({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'town', old: 'Birmingham', new: 'London' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nmessage.logPrepare(function (err) {\n  message.logSuccess(function (err) { });\n  // or\n  message.logFailure(function(err) { });\n});\n```\n\nPromise based\n```js\nvar message = await auditLog.update({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'town', old: 'Birmingham', new: 'London' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nawait message.logPrepare();\nawait message.logSuccess();\n// or\nawait message.logFailure();\n```\n\n* `update` - takes a JavaScript object which identifies the object which contains the data being updated. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name` property and optionally - `old` and `new` properties. It is **mandatory** to provide at least one attribute.\n* `dataSubject` - takes an object describing the owner of the personal data. Should have `type` and `id` properties. The `role` property is optional. `dataSubject` is **mandatory**.\n* `tenant` - takes a string which specifies the tenant id.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `at(time)` - sets a custom timestamp for event time.\n* `logPrepare` - Used to log that a user has started an operation over the data.\n* `logSuccess` - Used to log that the operation over the data has been completed successfully.\n* `logFailure` - Used to log that the operation over the data has not been completed successfully.\n\n#### OAuth2 Plan\n\n```js\nvar message = auditLog.update({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'town', old: 'Birmingham', new: 'London' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nmessage.logPrepare(function (err) {\n  message.logSuccess(function (err) { });\n  // or\n  message.logFailure(function(err) { });\n});\n```\n\nPromise based\n```js\nvar message = await auditLog.update({ type: 'online system', id: { name: 'Students info system', module: 'Foreign students' } })\n  .attribute({ name: 'status' })\n  .attribute({ name: 'town', old: 'Birmingham', new: 'London' })\n  .dataSubject({ type: 'student', id: { student_id: 'st_123' }, role: 'foreign student' })\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nawait message.logPrepare();\nawait message.logSuccess();\n// or\nawait message.logFailure();\n```\n\n* `update` - takes a JavaScript object which identifies the object which contains the data being updated. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name` property and optionally - `old` and `new` properties. It is **mandatory** to provide at least one attribute.\n* `dataSubject` - takes an object describing the owner of the personal data. Should have `type` and `id` properties. The `role` property is optional. `dataSubject` is **mandatory**.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `logPrepare` - Used to log that a user has started an operation over the data.\n* `logSuccess` - Used to log that the operation over the data has been completed successfully.\n* `logFailure` - Used to log that the operation over the data has not been completed successfully.\n\n### Configuration change messages\n\n#### Standard Plan (deprecated)\n\n```js\nvar message = auditLog.configurationChange({ type: 'online system', id: { name: 'Students info system', configuration: 'global-config' } })\n  .attribute({ name: 'session timeout', old: '5', new: '25' })\n  .tenant('tenantId')\n  .by('Application Admin')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nmessage.logPrepare(function (err) {\n  message.logSuccess(function (err) { });\n  // or\n  message.logFailure(function(err) { });\n});\n```\n\nPromise based\n\n```js\nvar message = await auditLog.configurationChange({ type: 'online system', id: { name: 'Students info system', configuration: 'global-config' } })\n  .attribute({ name: 'session timeout', old: '5', new: '25' })\n  .tenant('tenantId')\n  .by('Application Admin')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nawait message.logPrepare();\nawait message.logSuccess();\n// or\nawait message.logFailure();\n```\n\n* `configurationChange` - takes a JavaScript object which identifies the object which contains the data being configured. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name`, `old` and `new` properties. It is **mandatory** to provide at least one attribute.\n* `tenant` - takes a string which specifies the tenant id.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `at(time)` - sets a custom timestamp for event time.\n* `logPrepare` - Used to log that a user has started a configuration change operation.\n* `logSuccess` - Used to log that the operation has been completed successfully.\n* `logFailure` - Used to log that the operation has not been completed successfully.\n\n#### OAuth2 Plan\n\n```js\nvar message = auditLog.configurationChange({ type: 'online system', id: { name: 'Students info system', configuration: 'global-config' } })\n  .attribute({ name: 'session timeout', old: '5', new: '25' })\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nmessage.logPrepare(function (err) {\n  message.logSuccess(function (err) { });\n  // or\n  message.logFailure(function(err) { });\n});\n```\nPromise based\n```js\nvar message = await auditLog.configurationChange({ type: 'online system', id: { name: 'Students info system', configuration: 'global-config' } })\n  .attribute({ name: 'session timeout', old: '5', new: '25' })\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z');\n\nawait message.logPrepare();\nawait message.logSuccess();\n// or\nawait message.logFailure();\n```\n* `configurationChange` - takes a JavaScript object which identifies the object which contains the data being configured. Should have `type` and `id` properties.\n* `attribute(attribute)` - takes an object which describes an attribute. Should have a `name`, `old` and `new` properties. It is **mandatory** to provide at least one attribute.\n* `by` - takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**.\n* `tenant` - takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `at(time)` - sets a custom timestamp for event time.\n* `logPrepare` - Used to log that a user has started a configuration change operation.\n* `logSuccess` - Used to log that the operation has been completed successfully.\n* `logFailure` - Used to log that the operation has not been completed successfully.\n\n### General security messages\n\n#### Standard Plan (deprecated)\n\n```js\nauditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .externalIP('127.0.0.1')\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(function (err) {\n  });\n```\nPromise based\n```js\nawait auditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .externalIP('127.0.0.1')\n  .tenant('tenantId')\n  .by('John Doe')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log();\n```\n\n* `securityMessage` - takes a formatted string as in [util.format()](https://nodejs.org/api/util.html#util_util_format_format_args).\n* `externalIP` - states the IP of the machine that contacts the system. Specifying it is optional, but if provided, should be either IPv4 or IPv6.\n* `by` - takes a string which identifies the *user* performing the action. This is **mandatory**.\n* `tenant` - takes a string which specifies the tenant id.\n* `at(time)` - sets a custom timestamp for event time.\n* `log` - logs the message.\n\n#### OAuth2 Plan\n\n```js\nauditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .externalIP('127.0.0.1')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log(function (err) {\n\n  });\n```\nPromise based\n```js\nawait auditLog.securityMessage('%d unsuccessful login attempts', 3)\n  .externalIP('127.0.0.1')\n  .tenant('$PROVIDER') // or .tenant('$SUBSCRIBER', subdomain)\n  .by('$USER')\n  .at(42 || new Date() || '1970-01-01T00:00:00.042Z')\n  .log();\n```\n\n* `securityMessage` - takes a formatted string as in [util.format()](https://nodejs.org/api/util.html#util_util_format_format_args).\n* `externalIP` - states the IP of the machine that contacts the system. Specifying it is optional, but if provided, should be either IPv4 or IPv6.\n* `by` -  takes a fixed string '$USER' that is a placeholder replaced by the service. This is **mandatory**. `subdomain` is an optional value used only with '$SUBSCRIBER'.\n* `tenant` -  takes a specific string placeholder ('$PROVIDER' or '$SUBSCRIBER') that is replaced by the service. This is **mandatory**.\n* `at(time)` - sets a custom timestamp for event time.f\n* `log` - logs the message.\n\n## OAuth2 User Token Exchange\n\nIn order to make full use of the OAuth2, you will need to provide a **SecurityContext** to the library to be able to exchange user tokens to create auditlog entries on their behalf. To understand how to create a **SecurityContext**, please review [*@sap/xssec* library](https://www.npmjs.com/package/@sap/xssec).\n\n### v1\n\n```js\nvar xssec = require('@sap/xssec');\nlet auditlog;\n\n// access_token = user access token.\n\nxssec.createSecurityContext(access_token, xsuaa, function(error, securityContext, tokenInfo) {\n    if (error) {\n        console.log('Security Context creation failed');\n        return;\n    }\n    auditlog = require('@sap/audit-logging')(auditLogCreds, securityContext)\n});\n```\n\n### v2\n\n```js\nvar xssec = require('@sap/xssec');\nvar auditLogging = require('@sap/audit-logging');\nlet auditlog;\n\n// access_token = user access token.\n\nxssec.createSecurityContext(access_token, xsuaa, function(error, securityContext, tokenInfo) {\n    if (error) {\n        console.log('Security Context creation failed');\n        return;\n    }\n    auditLogging.v2(auditLogCreds, securityContext, (err, auditlog) => {\n      auditLog = auditlog;\n    })\n});\n```\n\n## Local development\n\n### Without Audit log service\n\n```js\nvar credentials = {\n  logToConsole: true\n};\nvar auditLog = require('@sap/audit-logging')(credentials);\n\n// or\n\nrequire('@sap/audit-logging').v2(credentials, function (err, auditLog) {\n\n});\n```\n\nWhen `logToConsole` is `true` the library will ignore other credential properties and will not use the Audit log service,\nbut will write the messages to the console.\n\n**Hint:** If you use the *@sap/xsenv* package, you can pass the credentials through the *default-services.json* file\nor `VCAP_SERVICES` environment variable.\n\n### With Audit log service\n\nIf your application is not deployed in Cloud Foundry or XS Advanced,\nbut you have a running Audit log service somewhere, you should set the `VCAP_APPLICATION` environment variable to a string like\n`{ \"application_name\" : \"my-app\", \"organization_name\" : \"my-org\", \"space_name\" : \"my-space\" }`\n\n**Hint:** If you use the *@sap/xsenv* package, you can set environment variables like this:\n\n```js\nvar xsenv = require('@sap/xsenv');\n\nxsenv.loadEnv();\nvar credentials = xsenv.getServices({ auditlog: 'auditlog-instance-name' }).auditlog;\nvar auditLog = require('@sap/audit-logging')(credentials);\n```\n\n*default-env.json* file:\n\n```json\n{\n  \"VCAP_APPLICATION\": {\n    \"application_name\" : \"my-app\",\n    \"organization_name\" : \"my-org\",\n    \"space_name\" : \"my-space\"\n  },\n\n  \"VCAP_SERVICES\" : {\n    \"auditlog\" : [ {\n      \"name\" : \"auditlog-instance-name\",\n      \"credentials\" : {\n        \"password\" : \"password\",\n        \"user\" : \"user\",\n        \"url\" : \"https://host:port\"\n      }\n    } ]\n  }\n}\n```\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 6.0.0 - 2024-02-08\n\n### Removed\n- Node.js 12.x, 14.x, 16.x support\n\n## 5.8.4 - 2024-01-02\n\n### Fixed\n- Fix BaseMessage property\n\n## 5.8.3 - 2024-01-02\n\n### Updated\n- Updated *xssec* to v3.6.1\n\n## 5.8.2 - 2023-12-06\n\n### Updated\n- Updated *xssec* to v3.6.0\n\n## 5.8.1 - 2023-11-16\n\n### Updated\n- Updated *xssec* to v3.5.0\n- Updated *node-cache* to v5.1.2\n- Updated *node-fetch* to v2.7.0\n\n## 5.8.0 - 2023-11-08\n\n### Added \n- Added nodejs v20 support\n\n## 5.7.4 - 2023-11-01\n\n### Fixed \n- Removed npm prune from prerelease script\n\n## 5.7.3 - 2023-10-30\n\n### Updated\n- Updated *xssec* to 3.4.0\n\n## 5.7.2 - 2023-10-05\n\n### Updated\n- Updated *xssec* to 3.3.5\n- Updated *hdbext* to 8.0.0\n\n\n## 5.7.1 - 2023-07-10\n\n### Updated\n- Updated *debug* to 4.3.4\n\n## 5.7.0 - 2023-01-26\n\n### Added\n- Promisified functionality\n- README file added promise based examples \n\n### Updated\n- Updated xssec to v3.2.17\n- Updated hdbext to v7.7.2\n- README file changed with a clarifying note for clients\n\n## 5.6.3 - 2023-01-10\n\n### Updated\n- Updated xssec to v3.2.15\n- Updated hdbext to v7.7.1\n  \n\n## 5.6.2 - 2022-11-01\n\n### Added\n- Node.js 18.x support\n\n## 5.5.7- 2022-10-21\n- Set deprecated tag for V1 API methods.\n\n### Updated\n- Updated error handling for 404 HTML error.\n\n## 5.5.6- 2022-10-10\n\n### Updated\n- Add middleware.js into package.json\n\n## 5.5.5- 2022-08-15\n\n### Updated\n- README file changed with a clarifying note for clients\n\n## 5.5.4- 2022-06-10\n\n### Updated\n- Updated devDep async to 3.2.4\n\n## 5.5.3- 2022-04-06\n\n### Changed\n- changed istanbul test framework with c8\n\n## 5.5.2 - 2022-03-22\n\n### Updated\n- Remove certificate forwarding to Auditlog service.\n\n## 5.5.1 - 2022-03-01\n\n### Fixed\n- - Updated xssec to v3.2.13\n\n## 5.5.0 - 2022-01-28\n\n### Added\n- Node.js 16.x support\n\n### Fixed\n- Updated *@sap/hdbext* to 7.6.0\n- Updated *debug* to 4.3.3\n\n## 5.4.0 - 2022-01-03\n\n### Updated\n- Documentation with new usage for tenant() when providing subdomain.\n\n### Fixed\n- $SUBSCRIBER option can now be properly used by providing a subdomain in tenant().\n\n## 5.3.0 - 2021-11-22\n\n### Added\n- Added mTLS support.\n- Custom Timestamp functionality via .at() method for messages.\n\n### Updated\n- Documentation with mTLS support guidelines.\n- Documentation with custom timestamp usage.\n- *@sap/xssec* library to v3.2.10.\n\n## 5.2.0 - 2021-10-08\n\n### Added\n- Added express middleware functionality.\n\n### Updated\n- Documentation with express middleware usage steps.\n\n## 5.1.0 - 2021-08-12\n\n### Added\n- Added support for OAuth2 plan\n- Added support for SecurityContext with OAuth2 (and user token exchange)\n\n## 5.0.0 - 2021-03-09\n\n### Fixed\n- Replaced *request* with *node-fetch* 2.6.1\n- Replaced *requestretry* with *fetch-retry* 4.1.0\n\n## 4.2.0 - 2021-02-22\n\n### Added\n- Node.js 14.x support\n\n### Fixed\n- Updated *@sap/hdbext* to 7.1.3\n- Updated *lodash* to 4.17.21\n\n## 4.1.0 - 2021-02-12\n\n### Added\n- Added support for passing HTTP(s) request agent options to the Service transport.\n  This feature is experimental and is therefore not documented. It may be changed or removed anytime.\n\n## 4.0.0 - 2021-02-09\n\n### Fixed\n- Update devdeps\n- Update debug to 4.2.0\n- Update requestretry to 4.1.1\n- Allow empty strings in objectWithTypeAndId (utils.js) check\n\n### Removed\n- Node.js 6.x support\n\n## 3.2.0 - 2020-08-10\n\n### Added\n- Add support for multiple data subjects in Data access messages, v2 API\n\n## 3.1.1 - 2020-07-27\n\n### Fixed\n- Update dependencies\n\n## 3.1.0 - 2019-12-06\n\n### Added\n- Node.js 12.x support\n- Retry logic when accessing the auditlog\n\n### Fixed\n- Update dependencies\n\n## 3.0.2 - 2019-07-16\n\n### Fixed\n- Update dev dependencies\n\n## 3.0.1 - 2019-05-17\n\n### Fixed\n- Transactional messages: uuid and time fields are now updated for each log operation\n\n## 3.0.0 - 2019-04-23\n\n### Removed\n- Node.js v0.12 support\n- Node.js v4 support\n\n## 2.3.0 - 2018-12-18\n\n### Added\n- Node.js version 10 support\n\n### Fixed\n- Update `lodash` to 4.17.11\n\n## 2.2.4 - 2018-08-14\n\n### Fixed\n- Update dependencies.\n\n## 2.2.3 - 2018-07-17\n\n### Fixed\n- Update request to v2.87.0.\n\n## 2.2.2 - 2018-05-18\n\n### Fixed\n- Update request to v2.86.0.\n\n## 2.2.1 - 2018-04-05\n\n### Fixed\n- Update dependencies.\n\n## 2.2.0 - 2018-01-23\n\n### Added\n- npm-shrinkwrap.json.\n- Audit log service v2 support.\n\n### Fixed\n- Documentation for data access messages.\n\n## 2.1.1 - 2017-10-13\n\n### Changed\n- Dependencies' versions\n\n## 2.1.0 - 2017-08-08\n\n### Added\n- Support for old and new values in data modification messages.\n- Support for setting a tenant.\n- Support for Node.js v8.\n- Documentation improvements.\n\n## 2.0.1 - 2017-05-30\n\n### Fixed\n- Improved debug messages.\n\n## 2.0.0 - 2017-03-13\n\n### Added\n- The library requires the application to be bound to an instance of the **Audit log service**.\n- Instantiating the library now requires a configuration object containing the `credentials` from the service binding to be provided (see README.md).\n- `configurationChange` method is added to the API (see README.md).\n- `updateConfigurationChange` method is added to the API (see README.md).\n\n### Changed\n- `read`, `update` and `securityMessage` methods have some changes to their argument lists (see README.md).\n\n### Removed\n- `delete` method is removed from the API.\n- `create` method is removed from the API.","downloadsCurrentMonth":149521,"downloadsCurrentFortnight":68425,"downloads365":1930794,"downloadsFortnightGrowth":-8.1,"downloadsHistory":[{"yearMonth":"2023-04","downloads":159124},{"yearMonth":"2023-05","downloads":176787},{"yearMonth":"2023-06","downloads":198084},{"yearMonth":"2023-07","downloads":166817},{"yearMonth":"2023-08","downloads":158024},{"yearMonth":"2023-09","downloads":158618},{"yearMonth":"2023-10","downloads":169770},{"yearMonth":"2023-11","downloads":163286},{"yearMonth":"2023-12","downloads":139448},{"yearMonth":"2024-01","downloads":146866},{"yearMonth":"2024-02","downloads":138854}],"versions":[{"version":"created","date":"2020-06-11T18:52:21.479Z"},{"version":"2.2.2","date":"2020-06-11T18:52:22.298Z"},{"version":"modified","date":"2024-02-08T15:28:52.911Z"},{"version":"3.0.0","date":"2020-06-11T18:52:28.654Z"},{"version":"2.3.0","date":"2020-06-11T18:52:35.291Z"},{"version":"2.2.0","date":"2020-06-11T18:52:42.237Z"},{"version":"2.1.1","date":"2020-06-11T18:52:49.256Z"},{"version":"2.2.4","date":"2020-06-11T18:52:55.466Z"},{"version":"2.1.0","date":"2020-06-11T18:53:01.762Z"},{"version":"1.0.5","date":"2020-06-11T18:53:08.016Z"},{"version":"3.0.2","date":"2020-06-11T18:53:14.383Z"},{"version":"2.2.3","date":"2020-06-11T18:53:20.844Z"},{"version":"3.1.0","date":"2020-06-11T18:53:27.401Z"},{"version":"2.0.0","date":"2020-06-11T18:53:34.438Z"},{"version":"2.0.1","date":"2020-06-11T18:53:41.344Z"},{"version":"3.0.1","date":"2020-06-11T18:53:47.293Z"},{"version":"2.2.1","date":"2020-06-11T18:53:53.555Z"},{"version":"3.1.1","date":"2020-07-27T13:01:34.084Z"},{"version":"3.2.0","date":"2020-09-07T15:29:24.232Z"},{"version":"4.0.0","date":"2021-02-10T07:41:13.566Z"},{"version":"4.1.0","date":"2021-02-12T14:31:28.541Z"},{"version":"4.2.0","date":"2021-02-22T16:25:36.570Z"},{"version":"5.0.0","date":"2021-03-09T14:36:55.294Z"},{"version":"5.1.0","date":"2021-08-16T07:10:28.115Z"},{"version":"5.3.0","date":"2021-11-22T15:33:13.374Z"},{"version":"5.4.0","date":"2022-01-13T14:32:54.193Z"},{"version":"5.4.1","date":"2022-01-21T07:50:53.408Z"},{"version":"5.5.0","date":"2022-01-31T07:55:11.319Z"},{"version":"5.5.1","date":"2022-03-01T12:21:29.408Z"},{"version":"5.5.2","date":"2022-03-23T13:22:34.750Z"},{"version":"5.5.3","date":"2022-04-08T10:10:44.371Z"},{"version":"5.5.4","date":"2022-06-10T13:42:51.508Z"},{"version":"5.5.5","date":"2022-08-18T14:46:44.117Z"},{"version":"5.5.6","date":"2022-10-10T13:14:53.293Z"},{"version":"5.5.7","date":"2022-10-21T15:18:52.322Z"},{"version":"5.6.2","date":"2022-11-02T12:06:39.102Z"},{"version":"5.6.3","date":"2023-01-10T09:33:39.782Z"},{"version":"5.7.0","date":"2023-01-26T12:08:53.188Z"},{"version":"5.7.1","date":"2023-07-11T09:00:35.644Z"},{"version":"5.7.2","date":"2023-10-11T13:33:30.848Z"},{"version":"5.7.3","date":"2023-10-31T12:32:20.361Z"},{"version":"5.7.4","date":"2023-11-01T12:53:08.237Z"},{"version":"5.8.0","date":"2023-11-08T10:14:06.751Z"},{"version":"5.8.1","date":"2023-11-17T08:46:34.345Z"},{"version":"5.8.2","date":"2023-12-06T10:55:29.736Z"},{"version":"5.8.3","date":"2024-01-08T11:00:12.774Z"},{"version":"5.8.4","date":"2024-01-11T12:20:21.097Z"},{"version":"6.0.0","date":"2024-02-08T15:28:52.699Z"}],"npmlink":"https://www.npmjs.com/package/@sap/audit-logging"},{"name":"bas-sdk","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-05-03T20:55:32.495Z","updatedAt":"2024-02-18T13:59:32.214Z","readme":"# SAP Business Application Studio SDK\n\n## Description\n\nAn SDK toolkit for SAP Business Application Studio developers.\n\n## Prerequisites\n\n- [A Long Term Support version of node.js](https://nodejs.org/en/about/releases/)\n\n## Installation\n\nThe bas-sdk repository exposes all the packages located in the \"packages-sdk\" folder.\n\nTo install the relevant SDK with npm, use the following:\n\n```\n  npm install @sap/bas-sdk --save\n```\n","downloadsCurrentMonth":41838,"downloadsCurrentFortnight":29982,"downloads365":1497991,"downloadsFortnightGrowth":168.46,"downloadsHistory":[{"yearMonth":"2023-04","downloads":85254},{"yearMonth":"2023-05","downloads":95603},{"yearMonth":"2023-06","downloads":97804},{"yearMonth":"2023-07","downloads":98779},{"yearMonth":"2023-08","downloads":142461},{"yearMonth":"2023-09","downloads":174097},{"yearMonth":"2023-10","downloads":174093},{"yearMonth":"2023-11","downloads":173437},{"yearMonth":"2023-12","downloads":201403},{"yearMonth":"2024-01","downloads":173366},{"yearMonth":"2024-02","downloads":20407}],"versions":[{"version":"created","date":"2022-05-03T20:55:32.495Z"},{"version":"2.0.0","date":"2022-05-03T20:55:32.788Z"},{"version":"modified","date":"2024-02-18T13:59:32.214Z"},{"version":"2.0.7","date":"2022-06-30T07:09:04.645Z"},{"version":"2.1.0","date":"2022-08-15T09:21:10.509Z"},{"version":"2.1.1","date":"2022-09-29T17:46:43.955Z"},{"version":"2.1.2","date":"2022-10-18T11:47:07.440Z"},{"version":"2.1.5","date":"2022-10-26T12:04:58.737Z"},{"version":"3.1.0","date":"2022-11-09T07:20:56.845Z"},{"version":"3.2.0","date":"2023-03-16T16:48:38.927Z"},{"version":"3.2.1","date":"2023-03-21T10:40:21.702Z"},{"version":"3.3.0","date":"2023-03-29T09:32:27.176Z"},{"version":"3.3.1","date":"2023-05-30T15:19:01.528Z"},{"version":"3.3.2","date":"2023-06-07T19:25:52.941Z"},{"version":"3.4.0","date":"2023-06-27T15:02:20.784Z"},{"version":"3.4.1","date":"2023-07-03T08:56:52.254Z"},{"version":"3.4.2","date":"2023-07-06T13:35:53.971Z"},{"version":"3.4.3","date":"2023-08-09T12:01:50.763Z"},{"version":"3.5.0","date":"2023-09-12T08:25:30.450Z"},{"version":"3.6.0","date":"2023-09-14T11:51:57.014Z"},{"version":"3.7.0","date":"2023-09-26T12:12:59.536Z"},{"version":"3.7.2","date":"2023-11-13T10:09:47.572Z"},{"version":"3.7.4","date":"2023-11-19T09:24:14.117Z"},{"version":"3.7.5","date":"2024-01-01T11:19:08.200Z"},{"version":"3.7.7","date":"2024-01-03T13:02:41.827Z"},{"version":"3.7.8","date":"2024-01-22T15:41:03.048Z"},{"version":"3.7.9","date":"2024-02-12T08:47:45.144Z"},{"version":"3.7.11","date":"2024-02-18T13:59:31.817Z"}],"npmlink":"https://www.npmjs.com/package/@sap/bas-sdk"},{"name":"cds-common-content","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-12-08T10:31:11.204Z","updatedAt":"2024-02-27T16:24:06.684Z","readme":"# CDS Common Content\n\nThis package holds default content based on the ISO specification for the following [CDS common definitions](https://cap.cloud.sap/docs/cds/common):\n\n- [`sap.common.Countries`](https://cap.cloud.sap/docs/cds/common#entity-countries)\n- [`sap.common.Currencies`](https://cap.cloud.sap/docs/cds/common#entity-currencies)\n- [`sap.common.Languages`](https://cap.cloud.sap/docs/cds/common#entity-languages)\n- [`sap.common.Timezones`](https://cap.cloud.sap/docs/cds/common#entity-timezones)\n\n\nThe codes names and descriptions are translated into the most important SAP supported languages.\n\n## Getting Started\n\nInstall this module in your CDS Node.js project:\n  ```sh\n  npm install @sap/cds-common-content --save\n  ```\n\n### Automatic content federation\n\nImport the module in your CDS definition:\n  ```cds\n  using from '@sap/cds-common-content';\n  ```\n\n### Manual content provisioning\n\n- Content CSV files are located in folder `/db/data/`\n- Copy over files to your project structure\n- Manual transformation of files can be applied as required\n\n## Export Control and Sanctions Compliance\n\nSAP software products and services are subject to the export control and sanctions laws of various countries, including without limitation, the laws of Germany, the European Union, and the United States of America.\n\nMore info on countries/regions where SAP products and services are not available for export, reexport, transfer and/or use: https://www.sap.com/about/agreements/export-statements.html\n\n**The default content of this repository excludes restricted countries/regions and their currencies.**\n\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3.1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)\nand this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).\n\n<!-- New version information is automatically added after line 8 -->\n\n## Version 1.4.0 - 2024-02-27\n\n### Added\n\n- Data for `sap.common.Timezones`\n\n### Changed\n\n- Requires `@sap/cds` 7.7 or higher, because of `Timezones` definition\n\n## Version 1.3.1 - 2023-11-21\n\n### Fixed\n\n- More fixes in JA, KO, TH, ZH_TW texts\n\n## Version 1.3.0 - 2023-11-10\n\n### Changed\n\n- Some texts in JA, KO, TH, ZH_TW got longer translated texts, instead of the previously shorter but English texts.\n\n## Version 1.2.0 - 2023-05-12\n\n### Added\n\n- Content for a new `minorUnit` element in `sap.common.Currencies` holding the number of fractions that the minor unit takes (e.g. 0 or 2).\n\n## Version 1.1.0 - 2023-01-09\n\n### Changed\n\n- Changed the description of the croatian currency Kuna from `Croatian Kuna`to `Croatian Kuna (Old --> EUR)` since croatia adopted the euro on the 1st Jan. 2023.\n\n## Version 1.0.1 - 2022-12-07\n\n### Fixed\n\n- Cosmetics in README and `package.json`\n\n## Version 1.0.0 - 2022-12-01\n\n### Fixed\n\n- Removed embargoed countries (Cuba, Iran, North Korea, Syria) and their currencies\n\n## Version 0.2.0 - 2022-09-29\n\n### Added\n\n- External Release\n\n## Version 0.1.1 - 2022-06-29\n\n### Fixed\n\n- Add root `index.cds` for direct import\n- Add test project\n\n## Version 0.1.0 - 2022-06-28\n\n### Added\n\n- Internal Release\n","downloadsCurrentMonth":5859,"downloadsCurrentFortnight":2819,"downloads365":68413,"downloadsFortnightGrowth":3.41,"downloadsHistory":[{"yearMonth":"2023-04","downloads":2906},{"yearMonth":"2023-05","downloads":4020},{"yearMonth":"2023-06","downloads":4647},{"yearMonth":"2023-07","downloads":5278},{"yearMonth":"2023-08","downloads":6296},{"yearMonth":"2023-09","downloads":7791},{"yearMonth":"2023-10","downloads":8205},{"yearMonth":"2023-11","downloads":8636},{"yearMonth":"2023-12","downloads":5560},{"yearMonth":"2024-01","downloads":4692},{"yearMonth":"2024-02","downloads":5355}],"versions":[{"version":"created","date":"2022-12-08T10:31:11.204Z"},{"version":"1.0.1","date":"2022-12-08T10:31:11.464Z"},{"version":"modified","date":"2024-02-27T16:24:06.684Z"},{"version":"1.1.0","date":"2023-03-06T10:16:04.634Z"},{"version":"1.2.0","date":"2023-06-07T08:16:13.529Z"},{"version":"1.3.0","date":"2023-11-09T11:19:11.944Z"},{"version":"1.3.1","date":"2023-11-21T14:53:04.216Z"},{"version":"1.4.0","date":"2024-02-27T16:24:06.044Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-common-content"},{"name":"cds-compiler","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-12T00:07:27.422Z","updatedAt":"2024-02-29T16:05:03.972Z","readme":"# Getting started\n\n<!-- markdownlint-disable MD001 MD022 -->\n##### Table of Contents\n<!-- markdownlint-enable MD001 MD022 -->\n\n[Installation and Usage](#installation-and-usage)  \n[Documentation](#documentation)\n\n## Installation and Usage\n\nInstall with npm:\n\n```\nnpm install \"@sap/cds-compiler\"\n```\n\nOr maintain your package.json dependencies as follows:\n\n```\n  \"dependencies\": {\n    \"@sap/cds-compiler\": \"latest\"\n  }\n```\n\n\n## Documentation\n\nPlease refer to the [official CDS documentation](https://cap.cloud.sap/docs/cds/).\n\n## How to Obtain Support\n\nIn case you find a bug, please report an [incident](https://cap.cloud.sap/docs/resources/#reporting-incidents) on SAP Support Portal.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# ChangeLog for cds compiler and backends\n\n<!-- markdownlint-disable MD024 -->\n<!-- markdownlint-disable MD004 -->\n<!-- (no-duplicate-heading)-->\n\nNote: `beta` fixes, changes and features are usually not listed in this ChangeLog but [here](doc/CHANGELOG_BETA.md).\nThe compiler behavior concerning `beta` features can change at any time without notice.\n\n\n## Version 4.7.6 - 2024-02-29\n\n### Fixed\n\n- OData: Restored compatibility with the Java runtime.\n  Drafts generation was applied twice.\n\n\n## Version 4.7.4 - 2024-02-27\n\n### Fixed\n\n- OData: Fixed infinite recursion in draft handling for nested recursive compositions.\n\n\n## Version 4.7.2 - 2024-02-26\n\n### Fixed\n\n- Restored compatibility with `@sap/cds-dk` for Java runtime\n\n\n## Version 4.7.0 - 2024-02-23\n\n### Added\n\n- compiler: Virtual elements can now be referenced in expressions in annotation\n\n### Changed\n\n- Update OData vocabularies: 'Authorization', 'Common', 'Hierarchy', 'UI'.\n- to.edm(x): `@cds.odata.valuelist` renders all non-key elements of the value help list as `ValueListProperty`.\n\n### Fixed\n\n- CDL parser: a `select` after two or more `(`s in an expression or condition\n  could cause some constructs in that query, such as `virtual`, to be not properly parsed.\n- compiler: published associations with filters sometimes had the filter applied twice\n  if used in inline aspect compositions\n- to.sql|hdi|hdbcds[.migration]:\n  + With `withHanaAssociations`: `false`, remove the association elements from the final CSN in order to correctly detect them during migration scenarios and\n  with generated `hdbcds`.\n  + Skip expensive processing (for calculated elements and nested projections) if the model doesn't use it.\n  + Don't greedily set alias on subqueries if not required.\n  + Remove bound actions and turn all non-database relevant artifacts into dummies to simplify and shrink CSN.\n\n## Version 4.6.2 - 2024-02-02\n\n### Fixed\n\n- compiler: Fix incorrect error about type properties if deprecated flag `ignoreSpecifiedQueryElements` is set.\n- Update OData vocabularies: 'Authorization', 'Common'.\n\n\n## Version 4.6.0 - 2024-01-26\n\n### Added\n\n- compiler: Events can now be projections on other structured events and types.\n- to.cdl: `parseCdl` and `gensrc` style CSN (a.k.a. `inferred` and `xtended`) is now supported as input.\n\n### Changed\n\n- Update OData vocabularies: 'Aggregation', 'Validation'\n- to.sql/hdi/hdbcds: Removed warnings for number and type of keys in draft-enabled entities.\n\n### Fixed\n\n- compiler:\n  + ON-conditions of associations with filters in calculated elements were incorrectly rewritten when included\n    in other entities, and the filter was applied twice in some scenarios.\n  + redirecting an association with filter did not rewrite paths relative to the redirection target.\n  + Unknown type references with an explicit named type argument such as `Unknown(length: 10)` crashed.\n- to.edm(x):\n  + `@Core.IsURL` is not rendered in combination with `@Core.MediaType` (V4 only).\n  + No 'odata-navigation' warning for association targets annotated with `@cds.autoexpose: false`.\n  + No empty annotation in API, when a non-existent base annotation is annotated  \n    (eg. `@Common.Label.@Core.Description` without `@Common.Label`).\n  + Don't crash if value for `$Type` is not a string.\n  + Generated foreign keys of type `cds.UUID` that are also primary key are not annotated with\n    `@Core.ComputedDefaultValue`. This is a follow up correction to [4.5.0](#version-450---2023-12-08)\n\n\n## Version 4.5.0 - 2023-12-08\n\n### Added\n\n- compiler/parser\n  + Annotations can have any expressions as value, like `@Anno: ( ref + 1 )`.\n    References are checked to be valid element references,\n    inherited values might become invalid due to element renaming.\n    This feature is still experimental, and\n    might not be supported by all backends or runtimes at the moment.\n  + A single `annotate` statement can now be used to annotate parameters, elements and\n    bound actions in one statement.\n- to.edm(x): Key elements of type `cds.UUID` are annotated with `@Core.ComputedDefaultValue` if they are\n  defined directly in the entity. Elements of type `cds.UUID` that are defined in a named structured type\n  and used to define a key element are not annotated, instead a warning is raised if such elements are\n  not annotated with `@Core.ComputedDefaultValue`.\n- to.sql|hdi: Add option `withHanaAssociations` which, for sqlDialect `hana`, allows suppressing\n  the generation of the `WITH ASSOCIATIONS`.\n\n### Changed\n\n- Update OData Vocabulary: 'Common'.\n- api: Reject CSN as input in backends, if it is a CSN in flavor `parsed` with a non-empty `requires` array.\n  Reason being that the model is not considered a \"full\" CSN, as dependencies were not resolved.\n\n### Fixed\n\n- compiler:\n  + Fix false positives of cyclic dependencies for calculated elements.\n  + Fix cardinality on source associations when publishing them with a filter (+ different cardinality)\n    in a projection.  The cardinality was incorrectly changed on the source as well.\n- CDL parser:\n  + More numbers that would lose relevant digits due to precision loss are\n    stored as strings in CSN (i.e. `{ \"literal\":\"number\", \"val\": \"1.0000000000000001\" }`).\n  + Nested table expressions and queries in the FROM clause (with surrounding parentheses)\n    could cause some constructs such as `virtual` to be not properly parsed.\n- to.hdi.migration: Don't drop-create the primary key when only a doc-comment has changed.\n- to.cdl: Fix edge case where `@A.![B#]` was not rendered correctly.\n\n### Removed\n\n- to.edm(x): Remove option `--odata-open-type` introduced with [4.4.0](#version-440---2023-11-09).\n\n## Version 4.4.4 - 2023-11-24\n\n### Fixed\n\n- to.hdi.migration: Changes in only `doc`-comments should not result in a drop-create of the primary key.\n\n## Version 4.4.2 - 2023-11-17\n\n### Fixed\n\n- for.odata: Fix crash when using a projection with associations as action parameter type.\n- to.edm(x): `Edm.AnyPropertyPath` is hard to `Edm.PropertyPath`. As there is no dynamic path evaluation,\n  `Edm.NavigationPropertyPath` must be enforced via `$edmJson`.\n  `Edm.AnyPropertyPath` has been used in `@Aggregation.ApplySupported.GroupableProperties` for the first\n  time after vocabulary update with [4.4.0](#version-440---2023-11-09).\n\n## Version 4.4.0 - 2023-11-09\n\n### Added\n\n- compiler: International letters such as `ä` can now be used in CDS identifiers without quoting.\n  Unicode letters similar to JavaScript are allowed.\n- to.edm(x):\n  + Allow to render all complex types within a requested service as `OpenType=true` with option `--odata-open-type`.\n    Explicit `@open: false` annotations are not overwritten.\n  + Allow to annotate the generated draft artifacts but not generated foreign keys (as with any other managed association).\n- to.sql|hdi|hdbcds: Allow annotating the generated `.drafts` tables.\n\n### Changed\n\n- CDL parser: improve error recovery inside structured annotation values\n- Update OData vocabularies: 'Aggregation', 'Common', 'Core', 'Hierarchy', 'ODM', 'UI'.\n\n### Fixed\n\n- parser:\n  + `/**/` was incorrectly parsed as an unterminated doc-comment, leading to parse errors.\n  + Doc-comments consisting only of `*` were not correctly parsed.\n- compiler: do not propagate `default`s in a CSN of flavor `xtended`/`gensrc`.\n- to.hana: Fix various bugs in association to join translation. Support `$self` references\n  in filter expressions.\n- to.edm(x): Omit `EntitySet` attribute on `Edm.FunctionImport` and `Edm.ActionImport` that return\n  a singleton.\n- to.sql|hdi.migration: Improve handling of primary key changes - detect them and render corresponding drop-create.\n\n## Version 4.3.2 - 2023-10-25\n\n### Fixed\n\n- compiler: Fix auto-exposure of composition target entities inside anonymous composition target aspects.\n- to.hana: Fix a bug in association to join translation, expect ON condition operand to be a function without arguments.\n\n## Version 4.3.0 - 2023-09-29\n\n### Added\n\n- compiler: it is possible to publish associations with filters in views.\n  Managed associations become unmanaged ones.  For example:  \n  ```cds\n  entity Proj as projection on Base {\n    assoc[id = 1],\n  };\n  ```\n\n### Changed\n\n- Update OData vocabularies: 'Aggregation', 'Capabilities', 'Common', 'PDF', 'PersonalData', 'UI'.\n\n### Fixed\n\n- parser: Chained methods without arguments such as `b` in `a().b.c()` were lost.\n- compiler:\n  + Type arguments in `cast()` functions, whose column also has an explicit type set, were not\n    properly checked.  Now the `cast()`s type and type arguments are checked.\n  + SQL function `STDDEV(*)` was not parsable.\n  + In views, published association's ON-conditions containing `$projection` are now rewritten\n    to `$self` in the CSN `elements` property.  This ensures recompilability of the CSN.\n\n## Version 4.2.4 - 2023-09-14\n\n### Fixed\n\n- OData: For compatibility with the Java runtime, don't prepend table aliases to column aliases unless necessary.\n\n## Version 4.2.2 - 2023-08-31\n\n### Fixed\n\n- to.sql|hdi.migration: Fix bug that caused a migration to be rendered for the HANA CDS types that were removed from the CSN\n\n## Version 4.2.0 - 2023-08-29\n\n### Added\n\n- Compiler:\n  + Option `moduleLookupDirectories: [ 'strings' ]` can be used to specify additional module lookup\n    directories, similar to `node_modules/`.\n  + LIMIT and OFFSET clauses can now contain expressions, including parameter references.\n- to.edm(x):\n  + Detect spec violation `scale` > `precision`.\n- to.sql/for.odata:\n  + With the new option `fewerLocalizedViews: true|false`, an entity/view will not get a localized convenience\n    view, if it only has associations to localized entities/views.  Only if there is actually a localized\n    element (e.g. new localized element or reference to one), will it get a convenience view.\n- to.sql\n  + In a localized scenario, create foreign key constraints for the generated `.texts` entities.\n  + Casting `null` to a structure such as `null as field : StructT` is now supported.  For each leaf element,\n    an additional `null as field_name` column is added.\n\n### Changed\n\n- Compiler:\n  + Selecting fields of structures or associations (without filters) are now candidates for ON-condition\n    rewrites: It is no longer necessary to select the struct/association directly.\n  + Consistently handle the case when type elements are defined to be a `key`:\n    the `key` property is not only preserved with `includes`, but also in other cases.\n    Use option `deprecated.noKeyPropagationWithExpansions` to switch to the v3 behavior.\n  + When including aspects or entities into structured type definitions,\n    do not add actions to the type.\n  + An `annotate` statement in the `extensions` section of a CSN now consistently uses the\n    `elements` property even if the `annotate` is intended to be used for an enum symbol.\n    Before v4.2, the compiler has used the `enum` property in a CSN of flavor `xtended`\n    (`gensrc`) if it was certain that it was to be applied to an enum symbol.\n- to.cdl: If a definition has an `actions` property, an `actions {…}` block is now always rendered,\n  and is not ignored if empty.\n- to.sql:\n  + For SQL dialect \"sqlite\", `cds.DateTime` is now rendered as `DATETIME_TEXT` instead of `TIMESTAMP_TEXT`.\n  + Casting a literal (except `null`) to a structure now yields a proper error.\n  + `.texts` entities annotated with `@cds.persistence.skip` (without their original entity having that annotation)\n    lead to deployment issues later.  It is now an error.\n\n### Fixed\n\n- Compiler:\n  + Reject invalid reference in the `on` of `join`s already while compiling,\n    not just when calling the (SQL) backend.\n  + Correct the calculation of annotation assignments on the return structure of actions\n    when both `annotate … with {…}` and `annotate … with returns {…}` had been used\n    on the same structure element.  Ensure that it works when non-applied, too.\n  + Do not remove or invent `actions` properties with zero actions or functions in it.\n  + Correct auto-redirection of direct cycle associations: if the source and target of a\n    model association are the same entity, and the main artifact of the service association\n    based on the model association is a suitable auto-redirection target, then use it\n    as new target, independently from the value of `@cds.redirection.target`.\n- to.cdl: Indirectly structured types (`type T: Struct;`) with `includes` (`extend T with T2;`), are now properly rendered.\n- to.sql/hdi/hdbcds:\n  + Views on views with parameters did not have localized convenience views based on\n  other localized views (missing `localized.` prefix in FROM clause)\n  + Run less checks on entities marked with `@cds.persistence.exists`\n  + Correctly render SELECT items where the column name conflicts with a table alias\n- to.sql: Casting expressions to a structured type yields a proper error instead of strange compiler error.\n- to.edm(x):\n  + Don't expand `@mandatory` if element has an annotation with prefix `@Common.FieldControl.`.\n  + Fix a bug when referencing nested many structures, especially referring to a managed association via\n  `$self` comparison.\n  + Improve handling of non-collection annotation values for collection-like vocabulary types.\n  + Don't render `Scale: variable` for `cds.Decimal(scale:0)`.\n- to.sql|hdi.migration:\n  + Fixed a bug that caused rendering of `ALTER` statements to abort early and not render some statements.\n  + CSN output now only contains real `cds` builtins, no early remapping to HANA CDS types or similar.\n- to.sql.migration: Don't drop-create views marked with `@cds.persistence.exists`\n\n### Removed\n\n## Version 4.1.2 - 2023-07-31\n\n### Fixed\n\n- to.hdi.migration: Changes in constraints are not rendered as part of the .hdbmigrationtable file,\n  as they belong in other HDI artifacts\n\n## Version 4.1.0 - 2023-07-28\n\n### Added\n\n- Calculated elements \"on-read\" can now reference localized elements.\n- Aliases for columns inside sub-queries are now optional, also for expressions.\n- for.odata/to.hdi/to.sql: Specified default value on a managed association is forwarded to a foreign key\n  if association has exactly one foreign key.\n- CDL: Annotation-only aspects having no `elements` and `actions` can now be defined with\n  the CDL syntax `@Anno… aspect Name;`.  They cannot be extended with elements or actions\n  in order to ensure that they can always be used to extend non-structures.\n  To allow the former but not the latter, use `@Anno… aspect Name {…};`.\n- to.sql: Support session variables for h2\n\n### Changed\n\n- api: Function `isInReservedNamespace(name)` handles name `cds` as being in a reserved namespace as well.\n- `CompilationError.messages` are now sorted severity aware. Errors are listed first.\n- Compiler:\n  + Improve the calculation of semantic code completion candidates.\n  + Some checks, like those for valid `on` conditions of associations,\n    are now already done with `compile` and not just the backends.\n  + SQL `cast()`s must always have a `type` property\n  + Type properties such as `precision` or `length` must be accompanied by a type (possibly inferred).\n- for.odata/to.hdi/to.sql: No longer reject unmanaged associations as foreign keys of a managed association.\n  Instead, ignore such references during ON-condition rewriting and foreign key generation. Referring to\n  unmanaged associations is incompatible with SAP HANA CDS naming mode 'hdbcds'.\n- to.sql: Rework session variables for postgres.\n- Update OData vocabularies: 'Common', 'HTML5', 'PersonalData', 'UI'.\n\n### Fixed\n\n- Compiler:\n  + ensure that annotations of elements in anonymous aspects of managed compositions\n    are not lost.\n  + issue error for definitions like `entity Self as projection on Base { $self.* };`\n    instead of simply concluding that the projection has zero elements.\n  + do not report a invalid cyclic dependency if associations between two entities\n    are valid cycles.\n  + Element type references can again follow associations (removed v4.0 incompatibility).\n- to.sql:\n  + `$self` references inside a nested projection using `$self` was incorrectly resolved.\n  + associations to entities marked with `@cds.persistence.skip` were not properly\n    checked inside nested projections.\n  + Select items casting `null` to an arrayed type work again, e.g. `null as ManyType`.\n- to.sql/hdi/hdbcds: Raise a nice error message for `@sql.append` on managed associations/compositions,\n  as we do for structured error messages.\n- to.cdl: Annotations with multiple qualifiers (`#`) are now rendered correctly.\n- to.edm(x): Revert change introduced with [3.9.0](#version-390---2023-04-20)\n    \"Correct referential constraint calculation for `[0..1]` backlink associations\".\n- for.odata: Process shortcut annotations sequence independent.\n- to.sql.migration:\n  + Respect unique and referential constraints for delta calculation.\n  + Added a configurable error for primary key additions, as those will lead to errors if the table\n    contains data. This could lead to inconsistent states if\n    some deployments succeed and others fail, so by default it is an error.\n\n### Removed\n\n- Compiler:\n  + forbid wildcards in projection extensions: `extend … with columns { * )`.\n  + forbid column references such as `$user.*`, `$user.{id}` and `$user {id}`.\n\n## Version 4.0.2 - 2023-06-22\n\n### Fixed\n\n- to.sql.migration: When drop-creating views, also drop-create (transitively) dependent views.\n- to.edm(x):\n  + Forward `@odata.singleton { nullable }` annotation to parameter entity.\n  + Annotations assigned to a parameterized entity are propagated to the parameter entity if the annotation is\n    applicable to either an `edm.EntitySet` or `edm.Singleton`. This especially covers all `@Capabilities` and their\n    shortcut forms like `@readonly` and `@insertonly`. The original annotation is not removed from the original entity.\n    Annotations that should be rendered at the parameter `edm.EntityType` can be qualified with `$parameters`.\n    Explicitly qualified annotations are removed from the original entity allowing individual assignments.\n\n\n## Version 4.0.0 - 2023-06-06\n\n### Added\n\n- Calculated elements \"on-write\" are now supported, e.g. `elem = field + 1 stored;` will be rendered in SQL\n  as `GENERATED ALWAYS AS`.\n- compiler:\n  + `returns` of actions and functions can now be annotated, e.g.\n\n    ```cds\n    action A() returns @direct { … };\n    annotate A with returns {\n      @anno val;\n    }\n    ```\n  + It is now possible to use `*/` inside doc comments by escaping it `*\\/`.  Only this exact string can be escaped.\n  + Functions `parse.expr` and `parse.cql` now support `group by`, `having`, `order by`, `limit`, and `offset` in infix filters.\n  + In expressions, you can now use function names after the `new` keyword which do\n    not start with `st_`, if the name is followed by an open parenthesis.\n\n### Changed\n\n- API:\n  + `messageContext()` is now deprecated; use `messageStringMultiline()` instead with `config.sourceMap`.\n  + `messageString(err, config)` has a new signature; the old one is still supported for backward compatibility.\n  + Option `docComment: false` now removes doc comments during compilation even for CSN.\n    If this option is not defined, doc comments are checked, but not put into CSN.\n- compiler:\n  + CSN: Specified elements of queries are now resolved and checked (previously ignored except for annotations).\n    Type properties (`length`, …) and some element properties are now taken from the specified elements\n    instead of relying only on the elements inferred by the compiler.\n  + CSN: Compiler accepts CSN input with CSN version `0.1.0` (produced by cds-compiler version 1.10.0 and older)\n    only if the version attribute is properly set, i.e. `\"version\": {\"csn\": \"0.1.0\"}`.\n  + CSN: Type properties (`length`, `precision`, `scale`, and `srid`) next to `elements` or `items` in CSN input\n    is now an error.  Previously ignored.\n  + An extension of the form `extend Def with { name = 42 };` is now represented in parsed CSN as\n    adding a calculated element.\n  + `having` as the first word in an infix filter is now interpreted as keyword. Write `![having]`\n    to have it parsed as identifier.\n  + If a definition overrides elements of an included definition, it is sorted according\n    to the included definition's element order.  This is similar to how `*` works in projections.\n    It is no longer possible to overwrite a scalar element with a structure and vice versa.\n  + Two included definitions cannot have the same element. The including entity must override the element.\n  + If a type with properties precision and scale is extended, the `extend` statement must extend both properties.\n  + `annotate E:elem with actions {};` is now a parser error and no longer a compiler error.\n    Only relevant if you use `parseCdl`-style CSN.\n  + Annotations (and other properties) are now propagated to `returns` as well, if the returned artifact\n    is a non-entity, e.g. a type.\n  + `annotate E with returns {…}` is now only applied to actions/functions. Previous compiler versions\n    autocorrected the `annotate` statements to apply them to an entity's elements.\n  + Calculated elements can't refer to localized elements.\n  + Table aliases can't be used in `extend Query with columns {…}` any longer. Use direct element references instead.\n  + Table alias and mixin names can no longer start with `$`. Choose a different name. With this change\n    we avoid unexpected name resolution effects in combination with built-in `$`-variables.\n  + A semicolon is now required after a type definition like `type T : many {} null`.\n  + Message ID `duplicate-autoexposed` was changed to `def-duplicate-autoexposed`.\n  + Bare `$projection` are rejected. Use `$self` instead.\n- Update OData vocabularies 'Common', 'UI'.\n- to.sql:\n  + Change default `length` for `cds.String` for all SQL dialects except `hana` to 255.\n  + for the sql dialect `postgres`, the `ON DELETE RESTRICT` / `ON UPDATE RESTRICT` rules\n    are omitted from the referential constraint definitions.\n- to.cdl:\n  + If associations are used inside `items`, an error is emitted instead of rendering invalid CDL.\n  + `items` inside `items`, where the outer one does not have a `type`, is now always an error,\n    because it can't be rendered in CDL\n\n### Fixed\n\n- compiler:\n  + `parseCdl` CSN did not include correct `...` entries for annotations containing `... up to`\n  + Type references inside calculated elements were not always correctly resolved.\n  + `USING` empty files were incorrectly marked as \"not found\".\n  + Correct the handling of `$self` references in nested projections and filters in queries.\n  + If an association was inside `items`, e.g. via type chains, the compiler crashes instead of emitting proper errors.\n  + References in the user-provided `on` conditions of associations with a to be\n    auto-redirected model entity as target were not always resolved correctly.\n    Complain in error situations.\n  + Make extend code robust against prototype-polluted JS classes.\n- Localized convenience views for projections (not views) did not have references rewritten.\n  This only affects CSN, the SQL result was correct.\n- Calculated elements in composition-of-aspect lost their `value` when generating composition targets.\n- to.sql/to.hdi/for.odata: Foreign keys in ON-conditions were not always properly checked and flattened if explicit\n  `keys` were provided that reference structures.\n- Extending bound actions with elements is not possible, but was not reported by the compiler and elements were silently lost.\n- for.odata:\n  + Don't propagate `@odata { Type, MaxLength, Precision, Scale }` from structured to flattened leaf elements.\n  + Remove `type: null` attribute from element definitions referencing an undefined type via `type of`.\n- to.edm(x):\n  + Don't reject untyped properties that are API typed with a valid `@odata.Type` annotation.\n  + Render correct `EntitySetPath` and annotation target path for actions/functions with explicit binding parameter.\n- to.cdl: ParseCdl-style CSN containing annotations with `...` were not properly rendered.\n\n### Removed\n\n- NodeJs 14 is no longer supported.\n- `CompileMessage` no longer has property `location`, which was deprecated in v2.1.0, but `$location`,\n  which is supported since v2.1.0\n- compiler:\n  + It is no longer possible to write `type of $self.‹elem›` to refer to the element `‹Def›.‹elem›`\n    where `‹Def›` is the main artifact where the type expression is embedded in. Replace by `type of <Def>:‹elem›`.\n  + Element type references can no longer follow associations, i.e. `E:assoc.id` is not allowed\n    (v4.0 only, re-introduced with v4.1).\n  + \"Smart type references\" such as `Entity.myElement` instead of `Entity:myElement`\n    are removed, because since - `Entity.myElement` could also be a definition,\n    creating ambiguities. This did not work always, anyway.\n\n## Version 3.9.12 - 2023-12-06\n\n### Fixed\n\n- compiler:\n  + SQL function `STDDEV(*)` was not parsable.\n  + Numbers in scientific notation `-1e1` were sometimes not recognized via CSN input.\n- for.odata: Fix crash when using a projection with associations as action parameter type.\n- for.hana: Fix a bug in association to join translation, expect ON condition operand to be a function without arguments.\n- to.edm(x):\n  + Omit `EntitySet` attribute on `Edm.FunctionImport` and `Edm.ActionImport` that return a singleton.\n  + Don't render `Scale: variable` for `cds.Decimal(scale:0)`.\n- to.sql/hdi/hdbcds: consider `having` predicate for `exists` expansion\n\n## Version 3.9.10 - 2023-08-25\n\n### Fixed\n\n- to.edm(x): Error reporting for incorrect handling of \"Collection()\" has been improved.\n- to.sql/hdi/hdbcds: Views on views with parameters did not have localized convenience views based on\n  other localized views (missing `localized.` prefix in FROM clause)\n- to.sql: Casting expressions to a structured type yields a proper error instead of strange compiler error.\n- to.sql.migration: Don't drop-create views marked with `@cds.persistence.exists` or `@cds.persistence.skip`\n\n## Version 3.9.8 - 2023-08-03\n\n### Fixed\n\n- to.edm(x):\n  + Don't expand `@mandatory` if element has an annotation with prefix `@Common.FieldControl.`.\n  + Fix a bug when referencing nested many structures, especially referring to a managed association via\n  `$self` comparison.\n- to.sql/hdi/hdbcds: Detect navigation into arrayed structures and raise helpful errors instead of running into internal errors.\n\n## Version 3.9.6 - 2023-07-27\n\n### Fixed\n\n- to.edm(x): Revert change introduced with [3.9.0](#version-390---2023-04-20)\n    \"Correct referential constraint calculation for `[0..1]` backlink associations\".\n- for.odata: Process shortcut annotations sequence independent.\n\n## Version 3.9.4 - 2023-06-07\n\n### Fixed\n\n- compiler: `USING` empty files were incorrectly marked as \"not found\".\n- Localized convenience views for projections (not views) did not have references rewritten.\n  This only affects CSN, the SQL result was correct.\n- to.edm(x): Render correct EntitySetPath and annotation target path for actions/functions\n  with explicit binding parameter.\n\n## Version 3.9.2 - 2023-04-27\n\n### Fixed\n\n- Fix crash in core compiler which occurred when CAP was used in a node environments\n  where an enumerable property was added to `Array.prototype`.\n- to.edm(x):\n  + Publicly release `@open`.\n  + No `DefaultValue` for `Edm.NavigationProperty`.\n\n## Version 3.9.0 - 2023-04-20\n\n### Added\n\n- Variables `$valid.from` and `$valid.to` have been added to the compiler.\n  They behave the same as `$at.from` and `$at.to`.\n- to.edm(x):\n  + Add `--odata-vocabularies` to pass a dictionary `{ <prefix>: { Alias, Namespace, Uri } }`\n    into the EDM generation. `<prefix>` must match the value of `Alias`. Entries are ignored\n    if they are incomplete, malformed, redefine an official OASIS/SAP vocabulary or match the name\n    of the current service. Annotations of the form `@<prefix>.<annotation>` are added to the API\n    without evaluation including an `edm:Reference`. It is in the users responsibility to provide\n    a URI that a client can resolve against a valid vocabulary document.\n  + Support annotation `@open` on entity and structured type level to declare the corresponding\n    entity/complex type to be `OpenType=true`. If an open structured type is declared closed\n    (with a falsy annotation value), the corresponding EDM type is closed as well and suffixed\n    with `_closed` (or `_open` vice versa).\n    No further checks are performed on possibly open foreign or primary key types nor on eventually\n    bucket elements to store the additional data.\n\n### Changed\n\n- compiler: Parameter references in filters such as `assoc[field < :Param]` are now allowed.\n- In the compiled CSN, sort the non-enumerable `$sources` property\n  according to the reversed layered extension order.\n- Update OData vocabulary 'Common', 'ODM', 'UI'.\n- to.cdl: If an identifier contains illegal characters (e.g. newline), we no longer produces\n  invalid CDL, but emit an error instead.\n\n### Fixed\n\n- to.edm(x):\n  + Fix spec requirement: \"Navigation properties of complex types MUST NOT specify a partner\".\n  + Set default target cardinality for unspecified `composition of {}` to `[0..1]`.\n  + Correct referential constraint calculation for `[0..1]` backlink associations.\n- for.hana/for.odata: Reject final unmanaged assoc path step in ON Condition if preceded with `$self`.\n- to.cdl: Parentheses around expressions containing conditions were sometimes missing.\n- to.sql/hdi/hdbcds:\n  + Detect and process calculated elements in functions like `upper`.\n  + Better detection of calculated elements in `.expand`/`.inline`.\n  + Entities with calculated elements sometimes had incorrect types. This happened, for example,\n    if they were marked with `@odata.draft.enabled`\n\n## Version 3.8.2 - 2023-03-30\n\n### Fixed\n\n- parser: Identifiers that are keywords were not allowed in annotation values inside arrays\n- compiler: Compatibility against cds-lsp was restored.\n- to.sql/hdbcds/hdi/edm(x): Fix a crash for sub-queries inside nested expressions of on-conditions of JOINs.\n\n## Version 3.8.0 - 2023-03-27\n\n### Added\n\n- compiler:\n  + Table aliases for sub-queries are no longer required.\n  + A time zone designator can now be used in time literals, e.g. `time'16:41:01+01:30'`or `time'16:41:01Z'`.\n- Calculated elements (\"on-read\") are now enabled per default.  \n  When used in views, they are replaced by their value, for example:\n  ```cds\n  entity E { one: Integer; two = one + 1; };\n  entity P as projection on E { two };\n  // P is the same as:\n  entity P as projection on E { one + 1 as two };\n  ```\n  This allows to define calculations centrally at the entity, which can be used by\n  other views.\n- In CDL, a ternary operator was added as a shortcut for `CASE` expressions:  \n  `a ? b : c` is a shortcut for `CASE WHEN a THEN b ELSE c END`.  There is no CSN\n  representation. The ternary operator is rendered as a `CASE` expression in CSN.\n- In CDL and CSN, `not null` can now also be used in type definitions.\n- In CDL (and CSN as before), elements can be defined without specifying a type.\n\n### Changed\n\n- API: We now report an error for most backends, if the input CSN has\n  `meta.flavor == 'xtended'`, because only client/inferred CSN is supported.\n- Update OData vocabularies 'PersonalData', 'UI'\n- for.odata: Shortcut annotations `@label`, `@title`, `@description`, `@readonly` are no longer\n  removed from the OData processed CSN.\n- to.cdl:\n  + Annotation arrays are split into multiple lines, if a single line would be too long.\n  + Nested `SELECT`s are put into separate lines to make them more readable.\n  + (Annotation) paths are quoted less often.\n- to.sql: The list of reserved SAP HANA identifiers was updated (for smart quoting).\n\n### Fixed\n\n- The CSN parser now accepts bare `list`s in `columns[]`, similar to the CDL parser.\n- to.cdl:\n  + Delimited identifiers in filters are now surrounded by spaces if necessary, to avoid `]]`\n    being interpreted as an escaped bracket.\n- to.edm(x):\n  + Remove empty `Edm.EntityContainer` again. Removal of an empty entity container has been\n    revoked with [3.5.0](#fixed-7) which was wrong. An empty container must not be rendered\n    as it is not spec compliant.\n  + Correctly resolve chained enum symbols.\n  + Fix a program abort during structured rendering in combination with `--odata-foreign-keys`\n    and foreign keys in structured types.\n  + Correctly render paths to nested foreign keys as primary key in structured mode with\n    `--odata-foreign-keys`.\n- to.hdi/to.sql/to.edm(x):\n  + Reject unmanaged associations as ON-condition path end points.\n  + Fix bug in message rendering for tuple expansion.\n  + Correctly detect invalid @sql.append/prepend in projections.\n- to.hdi/to.sql: The list of SAP HANA keywords was updated to the latest version.\n\n### Removed\n\n- for.odata: Undocumented shortcut annotation `@important` has been removed.\n\n\n## Version 3.7.2 - 2023-02-24\n\n### Fixed\n\n- CSN parser: Structured annotations containing `=` were accidentally interpreted as expressions,\n  even though the corresponding beta flag was not set.\n\n\n## Version 3.7.0 - 2023-02-22\n\n### Added\n\n- Several `annotate` statement can append/prepend values\n  to the same array-valued annotation without an `anno-duplicate` error,\n  even if there is no `using from` dependency between the involved sources\n- SQL methods such as `point.ST_X()` can be used in views.\n- The SQL `new` keyword can be used for `ST_*` types such as `new ST_POINT('Point(0.5 0.5)') )`\n\n### Changed\n\n- Update OData vocabularies 'Common', 'Core', 'Measures', 'PDF', 'UI'.\n- to.edm(x): Empty complex types are no longer warned about as they are allowed.\n\n### Fixed\n\n- `parse.cql` and `parse.expr` no longer ignore type arguments such as `cast(field as String(12))`.\n  One argument is interpreted as `length` and two are interpreted as `precision` and `scale`, similar to\n  how custom types and their arguments are interpreted.\n- Previously, the compiler could not always find a unique redirection target if there were\n  one direct projection on the model target and two or more projections on that projection.\n- The performance of compiler-checks for deeply nested expressions/queries has been improved\n- Fix various bugs in Association to Join translation:\n  + Recursive `$self` dereferencing\n  + Correct resolution of table alias in non-bijective `$self` backlink associations in combination with\n    explicit redirection.\n- to.edm(x): Process value help list convenience annotations on unbound action parameters.\n\n\n## Version 3.6.2 - 2023-02-06\n\n### Fixed\n\n- to.hdi(.migration): Don't render `-- generated by cds-compiler version` comment at the top of the HDI-based\n  artifacts, as this caused HDI to detect the file as `changed`\n  and redeploy, causing way longer deployment times. Old behavior can be enabled with option `generatedByComment: true`.\n- to.sql/hdi/hdbcds: Correctly handle variables like `$user` in `exists` filters.\n\n## Version 3.6.0 - 2023-01-25\n\n### Added\n\n- API: There are new API functions for `to.cdl`: `smartId`, `smartFunctionId` and `delimitedId`.\n- CDL parser: when defining a parameter for entities, actions or functions,\n  you can use a regular identifier for its name even if that is a reserved name like `in`.\n- The first parameter of a bound action or function can be typed with `$self` or `many $self`\n  even if no type named `$self` exists.\n- If an aspect `sap.common.TextsAspect` exists in the `sap.common` context, it will be included\n  in all `.texts` entities. This allows to extend `.texts` entities via extending the aspect.  \n  Example:\n  ```cds\n  entity E {\n    key id : Integer;\n    content: localized String;\n  }\n  extend sap.common.TextsAspect with {\n    elem: String;\n  };\n  // from @sap/cds common.cds\n  aspect sap.common.TextsAspect {\n    key locale: String;\n  }\n  ```\n- to.edm(x): Support explicit binding parameter `<id>: [many] $self` for OData V4 only.\n  The explicit binding parameter is rendered as any other parameter and `$self` is replaced with\n  the binding type but only if no `$self` definition exists in the model. This gives full control\n  over the binding parameter including name, nullability, default value and annotations.\n  The explicit binding parameter is ignored for OData V2 and has precedence over `@cds.odata.bindingparameter`.\n\n### Changed\n\n- Many messages concerning the CDL and CSN syntax are improved:\n  affects message ids (`syntax-…`), message texts and the error locations.\n- Duplicate doc-comments are now errors, similar to duplicate annotations.\n- Update OData vocabularies 'Aggregation', 'Analytics', 'Capabilities','Common', 'ODM', 'Offline',\n  'PDF', 'Session', 'UI'.\n\n### Fixed\n\n- If an entity with parameters is auto-exposed, the generated projection now has\n  the same formal parameters and its query forwards these parameters to the origin entity.\n- to.hdbcds: Aliases for foreign `keys` were not quoted if necessary.\n- to.cdl:\n  + Aliases for `expand` and foreign `keys` were not quoted if necessary.\n  + Query functions that are CDL keywords were not properly quoted.\n  + CSN `doc` properties containing `*/` resulted in invalid CDL.\n    To avoid compilation issues, `*/` is escaped as `*\\/`.\n- to.edm(x): Respect record type hint `$Type` in EDM JSON as  full qualified `@type` URI property.\n\n## Version 3.5.4 - 2023-01-10\n\n### Fixed\n\n- Allow window functions also with a deprecated flag being set.\n- to.edm(x): Fix program abort due to malformed error location in EDM annotation preprocessing.\n- to.sql/hdi/hdbcds: The option `pre2134ReferentialConstraintNames` can be used to omit the referential\n  constraint identifier prefix `c__`.\n\n## Version 3.5.2 - 2022-12-20\n\n### Fixed\n\n- to.sql/hdi/hdbcds: Don't process references in actions, as they have no impact on the database - avoids internal errors.\n\n## Version 3.5.0 - 2022-12-07\n\n### Added\n\n- grammar: `localized` is now allowed in select items as well, to force the creation of convenience views.\n- to.edm(x):\n  + Validate annotation values of OASIS/SAP vocabulary term definitions against `@Validation.AllowedValues`.\n  + Reveal dangling type references in produced EDM.\n  + `@Capabilities` 'pull up' introduced with [3.3.0](#version-330---2022-09-29) must now be switched\n    on with option `odataCapabilitiesPullup`.\n- If option `addTextsLanguageAssoc` is set but ignored by the compiler, an info message is emitted.\n  This can happen if, e.g., the `sap.common.Languages` entity is missing.\n- Add OData vocabularies 'Offline' and 'PDF'.\n\n### Changed\n\n- to.edm(x):\n  + Vocabulary references to `Common` and `Core` are added to the generated EDM by default to allow\n    usage of these vocabularies in http messages even if the terms are not being used in the EDM itself.\n  + API representation of enum types as `@Validation.AllowedValues` has been shifted from `for.odata` to\n    `to.edm(x)`. This allows to reuse imported enum types in new APIs.\n  + Messages raised from the EDM annotation renderer have been reworked with message id and enhanced message\n    position including the annotation under investigation.\n  + `@Validation.AllowedValues` annotation as introduced for enum elements with\n    [1.44.2](./doc/CHANGELOG_ARCHIVE.md#version-1442---2020-10-09)\n    are now always rendered into the API regardless of `@assert.range`.\n- to.cdl: The input CSN is no longer cloned for client-CSN and parseCdl-CSN,\n  as the renderer does not modify it.\n- A new warning is emitted if compositions of anonymous aspects are used with the `Association`\n  keyword instead of `Composition`. Replace the former with the latter to fix the warning.\n- The previous info messages about annotating undefined artifacts (e.g. `anno-undefined-art`)\n  are now warnings.\n\n### Removed\n\n- to.edm(x): 'Empty Schema' warning has been removed.\n\n### Fixed\n\n- Enums with a structured base type were accidentally not warned about if used in annotation definitions.\n- for.odata/for.hana: Instead of parenthesising tuple expansion with `()`, put\n  newly created expression in a `xpr` expression, if the term has more than one expansion.\n- Annotation on indirect or inferred enum values were sometimes lost\n- to.cdl:\n  + Certain keywords of special functions no longer add superfluous parentheses.\n  + Extension rendering now supports type extensions as well as `key` for elements.\n  + Builtins that clashed names with implicit contexts were not rendered with `cds.` prefix.\n  + Unknown artifacts (as can happen in parseCdl-style CSN) are now rendered as `USING` statements.\n  + Type extensions in `csn.extensions` (e.g. for `length`) are now rendered.\n- to.edm(x):\n  + Fix a bug in type exposure when using `@cds.external` complex types.\n  + Don't remove empty `Edm.EntityContainer`.\n  + Aspects with actions outside of services are no longer warned about.\n- for.hana: Fix a foreign key replacement bug during association to join translation.\n\n## Version 3.4.4 - 2022-11-25\n\n### Fixed\n\n- compiler: CSN flavor `gensrc` (known as `xtended` in `@sap/cds`) lost annotations\n  on enum values and projection columns.\n\n## Version 3.4.2 - 2022-11-11\n\n### Fixed\n\n- Don't propagate `@cds.external` (The CDS Importer adds `@cds.external` for all\n  imported definitions beginning with cds-dk@6.3.0, see CAP release log).\n- for.odata: Ignore all `@cds.external` definitions.\n- to.sql: For sql dialect `h2`, don't turn a Decimal with length 0 into a Decfloat.\n- Extending a projection with an aspect could result in incorrect auto-redirection.\n- Annotations of aspects were not properly propagated to projections under some order-specific circumstances.\n\n## Version 3.4.0 - 2022-10-26\n\n### Added\n\n- to.sql: Add support for sql dialect `h2`, which renders SQL for H2 2.x.\n- Projections can now be extended by annotation-only aspects, e.g. `extend P with MyAspect;`.\n\n### Fixed\n\n- Properly report an error for bare `$self` references,\n  except in the `on` condition of unmanaged associations.\n- Do not dump with references to CDS variables like `$now` in `expand`/`inline`.\n- Properly report an error when trying to `cast` a column to an association.\n- to.cdl: Identifiers that are always keywords in special functions are now escaped.\n- to.edm(x):\n  + Nested annotation was not applied if outer annotation has value zero.\n  + Fix `AppliesTo=ComplexType, TypeDefinition` term definition directive.\n- to.sql/hdi/hdbcds:\n  + Properly report an error for `exists` with `$self.managed-association`\n  + For sql dialect `hana`, add an implicit alias when using `:param` in the select list\n  + Handle `$self` and magic variables during expansion of nested projections\n\n## Version 3.3.2 - 2022-09-30\n\n### Fixed\n\n- to.edm(x): Set `Scale` (V4) or `@sap:variable-scale` (V2) attributes correctly when overwriting `cds.Decimal`\n  with `@odata.Scale`.\n- to.sql: For dialect `postgres`, add braces around `$now`, `$at.from` and `$at.to`.\n\n## Version 3.3.0 - 2022-09-29\n\n### Added\n\n- Nested projections can be used without `beta` option:\n  + Support `expand`: columns can look like `assoc_or_struct_or_tabalias { col_expression1, … }`,\n    `longer.ref as name { *, … } excluding { … }`, `{ col_expression1 as sub1, … } as name`, etc.\n  + Support `inline`: columns can look like `assoc_or_struct_or_tabalias.{ col_expression1, … }`,\n    `longer.ref[filter = condition].{ *, … } excluding { … }`, `assoc_or_struct_or_tabalias.*`, etc.\n- to.sql/hdi/hdbcds/edm(x)/for.odata: Allow to structure comparison against `is [not] null`.\n- to.sql: Support dialect `postgres` - generates SQL intended for PostgreSQL. Not supported are `cds.hana` data types and views with parameters.\n\n### Changed\n\n- A valid redirection target does not depend on parameters anymore.  This\n  change could induce a redirection error, which could easily solved by assigning\n  `@cds.redirection.target: false` to the entity with “non-matching” parameters.\n- Properly issue an error when projecting associations with parameter\n  references in the `on` condition.  Before this change, the compiler dumped\n  when projecting such an association in a view on top.\n- Update OData vocabularies 'Capabilities', 'Common', 'UI'.\n- to.cdl:\n  + Extensions are now always put into property `model` of `to.cdl()`s result.\n  + Actions on views and projections are now rendered as part of the definition, instead of an extension.\n- to.edm(x): `@Capabilities` 'pull up' supports all counterpart properties of `@Capabilities.NavigationPropertyRestriction`\n  except for properties `NavigationProperty` and `Navigability`.\n- to.hdi: Updated list of `keywords` which must be quoted in naming mode `plain`.\n- to.sql/hdi/hdbcds/edm(x)/for.odata: Reject structure comparison with operators `<,>,<=,>=`. Message id `expr-unexpected-operator`\n  is downgradable to a warning.\n\n### Fixed\n\n- Do not issue a warning anymore when adding elements via multiple `extend` statements in the same file.\n- An info message for annotating builtins through `extend` statements is now reported, similar to `annotate`.\n- Fix auto-redirection for target of new assoc in query entity\n- for.odata: `@readonly/insertonly/mandatory: false` are not expanded.\n\n## Version 3.2.0 - 2022-08-30\n\n### Added\n\n- New Integer types with these mappings:\n\n  | CDS       | OData     | SQL      | HANA CDS      |\n  | --------- | --------- | -------- | ------------- |\n  | cds.UInt8 | Edm.Byte  | TINYINT  | hana.TINYINT  |\n  | cds.Int16 | Edm.Int16 | SMALLINT | hana.SMALLINT |\n  | cds.Int32 | Edm.Int32 | INTEGER  | cds.Integer   |\n  | cds.Int64 | Edm.Int64 | BIGINT   | cds.Integer64 |\n\n- Properties of type definitions and types of direct elements can now be extended,\n  e.g. `extend T with (length: 10);`\n\n- CDL parser: support SQL function `substr_regexpr` with its special argument syntax.\n\n### Fixed\n\n- An internal dump could have occurred in certain situations\n  for models with cyclic type definitions.\n- Annotations on inferred enum elements of views were lost during recompilation.\n- to.cdl: Annotations on enum value in query elements were lost.\n- for.odata: Allow dynamic shortcut annotation values (`$edmJson`).\n- to.edm(x):\n  + Don't overwrite annotations of input model.\n  + Ignore `null` values in `$edmJson` strings.\n- to.hdi.migration: Don't interpret bound action changes as element changes.\n\n## Version 3.1.2 - 2022-08-19\n\n### Fixed\n\n- to.edm(x):\n  + `@Capabilities` 'pull up' for containment trees should not prefix the\n    dynamic annotation paths of the root container.\n  + Remove service namespace prefix of a parameter type for function/action annotation targets\n    in multi schema mode if the parameter type is defined in an alternative schema.\n\n## Version 3.1.0 - 2022-08-04\n\n### Added\n\n- Extending an artifact with multiple includes in one extend statement is now possible:\n  `extend SomeEntity with FirstInclude, SecondInclude;`\n- Aspects can now have actions and functions, similar to entities.  Aspects can be extended by actions as well.\n- `cdsc`:\n  + `toCsn` now supports `--with-locations` which adds a `$location` property to artifacts\n  + `toHana`/`toSql` now supports `--disable-hana-comments`, which disables rendering of doc-comments for HANA.\n- to.hdi/sql/hdbcds: Support FK-access in `ORDER BY` and `GROUP BY`\n- to.hdi.migration: Detect an implicit change from `not null` to `null` and render corresponding `ALTER`\n\n### Changed\n\n- compiler: If an unknown file extension is used but the file starts with\n  an opening curly brace (`{`), it will be parsed as CSN.\n- to.edm(x): In V4 containment mode, pull up `@Capabilities` annotations from the containees to the root container (set)\n  and translate them into corresponding `@Capabilities.NavigationRestrictions`. If a `NavigationRestriction` is already available\n  for that containment path, capabilities are merged into this path. Capability annotation value paths are prefixed with\n  the navigation restriction path.\n  The capability 'pull up' has an effect on entity annotations only. `@Capabilities` assignments on compositions are not pulled\n  up but rendered to the association type which is important to enable dynamic capabilities on 'to-many' relations and to avoid\n  ambiguities in entity set capabilities.\n- Update OData vocabularies 'Analytics', 'Capabilities', 'Common', 'Core', 'DataIntegration', 'Graph', 'PersonalData', 'UI', 'Validation'.\n\n### Fixed\n\n- Syntax of date/time literals are now checked against ISO 8601. If the format is invalid, a warning is emitted.\n- The code completion directly after the `(` for functions with special syntax\n  now suggests all valid keywords, like for `extract` or `locate_regexpr`.\n- compiler:\n  + `cast(elem as EnumType)` crashed the compiler.\n  + Annotations on sub-elements in query entities were lost during re-compilation.\n  + An association's cardinality was lost for new associations published in projections.\n  + Annotations on indirect action parameters were lost in CSN flavor `gensrc`.\n  + Re-allow `annotate` statements referring to the same element twice,\n    even if there are annotation assignments for sub elements.\n  + If a file's content starts with `{` and if neither file extension is known nor\n    `fallbackParser` is set, assume the source is CSN.\n- all backends: references in `order by` _expressions_ are correctly resolved.\n- to.edm(x):\n  + Allow cross service references for unmanaged associations and improve warning message for muted associations.\n  + Nested `@UI.TextArrangement` has precedence over `@TextArrangement` shortcut annotation for `@Common.Text`.\n- to.hdi.migration:\n  + Doc comments rendered the _full doc comment_ instead of only the first paragraph, as `to.hdi` does.\n  + Respect option `disableHanaComments` when rendering the `ALTER` statements\n- to.hdi/sql/hdbcds:\n  + Check for invalid usages of `$self` and give helpful errors\n  + Correctly resolve association-steps in the from-clause in conjunction with `exists`\n\n## Version 3.0.2 - 2022-07-05\n\n### Fixed\n\n- to.sql: For `sqlDialect` `plain`, `$now` is replaced by `CURRENT_TIMESTAMP` again.\n- compiler:\n  + Don't crash if a USING filename is invalid on the operating system, e.g. if `\\0` is used.\n  + Info messages for annotations on localized convenience views are only emitted for unknown ones.\n  + Improve error message for an `extend` statement which had added a new element\n    and tried to extend that element further.  Similarly for a new action.\n    (If you consider this really of any use, use two `extend` statements.)\n- for.odata: expand `@readonly`/`@insertonly` on aspects as for entities into `@Capabilities`.\n- to.edm(x):\n  + Exclude managed association as primary key on value list annotation preprocessing.\n  + Don't render annotations for aspects defined in a service.\n\n## Version 3.0.0 - 2022-06-23\n\n### Added\n\n- Instead of requiring all files on startup, they are required on an as-needed basis to reduce startup times.\n- CDL parser: support SQL functions `locate_regexpr`, `occurrences_regexpr`,\n  `replace_regexpr` and `substring_regexpr` with their special argument syntax.\n- CDL parser: the names `trim` and `extract` are not reserved anymore.\n\n### Changed\n\n- cds-compiler now requires Node 14.\n- `compile()` and its derivates now use `fs.realpath.native()` instead of `fs.realpath()`.\n- CDL parser:\n  + Multi-line doc comments without leading `*` were inconsistently trimmed.\n  + As before, a structure value for an annotation assignment in a CDL source is flattened,\n    i.e. `@Anno: { foo: 1, @bar: 2 }` becomes `@Anno.foo: 1 @Anno.@bar: 2`.\n    Now, the structure property name `$value` is basically ignored:\n    `@Anno: { $value: 1, @bar: 2 }` becomes `@Anno: 1 @Anno.@bar: 2`.\n    The advantage is that overwriting or appending the annotation value works as expected.\n  + Keywords `not null` is only valid after `many String enum {...}` and no longer after `String`.\n- `@cds.persistence.skip` and `@cds.persistence.exists` are both copied to generated child artifacts\n  such as localized convenience views, texts entities and managed compositions.\n- Update OData vocabularies 'Common', 'UI'.\n- (Sub-)Elements of localized convenience views can now be annotated, e.g. `annotate localized.E:elem`.\n- `getArtifactCdsPersistenceName` now enforces the `csn` argument and can optionally have the `sqlDialect` passed in.\n- `getElementCdsPersistenceName` can optionally have the `sqlDialect` passed in.\n\n### Removed\n\n- All v2 deprecated flags.\n- Keyword `masked`.\n- CDL parser: `*` is not parsed anymore as argument to all SQL functions;\n  it is now only allowed for `count`, `min`, `max`, `sum`, `avg`, `stddev`, `var`.\n- All non-SNAPI options.\n\n## Version 2.15.10 - 2023-01-26\n\n### Fixed\n\n- If an entity with parameters is auto-exposed, the generated projection now has\n  the same formal parameters and its query forwards these parameters to the origin entity.\n- to.edm(x): Respect record type hint `$Type` in EDM JSON as full qualified `@type` URI property.\n\n## Version 2.15.8 - 2022-08-02\n\n### Fixed\n\n- to.edm(x): Nested `@UI.TextArrangement` has precedence over `@TextArrangement` shortcut annotation for `@Common.Text`.\n- to.hdi.migration:\n  + Respect option `disableHanaComments` when rendering the `ALTER` statements\n  + Doc comments rendered the _full doc comment_ instead of only the first paragraph, as `to.hdi` does.\n- compiler: An association's cardinality was lost for associations published in projections.\n\n## Version 2.15.6 - 2022-07-26\n\n### Fixed\n\n- Annotations on sub-elements were lost during re-compilation.\n\n## Version 2.15.4 - 2022-06-09\n\n### Fixed\n\n- for.odata:\n  + Fix derived type to scalar type resolution with intermediate `many`.\n- to.edm(x):\n  + (V4 structured) Fix key paths in combination with `--odata-foreign-keys`.\n  + Add `Edm.PrimitiveType` to `@odata.Type`.\n  + (V4 JSON) Render constant expressions for `Edm.Stream` and `Edm.Untyped`.\n  + Fix a bug in target path calculation for `NavigationPropertyBinding`s to external references.\n  + Render inner annotations even if `$value` is missing.\n- Update OData vocabularies 'Common', 'UI'.\n- to.sql/to.hdbcds/to.hdi: \"type of\"s in `cast()`s could lead to type properties being lost.\n\n## Version 2.15.2 - 2022-05-12\n\n### Fixed\n\n- Option `cdsHome` can be used instead of `global.cds.home` to specify the path to `@sap/cds/`.\n- to.edm(x):\n  + Set anonymous nested proxy key elements to `Nullable:false` until first named type is reached.\n  + Enforce `odata-spec-violation-key-null` on explicit foreign keys of managed primary key associations.\n  + Proxies/service cross references are no longer created for associations with arbitrary ON conditions.\n    Only managed or `$self` backlink association targets are proxy/service cross reference candidates.\n  + Explicit foreign keys of a managed association that are not a primary key in the target are exposed in the proxy.\n  + If an association is primary key, the resulting navigation property is set to `Nullable:false` in structured mode.\n\n## Version 2.15.0 - 2022-05-06\n\n### Added\n\n- A new warning is emitted if `excluding` is used without a wildcard, since this does\n  not have any effect.\n- All scalar types can now take named arguments, e.g. `MyString(length: 10)`.\n  For custom scalar types, one unnamed arguments is interpreted as length, two arguments are interpreted\n  as precision and scale, e.g. `MyDecimal(3,3)`.\n- If the type `sap.common.Locale` exists, it will be used as type for the `locale` element\n  of generated texts entities.  The type must be a `cds.String`.\n- to.cdl: Extend statements (from `extensions`) can now be rendered.\n- Add OData vocabulary 'Hierarchy'.\n- CDL: New associations can be published in queries, e.g. `assoc : Association to Target on assoc.id = id`\n\n### Changed\n\n- to.edm(x):\n  + perform inbound qualification and spec violation checks as well as most/feasible EDM preprocessing steps\n    on requested services only.\n  + Open up `@odata { Type, MaxLength, Precision, Scale, SRID }` annotation.  \n    The annotations behavior is defined as follows:\n    + The element/parameter must have a scalar CDS type. The annotation is not applied on named types\n      (With the V2 exception where derived type chains terminating in a scalar type are resolved).\n    + The value of `@odata.Type` must be a valid `EDM` type for the rendered protocol version.\n    + If `@odata.Type` can be applied, all canonic type facets (`MaxLength`, `Precision`, `Scale`, `SRID`) are\n      removed from the Edm Node and the new facets `@odata { MaxLength, Precision, Scale, SRID }` are applied.\n      Non Edm type conformant facets are ignored (eg. `@odata { Type: 'Edm.Decimal', MaxLength: 10, SRID: 0 }`).\n    + Type facet values are not evaluated.\n  + V2: Propagate `@Core.MediaType` annotation from stream element to entity type if not set.\n- to.edm: Render constant expressions in short notation.\n- Update OData Vocabularies: 'Common', 'Graph', 'Validation'.\n\n### Fixed\n\n- to.cdl:\n  + Annotations of elements of action `returns` are now rendered as `annotate` statements.\n  + Annotations on columns (query sub-elements) were not always rendered.\n  + Doc comments on bound actions were rendered twice.\n  + Unapplied annotations for action parameters were not rendered.\n  + Unions and joins are correctly put into parentheses.\n  + Add parentheses around certain expressions in function bodies that require it, such as `fct((1=1))`.\n- to.edm(x):\n  + Fix a bug in top level and derived type `items` exposure leading to undefined type rendering.\n  + Fix a naming bug in type exposure leading to false reuse types, disguising invididual type\n    modifications (such as annotations, (auto-)redirections, element extensions).\n  + Ignore `@Aggregation.default`.\n  + Consolidate message texts and formatting.\n  + Fix navigation property binding in cross service rendering mode.\n  + Remove partner attribute in proxy/cross service navigations.\n- Core engine (function `compile`):\n  + Annotations for new columns inside `extend projection` blocks were not used.\n  + Extending an unknown select item resulted in a crash.\n  + Extending a context/service with columns now correctly emits an error.\n  + Unmanaged `redirected to` in queries did not check whether the source is an association.\n- parseCdl: `extend <art> with enum {...}` incorrectly threw a compiler error.\n- API: `compile()` used a synchronous call `fs.realpathSync()` on the input filename array.  \n  Now the asynchronous `fs.realpath()` is used.\n- On-conditions in localized convenience views may be incorrectly rewritten if an element\n  has the same as a localized entity.\n- to.sql/hdi/hdbcds:\n  + No referential constraint is generated for an association if its parent\n  or target entity are annotated with `@cds.persistence.exists: true`.\n  + Fix rendering of virtual elements in subqueries\n  + Correctly process subqueries in JOINs\n- to.sql/hdi: Queries with `UNION`, `INTERSECT` and similar in expressions are now enclosed in parentheses.\n\n## Version 2.14.0 - 2022-04-08\n\n### Added\n\n- cdsc:\n  + `--quiet` can now be used to suppress compiler output, including messages.\n  + `--options <file.json>` can be used to load compiler options. A JSON file is expected. Is compatible to CDS `package.json`\n    and `.cdsrc.json` by first looking for `cdsc` key in `cds`, then for a `cdsc` key and otherwise uses the full JSON file.\n  + `--[error|warn|info|debug] id1,id2` can be used to reclassify specific messages.\n- Add OData Vocabularies: 'DataIntegration', 'JSON'.\n  \n### Changed\n\n- Update OData Vocabularies: 'UI'.\n\n### Fixed\n\n- to.cdl:\n  + Delimited identifiers as the last elements of arrays in annotation values are now\n    rendered with spaces in between, to avoid accidentally escaping `]`.\n  + Identifiers in includes and redirection targets were not quoted if they are reserved keywords.\n- to.edm(x): Correctly rewrite `@Capabilities.ReadRestrictions.ReadByKeyRestrictions` into\n  `@Capabilities.NavigationPropertyRestriction` in containment mode.\n\n## Version 2.13.8 - 2022-03-29\n\n### Fixed\n\n- to.hdbcds/hdi/sql: Correctly handle `localized` in conjunction with `@cds.persistence.exists` and `@cds.persistence.skip`\n\n## Version 2.13.6 - 2022-03-25\n\n### Fixed\n\n- to.hdbcds/hdi/sql: Correctly handle `localized` in conjunction with `@cds.persistence.exists`\n\n## Version 2.13.4 - 2022-03-22\n\nNo changes compared to Version 2.13.0; fixes latest NPM tag\n\n## Version 2.13.2 - 2022-03-22\n\nNo changes compared to Version 2.13.0; fixes latest NPM tag\n\n## Version 2.13.0 - 2022-03-22\n\n### Added\n\n- CDL syntax:\n  + Allow to `extend E:elem` and `annotate E:elem` instead of having to write deeply nested statements.\n  + Enable `default` values as part of scalar type definitions.\n  + The following `extend` syntax variants are now possible:\n    ```cds\n    extend … with elements { … }\n    extend … with definitions { … }\n    extend … with columns { … }\n    extend … with enum { … }\n    extend … with actions { … }\n    ```\n    This syntax expresses _how_ an artifact is extended instead of _what_ is extended.\n  + Using `ORDER BY` in generic functions such as SAP HANA's `first_value` is now possible.\n- Make API function `compileSources` accept CSN objects as file content\n- to.edm(x): Annotate view parameters with `@sap.parameter: mandatory` (V2) and `@Common.FieldControl: #Mandatory` (V4).\n- to.sql/hdi/hdbcds: Introduce the annotations `@sql.prepend` and `@sql.append` that allow inserting user-written SQL\n  snippets into the compiler generated content. Changes in annotations `@sql.prepend` and `@sql.append` are now reflected\n  in the output of `to.hdi.migration`. This enables CDS Build to produce `.hdbmigrationtable` files translating such model\n  changes into schema changes.\n- API: Lists of keywords for various backends are available as `to.<backend>[.<config>].keywords`, e.g. `to.sql.sqlite.keywords`.\n- for.odata/to.edm(x): The draft composition hull is now also taking into account compositions in subelements.\n\n### Changed\n\n- In query entities inside services, only auto-redirect associations and compositions\n  in the main query of the entity.\n- An element now inherits the property `notNull` from its query source (as\n  before) or its type (like it does for most other properties);\n  `notNull` is then not further propagated to its sub elements anymore.\n- A structure element inherits the property `virtual` from its query source (as\n  before), but does not further propagate `virtual` to its sub elements\n  (semantically of course, but the CSN is not cluttered with it);\n  there is a new warning if a previously `virtual` query entity\n  element is now considered to be non-virtual.\n- Do not propagate annotation value `null`.\n  The value `null` of an annotation (and `doc`) is used to stop the inheritance\n  of an annotation value.  This means than other than that, a value `null` should\n  not be handled differently to not having set that annotation.\n- In the effective CSN, the structure type is only expanded if something has changed\n  for associations: the `target` (`keys` does not change if the `target` does not change)\n  unmanaged associations as sub elements are not supported anyway.\n- In the effective CSN, “simple” type properties like `length`, `precision`,\n  `scale` and `srid` are propagated even for a propagation via type.\n- Update OData Vocabularies: 'Capabilities', 'Common', 'Core', 'UI'.\n- to.sql:\n  + For SQL dialect `hana` referential constraints are now appended\n    as `ALTER TABLE ADD CONSTRAINT` clause to the end of `schema.sql`.\n    With option `constraintsInCreateTable` constraints are rendered into the\n    `CREATE TABLE` statement.\n  + Referential constraint names are now prefixed with `c__`.\n\n### Fixed\n\n- Properly resolve references inside anonymous aspects:\n  + references starting with `$self.` made the compiler dump.\n  + a simple `$self` did  not always work as expected (it represents the entity created via the anonymous aspect).\n  + other references inside deeply nested anonymous aspects induced a compilation error.\n- compiler: `()` inside `ORDER BY` clause was not correctly set.\n- parse.cdl: References in `ORDER BY` and filters are now correctly resolved.\n- Issue error when trying to introduce managed compositions of aspects in `mixin`s\n- Issue error in all cases for type references to unmanaged associations.\n- Avoid dump when extending an illegal definition with a name starting with `cds.`.\n- to.sql/to.cdl/to.hdbcds/to.hdi: Render `cast()` inside `ORDER BY`, `GROUP BY` and `HAVING` properly.\n- to.sql/hdi/hdbcds:\n  + `$self` was incorrectly treated as a structured path step.\n  + Correctly handle table alias in on-condition of mixin in `exists` expansion.\n  + Correctly handle table `$self` references to aliased fields in on-condition of mixin association\n    during `exists` expansion.\n- to.edm: Don't escape `&` as `&amp;`.\n- to.edmx: Escaping compliant to XML specification:\n  + `&` and `<` are always escaped.\n  + `>` is not escaped, unless it appears in text values as `]]>`.\n  + `\"` is escaped in attribute values only.\n  + Control characters are always escaped.\n- Ellipsis (`...`) in annotations in different layers but without base annotation now produces an error.\n  The old but incorrect behavior can be re-enabled with option `anno-unexpected-ellipsis-layers`.\n\n## Version 2.12.0 - 2022-01-25\n\n### Added\n\n- CDL parser: You can now use multiline string literals and text blocks.  \n  Use backticks (\\`) for string literals that can span multiple lines and can use JavaScript-like escape\n  sequences such as `\\u{0020}`.  You can also use three backticks (\\`\\`\\`) for strings (a.k.a. text blocks)\n  which are automatically indentation-stripped and can have an optional language identifier that is used\n  for syntax highlighting, similar to markdown.  In difference to the former, text blocks require the\n  opening and closing backticks to be on separate lines.\n  Example:\n  ````\n  @annotation: `Multi\n   line\\u{0020}strings`\n\n  @textblock: ```xml\n              <summary>\n                <detail>The root tag has no indentation in this example</detail>\n              </summary>\n              ```\n  ````\n\n- Enhance the ellipsis operator `...` for array annotations by an `up to ‹val›`:\n  only values in the array of the base annotation up to (including) the first match\n  of the specified `‹val›` are included at the specified place in the final array value.\n  An array annotation can have more than on `... up to ‹val›` items and must also\n  have a pure `...` item after them.  \n  A structured `‹val›` matches if the array item is also a structure and all property\n  values in `‹val›` are equal to the corresponding property value in the array value;\n  it is not necessary to specify all properties of the array value items in `‹val›`.\n  Example\n  ```\n  @Anno: [{name: one, val: 1}, {name: two, val: 2}, {name: four, val: 4}]\n  type T: Integer;\n  @Anno: [{name: zero, val: 0}, ... up to {name: two}, {name: three, val: 3}, ...]\n  annotate T;\n  ```\n- for.odata: Support `@cds.on {update|insert}` as replacement for deprecated `@odata.on { update|insert }` to\n  set `@Core.Computed`.\n\n### Changed\n\n- Update OData Vocabularies 'Aggregation', 'Capabilities', 'Common', 'Core', PersonalData, 'Session', 'UI'\n\n### Fixed\n\n- to.sql/hdi/hdbcds: With `exists`, ensure that the precedence of the existing association-on-conditions and where-conditions is kept by adding braces.\n- to.sql/hdi: Window function suffixes are now properly rendered.\n- to.sql: `$self` comparisons inside aspects are not checked and won't result in an error anymore.\n- to.hdbcds:\n  + Correctly apply the \".\"-to-\"_\"-translation algorithm to artifacts that are marked with `@cds.persistence.exists`.\n  + Message with ID `anno-hidden-exists` (former `anno-unstable-hdbcds`) is now\n    only issued if the compiler generates a SAP HANA CDS artifact which would hide\n    a native database object from being resolved in a SAP HANA CDS `using … as …`.\n- to.cdl: Annotation paths containing special characters such as spaces or `@` are now quoted, e.g. `@![some@annotation]`.\n- compiler: A warning is emitted for elements of views with localized keys as the localized property is ignored for them.\n\n\n\n## Older Versions\n\nThe change log for older entries can be found at\n[`doc/CHANGELOG_ARCHIVE.md`](doc/CHANGELOG_ARCHIVE.md).\n","downloadsCurrentMonth":393779,"downloadsCurrentFortnight":183209,"downloads365":8430445,"downloadsFortnightGrowth":-5.71,"downloadsHistory":[{"yearMonth":"2023-04","downloads":687537},{"yearMonth":"2023-05","downloads":776435},{"yearMonth":"2023-06","downloads":779511},{"yearMonth":"2023-07","downloads":794943},{"yearMonth":"2023-08","downloads":812966},{"yearMonth":"2023-09","downloads":773015},{"yearMonth":"2023-10","downloads":804889},{"yearMonth":"2023-11","downloads":776189},{"yearMonth":"2023-12","downloads":706389},{"yearMonth":"2024-01","downloads":673886},{"yearMonth":"2024-02","downloads":351016}],"versions":[{"version":"created","date":"2020-06-12T00:07:27.422Z"},{"version":"1.8.1","date":"2020-06-12T00:07:27.811Z"},{"version":"modified","date":"2024-02-29T16:05:03.972Z"},{"version":"1.1.1","date":"2020-06-12T00:07:35.368Z"},{"version":"1.17.1","date":"2020-06-12T00:07:42.631Z"},{"version":"1.0.30","date":"2020-06-12T00:07:49.945Z"},{"version":"1.19.2","date":"2020-06-12T00:07:57.092Z"},{"version":"1.5.0","date":"2020-06-12T00:08:04.298Z"},{"version":"1.18.2","date":"2020-06-12T00:08:11.522Z"},{"version":"1.24.4","date":"2020-06-12T00:08:18.864Z"},{"version":"1.23.2","date":"2020-06-12T00:08:26.134Z"},{"version":"1.8.0","date":"2020-06-12T00:08:33.647Z"},{"version":"1.26.2","date":"2020-06-12T00:08:40.816Z"},{"version":"1.13.4","date":"2020-06-12T00:08:48.341Z"},{"version":"1.20.3","date":"2020-06-12T00:08:55.626Z"},{"version":"1.15.0","date":"2020-06-12T00:09:03.148Z"},{"version":"1.0.27","date":"2020-06-12T00:09:09.957Z"},{"version":"1.1.3","date":"2020-06-12T00:09:16.825Z"},{"version":"1.10.0","date":"2020-06-12T00:09:23.644Z"},{"version":"1.1.2","date":"2020-06-12T00:09:30.565Z"},{"version":"1.17.0","date":"2020-06-12T00:09:37.712Z"},{"version":"1.17.2","date":"2020-06-12T00:09:44.942Z"},{"version":"1.21.1","date":"2020-06-12T00:09:51.957Z"},{"version":"1.35.0","date":"2020-08-05T10:09:02.192Z"},{"version":"1.39.0","date":"2020-09-02T16:44:57.908Z"},{"version":"1.42.2","date":"2020-10-13T16:08:37.710Z"},{"version":"1.43.0","date":"2020-10-14T07:04:25.088Z"},{"version":"1.45.0","date":"2020-11-04T13:44:02.406Z"},{"version":"1.46.4","date":"2020-12-04T14:10:18.974Z"},{"version":"1.46.6","date":"2020-12-04T14:43:35.229Z"},{"version":"1.49.0","date":"2021-02-02T09:40:04.817Z"},{"version":"1.49.2","date":"2021-02-17T10:06:36.000Z"},{"version":"1.50.0","date":"2021-03-02T13:43:26.404Z"},{"version":"1.50.2","date":"2021-03-22T15:14:52.766Z"},{"version":"2.1.4","date":"2021-04-07T06:43:42.451Z"},{"version":"1.50.4","date":"2021-04-16T07:55:39.417Z"},{"version":"2.1.6","date":"2021-04-16T08:05:06.702Z"},{"version":"1.50.6","date":"2021-05-07T14:40:27.816Z"},{"version":"2.2.4","date":"2021-05-10T07:27:37.387Z"},{"version":"2.2.6","date":"2021-05-12T15:30:15.756Z"},{"version":"2.2.8","date":"2021-05-20T14:36:23.743Z"},{"version":"1.50.8","date":"2021-07-09T07:09:33.839Z"},{"version":"2.4.4","date":"2021-07-09T07:45:44.744Z"},{"version":"1.50.10","date":"2021-08-02T14:33:32.150Z"},{"version":"2.5.0","date":"2021-08-02T15:21:45.339Z"},{"version":"2.5.2","date":"2021-08-11T14:35:24.066Z"},{"version":"2.7.0","date":"2021-09-27T12:11:35.786Z"},{"version":"2.10.2","date":"2021-11-02T12:06:30.874Z"},{"version":"2.10.4","date":"2021-11-05T11:25:05.839Z"},{"version":"2.11.0","date":"2021-12-06T09:57:28.194Z"},{"version":"2.11.2","date":"2021-12-07T11:38:24.324Z"},{"version":"2.11.4","date":"2021-12-21T17:03:31.201Z"},{"version":"2.12.0","date":"2022-01-31T08:44:58.003Z"},{"version":"2.13.6","date":"2022-03-28T06:38:33.260Z"},{"version":"2.13.8","date":"2022-03-30T12:21:24.812Z"},{"version":"2.15.2","date":"2022-05-16T15:33:44.845Z"},{"version":"2.15.4","date":"2022-06-13T14:27:01.219Z"},{"version":"3.0.0","date":"2022-07-04T14:57:05.652Z"},{"version":"3.0.2","date":"2022-07-05T15:52:42.464Z"},{"version":"2.15.6","date":"2022-07-28T21:35:17.420Z"},{"version":"2.15.8","date":"2022-08-04T07:35:57.356Z"},{"version":"3.1.0","date":"2022-08-11T08:00:23.236Z"},{"version":"3.1.2","date":"2022-08-22T07:28:00.097Z"},{"version":"3.3.2","date":"2022-10-04T12:01:27.113Z"},{"version":"3.4.0","date":"2022-11-02T08:32:22.133Z"},{"version":"3.4.2","date":"2022-11-11T14:31:02.880Z"},{"version":"3.4.4","date":"2022-11-25T14:43:34.462Z"},{"version":"3.5.0","date":"2022-12-15T18:23:13.678Z"},{"version":"3.5.2","date":"2022-12-20T15:25:09.038Z"},{"version":"3.5.4","date":"2023-01-10T15:57:51.861Z"},{"version":"2.15.10","date":"2023-01-26T16:18:22.579Z"},{"version":"3.6.0","date":"2023-01-27T15:30:55.642Z"},{"version":"3.6.2","date":"2023-02-08T16:21:01.263Z"},{"version":"3.7.2","date":"2023-02-27T15:21:07.992Z"},{"version":"3.8.0","date":"2023-03-29T07:15:26.517Z"},{"version":"3.8.2","date":"2023-03-30T13:06:11.996Z"},{"version":"3.9.2","date":"2023-05-04T09:56:03.459Z"},{"version":"3.9.4","date":"2023-06-09T12:23:46.207Z"},{"version":"4.0.0","date":"2023-06-13T08:21:53.863Z"},{"version":"4.0.2","date":"2023-06-22T21:53:42.042Z"},{"version":"3.9.6","date":"2023-07-27T13:38:49.112Z"},{"version":"4.1.2","date":"2023-07-31T09:26:24.172Z"},{"version":"3.9.8","date":"2023-08-03T14:15:05.034Z"},{"version":"3.9.10","date":"2023-08-25T11:50:26.535Z"},{"version":"4.2.2","date":"2023-09-04T14:01:19.426Z"},{"version":"4.2.4","date":"2023-09-14T14:20:08.762Z"},{"version":"4.3.0","date":"2023-10-04T09:22:55.552Z"},{"version":"4.3.2","date":"2023-10-25T12:28:10.415Z"},{"version":"4.4.0","date":"2023-11-14T08:39:23.679Z"},{"version":"4.4.2","date":"2023-11-21T15:54:01.460Z"},{"version":"4.4.4","date":"2023-11-24T13:30:10.251Z"},{"version":"3.9.12","date":"2023-12-06T12:03:32.757Z"},{"version":"4.5.0","date":"2023-12-18T13:28:19.610Z"},{"version":"4.6.0","date":"2024-01-30T13:17:54.955Z"},{"version":"4.6.2","date":"2024-02-02T13:06:42.975Z"},{"version":"4.7.4","date":"2024-02-27T11:46:47.488Z"},{"version":"4.7.6","date":"2024-02-29T16:05:03.536Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-compiler"},{"name":"cds-dk","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T17:49:25.384Z","updatedAt":"2024-03-12T10:19:58.362Z","changelog":"\n# Change Log\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## Version 6.8.2 - 2023-05-31\n\n### Changed\n\n- `cds compile` to `openapi` now uses `@Common.Label` annotation to generate `x-sap-shortText`.\n- `cds import` now removes `x-` from elements in the `@AsyncAPI.Extensions` annotation while importing AsyncAPI documents.\n- `cds compile` to `openapi` now sorts the `tags` and `paths` in alphabetical order.\n- The livereload feature of `cds watch` can be disabled through `cds.livereload: false` in `package.json`.\n\n### Fixed\n\n- `@sap/cds-dk` 6.8.2\n- `@sap/cds-mtxs` 1.8.2\n- `cds add mta` adds configuration `enterprise-messaging-shared` if necessary\n\n## Version 6.8.1 - 2023-05-10\n\n### Fixed\n\n- `cds-ts watch` no longer fails with strange compilation errors if called in combination w/ `ts-node`\n\n## Version 6.8.0 - 2023-05-04\n\n### Added\n\n- `cds add file-based-messaging` adds configuration for file-based messaging (Node.js).\n- `cds add redis-messaging` adds configuration for Redis messaging (Node.js).\n- `cds add enterprise-messaging-shared` adds configuration for Event Mesh support with `kind = 'enterprise-messaging-shared'` (Node.js).\n- `cds import` now supports OData V4 EDMX file containing multiple `Schemas` with single `EntityContainer`.\n- `cds import` now supports importing of AsyncAPI documents.\n- `cds login -m <clientid>[:<key>]` now supports X.509 (mTLS) credential-type in XSUAA binding of @sap/cds-mtxs.\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.34.0 for creating Java projects.\n\n\n### Fixed\n\n- `cds-ts watch` now honors a `tsconfig.json` in the project\n- launch script for `CAP projects` in VS Code fixed\n\n## Version 6.7.2 - 2023-04-27\n\n### Added\n\n- Added option `--skip-verification` to command `cds migrate`. It skips the extension verification to save memory. Requires `@sap/cds-mtxs@1.7.3`.\n\n### Fixed\n\n- Swagger UI no longer fails with an error `Value of 'namespaceAndName' parameter must be in the following format: <namespace>.<name>`\n\n## Version 6.7.1 - 2023-04-19\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.33.1 for creating Java projects.\n- Bump `@sap/cds` to 6.7.1\n- Bump `@sap/cds-mtxs` to 1.7.2\n\n### Fixed\n\n- Compatibility with @sap/cds versions >= 4.5 and < 6.2: avoid runtime errors with debugging disabled.\n\n## Version 6.7.0 - 2023-03-28\n\n### Added\n\n- `cds upgrade` enables upgrading a tenant subscribed to a multitenant SaaS app to the latest base model.\n\n### Changed\n\n- `cds env --for` is now used to specify profiles; before it specified project paths, but never worked correctly.\n- `cds add data` now uses comma as CSV separator by default instead of semicolon. This allows using GitHub tabular display.\n- `cds add approuter` doesn't create entries for `authenticationMethod` and `authenticationType` any more, but uses the equivalent `@sap/approuter` defaults.\n- `cds add multitenancy` will now create a sidecar MTX project for Node.js as well.\n- `cds subscribe` and `cds unsubscribe` no longer require a username in case @sap/cds-mtxs is configured with dummy auth.\n- `cds subscribe` and `cds unsubscribe` now rely on @sap/cds-mtxs (version 1.7.0 or higher).\n\n### Fixed\n\n- `cds watch`'s livereload feature may now use a local IPv6 address (`::1`) instead of always `localhost`. This is usually the case on Node.js 17 or higher.\n- In all but `cds compile` errors where not handled correctly, especially compiler errors not displayed in human readable format.\n- `cds init` creates project sample files correctly.\n- CLI commands w/ unknown arguments (`cds --foo`) clearly fail again with a proper error message\n- Reduce console output in case of multitenancy-related command failures.\n\n## Version 6.6.2 - 2023-03-22\n\n### Fixed\n\n- Bump `sqlite3` to 5.1.6\n- Bump `@sap/cds` to 6.2.2\n- `cds init` creates project sample files correctly.\n\n## Version 6.6.1 - 2023-03-09\n\n### Added\n\n- `cds compile --to openapi` now adds extension validation keywords `x-sap-precision` and `x-sap-scale` for decimal values.\n\n### Fixed\n\n- `cds add helm` fixed html5 cloud service is now read properly.\n- `cds import` now flattens the `@Capabilities` annotation in the CSN for OData V4 files.\n- `cds import` for OData V4 files now captures the `EnumTypes` information in the CSN according to `UnderlyingType`.\n- `cds import` now captures the `@Common.Text` annotation value properly in the CSN for OData V4 files.\n- `cds init --add java` now uses local Java version when creating new Java project.\n- `cds watch` terminates properly in case livereload websocket clients are connected\n- `cds watch`'s livereload feature works again on Node.js >= 17, where local IPv6 addresses are the default (`::1` instead of `127.0.0.1`)\n\n## Version 6.6.0 - 2023-02-28\n\n### Added\n\n- `cds compile` added a new target format `asyncapi` to convert CDS models to AsyncAPI documents.\n- `cds pull` now hints at base-model name for `using` statement.\n\n### Changed\n\n- `cds env` now allows inspecting entries with optional `get` command. E.g. `cds env requires.db`.\n- `cds add multitenancy` now uses async SaaS Provisioning Service onboarding by default.\n- `cds add multitenancy` for Java will now add  `sqlite3` to `devDependencies` in the sidecar `package.json`.\n- `cds add extensibility` now works for Java projects out-of-the-box.\n- `cds import` now captures the Edm Primitive types without [CDS mapping](https://github.tools.sap/cap/cds-dk/blob/main/edm2cdsTypeMapping.md) with annotation `@odata.Type` and marks the type as `cds.String`.\n- `cds add helm` connectivity service instance is no longer created.\n- `cds init` uses latest Maven Java archetype version 1.32.0 for creating Java projects.\n\n### Fixed\n\n- `cds unsubscribe --from` flag now recognized\n- `cds import` now adds `cds.Boolean` as dummy return type if `ReturnType` for `FunctionImport` is missing in the OData V2 edmx.\n- `cds import` resolves the `$Cast` construct in the CSN for OData V4 files.\n- `cds lint` now reports like ESLint in case of missing plugin `@sap/eslint-plugin-cds`\n\n## Version 6.5.2 - 2023-02-10\n\n### Changed\n\n- New versions of `@sap/cds-mtxs` and `@sap/cds-compiler`\n- `cds init` uses latest Maven Java archetype version 1.31.1 for creating Java projects.\n\n### Fixed\n\n- `cds migrate` no longer fails because of authorization error\n\n## Version 6.5.1 - 2023-02-06\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.31.0 for creating Java projects.\n\n### Fixed\n\n- `cds deploy` no longer fails to write to a `package.json` file that has no `cds` section\n\n## Version 6.5.0 - 2023-01-27\n\n### Added\n\n- `cds run/serve/migrate --resolve-bindings` now pulls required service credentials if bound via `cds bind`. (beta)\n- `cds add helm` now supports multitenancy.\n- `cds bind` now supports binding of `user-provided service instances` from Cloud Foundry.\n\n### Changed\n\n- `cds push` now runs a build of the extension project to update the pushed extension archive (unless custom archive given).\n- `cds init` and `cds bind` no longer use a spinner when performing long running operations.\n\n### Fixed\n\n- `cds import` now generates flattened value for `@Common.FieldControl` annotation in the CSN for OData V4 files.\n- `cds import` now treates `CollectionKind` property attribute in OData V2 similar to `Collection(<data_type>)` in OData V4.\n\n## Version 6.4.1 - 2022-01-17\n\n### Fixed\n\n- `cds deploy -2 sqlite` now preserves the `schema_evolution` setting in the `package.json`.\n- `cds import` bug fix for OData V4 import crash.\n\n### Changed\n\n## Version 6.4.0 - 2022-12-15\n\n### Added\n\n- `cds add helm` now supports approuter.\n- `cds subscribe --local` starts `@sap/cds-mtxs` locally instead of contacting a running instance via URL.\n- `cds unsubscribe` removes the subscription of a tenant from a SaaS app.\n\n### Changed\n\n- `cds add multitenancy` will not compile internal roles into the `xs-security.json` any more.\n- `cds add hana` does not create a `hdi-service-name: ${service-name}` for the database resource properties any more.\n- MTX-related commands now print usage help in case of known errors.\n- `cds import` now adds the annotation `@open` for all the Entities and ComplexTypes with attribute `Abstract` or `OpenType` and adds the same for those referred by the attribute `BaseType`.\n- `cds import` now adds default value in the CSN for the optional parameters in action/function for OData V4 files.\n- `cds init` uses latest Maven Java archetype version 1.30.0 for creating Java projects.\n\n### Fixed\n\n- `cds init` no longer creates `engines` entry in package.json to avoid `unsupported engine` warnings.\n- `cds subscribe` correctly exits the process after deploying to a HANA database.\n- `cds add multitenancy` doesn't create a duplicate `saas-registry` resource if there's one with `service-plan: service` any more.\n- `cds bind` now correctly maps the `hana-mt` and `sql-mt` shortcuts to the `cds.requires.db` entry.\n- `cds add mtx` no longer fails if the `mtx/sidecar` folder doesn't exist.\n- `cds compile --to xsuaa` now rejects expressions leading to invalid XSUAA attributes like `$user.foo-bar`, `$user.foo/bar`, `$user.foo.bar`\n- `cds compile --to xsuaa -o <file>` now sets `.json` as file ending instead of `.xsuaa`\n\n## Version 6.3.2 - 2022-11-28\n\n### Changed\n\n- Include `@sap/cds` 6.3.2\n- Include `@sap/cds-compiler` 3.4.4\n- Include `@sap/cds-mtxs` 1.3.2\n\n## Version 6.3.1 - 2022-11-04\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.29.0 for creating Java projects.\n- Use `@sap/cds` 6.3.1\n- Use `@sap/cds-mtxs` 1.3.1\n\n## Version 6.3.0 - 2022-11-02\n\n### Added\n\n- `cds deploy --to h2 --dry` to create drop/create DDL for H2. Full deployment (w/o `--dry`) is not yet supported, though.\n- `cds push <file>|<URL>` to specify a custom extension archive by local path or download URL.\n\n### Changed\n\n- `cds add` support for classic Java projects is now removed.\n- `cds import` now adds the annotation `@cds.external` for all the definitions in the CSN along with the service.\n- `cds import` now adds `notNull` entry for all the parameters and properties in the CSN.\n- MTX Client now trims a passcode entered via prompt for convenience when pasting\n\n### Fixed\n\n- MTX Client now ignores a username potentially saved for the current project, if a passcode is given\n- MTX Client now treats keytar as optional unless explicitly running `cds login`\n- `cds import` now captures the documentation properly for all the EntitySet referring to same EntityType.\n- `cds deploy --to sql` now produces 'plain' SQL again, suitable for e.g. H2.  In 6.2 it produced 'sqlite' dialect, erroneously.\n- `cds compile --to openapi` now fixes the duplication of fields in `required` section.\n- `cds lint` now recognizes ESLint configurations from _package.json_.\n\n\n## Version 6.2.3 - 2022-10-21\n\n### Changed\n\n- Use `@sap/cds` 6.2.3\n- Use `@sap/hdi-deploy` 4.5.0, which brings support for Node 18\n\n### Fixed\n\n- `cds mock` now prefers a local `@sap/cds` installation, like other `cds` commands as well.\n\n## Version 6.2.2 - 2022-10-13\n\n### Added\n\n- `cds deploy --to postgres --dry` to create drop/create DDL for PostgreSQL. Full deployment (w/o `--dry`) is not yet supported, though.\n\n### Fixed\n\n- `cds deploy --to sql` now honors the `cds.sql.dialect` configuration to specify SQL dialects like `postgres`.\n\n### Removed\n- `cds add notebook` removed in favor of custom notebooks in VS Code (now part of the CDS Editor)\n\n## Version 6.2.1 - 2022-10-10\n\n### Fixed\n\n- Installation errors with unresolvable `@sap/hdi` 4.4.0 are fixed.\n\n## Version 6.2.0 - 2022-10-07\n\n### Added\n\n- `cds import` now imports Singleton entities for OData V4 files.\n- `cds deploy` now supports the new default`.sqlite` file ending\n- `cds add mta` no longer creates a `before-all` custom build command for Java single and multi tenant applications. Custom build commands are defined for `db-deployer` and `mtx/sidecar` modules instead.\n- `cds import` now supports enum types for OData V4\n- `cds add enterprise-messaging` can be now be used to set up configuration and deployment descriptors for SAP Event Mesh.\n- `cds add` now throws an error if no facet is passed.\n- `cds watch` now also considers more files from SAP Fiori (`change,variant,ctrl_variant,ctrl_variant_change,ctrl_variant_management_change`)\n\n### Changed\n\n- `cds add data` no longer creates CSV headers in UPPERCASE, but keeps the original case of the declared element.  Both styles work, but the latter is preferred.\n- `cds pull` requires `@sap/cds` 6.2 or higher\n\n### Fixed\n\n- `cds import` now imports csn for OData V2 file even if the `association set` is missing and throws error if the corresponding `association` is missing.\n- `cds import` now adds the annotation `@odata.Precision` entry only if precision > 0 for Edm.DateTime and Edm.DateTimeOffset.\n- `cds compile --to openapi` now has schema Objects for `-create` and `-update` to only advertise \"deep\" insert/update for _containment_ navigation properties. Non-containment navigation properties are no longer mentioned.\n- `.sqlite` files are now git-ignored in new projects created with `cds init`\n- `cds compile --to openapi` now fixes the issue of failing range assertions for an element having undefined maximum and minimum range values.\n- `cds import` now for OData V2 files doesn't throw warning for `EntityType` being referred as type in complex types, functions and actions, provided it is present in the file.\n\n## Version 6.1.5 - 2022-09-13\n\n### Fixed\n\n- `cds build` no longer erroneously warns about old `@sap/cds` versions.  Previously, it warned about `@sap/cds` 4 although a newer version was installed.\n\n## Version 6.1.4 - 2022-09-09\n\n### Fixed\n\n- `cds build` now works again with `@sap/cds` version 4.  Previously, this silently failed with no output.  However, a warning is now emitted that strongly recommends an upgrade to version 6.\n\n## Version 6.1.3 - 2022-09-06\n\n### Fixed\n\n- `cds import` now gives higher precedence to complex type in case of name collision with actions or functions.\n- `cds extend` and other commands no longer fail with `TypeError: Class constructor CliError cannot be invoked without 'new'`\n\n## Version 6.1.2 - 2022-08-25\n\n### Changed\n- `cds init` uses latest Maven Java archetype version 1.27.1 for creating Java projects.\n\n### Fixed\n- `cds add helm` fixed JSON Schema for `srv` property in values.yaml\n- `cds add helm` fixed env property errors for `hana_deployer` and `html5_apps_deployer`\n- `cds add data` now creates proper data file names for entities in a `context`, i.e. `sap.common-Countries.csv` instead of `sap-common-Countries.csv`\n- `cds import` now captures the parameter/property of collection type differently and the associated annotations are pulled out of the `items` object of the parameter/property entry in the csn.\n- Remove redundant `console.log()` statement in `cds lint`\n- `cds push` now shows complete error messages from extension validation\n- `cds push` and related commands now show properly formatted error messages and also fail with a non-zero exit code in error situations\n\n## Version 6.1.1 - 2022-08-11\n\n### Added\n\n- `cds import` now supports OData and SAP annotations for OData V4 imports.\n- `cds compile --to openapi` defines operation-specific HTTP error response status codes with descriptions via `ErrorResponses` property of certain annotations.\n- `cds compile --to openapi` now supports `--openapi:servers` option.\n- `cds add multitenancy` will add feature multitenancy-specific configuration, without extensibility.\n- `cds add toggles` will add feature toggle-specific configuration.\n- `cds add extensibility` will add configuration for project extensibility.\n- `cds add helm` now supports resource configuration for HANA deployment job and HTML5 app deployment job.\n- `cds add helm` added JSON Schema for values.yaml\n- `cds pull` will download the current CDS model of an extended SaaS app running with @sap/cds-mtxs.\n- `cds push` will upload an extension to a SaaS app running with @sap/cds-mtxs.\n\n### Changed\n\n- `cds add helm` updated default resource requirements for both `java` and `nodejs` projects.\n- `cds add helm` uses servicebinding.io bindings for CAP Java services, HANA and HTML5 app deployment jobs.\n- `cds compile --to openapi` creates only component schemas for schemas referenced in operations and in other schemas.\n- `cds import` switch from `@openapi.schema` to `@JSON.Schema`.\n- `cds add mtx` will now add configuration for streamlined MTX. It effectively acts as a shortcut for `cds add multitenancy,toggles,extensibility`\n- `cds add mtx` no longer includes `hana` and `xsuaa`.  To achieve the same effect as before, run `cds add mtx && cds add hana,xsuaa --for production`.\n- `cds bind -2 <xsuaa service instance>` binds the CDS `auth` service to the xsuaa instance. Previously `uaa` was used.  This requires `@sap/cds` 6 or higher.\n- `cds add lint:dev` updated to adjust to new api structure of `@sap/eslint-plugin-cds` v2.5.0\n- `cds init` uses latest Maven Java archetype version 1.27.0 for creating Java projects.\n- `cds login localhost:<port> -u <username>` now saves username (and empty password, if applicable) with project settings for convenience.\n- `cds add` error handling is improved and will give suggestions if you make a typo.\n\n### Fixed\n\n- `cds add helm:connectivity`: `connectivity.configMapName` was not used for the `connectivity-proxy-info`.\n- `cds import` replaced occurrences of `\\\\` with `/` in the `package.json` for Linux platforms.\n- `cds import` fixed `@Core.Description` and `doc` property duplication.\n- `cds extend` and `cds activate` no longer save any data (this is reserved to `cds login`).\n- Extensibility commands now add http (not https) to local app URLs without schema.\n- Extensibility commands don't query CF any longer when run against local apps.\n\n## Version 6.0.4 - 2022-08-02\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.26.1 for creating Java projects.\n- Use `@sap/cds` 6.0.4\n- `cds bind` handles orgs and spaces containing commas correctly.\n\n## Version 6.0.3 - 2022-07-14\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.26.0 for creating Java projects.\n- `cds init` now creates Node.js projects with version 6 of `@sap/cds`\n\n### Fixed\n\n- `--vap-file` parameter of `cds deploy` is available again (removed in 6.0.0)\n- `cds add helm:connectivity`: `connectivity.configMapName` was not used for the `connectivity-proxy-info`.\n- `--vcap-file` parameter of `cds deploy` is available again (removed in 6.0.0)\n- `cds add helm:connectivity`: `connectivity.configMapName` was not used for the `connectivity-proxy-info`.\n- `cds add helm:connectivity`: Environment variables added for connectivity service for Java.\n- `cds add helm`: Generation of `xs-security.json` file works on Windows now (`cds compile srv -2 xsuaa` command failed).\n\n\n## Version 6.0.2 - 2022-07-06\n\n### Changed\n\n- Use `@sap/cds` 6.0.2\n\n## Version 6.0.1 - 2022-07-05\n\n### Changed\n\n- Deprecated the `--for <filterPattern>` parameter of `cds add data` in favor of the new `--data:for`.  The former is still supported, but will eventually be removed, as it collides with the general `--for <profile>` parameter of `cds add`.\n\n### Fixed\n\n- `cds bind` api endpoint regex for cli now ignores trailing version info in url\n\n## Version 6.0.0 - 2022-07-01\n\n### Added\n\n- `cds import` now supports importing external openapi specification file into CSN.\n- `cds import` now supports the `--from` option to specify the protocol for importing an external file.\n- `cds import` can be programmatically accessed using APIs `cds.import()`, `cds.import.from.edmx()` and `cds.import.from.openapi()`.\n- `cds compile --to openapi` allows describing custom headers and custom query options.\n- `cds import` now supports `HasStream=\"true\"` for both OData V4 and V2.\n- `cds compile --to openapi` now adds properties with `@mandatory` to the required field.\n- Added a link to VS Code CAP Notebooks documentation to `cds init --add notebooks` and `cds add notebooks`.\n\n### Changed\n\n- `cds import` now uses `@odata.Type` and `@odata.Precision` for edm to cds type mapping.\n- `cds compile --to openapi` now has better description for `$expand` query option.\n- The original package `sqlite3` is now used again in its latest version.\n- `cds import` now deprecated `cds.DecimalFloat` type.\n- `cds import` now allows OData version 4.01 edmx files and supports `Scale=\"floating\"`.\n- `cds import` now adds `@odata.Type` annotation for `Edm.Byte` and `Edm.SByte`.\n- `cds import` now has improved tests to check `--as`option with `force` flag file overwriting.\n- `cds init` uses latest Maven Java archetype version 1.25.0 for creating Java projects.\n- `cds import` now imports edmx file without any entities containing only unbounded action/function.\n- `cds import` API now supports includeNamespaces option.\n- `cds compile --to openapi` now adds `format`, `multipleOf`, `maximum` and `minimum` to anyOf.\n- `cds import` will now mark an association as a composition when `OnDelete Action=\"Cascade\"` is present.\n- `cds import` has deprecated `--into` option.\n- `cds bind` reads Cloud Foundry file `config.json` to get org and space information.\n- `cds deploy` now stores connection information without credentials by default in `.cdsrc-private.json`.\n- `cds deploy` has a new option `--store-credentials` to enforce the former behavior of storing credentials in `default-env.json`.\n- If a `@sap/cds` is installed locally in a project, it must be version 4 or higher for CLI commands to run.\n- `cds import` now doesn't trim the bound action/function name in the csn if the format of the name is A_B.\n- `@sap/cds` version 6 is now required in new projects added by `cds init` and `cds add`.\n\n### Fixed\n\n- `cds add html5-repo` and `cds add destinations` throw an error if applied for MTA deployments, for which they are currently unsupported.\n- `cds compile --to openapi` fixes annotations on bound action overloads.\n- `cds add cf-manifest` now uses the correct `application` plan for the `xsuaa` service\n- A combination of `cds add approuter`, `cds add mtx`, and `cds add mta` will now use a safer approach to determine the subscription URL.\n- `cds init` and `cds add` output the feature names correctly in case the names contain a dash\n- `cds compile --to openapi` fix for type error when entity/action is not specified in the service definition.\n- `cds import` API fix for race condition issue.\n- `cds somecdsfile --profile ...` (without the `compile` command) no longer ignores the given profile\n- `cds watch` got more robust against unlucky timing and no longer runs into port conflicts\n\n\n## Version 4.9.7 - 2022-06-08\n\n### Changed\n\n- Update `@sap/xsenv` to 3.3.1\n\n## Version 4.9.6 - 2022-06-08\n\n### Changed\n\n- Include `@sap/cds` 5.9.6\n\n### Fixed\n\n- `cds login` (and `cds extend`, `cds activate` if previously logged in) now properly renew token URL\n- Improved logging during those commands\n\n## Version 4.9.5 - 2022-05-17\n\n### Changed\n\n- Include `@sap/cds` 5.9.5\n- Include `@sap/cds-compiler` 2.15.2\n\n### Fixed\n\n- `cds init` uses latest Maven Java archetype version 1.24.0 for creating Java projects.\n\n## Version 4.9.4 - 2022-05-09\n\n### Changed\n\n- Include `@sap/cds` 5.9.4\n- Bump `axios` to latest (CVE-2022-1214)\n\n## Version 4.9.3 - 2022-04-27\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.23.1 for creating Java projects.\n- Include `@sap/cds` 5.9.3\n\n### Fixed\n\n- `cds add cf-manifest` now uses the correct `application` plan for the `xsuaa` service\n- `cds login`, `cds activate`: correctly include response in auth errors\n- The SAP HANA and MTA options in the project wizard in BAS now work again\n\n## Version 4.9.2 - 2022-04-11\n\n### Changed\n\n- Include `moment` 2.29.2, fixing CVE-2022-24785\n- Include `@sap/cds` 5.9.2\n- Include `@sap/eslint-plugin` 2.3.5\n\n## Version 4.9.1 - 2022-04-01\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.23.0 for creating Java projects.\n- Include `@sap/cds` 5.9.1\n- Include `@sap/cds-compiler` 2.13.8\n- Include `@sap/eslint-plugin` 2.3.4\n\n## Version 4.9.0 - 2022-03-28\n\n### Added\n\n- `cds parse` as convenient shortcut to `cds compile --flavor parsed`.\n- `cds compile --to openapi` uses value of annotation `@Common.Label` on entities, actions, and functions for operation tags, diagram includes non-primitive action and function import parameters.\n- `cds add` now accepts `--for <profile>` argument to create Node,js project configuration for a given profile\n- `cds add approuter` allows for serving your application’s UI using SAP approuter.\n- `cds add kibana-logging` adds Kibana-friendly logging in a more convenient way than having to manually alter the package.json.\n\n### Changed\n\n- `cds init` does not create `VS Code` file exclusions anymore, so that `.vscode/` and `.gitignore` are visible by default, allowing easier editing of these files.\n- `cds init` reports Maven archetype version in console if called with `--add java`.\n- `cds init` uses latest Maven Java archetype version 1.22.2 for creating Java projects.\n- `cds import` modified documentation for namespace option.\n- `cds import` does not create bound function imports key parameters in CSN for OData V2.\n- `cds import` now when `--keep-namespace` option is not given validates the file name and then converts it to complier supported format as service name .\n- add new methods from `FsUtil` to typescript interface.\n\n### Fixed\n- `cds compile --to openapi` now correctly treats `null` and the empty string as function parameters.\n- `cds bind --exec` no command output (STDOUT) displayed on Windows.\n- `cds watch` now gracefully shuts down the live reload server before exiting\n- `cds import` now generates correct csn for both OData V2 and V4 EDMX files where the EntityType has a BaseType entry.\n- `cds import` now throws an error in case of missing Association Sets.\n- `cds import` bug fixed for `--force` flag. Now overwrites the correct file content.\n- `cds import` fix will no longer capture unwanted annotations in the CSN for OData V4.\n- `cds import` now support annotations for properties of type `Type Definition`\n- `cds import` fix for supporting valid datatypes in unbounded function imports for OData V4.\n- `cds import` bug fixed for missing data imports for parameters with entity type not mapped to an entity set.\n- `cds import` now supports properties with complex type for OData V4.\n- `cds import` fix will now throw error if the key property of an entity is of type `Collection` for both OData V2 and V4 edmx.\n- `cds bind --to hana` provides more comprehensive error message in case Cloud Foundry `org` or `space` are not set.\n\n## Version 4.8.2 - 2022-03-07\n\n### Fixed\n\n- `cds import` can now capture the data for any given `EntityContainer Name` for OData V4. Earlier it only worked when the name was `EntityContainer`.\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version 1.22.1 for creating Java projects.\n\n## Version 4.8.1 - 2022-02-15\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version `1.22.0` for creating Java projects.\n\n### Fixed\n\n- Bump `follow-redirects` package to 1.14.8 (CVE-2022-0536)\n- `cds bind --exec` no command output (STDOUT) displayed on Windows.\n\n## Version 4.8.0 - 2022-01-28\n\n### Added\n\n- `cds import` now reflects the entity set and entity container level annotations in the csn.\n- `cds activate --sync` allows to use the synchronous server API for extension upload.\n\n### Changed\n\n- The forked package `@mendix/sqlite3` is now used instead of `sqlite3` to overcome CVE-2021-32804.  No code changes in applications are needed, as the new package installed by `npm` with the same name `sqlite3`.\n- [beta] The templating for `cds init` and `cds add` has been rewritten from scratch. This will allow for some new, more complex commands, such as `cds add mtx` or `cds add xsuaa`.\n- Use `cds bind` during `cds deploy` to store connection information in file `.cdsrc-private.json`.\n\n### Fixed\n\n- `cds import` now omits function imports with `put/delete` kind.\n- `cds import` has fixed the entity type to entity set mapping in OData V2.\n- `cds import` now supports collection type.\n- `cds watch` now picks a free livereload port if the standard port 35729 is already bound\n- `cds extend`, `cds activate`, `cds login`, and `cds logout` now prioritize command-line options over saved settings\n- MTX client now logs fewer characters of secrets in debug output\n- MTX client now handles incomplete error responses better\n\n## Version 4.7.3 - 2022-01-14\n\n### Changed\n\n- Bump `follow-redirects` package to 1.14.7 (CVE-2022-0155)\n\n## Version 4.7.2 - 2021-12-15\n\n### Fixed\n\n- `cds add lint` uses JSONC parser to read ESLint config files of type `.eslintrc[.js,.cjs,.json]`.\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version `1.21.0` for creating Java projects.\n\n## Version 4.7.1 - 2021-12-06\n\n### Fixed\n\n- `cds activate` authentication no longer fails\n- `cds.compile.to.openapi` does no longer crash if `cds.compile` was already initialized\n\n## Version 4.7.0 - 2021-12-06\n\n### Added\n\n- `cds add data --for` can be passed a regular expression, allowing more flexible name filters.  For example `--for '^Supplier$'` would only match entity `Supplier`, but not `SupplierAddress`.  Note that as before, `--for Supplier` is interpreted as `--for '^Supplier.*'`, i.e. matches both entities.\n- `cds init --add hana` and `cds add hana` now add a `undeploy.json` file containing wildcards. This ensures that SAP HANA artefacts are automatically cleaned-up in case views, unique keys or constraint definitions of associations have been changed in CDS model.\n\n### Changed\n\n- `cds import` now adds annotations for missing ON conditions in associations instead of appending it in `doc`.\n- `cds import` has updated mapping for OData V2 and V4\n- `cds add lint` now configures `csv` files in `.vscode/settings.json`\n- `cds add hana` for Java projects now adds an `engines.node` version of `^16` to the generated `db/package.json`, to pin the Node.js version.  This will help in the future when runtime environments change their default to some version higher than the one supported by `@sap/hdi-deploy`.\n- `cds add mta` for Node.js projects now adds `npm ci` commands instead of `npm install`.  This makes use of `package-lock.json` to enforce reproducible builds.\n- `cds watch` now ignores folders named `target`, to avoid restarts when Maven's build output changes\n\n### Fixed\n\n- `cds import` throws warning messages for unsupported data types.\n- `cds watch` allows the explicit `--with-mocks` option, although this is anyways included by default\n- `cds watch` no longer runs into multiple restarts if many files are changed at once, like in git branch changes\n\n## Version 4.6.4 - 2021-11-24\n\n### Fixed\n\n- `cds import` fix for TypeError issue during OData V2 EDMX conversion to CSN.\n- `cds import <file_name>` fix now updates the service name in the `package.json` with only the file name. Earlier, the service name sometimes used to be of the form `A.B`, with `A` being file name and `B` being a part of the schema namespace value in the EDMX file\n\n### Changed\n\n- `cds init` uses latest Maven Java archetype version `1.20.3` for creating Java projects.\n\n## Version 4.6.3 - 2021-11-16\n\n### Fixed\n\n- `cds watch` recovers again from compilation errors and properly prints these\n- `cds import` fix for omitting empty `doc` components.\n- `cds add lint` no longer duplicates initial contents in `package.json`\n- `cds add data` no longer ignores imported services for which credentials are stored in the project\n\n## Version 4.6.2 - 2021-11-09\n\n### Fixed\n\n- `cds add lint` now correctly detects missing local `eslint`\n- `cds add lint` no longer removes parts of `package.json`\n- `cds add lint` no longer creates duplicate configuration entries\n\n## Version 4.6.1 - 2021-11-08\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.20.0` for creating Java projects.\n- `cds watch` now resolves local node modules like `hdb` even though `@sap/cds` is not installed locally.  This is useful during development where `@sap/cds` shall only be installed in a 'central' location, while extra modules shall still be found in the app's dir.\n\n### Fixed\n\n- `cds repl` now finds modules like `hdb` that are installed locally in the app folder\n- `cds repl` now enables the `await` statement also on Windows\n- `cds lint` now limits all file extensions to those allowed by the @sap/eslint-plugin-cds ESLint configuration\n\n## Version 4.6.0 - 2021-11-02\n### Added\n\n- `cds bind` binds the given service to a hana instance by storing the credentials in `.cdsrc.json` in your user home directory [beta].\n- `cds import` introduced option `--include-namespaces` which imports the custom defined namespaces.\n- `cds import` preserve documentation in CSN file for actions and functions from OData V4 EDMX file.\n- `cds import` now supports reading values of the `as` option from cds.env\n\n### Fixed\n\n- `cds import` fix for reflecting only supported datatypes in csn for actions and functions for OData V4.\n- `cds import` fix for TypeError issue (#9868) during OData V4 EDMX conversion to CSN.\n- `cds watch` no longer omits starting some services every other time it is restarting the process\n- `cds-ts watch` now honors a local `tsconfig.json` file\n- `cds import` fix for TypeError issue (#9950) during OData V2 EDMX conversion to CSN.\n- `cds import` fix to generate the csn (#9950) during OData V2 EDMX conversion to CSN.\n- `cds import` fix to replace the aliases with original schema namespace value.\n- `cds import` adds `@cds.persistence.skip` back to imported models.  Its accidental removal in 4.5.0 caused wrong DB deployments of imported entities.\n\n## Version 4.5.4 - 2021-10-07\n\n### Fixed\n\n- `cds watch` no longer fails if started with `--ext`, `--livereload`, or `--open` arguments\n\n## Version 4.5.3 - 2021-10-05\n\n### Fixed\n\n- `cds import` fix for `--dry` shortcut `-`\n- `cds import` fix for missing type properties in csn for unbounded action and function in OData V4.\n- A  bug with `cds init` when called in BAS project wizard\n\n## Version 4.5.2 - 2021-09-30\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.19.0` for creating Java projects.\n\n### Fixed\n\n- `cds deploy --to sqlite` now writes `credentials.database` again to `package.json`\n\n## Version 4.5.1 - 2021-09-29\n\n### Added\n\n- `cds import` introduced option `--as` which converts EDMX file to different file formats such as cds, csn and json.\n- `cds import` introduced flag `--f` which forcefully overwrite the content of existing cds file when specified with `--as` option.\n\n### Changed\n\n- Marked `cds lint` as beta again to further investigate issues from 'extends' via prettier plugin.\n\n## Version 4.5.0 - 2021-09-23\n\n### Added\n\n- `cds import` supports import of functions, action, functionimport and actionimport from both OData V2 and V4 EDMX files.\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.18.1` for creating Java projects.\n\n### Fixed\n\n- `cds watch` additional CLI args were not passed to launched process, for example, `--odata x4`.\n- `cds import` fix for TypeError issue during OData V4 EDMX conversion to CSN.\n- `cds import` fix for multi-line documentation text in OData V2 EDMX file.\n- `cds import` fix for V4 CSN generation when non standard OData vocabularies are referred.\n- `cds add data`\n    + no longer fails for entities without keys\n    + no longer creates csv files for synthetic draft entities\n    + no longer creates entries for virtual fields\n    + no longer skips over entities marked with `@cds.persistence.skip`, which is true for 'external' entities created by `cds import`.\n- `cds init --add` handles comma list correctly.\n- `cds import` fix for multi-line documentation text in OData V4 EDMX file.\n- `cds import` fix preserves the missing entities in csn for OData V2 EDMX file.\n\n\n## Version 4.4.2 - 2021-09-03\n\n### Fixed\n\n- Use latest `cds-sidecar-client` to fix file upload in `cds activate`\n\n## Version 3.5.3 - 2021-08-31\n\n### Fixed\n\n- Use latest `cds-sidecar-client` to fix file upload in `cds activate`\n\n## Version 4.4.1 - 2021-08-03\n\n### Fixed\n\n- Use `@sap/eslint-plugin-cds@2.0.4`\n\n## Version 4.4.0 - 2021-08-02\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.17.0` for creating Java projects.\n\n### Fixed\n\n- Fixed bug when logging in Business Application Studio during `New Project from Template` wizard.\n- `cds import` fix for <documentation> tag in Odata V2 for EntityType and ComplexType.\n- `cds help` does not crash with `this.load is not a function` in exotic installations\n\n## Version 4.3.3 - 2021-07-26\n\n### Fixed\n\n- Removed internal links in `npm-shrinkwrap.json`\n\n## Version 4.3.2 - 2021-07-26\n\n### Changed\n\n- Bumped version of `@sap/cds` to 5.3.2\n\n## Version 3.5.2 - 2021-07-21\n\n### Changed\n\n- Bump to latest versions\n- Use latest `cds-sidecar-client` to fix CVE-2021-33502\n\n## Version 4.3.1 - 2021-07-12\n\n### Changed\n\n- New version of `@sap/eslint-plugin-cds`\n\n## Version 4.3.0 - 2021-07-08\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.16.3` for creating Java projects.\n- `cds init` generates dependency entry for `hdb` instead of `@sap/hana-client`.\n- Reworked templates for cds linter.\n\n### Added\n\n- `cds import` now supports OData V4 edmx files.\n- `cds-ts` executable starts `cds` CLI with [`ts-node`](https://www.npmjs.com/package/ts-node) to allow JIT compilation of Typescript\n- `cds` CLI will give you a best guess if a command cannot be found, e.g. in case of a typing mistake.\n- `cds.import` as API alternative to `cds import` command to convert edmx files to csn [beta]\n- `cds.compile.to.openapi` as API alternative to `cds compile --to openapi` to convert CDS models to OpenAPI definitions\n\n### Fixed\n\n- `cds import` fix for <documentation> tag in Odata V2 and <Annotation> tag in Odata v4\n- `cds import` now sets the `kind` attribute in package.json to the correct `odata-v2` value for OData v2 services.\n- `cds import` now maps edm.DateTime to cds.DateTime for Odata V2.\n- `cds compile --to edmx-v2/edmx-v4` now uses correct file naming when compiling a single CDS service.\n\n## Version 4.2.1 - 2021-06-09\n\n### Fixed\n\n- `cds deploy` w/o any file arguments now works again and no longer fails with `No cds models found at/in ''`.\n\n\n## Version 4.2.0 - 2021-06-07\n\n### Added\n\n- `cds add data` creates csv files with basic header lines for the entities in the project.  `--for` option allows for selecting individual entities or namespaces.\n\n### Fixed\n\n- `cds deploy` called with multiple sources ignored all but the first one\n- `cdd add mta` now sets a buildpack for the server modules (Node.js or Java).  This improves deploy performance and avoids issues with buildpack priorities, leading to potentially wrong buildpacks selected.\n- On drag and drop of an edmx file, `cds watch` now imports it in the proper working dir\n- `cds import` now moves the edmx file again to `srv/external` instead of copying it.\n\n## Version 4.1.5 - 2021-05-21\n\n### Fixed\n\n- An issue with opening URLs on Windows\n- `cds` CLI no longer adds `cds.compile.to.openapi` generically into all commands.  This turned out to load cds configuration from wrong folders, introducing subtle side effects.  Now, only the `cds compile` command adds `cds.compile.to.openapi`.  If you use `cds.compile.to.openapi` in other flows, like at runtime, please use `cds compile --to openapi` instead.\n- Include `@sap/cds` 5.1.5\n- Include `@sap/cds-runtime` 3.1.1\n- Include `@sap/cds-compiler` 2.2.8\n- Include `@sap/eslint-plugin-cds` 1.1.4\n\n## Version 4.1.4 - 2021-05-12\n\n### Fixed\n\n- Include `@sap/cds` 5.1.4\n- Include `@sap/cds-compiler` 2.2.6\n- Include `@sap/eslint-plugin-cds` 1.1.3\n\n## Version 4.1.3 - 2021-05-12\n\n### Fixed\n\n- Include `@sap/cds` 5.1.3\n\n## Version 4.1.2 - 2021-05-12\n\n### Fixed\n\n- Include `@sap/cds` 5.1.2\n\n## Version 4.1.1 - 2021-05-07\n\n### Fixed\n\n- Include `@sap/cds` 5.1.1\n\n## Version 4.1.0 - 2021-05-06\n\n### Added\n\n- `cds watch --open` opens the app in the browser with a given URL (part)\n\n### Changed\n\n- If `cds watch` encounters a port that is already in use, it now just runs on an arbitrary port instead of a trying to search the next port available.\n- `cds init` uses latest `Maven Java archetype` version `1.15.3` for creating Java projects.\n\n### Fixed\n\n- `cds compile --to hdbtable, hdbcds` no longer creates duplicate file extensions.\n\n## Version 4.0.7 - 2021-04-16\n\n### Changed\n\n- Bumped versions of `@sap/cds`, `@sap/cds-compiler`\n\n### Fixed\n\n- Lookup for `eslint` during `cds add lint`\n\n## Version 4.0.6 - 2021-04-15\n\n### Changed\n\n- Bumped versions of `@sap/cds`, `@sap/cds-runtime`, `@sap/cds-compiler`\n\n\n## Version 4.0.5 - 2021-04-12\n\n### Changed\n\n- Bumped version of `@sap/eslint-plugin-cds`\n\n## Version 4.0.4 - 2021-04-12\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.15.0` for creating Java projects.\n\n\n## Version 4.0.3 - 2021-04-07\n\n### Changed\n\n- `cds compile --to xsuaa`, `edmx-v2`, and `edmx-v4` have moved from `@sap/cds` to `@sap/cds-dk`.\n\n### Fixed\n\n- `cds init` now works if started in file paths with spaces\n\n## Version 4.0.2 - 2021-04-01\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.14.3` for creating Java projects.\n- `npm-shrinkwrap.json` format version 2 is now used, produced by `npm` 7\n- `npm-shrinkwrap.json` now contains integrity hashes\n\n### Fixed\n\n- Allow blanks in cds-dk installation path when running `cds init`.\n\n## Version 4.0.1 - 2021-03-24\n\n### Fixed\n\n- Many things in linter\n\n## Version 4.0.0 - 2021-03-19\n\n### Added\n\n- `cds watch` is now a [live reload](https://www.npmjs.com/package/livereload-js) server, allowing for automatic page refreshes in browsers whenever a file has changed.\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.14.0` for creating Java projects.\n- `cds watch` has dropped its fallback support for `nodemon` through the `CDS_USE_NODEMON` configuration.\n- `cds add hana` now sets `hdbtable` as deployment format for SAP HANA\n\n### Fixed\n\n- `cds watch` no longer runs in an endless restart loop if started in the user's home dir.\n\n## Version 3.5.1 - 2021-03-12\n\n### Changed\n\n- Bump version of `@sap/cds` to 4.6.5\n\n## Version 3.5.0 - 2021-03-01\n\n### Changed\n- `cds init` creates projects with latest version of `sqlite3` again.\n- `cds add mta` now creates a mta.yaml file that correctly handles spring boot .jar and .war archives.\n\n### Fixed\n\n- `cds env` does not longer fail with an exception for unknown commands\n\n## Version 3.4.2 - 2021-02-19\n\n### Fixes\n\n- `cds init` now refers to the latest HDI deployer which supports Node.js 14\n\n### Changed\n\n- `cds init` uses latest `Maven Java archetype` version `1.13.1` for creating Java projects.\n- Bump version of `@sap/cds` to 4.5.3\n\n## Version 3.4.1 - 2021-02-17\n\n### Changed\n\n- Bump version of `@sap/cds` to 4.5.2\n- Bump version of `@sap/cds-runtime` to 2.8.6\n- Bump version of `@sap/cds-compiler` to 1.49.2\n\n### Fixed\n\n- `cds watch` now shuts down its child process properly, so that `EADDRINUSE` errors in Business Application Studio are gone\n\n## Version 3.4.0 - 2021-02-02\n### Changed\n- `cds init` uses latest `Maven Java archetype` version `1.12.1` for creating Java projects.\n- `cds init` allows `_` in project name and leaves conversion to `Maven Java archetype`.\n- `cds init --add notebook` and `cds add notebook` now use a Python venv and offer a default Jupyter Notebook viewer.\n- [beta] Multi-target Node.js applications can now be initialized with multitenancy support by running `cds init --add mta,mtx`.\n\n## Version 3.3.5 - 2021-01-20\n\n### Changed\n\n- Bump versions of `@sap/cds`\n\n## Version 3.3.4 - 2021-01-12\n\n### Changed\n\n- Bump versions of `@sap/cds` and `axios`\n\n## Version 3.3.3 - 2020-12-18\n\n### Changed\n\n- Bump versions of `@sap/cds`, `@sap/cds-runtime`, and `@sap/cds-sidecar-client`\n\n## Version 3.3.2 - 2020-12-07\n\n### Changed\n\n- Bump version of `@sap/cds` to 4.4.5\n\n## Version 3.3.1 - 2020-12-04\n\n### Changed\n\n- Bump version of `@sap/cds` to 4.4.4 and `@sap/cds-runtime` to `2.7.5`\n\n## Version 3.3.0 - 2020-12-02\n\n### Added\n\n- `cds init` and `cds add` now support the feature `notebook` to create a Jupyter Notebook in a project.\n- `cds compile --to openapi` adds support for OpenAPI 3 to `cds compile`.\n- If the server port is in use, `cds watch` offers to restart the server with a new port.\n- `cds init` uses latest `Maven Java archetype` version `1.11.0` for creating Java projects.\n- `cds init --add pipeline` and `cds add pipeline` will now use the general purpose pipeline of project \"Piper\".\n- `cds login`, `cds extend` and `cds activate` now also support clientid/clientsecret as parameters. This is needed when extending multitenant\napplications provided as as reusable services\n(see [CP documentation](https://controlcenter.ondemand.com/index.html#/knowledge_center/articles/2316430f7d804820934910db736cefbf)).\n- `cds init --add mta` and `cds add mta` now always set the `cloud` Spring profile for Java apps. Before, it was only set if a binding to an SAP HANA service was present.\n\n### Changed\n\n- `cds add cf-manifest` now adds a dependency to the `java_buildpack`.\n- `sqlite3` is now an optional dependency to `cds-dk`.  This means that an installation failure of `sqlite3`, e.g. in environments w/o Internet connectivity, no longer leads to an overall installation error.  This behavior suits Java applications, as these usually don't need an SQLite database.  Node.js applications still require a proper installation of `sqlite3` if they use this database.\n\n### Fixed\n\n- `cds add cf-manifest` now only adds db-deployer module if HANA service binding exists.\n- `cds init --add hana` now adds `requires.db.kind: \"sql\"` to cds configuration for Node.js and Java\n- `cds watch` no longer fails in SAP Business Application Studio when trying to find `sqlite3`.  `cds deploy --to sqlite` still has that issue, which is to be solved in a future version.\n- `cds deploy --to hana` now prefers to use an app-local install of `@sap/cds`, much like other `cds` commands\n\n## Version 3.2.1 - 2020-11-20\n\n### Fixed\n\n- `cds import` no longer creates `.csn` files with invalid `kind:ComplexType` fields\n\n## Version 3.2.0 - 2020-11-03\n\n### Added\n\n- `cds watch` now allows to set the `--in-memory` flag that is passed to `serve`.\n\n### Changed\n\n- `@sap/cds-dk` is again shrinkwrapped, so that builds get reproducible again\n- All `cds` commands now prefer a local installation of `@sap/cds`.  This enables applications better control over the version of `@sap/cds`.\n- `cds add cf-manifest` generates the service application with the `random-route: true` flag, which avoids route clashes on CF during development.\n\n### Fixed\n\n- `cds run` finds its `express` module again in the case where no `express` is installed in the application.\n- `cds env` now also displays properties that have a value `false` or `''`.\n- Leading flags in `cds` CLI work again, like `cds --to sql my.cds`\n- `cds compile --to` w/o an argument now fails with a better message\n\n### Removed\n\n\n## Version 3.1.4 - 2020-10-27\n\n### Fixed\n\n- `cds run` finds the `sqlite3` module again if `cds` is used from a globally installed `@sap/cds-dk`.\n\n\n## Version 3.1.3 - 2020-10-26\n\n### Fixed\n\n- `cds run` finds the `express` package again in the case where no `express` is installed in the application's `node_modules`.\n\n\n## Version 3.1.2 - 2020-10-16\n\n### Changed\n- `cds init` uses latest `Maven Java archetype` version `1.10.0` for creating Java projects.\n\n### Fixed\n- `cds deploy --to sqlite` finds the `sqlite3` module again if `cds` is used from a globally installed `@sap/cds-dk`.\n\n\n## Version 3.1.1 - 2020-10-07\n\n### Added\n- `cds compile --locations` preserves `$location` properties in CSN outputs.\n\n### Changed\n- `cds compile` prints a better legible JSON output to terminals\n- `cds compile -p` is no longer a shortcut for `--parse`, to allow `--parse ...more-args` to work.\n- `cds compile -f` is no longer a shortcut for `--from` (which is not implemented), but for `--flavor`.\n\n### Fixed\n- `cds deploy --to sqlite` now writes `requires.db.model` in `package.json` such that `cds.connect.to.('db')` works w/o further `model` options.\n- `cds deploy --to sqlite` with `@sap/cds` 4.2 no longer crashes due to a wrong import\n\n## Version 3.1.0 - 2020-09-30\n\n### Added\n- `cds compile` now supports option `flavor` with values: `files` | `sources` | `parsed` | `xtended` | `inferred`.\n  + `cds compile --files` maps to `--flavor files`.\n  + `cds compile --sources` maps to `--flavor sources`.\n  + `cds compile --parse` maps to `--flavor parsed`.\n  + `cds compile` maps to `--flavor inferred`.\n- `cds add cf-manifest` creates manifest.yml and services-manifest.yml allowing for Cloud Foundry native deployment.\n- `cds init` now supports type `nodejs` to create a Node.js based project. This is the default and can be omitted.\n- `cds watch`: enter `debug` or `debug-brk` to restart process in debug mode.  Other commands are `ps` and `rs`.\n\n### Changed\n- `@sap/cds-dk` is no longer shrinkwrapped, so that new versions from underlying `@sap` packages (like `@sap/cds`) are available w/o a new cds-dk version\n- `cds init` uses latest `Maven Java archetype` version `1.9.0` for creating Java projects.\n\n### Fixed\n- `cds watch` now passes all environment variables to the spawned sub processes, enabling for example, `cds watch --production`\n- `cds init` modifies artifact id and Java package name for Java projects to be standard conform.\n- `cds` fails with a better error message for misspelled commands\n\n\n## Version 3.0.0 - 2020-08-31\n\n### Changed\n- `cds watch` now uses version 5 of `sqlite3`\n- `cds watch` does not use `nodemon` anymore.\n  > You can continue using `cds watch` with `nodemon` by installing `nodemon` globally and setting env variable `CDS_USE_NODEMON` to true.\n- `cds add mta` for Java applications now determines app details like name, version etc. based on `pom.xml` and no longer from `package.json`.\n\n### Fixed\n- `cds add mta` now configures the Service Manager for SaaS applications. The Instance Manager is no longer used.\n- `cds import` no longer writes an empty file if the source and the target edmx files are the same\n- `cds import` yields better error messages if the input file does not exists or is invalid\n- `cds import` no longer writes a Windows-specific path to `package.json`\n- `cds init --add java` shows better error message if Maven is not installed.\n\n## Version 2.0.8 - 2020-08-07\n\n### Changed\n- `cds init` uses latest `Maven Java archetype` version `1.8.1` for creating Java projects.\n\n### Fixed\n\n- Fixed `cds add mta` for java projects. The Spring Cloud Profile is set by default for Java apps in order to enable the SAP HANA service binding, otherwise the sqlite db would still be used at runtime.\n  The environment variable JBP_CONFIG_RESOURCE_CONFIGURATION required by the classic Java runtime has been removed.\n\n## Version 2.0.7 - 2020-08-04\n\n### Added\n- `cds init` supports adding `samples` via `--add samples`. See `cds help init` for more details.\n- **Most CLI commands have moved to `@sap/cds-dk`** from `@sap/cds`.  Make sure to install the latest version with `npm i -g @sap/cds-dk`.\n- `cds` commands now log a hint to update to the latest `@sap/cds` if this one is still of version 3.\n- New command `cds login` added to simplify usage of `cds extend` and `cds activate` by providing them with automatic authentication and saving project settings.\n  Refreshes expired authentication tokens automatically. Optionally uses CF command-line client to determine login URLs and subdomains.\n  Saves authentication data in plain-text file or desktop keyring on Linux, macOS or Windows.\n  The latter requires an optional Node.js module `keytar` to be installed.\n- New command `cds logout` removes authentication data and optionally project settings.\n\n### Changed\n- `@sap/cdk` no longer warns about `@sap/cds` being globally installed next to it.  This was a temporary hint for the transition period to `@sap/cds-dk`.\n- `cds init` generates dependency to `@sap/cds` version `4` for Nodejs projects.\n- Use square brackets to pass array values for options to `cds init --java:mvn`.\n- `cds init --add pipeline` and `cds add pipeline` now create file `config.yml` in `.pipeline` folder.\n- Improved `launch.json` file which is created during `cds init`.\n- `cds add mta` now creates a mta.yaml file that sets the production flag for cds build and npm install.\n  This ensures that the HANA artefacts are created if `\"kind\": \"sql\"` or some `production` profile has been configured in package.json or .cdsrc.json.\n  Requires `@sap/cds` version >=4.x.\n- `cds init` uses latest `Maven Java archetype` version `1.7.0` for creating Java projects.\n- `cds init` no longer adds `package-lock.json` to `.gitignore` file when creating a new project.\n- `cds init --add hana` and `cds add hana` now use `Maven Java archetype` to create HANA related pom.xml entries.\n- Consistent default naming scheme for applications and services deployed to CF across the following `cds` commands `build`, `deploy`, `init` and `add`. For an application named `myapp` the SAP HANA deployer app name is `myapp-db-deployer`, the SAP HANA DB service name is `myapp-db`.\n\n### Fixed\n\n- Fixed `cds import` to support imports from symlinked sources\n- Fixing bug in `cds init` and `cds add` when using multiple features separated by comma.\n- Fixing missing log output bug in `cds init` and `cds add` when using feature `samples`.\n- `cds add mta` does no longer crash if no package.json file exists.\n\n## Version 1.8.6 - 2020-07-10\n### Changed\n- Service binding names have been adapted in mta.yaml created by `cds add mta` command.\n\n### Fixes\n- Simplified `cds env` calculation during `cds init` and `cds add`.\n\n## Version 1.8.5 - 2020-06-05\n\n### Changed\n- `cds init` uses latest `Maven Java archetype` version `1.6.0` for creating Java projects.\n\n## Version 1.8.4 - 2020-05-30\n\n### Changed\n- `cds init` uses latest `Maven Java archetype` version `1.5.2` for creating Java projects.\n\n### Fixes\n- An issue in `@sap/edm-converters` with missing entity sets\n\n\n## Version 1.8.2 - 2020-05-08\n### Fixes\n- An issue in `@sap/edm-converters` with missing entity sets\n\n\n## Version 1.8.1 - 2020-05-08\n### Fixed\n- An issue in `@sap/edm-converters` with missing entity sets\n\n## Version 1.8.0 - 2020-04-27\n\n### Added\n\n- `cds watch` now also accepts package names as arguments, e.g. `cds w @capire/bookshop`.\n- `cds add mta` now supports cds configuration `requires.db.kind:\"sql\"` which allows seamless production deployments using HANA db while keeping sqlite for local development scenario.\n\n### Changed\n- Parameter `verbose` in `cds init` and `cds add` is now deprecated. Use environment variable `DEBUG=true` to obtain detailed output.\n- `cds init` uses latest `Java archetype` version `1.4.0` for creating Java projects.\n- Consume new `@sap/cds-sidecar-client` due to API change.\n\n### Fixed\n- Fixing terminology in `cds init` and `cds add` console output.\n- `cds init` is logging `cds env` output only in debug mode.\n- Using `cds build` command in generated `mta.yaml` file.\n- Fixing Hana dependency during `cds init --add hana` for project type `java`.\n- Fixing bug in `cds init` when `cds-dk` is not installed globally.\n\n## Version 1.7.0 - 2020-03-24\n\n### Added\n- `cds init --add java` supports `--java:mvn` to add additional parameter.\n- Improvements when logging console output during `cds init`.\n- Link to Maven archetype documentation shown in `cds help init`.\n\n### Changed\n- `cds add mta` now activates the `production` profile when creating the `mta.yaml`, which is consistent with what the MTA build does.  This way, configuration like `\"[production]: {\"kind\": \"hana\"}` gets activated automatically.\n\n\n## Version 1.6.3 - 2020-03-05\n\n### Changed\n\n### Fixed\n- Proper `npm-shrinkwrap.json`\n- `cds init` is a bit more relaxed when checking for existing project content\n\n\n## Version 1.6.0 - 2020-02-25\n### Added\n- `cds init --add java` now also works with `--hana`\n\n### Changed\n- `cds add mta` now creates resources for SAP HANA with an explicit service type `hana`.  If deploying to trial landscapes, this needs to be changed manually to `hanatrial`.\n\n### Fixed\n- `cds add mta` now creates valid configuration for `uaa` and `auditlog` resources.\n\n\n## Version 1.5.0 - 2020-02-10\n\n### Changed\n- `cds init` only supports new syntax. See `cds init help` for more info.\n- `cds init` now supports adding template `hana` to Java projects.\n\n### Fixed\n- `cds add mta` fixes an issue in created mta.yaml for nodejs projects if used in xmake environment.\n- `cds add mta` fixes an build order issue in created mta.yaml for java projects. Now service module is built before db module.\n- `cds init` does not create `package.json` in db folder.\n\n### Added\n- `cds init` adds `private: true` and `license: \"UNLICENSED\"` to newly generated projects.\n- `cds init` adds a default `.hdiconfig` file when using template `hana`.\n- `cds init` supports Java package name via `--java:package` parameter.\n- `cds init` generates dependency entry for `@sap/hana-client` when using template `hana`.\n- `cds init` uses latest `Java archetype` version `1.3.0` for creating Java projects.\n- `cds init` now creates a `.cdsrc.json` file.\n\n## Version 1.4.0 - 2019-12-12\n\n### Added\n- Abort installation with a hint if `@sap/cds` is installed globally.\n- New project generation using `cds init`. See `cds help init` for details.\n- `cds init --add java` now creates Java projects with Spring Boot support.\n- `cds watch` now also watches `.properties` files\n\n### Fixed\n- Find locally installed modules like `passport`, so that `cds watch` and `cds run` behave symmetrically.\n\n## Version 1.3.0 - 2019-11-19\n\n### Fixed\n- `cds import` no longer fails due to Windows paths.\n\n### Also see\n- Changes of `@sap/cds` 3.20.0\n- Changes of `@sap/cds-sidecar-client` 1.1.2\n\n## Version 1.2.0 - 2019-10-31\n\n### Added\n- Experimental support for cds init\n\n\n## Version 1.1.3 - 2019-10-28\n\n### Fixed\n- `cds watch` now uses the same lookup paths for models as `cds run`\n\n### Also see\n- Changes of `@sap/cds` 3.18.3\n\n\n## Version 1.1.0 - 2019-10-08\n\n### Added\n- Added dependencies to `express` and `sqlite3` to ease development\n\n### Changed\n- Improved `cds watch`\n\n### Also see\n- Changes of `@sap/cds` 3.18.0\n- Changes of `@sap/edm-converters` 1.0.19\n- Changes of `@sap/generator-cds` 2.8.3\n- Changes of `@sap/cds-sidecar-client` 1.1.1\n\n\n## Version 1.0.6 - 2019-09-25\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.8`\n\n\n## Version 1.0.5 - 2019-09-24\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.7`\n\n\n## Version 1.0.4 - 2019-09-23\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.6`\n\n\n## Version 1.0.3 - 2019-09-21\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.5`\n\n\n## Version 1.0.2 - 2019-09-19\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.4`\n\n\n## Version 1.0.1 - 2019-09-18\n\n### Changed\n\n- Updated version of `@sap/cds` to `3.17.2`\n\n\n## Version 1.0.0 - 2019-09-10\n\n### Added\n\n- Initial implementation\n- cds watch\n- cds import\n","downloadsCurrentMonth":181880,"downloadsCurrentFortnight":87682,"downloads365":3270654,"downloadsFortnightGrowth":1.1,"downloadsHistory":[{"yearMonth":"2023-04","downloads":263714},{"yearMonth":"2023-05","downloads":295975},{"yearMonth":"2023-06","downloads":297275},{"yearMonth":"2023-07","downloads":317322},{"yearMonth":"2023-08","downloads":305589},{"yearMonth":"2023-09","downloads":290379},{"yearMonth":"2023-10","downloads":300706},{"yearMonth":"2023-11","downloads":285122},{"yearMonth":"2023-12","downloads":273480},{"yearMonth":"2024-01","downloads":265994},{"yearMonth":"2024-02","downloads":161933}],"versions":[{"version":"created","date":"2020-06-11T17:49:25.384Z"},{"version":"1.7.1","date":"2020-06-11T17:49:25.792Z"},{"version":"modified","date":"2024-03-12T10:19:58.362Z"},{"version":"1.8.4","date":"2020-06-11T17:49:32.915Z"},{"version":"1.1.1","date":"2020-06-11T17:49:40.559Z"},{"version":"1.4.2","date":"2020-06-11T17:49:48.045Z"},{"version":"1.4.4","date":"2020-06-11T17:49:58.683Z"},{"version":"1.0.2","date":"2020-06-11T17:50:11.583Z"},{"version":"1.6.2","date":"2020-06-11T17:50:18.145Z"},{"version":"1.1.4","date":"2020-06-11T17:50:24.699Z"},{"version":"1.8.0","date":"2020-06-11T17:50:31.342Z"},{"version":"1.4.1","date":"2020-06-11T17:50:37.914Z"},{"version":"1.1.3","date":"2020-06-11T17:50:47.588Z"},{"version":"1.8.2","date":"2020-06-11T17:50:55.474Z"},{"version":"1.3.0","date":"2020-06-11T17:51:02.805Z"},{"version":"1.4.3","date":"2020-06-11T17:51:09.896Z"},{"version":"1.8.5","date":"2020-06-11T17:51:17.889Z"},{"version":"1.6.3","date":"2020-06-11T17:51:24.638Z"},{"version":"1.3.1","date":"2020-06-11T17:51:31.159Z"},{"version":"1.8.6","date":"2020-07-24T12:12:56.333Z"},{"version":"2.0.7","date":"2020-08-05T15:02:55.961Z"},{"version":"2.0.8","date":"2020-08-20T08:40:40.409Z"},{"version":"3.0.0","date":"2020-09-03T12:37:40.037Z"},{"version":"3.1.1","date":"2020-10-14T08:01:06.978Z"},{"version":"3.1.2","date":"2020-10-16T16:53:47.649Z"},{"version":"3.1.3","date":"2020-10-26T12:06:58.828Z"},{"version":"3.1.4","date":"2020-10-27T09:58:46.623Z"},{"version":"3.2.0","date":"2020-11-04T14:20:51.970Z"},{"version":"3.2.1","date":"2020-11-24T09:25:29.157Z"},{"version":"3.3.1","date":"2020-12-04T14:50:21.345Z"},{"version":"3.3.2","date":"2020-12-07T10:17:04.054Z"},{"version":"3.3.3","date":"2020-12-18T13:39:09.795Z"},{"version":"3.3.4","date":"2021-01-12T17:23:47.136Z"},{"version":"3.3.5","date":"2021-01-20T15:07:00.924Z"},{"version":"3.4.0","date":"2021-02-03T12:38:11.824Z"},{"version":"3.4.1","date":"2021-02-17T17:16:25.637Z"},{"version":"3.4.2","date":"2021-02-19T15:05:38.330Z"},{"version":"3.5.0","date":"2021-03-02T14:04:43.484Z"},{"version":"3.5.1","date":"2021-03-15T09:42:31.152Z"},{"version":"4.0.3","date":"2021-04-07T14:27:23.940Z"},{"version":"4.0.7","date":"2021-04-16T12:58:47.113Z"},{"version":"4.1.1","date":"2021-05-10T15:25:11.348Z"},{"version":"4.1.2","date":"2021-05-11T17:06:04.544Z"},{"version":"4.1.3","date":"2021-05-11T18:32:42.632Z"},{"version":"4.1.4","date":"2021-05-12T16:31:32.074Z"},{"version":"4.1.5","date":"2021-05-25T09:05:46.396Z"},{"version":"4.3.1","date":"2021-07-12T07:35:30.220Z"},{"version":"3.5.2","date":"2021-07-26T08:15:12.489Z"},{"version":"4.3.2","date":"2021-07-26T09:16:27.341Z"},{"version":"4.3.3","date":"2021-07-26T15:24:38.886Z"},{"version":"4.4.0","date":"2021-08-02T15:17:03.509Z"},{"version":"4.4.1","date":"2021-08-03T08:28:51.881Z"},{"version":"3.5.3","date":"2021-09-03T07:53:32.535Z"},{"version":"4.4.2","date":"2021-09-03T10:13:32.753Z"},{"version":"4.5.0","date":"2021-09-27T12:55:12.964Z"},{"version":"3.5.4","date":"2021-09-30T13:34:47.979Z"},{"version":"4.5.2","date":"2021-09-30T13:46:26.489Z"},{"version":"4.5.3","date":"2021-10-05T07:30:31.998Z"},{"version":"4.5.4","date":"2021-10-15T11:19:12.150Z"},{"version":"4.6.0","date":"2021-11-02T12:31:29.963Z"},{"version":"4.6.2","date":"2021-11-09T10:21:40.894Z"},{"version":"4.6.3","date":"2021-11-16T11:13:09.914Z"},{"version":"4.6.4","date":"2021-11-24T10:22:54.186Z"},{"version":"4.7.1","date":"2021-12-06T17:32:48.191Z"},{"version":"4.7.2","date":"2021-12-17T09:40:52.004Z"},{"version":"4.7.3","date":"2022-01-17T10:34:58.036Z"},{"version":"4.8.0","date":"2022-02-02T07:41:23.219Z"},{"version":"4.8.1","date":"2022-02-16T10:25:50.675Z"},{"version":"4.8.2","date":"2022-03-04T12:00:26.648Z"},{"version":"4.9.0","date":"2022-03-29T10:19:49.174Z"},{"version":"4.9.1","date":"2022-03-31T14:31:05.317Z"},{"version":"4.9.2","date":"2022-04-12T07:35:32.700Z"},{"version":"4.9.3","date":"2022-04-27T14:24:05.486Z"},{"version":"4.9.4","date":"2022-05-09T13:01:24.103Z"},{"version":"4.9.5","date":"2022-05-17T13:45:27.300Z"},{"version":"4.9.6","date":"2022-06-07T09:30:57.389Z"},{"version":"4.9.7","date":"2022-06-08T09:35:35.560Z"},{"version":"6.0.1","date":"2022-07-05T16:24:03.372Z"},{"version":"6.0.2","date":"2022-07-06T17:48:23.474Z"},{"version":"6.0.3","date":"2022-07-14T20:14:32.366Z"},{"version":"6.0.4","date":"2022-08-02T10:59:50.655Z"},{"version":"6.1.1","date":"2022-08-11T09:52:03.779Z"},{"version":"6.1.2","date":"2022-08-25T14:57:26.041Z"},{"version":"6.1.3","date":"2022-09-06T14:37:19.176Z"},{"version":"6.1.4","date":"2022-09-09T21:05:04.362Z"},{"version":"6.1.5","date":"2022-09-15T12:36:39.045Z"},{"version":"6.2.0","date":"2022-10-10T11:02:17.852Z"},{"version":"6.2.1","date":"2022-10-10T14:28:21.516Z"},{"version":"6.2.2","date":"2022-10-14T12:25:36.210Z"},{"version":"6.2.3","date":"2022-10-24T07:54:59.958Z"},{"version":"6.3.0","date":"2022-11-02T09:51:13.956Z"},{"version":"6.3.1","date":"2022-11-04T17:25:56.324Z"},{"version":"6.3.2","date":"2022-11-28T12:49:36.233Z"},{"version":"6.4.0","date":"2022-12-15T19:00:23.964Z"},{"version":"6.4.1","date":"2023-01-16T21:46:08.883Z"},{"version":"6.5.0","date":"2023-01-30T10:04:15.953Z"},{"version":"6.5.1","date":"2023-02-07T12:51:19.817Z"},{"version":"6.5.2","date":"2023-02-10T16:20:25.962Z"},{"version":"6.6.0","date":"2023-03-01T08:38:47.297Z"},{"version":"6.6.1","date":"2023-03-10T08:55:24.618Z"},{"version":"6.6.2","date":"2023-03-22T08:36:59.126Z"},{"version":"6.7.0","date":"2023-03-29T18:52:17.100Z"},{"version":"6.7.1","date":"2023-04-19T18:07:02.456Z"},{"version":"6.7.2","date":"2023-04-27T09:51:48.111Z"},{"version":"6.8.0","date":"2023-05-04T12:42:46.913Z"},{"version":"6.8.1","date":"2023-05-11T12:28:07.553Z"},{"version":"6.8.2","date":"2023-05-31T16:10:50.094Z"},{"version":"6.8.3","date":"2023-06-15T10:47:46.507Z"},{"version":"7.0.0","date":"2023-06-23T08:25:49.475Z"},{"version":"7.0.1","date":"2023-06-30T12:37:41.365Z"},{"version":"7.0.2","date":"2023-07-07T13:17:28.232Z"},{"version":"7.0.3","date":"2023-07-21T10:14:36.867Z"},{"version":"7.1.0","date":"2023-08-01T10:23:57.069Z"},{"version":"7.1.1","date":"2023-08-11T08:34:01.884Z"},{"version":"7.2.0","date":"2023-09-05T12:15:03.214Z"},{"version":"7.3.0","date":"2023-10-05T15:18:33.569Z"},{"version":"7.3.1","date":"2023-10-19T22:16:40.732Z"},{"version":"7.3.2","date":"2023-10-30T11:29:25.529Z"},{"version":"7.4.0","date":"2023-11-15T09:53:11.519Z"},{"version":"7.4.1","date":"2023-11-30T16:23:45.544Z"},{"version":"7.5.0","date":"2023-12-18T14:00:00.488Z"},{"version":"7.5.1","date":"2024-01-09T14:26:29.610Z"},{"version":"7.6.0","date":"2024-01-31T13:38:30.658Z"},{"version":"7.6.1","date":"2024-02-14T15:54:02.811Z"},{"version":"7.7.0","date":"2024-02-27T16:24:20.157Z"},{"version":"7.7.1","date":"2024-03-04T13:12:06.591Z"},{"version":"7.7.2","date":"2024-03-12T10:19:57.709Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-dk"},{"name":"cds-fiori","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-22T10:42:54.999Z","updatedAt":"2024-02-15T14:06:15.248Z","readme":"# @sap/cds-fiori\n\nA collection of [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap) services for [SAP Fiori Elements](https://cap.cloud.sap/docs/advanced/fiori).\n\n## How to Obtain Support\n\nIn case you find a bug, please report an [incident](https://cap.cloud.sap/docs/resources/#reporting-incidents) on SAP Support Portal.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3.1.txt).\n","changelog":"# Change Log\n\n- All notable changes to this project are documented in this file.\n- The format is based on [Keep a Changelog](http://keepachangelog.com/).\n- This project adheres to [Semantic Versioning](http://semver.org/).\n\n## Version 1.2.3 - 2024-02-15\n\n### Fixed\n\n- Handle services with multiple/no/wrong endpoints. Only show the preview link for OData endpoints.  Also fail with a proper error message if a wrong preview URL is directly called (w/o the link).\n\n### Changed\n\n- Use UI5 version 1.120.6 by default\n\n## Version 1.2.2 - 2023-12-04\n\n### Fixed\n\n- Do not crash for services w/o a path\n\n## Version 1.2.1 - 2023-11-27\n\n### Fixed\n\n- V2 proxy prefix is preferrably taken from `cds.protocols.odata-v2`\n- Routing to services using odata-v4 protocol prefix\n\n## Version 1.2.0 - 2023-11-17\n\n### Changed\n\n- Preview now uses SAP UI5 version 1.120.0 by default\n\n## Version 1.1.0 - 2023-08-31\n\n### Changed\n\n- Fiori preview now pins the UI5 version to be more robust against unforeseen UI changes. It will get updated from time to time.\n- The former config key `cds.preview.*` is no longer used.  All config is now in `cds.fiori.*`\n- The UI5 version can now be configured using `cds.fiori.preview.ui5.version`.\n\n## Version 1.0.0 - 2023-06-22\n\n### Changed\n\n- `@sap/cds` 7 is required at minimum\n\n## Version 0.1.0 - 2023-06-07\n\n### Added\n\n- Initial release. Includes preview code for SAP Fiori Elements, formerly in `@sap/cds`.\n","downloadsCurrentMonth":247883,"downloadsCurrentFortnight":115011,"downloads365":2978726,"downloadsFortnightGrowth":-6.01,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":19142},{"yearMonth":"2023-07","downloads":179384},{"yearMonth":"2023-08","downloads":382418},{"yearMonth":"2023-09","downloads":389436},{"yearMonth":"2023-10","downloads":417998},{"yearMonth":"2023-11","downloads":416784},{"yearMonth":"2023-12","downloads":408650},{"yearMonth":"2024-01","downloads":378774},{"yearMonth":"2024-02","downloads":206009}],"versions":[{"version":"created","date":"2023-06-22T10:42:54.999Z"},{"version":"0.1.0","date":"2023-06-22T10:42:55.303Z"},{"version":"modified","date":"2024-02-15T14:06:15.248Z"},{"version":"1.0.0","date":"2023-06-22T21:49:13.846Z"},{"version":"1.1.0","date":"2023-09-04T13:38:03.877Z"},{"version":"1.2.0","date":"2023-11-17T13:43:52.583Z"},{"version":"1.2.1","date":"2023-11-27T13:49:22.747Z"},{"version":"1.2.2","date":"2023-12-04T14:32:40.133Z"},{"version":"1.2.3","date":"2024-02-15T14:06:14.615Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-fiori"},{"name":"cds-foss","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE in LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:31:54.219Z","updatedAt":"2023-10-05T15:19:26.960Z","readme":"# @sap/cds-foss\n\nThis package lists the open-source modules for CDS modules.\nIt's only to be used as a dependency by SAP, not by consumer apps.\n\n## How to Obtain Support\n\nIn case you find a bug, please report an [incident](https://cap.cloud.sap/docs/resources/#reporting-incidents) on SAP Support Portal.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## Version 5.0.0 - 2023-10-05\n\n### Removed\n \n - \"uuid\" dependency, use Node.js crypto instead\n\n## Version 4.0.2 - 2023-06-21\n\n### Fixed\n\n- Enforce `yaml` 2.2.2 for security reasons\n\n## Version 4.0.1 - 2023-04-27\n\n### Fixed\n\n- Typos in README.md\n\n## Version 4.0.0 - 2022-06-14\n\n### Changed\n\n- Dependencies are no longer pinned and have open ranges, allowing more flexibility in reuse scenarios\n- `fs-extra` got removed\n- `yaml` got bumped to version 2\n\n## Version 3.1.1 - 2022-03-24\n\n### Changed\n\n- Bump `fs-extra` to 10.0.1\n\n## Version 3.1.0 - 2021-12-13\n\n### Changed\n\n- Bump `generic-pool` to 3.8.2\n\n## Version 3.0.0 - 2021-07-13\n\n### Changed\n\n- Bumped dependencies to current versions\n- Bump `fs-extra` to new major version 10\n\n## Version 2.3.1 - 2021-04-27\n\n### Added\n\n- Type definitions\n\n## Version 2.3.0 - 2021-04-01\n\n### Changed\n\n- Bumped dependencies to current versions\n\n## Version 2.2.2 - 2021-03-17\n\n### Fixed\n\n- Added missing entry for `index.js` in the package's `files` list\n\n## Version 2.2.1 - 2021-02-19\n\n### Fixed\n\n- Proper license link in package.json\n\n## Version 2.2.0 - 2020-10-26\n\n### Added\n- `big.js`\n- `xmlbuilder`\n\n## Version 2.1.0 - 2020-09-24\n\n### Changed\n- Bumped dependency versions\n\n## Version 2.0.0 - 2020-07-23\n\n### Changed\n- Bumped dependency versions\n\n## Version 1.2.0 - 2020-03-27\n\n### Changed\n- Bumped dependency versions\n\n## Version 1.1.0 - 2019-10-29\n\n### Added\n- Changelog\n\n## Version 1.0.0 - 2019-10-29\n\n### Added\n- Initial version of cds-foss package\n","downloadsCurrentMonth":344428,"downloadsCurrentFortnight":161828,"downloads365":6665323,"downloadsFortnightGrowth":-3.7,"downloadsHistory":[{"yearMonth":"2023-04","downloads":548017},{"yearMonth":"2023-05","downloads":611674},{"yearMonth":"2023-06","downloads":607349},{"yearMonth":"2023-07","downloads":601406},{"yearMonth":"2023-08","downloads":562687},{"yearMonth":"2023-09","downloads":524839},{"yearMonth":"2023-10","downloads":578150},{"yearMonth":"2023-11","downloads":717219},{"yearMonth":"2023-12","downloads":619205},{"yearMonth":"2024-01","downloads":542186},{"yearMonth":"2024-02","downloads":308716}],"versions":[{"version":"created","date":"2020-06-11T19:31:54.219Z"},{"version":"1.2.0","date":"2020-06-11T19:31:54.711Z"},{"version":"modified","date":"2023-10-05T15:19:26.960Z"},{"version":"1.1.0","date":"2020-06-11T19:32:02.218Z"},{"version":"2.0.0","date":"2020-08-05T13:17:25.055Z"},{"version":"2.1.0","date":"2020-10-13T13:42:11.043Z"},{"version":"2.2.0","date":"2020-11-04T14:01:37.354Z"},{"version":"2.2.1","date":"2021-02-22T15:14:47.724Z"},{"version":"2.3.0","date":"2021-04-07T09:23:47.963Z"},{"version":"2.3.1","date":"2021-05-10T15:11:04.304Z"},{"version":"3.0.0","date":"2021-08-02T09:55:05.964Z"},{"version":"3.1.0","date":"2022-02-02T08:53:15.427Z"},{"version":"3.1.1","date":"2022-03-28T08:04:46.044Z"},{"version":"4.0.0","date":"2022-07-04T15:02:53.060Z"},{"version":"4.0.1","date":"2023-05-02T09:18:47.493Z"},{"version":"4.0.2","date":"2023-06-22T06:39:26.690Z"},{"version":"5.0.0","date":"2023-10-05T15:19:26.766Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-foss"},{"name":"cds-hana","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:10:50.519Z","updatedAt":"2023-06-22T10:43:02.308Z","readme":"# @sap/cds-hana\n\nDatabase adapter of the [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap) for SAP HANA.\n\n## How to Obtain Support\n\nIn case you find a bug, please report an [incident](https://cap.cloud.sap/docs/resources/#reporting-incidents) on SAP Support Portal.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3.1.txt).\n","changelog":"# Change Log\n\n- All notable changes to this project are documented in this file.\n- The format is based on [Keep a Changelog](http://keepachangelog.com/).\n- This project adheres to [Semantic Versioning](http://semver.org/).\n\n## Version 2.0.0 - 2023-06-07\n\n### Added\n\n- New release as a fresh start w/o code from the 1.x version of `@sap/hana`.\n- Dependency to `hdb` driver.\n","downloadsCurrentMonth":43581,"downloadsCurrentFortnight":20360,"downloads365":216757,"downloadsFortnightGrowth":-4.6,"downloadsHistory":[{"yearMonth":"2023-04","downloads":333},{"yearMonth":"2023-05","downloads":327},{"yearMonth":"2023-06","downloads":560},{"yearMonth":"2023-07","downloads":5567},{"yearMonth":"2023-08","downloads":13934},{"yearMonth":"2023-09","downloads":16291},{"yearMonth":"2023-10","downloads":22513},{"yearMonth":"2023-11","downloads":22738},{"yearMonth":"2023-12","downloads":29883},{"yearMonth":"2024-01","downloads":33135},{"yearMonth":"2024-02","downloads":38830}],"versions":[{"version":"created","date":"2020-06-11T18:10:50.519Z"},{"version":"1.7.1","date":"2020-06-11T18:10:51.014Z"},{"version":"modified","date":"2023-06-22T10:43:02.308Z"},{"version":"1.11.1","date":"2020-06-11T18:10:57.338Z"},{"version":"0.9.0","date":"2020-06-11T18:11:03.533Z"},{"version":"1.5.0","date":"2020-06-11T18:11:11.686Z"},{"version":"1.25.1","date":"2020-06-11T18:11:18.204Z"},{"version":"1.17.1","date":"2020-06-11T18:11:24.308Z"},{"version":"1.5.1","date":"2020-06-11T18:11:30.565Z"},{"version":"1.18.1","date":"2020-06-11T18:11:36.565Z"},{"version":"1.16.0","date":"2020-06-11T18:11:46.793Z"},{"version":"1.21.0","date":"2020-06-11T18:11:52.931Z"},{"version":"1.20.0","date":"2020-06-11T18:11:59.119Z"},{"version":"0.8.0","date":"2020-06-11T18:12:06.100Z"},{"version":"1.24.0","date":"2020-06-11T18:12:13.455Z"},{"version":"0.7.0","date":"2020-06-11T18:12:19.643Z"},{"version":"1.0.3","date":"2020-06-11T18:12:29.360Z"},{"version":"1.13.0","date":"2020-06-11T18:12:35.641Z"},{"version":"0.7.1","date":"2020-06-11T18:12:41.785Z"},{"version":"1.25.2","date":"2020-08-18T10:30:33.681Z"},{"version":"2.0.0","date":"2023-06-22T10:43:02.205Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-hana"},{"name":"cds-lsp","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T20:50:50.692Z","updatedAt":"2024-02-26T11:55:53.417Z","readme":"# CDS Language Server\n\nThe CDS language server implements the Language Server Protocol ([LSP](https://github.com/Microsoft/language-server-protocol))\nfor SAP's Core Data Services ([CDS](https://cap.cloud.sap/docs/cds/cdl)).\nIt can be used in many popular IDEs like, for example, [Visual Studio Code](https://cap.cloud.sap/docs/get-started/tools#vscode)\nor [Eclipse](https://cap.cloud.sap/docs/get-started/tools#eclipse).\nIt provides many useful features for working with and enjoying CDS sources.\n\n## Features\n\n- Syntax highlighting via Textmate grammar\n\n- Additional semantic highlighting\n\n- Source code validation providing diagnostics (error messages, warnings, ...)\n\n- Where-used navigation to\n    - definition\n    - references\n    - highlight occurrences\n\n- Code completion for\n    - keywords\n    - identifiers incl. not yet imported identifiers with corresponding `using` statement\n    - using paths and artifacts incl. showing README.md documentation as details\n    - i18n translation IDs\n    - turn on/off formatting regions\n\n- Snippets for typical CDS language construct<br/> (with documentation extracts of [capire](https://cap.cloud.sap/docs/cds/cdl) explaining language concepts)<br/> like\n    - namespace and context\n    - using\n    - service\n    - type\n    - entity and projections, ...\n    - element, associations, and compositions\n    - extend and annotate\n    - annotations for documentation\n\n- Quick fixes to\n    - create using statement for unknown artifacts\n    - maintain missing translation\n    - convert `@cds.doc` and `@description` annotations to doc comments\n\n- Inventory (symbols) for\n    - current file\n    - workspace incl. query capabilities to select, for example, artifact types, names, also include reuse models\n\n- Hover information based on\n    - doc comments\n    - `@title` and `@description` annotations\n    - translations\n\n- Code formatting\n    - whole document\n    - selected range\n    - on-the-fly when completing statements using ```;``` or ```}```\n    - on save (depending on the IDE)\n    - on paste (depending on the IDE)\n    - with many options, configurable using\n        - settings file\n        - command line switches\n        - Config UI with simulation of options for Visual Studio Code and Eclipse\n        - JSON schema for textual support\n    - also for markdown in doc comments\n\n- Code formatting via CLI\n\n- Translation support\n    - properties, JSON, and CSV files\n    - navigate to translation definitions from translation IDs like ```'{i18n>customerName}'```\n    - show translations on hover\n    - quickfix to maintain missing translations\n\n- Plugin framework for external handlers of annotation domains\n\n## Usage\n\nThe CDS language server can only be used as part of an IDE extension or plugin. See [Installation](#installation) for more details.\n\nA code formatter for CDS source files is included.\n\n## Installation\n\nRefer to the [installation details](doc/INSTALLATION.md).\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n\n## 7.6.1 - 2024-02-26\n\n### Fixed\n- elements snippet now works when annotating artifacts in namespaces and/or contexts or if the brace after the elements is still missing\n\n## 7.6.0 - 2024-02-07\n\n### Added\n- `format-cds` CLI now supports `--check` which tests given CDS sources if formatted according settings and fails otherwise (for CI/CD).\n  For some erroneous CDS sources which cannot be formatted the exit code is `2`.\n- hover over import path of `using` statement shows `README.md` or `package.json#description` if absolute (i.e. module) import\n\n### Changed\n- formatting option `alignAfterKey` option now applies to views and projections as well\n- supportability: snapshot versions are now shown in log already with `verbose` level\n- cds-lsp is now using `es2022`\n\n### Fixed\n- removed padding after unary plus, minus or parameter colon\n- artifact-elements snippet in `annotate` statement now appears regardless of cursor position between braces (or logs reason for not appearing)\n- highlighting after semicolon in certain contexts\n- on Windows editor potentially no longer updated diagnostics for sources with annotations\n- wrong diagnostics about unused imports\n- first code completion could have been slow as workspace was scanned unnessarily\n- code completion for annotations was not shown in certain cases\n- `untitled` i.e. new not yet saved files no longer worked in VSCode\n\n### Also see\n- `@sap/cds-compiler` 4.6.2\n\n\n## 7.5.0 - 2023-12-20\n\n### Added\n- unused imports are reported as warning and grayed out incl. quickfix to remove them\n- snippet proposals for artifact elements in an `annotate` statement\n- new user setting `cds.contributions.enablement.additionalAnalyticalAnnotations` (default: off) to get\n  annotation support for analytical queries (experimental)\n\n### Fixed\n- padding and highlighting of identifiers with Unicode characters\n- highlighting of `stored` keyword\n\n## 7.4.0 - 2023-11-16\n\n### Changed\n- minimum required NodeJS version is now 18.15.0\n- formatting of projections now similar to that of views\n- trace overhead is now zero if turned off, but trace components must be set once before starting the\n  language server via environment var e.g. `CDS_LSP_TRACE_COMPONENTS=*:error,workspace:info`\n- markdown formatting inside doc comments is now done with `marked` parser AST instead of `remark`.\n  Previously, this was enabled by default but due to slightly different formatting this feature is\n  disabled by default, now. Thus, already formatted markdown won't be changed and thus\n  won't lead to file changes when used in CI/CD via `format-cds` command.\n  Enable it via user setting `formatDocComments`.\n\n### Fixed\n- padding of quoted identifiers\n- treat only /** (no additional asterisks) as start of doc comments\n- highlighting of comments within braced select item lists\n- update of diagnostics could have got lost\n\n### Removed\n- workspace validation modes `OpenEditorsAndDirectSources` and\n  `OpenEditorsDirectSourcesAndDirectDependencies` are no longer supported.\n  In real-world models they led to high CPU usage and slow responsiveness.\n  Any of these user setting values are now treated as `ActiveEditorOnly`\n  if supported by IDE, else `OpenEditorsOnly`.\n\n### Added\n- (Experimental): `cds-lsp` can now be used in-process. `ServerStarted.start` method has\n  new optional `options` parameter which allows to use any\n  [supported values](https://github.com/microsoft/vscode-languageserver-node/blob/c4f80308b155d79cc479ec9d33fba254ba93fdd2/client/src/main.ts#L134-L136)\n  e.g. Readable/WritableStream.\n\n### Also see\n- `@sap/cds-compiler` 4.4.0\n\n## 7.3.0 - 2023-10-09\n\n### Added\n- support for `cdsc.moduleLookupDirectories`\n\n### Changed\n- formatting of action and function parameters according to existing newlines\n\n### Fixed\n- highlighting of identifiers, annotations, actions, functions, comments, and more\n- highlighting of queries in entity definitions\n- highlighting of keywords and literals in `type` statements\n- formatting of escaped names and `order by` clauses\n\n### Also see\n- `@sap/cds-compiler` 4.3.0\n\n## 7.2.0 - 2023-09-03\n\n### Changed\n- refactored data structures of where-used index to keep file indexes independent of each other\n- (beta): reuse file indexes in most situations to speed up indexing - can be disabled via user setting `cds.workspaceValidationOptimistic` \n- annotation handler is only called for completion if cursor at reasonable annotation position\n- workspace symbol query has new switch `/a` to include auto-exposed entities\n- rewritten indexing of annotations to boost performance\n- resolution of reference AST nodes is now cached to boost performance\n- elements of `mixin`s now use `LSP.SymbolKind.Field` (was: Operator) for outline\n\n### Fixed\n- highlighting of custom types starting with built-in name\n- explicit annotation definition is now searched in all file indexes as annotations are not dependent on imports via  `using` statement\n- _semantic_ outline now only shows first non-empty line of docs as VSCode does not support multi-line docs in semantic outline\n\n### Also see\n- `@sap/cds-compiler` 4.2.2\n\n## 7.0.0 - 2023-06-13\n\n### Added\n- support for `.d.ts` type generation from `cds` model files upon save\n- support for CDS ternary operator (highlighting, formatting, where-used)\n- support for `stored` elements (where-used)\n- support for annotated `returns` statements\n\n### Also see\n- `@sap/cds-compiler` 4.0.0\n\n\n## 6.8.0 - 2023-05-02\n\n### Fixed\n- where-used index could be incomplete with latest OData annotation plugin\n- formatting of quoted identifiers enclosed in square brackets\n\n### Added\n- custom request to get lsp properties\n- formatting and highlighting of ternary conditions\n\n### Changed\n- now using Typescript 5.0\n\n### Also see\n- `@sap/cds-compiler` 3.9.2\n\n## 6.7.0 - 2023-03-31\n\n### Added\n- code completion for `using` paths now\n  + supports mono repos\n  + for _npm package_ proposals show details of `description` property of `package.json` unless `README.md` exists\n  + improved ordering\n\n### Changed\n- _Analyze Dependencies_\n    + folders which are npm package roots are rendered with their package name, in brown color\n    + enhance contrast - use white font color for dark background colors\n    + improved UX when installing required Graphviz extension\n\n### Fixed\n- `format-cds` command-line tool failed to run\n- _Analyze Dependencies_\n    + some clusters (folders) with same parent cluster were rendered outside\n\n### Removed\n- Quickfix to migrate (long-time removed) `cds.doc` annotation to doc comment\n\n### Also see\n- `@sap/cds-compiler` 3.8.2\n\n\n## 6.6.1 - 2023-03-03\n\n### Fixed\n- `@sap/cds-lsp` could not be installed manually\n\n\n## 6.6.0 - 2023-02-28\n\n### Added\n- type generation now detects project root\n- contribution api with new `indexAndValidate` callback\n\n### Fixed\n- highlighting of the last of a number of element names in a projection\n- formatting of query `from A:B`: removed colon padding\n- type generation stopped working after failure until next LSP restart\n\n### Changed\n- updated capire CDL docs - used in code completion details\n\n### Also see\n- `@sap/cds-compiler` 3.7.2\n\n\n## 6.5.1 - 2023-02-20\n\n### Added\n- The special `up_` element is now supported in navigation\n- support of upcoming cds-compiler (3.6.3 `main` branch as of today)\n\n### Changed\n- `mixin` is now mapped to `LSP.SymbolKind.Operator` (was default `String`)\n- a commit hash of the last commit is now included in release under _dist/state_\n- target platform back to `es2020` for compatibility in China cloud (still Theia on Node14)\n\n### Fixed\n- Closing a CDS file led to 'forgetting' the content in the index. This resulted in:\n  + `workspace/symbols` not showing all definitions\n  + error messages of symbols not found\n  + navigation broken for 'closed' definitions\n- formatting and highlighting of nested element and enum extensions\n- code completion for keywords and identifiers may have used wrong compiler messages, thus not working as expected\n\n### Removed\n- Legacy code to support cds-compiler v1 and v2 (vscode-cds contains cds-lsp 6.0.3 to continue support of those)\n\n### Also see\n- `@sap/cds-compiler` 3.6.2\n\n\n## 6.5.0 - 2023-01-30\n\n### Added\n\n- _@sap/cds-lsp_ can now trigger a globally installed cds type generator when saving a model file.\n  <br/>This feature is still **experimental** and must be enabled via user setting `cds.typeGenerator.enabled`. \n\n- The annotation contribution API has a new optional callback. \n  Now a contribution can add where-used relationships inside annotations to the global where-used index.\n  (A complete index is a prerequisite for refactoring.)\n  <br/> The feature is still **experimental** and might change in future.\n\n### Fixed\n\n- _workspace/symbols_ request didn't include definitions of a file after it was closed. \n\n### Removed\n\n- `@sap/cds-lsp@6.5.0` no longer supports working with a `@sap/cds-compiler` <= 3.\n   <br/>Please use `@sap/cds-lsp@6.0.3` when having an older compiler in your project.\n   <br/>**Note:** our extension for _Visual Studio Code_ (`@sap/vscode-cds`) contains\n   both mentioned versions of _@sap/cds-lsp_ to continue supporting all major compiler\n   versions. \n\n- `@cds.doc` annotation, which was marked as deprecated for a long time, is no longer considered in requests like _document/hover_.\n   Please use doc comments (`/** ... */`) instead. The quick fix to migrate from _@cds.doc_ to _doc comments_ is still in place, \n   but is likely to be removed in near future. \n\n### Also see\n- `@sap/cds-compiler` 3.6.0\n\n\n## 6.4.0 - 2022-12-15\n\n### Added\n- new formatting options `whitespaceBeforeColonInAnnotation` and `whitespaceAfterColonInAnnotation` for specific configuration in annotations\n\n### Changed\n- non-inline pre-annotations are now prefixed with an empty line to separate them from preceding elements\n\n### Also see\n- `@sap/cds-compiler` 3.5.0\n\n## 6.3.0 - 2022-11-01\n\n### Added\n\n- formatting of artifact and type extensions\n- syntax highlighting of element extensions\n- syntax highlighting of numbers and some known types\n\n### Fixed\n- formatting of extensions with selectItems\n- format-cds script didn't find .cdsprettier.json\n\n### Also see\n- `@sap/cds-compiler` 3.4.0\n\n## 6.2.2 - 2022-10-17\n\n### Added\n- cds-lsp bin script for easier integration into custom editors/IDEs\n\n### Fixed\n- syntax highlighting of comments\n\n### Removed\n- legacy custom ParseTreeCommand\n\n## 6.2.0 - 2022-09-30\n\n### Added\n- document link resolution of 'folder' using paths to csn index files\n- new formatting options `keepPreAnnotationsInOriginalLine` and `keepPostAnnotationsInOriginalLine`\n- auto-exposed entities are now included in semantic Outline (user setting)\n- code completion for annotations on auto-exposed entities\n\n### Removed\n- removed formatting option `keepAnnotationsInOriginalLine` (will be migrated to the new options when set in .cdsrc.json)\n\n### Changed\n- improved Java compatibility of TextMate grammar\n\n### Fixed\n- fixed syntax highlighting for `extend`, attribute names, type structs, new integer types, and some keywords\n- fixed formatting of bracketed expressions and annotations standing in their own lines\n- fixed formatting of actions and functions inside aspects\n- fixed alignment of multiple annotations per line\n\n### Also see\n- `@sap/cds-compiler` 3.3.2\n\n## 6.0.3 - 2022-07-08\n### Changed\n- added authentication and new build task names to cds schema\n\n## 6.0.2 - 2022-07-06\n\n### Fixed\n- fixed incompatibilities with compiler 3.0.2\n\n### Also see\n- `@sap/cds-compiler` 3.0.2\n                                                                 \n## 6.0.0 - 2022-07-01\n\n### Added\n- support for new major cds-compiler 3.0.0\n- new user setting `cds.workspaceSymbols.caseInsensitive` (default off) to search case-insensitive\n- new user setting `cds.outline.semantical` (default off) to show outline in a rather semantical structure as opposed to a flat list\n- analyze dependencies now supports coloring of layers for monorepos\n- env.cdsc is now also considered for code completion\n- custom requests to format given content with given options (e.g. for a _formatting options config UI_) and to get path of options file\n\n### Changed\n- minimum required NodeJS version is now 16.11.1\n- updated to Language Server Protocol v3.17.0\n  + definition request now returns both, name range and scope range\n\n### Fixed\n- fixed glitches in cds schema support for `package.json`, `.cdsrc.json` and `.cdsrc-private.json`\n- fixed highlighting for empty block comments `/**/`\n\n### Also see\n- `@sap/cds-compiler` 3.0.0\n\n\n## 5.5.9 - 2022-05-09\n\n### Added\n\n- support syntax highlighting for escape sequences in template strings\n- option to disable 'footprint' traces resulting in **no** overhead\n- code lens statistics\n\n### Fixed\n\n- completion proposals inside comments to turn on/off formatting\n- find references could have shown wrong entries from localized context\n\n### Changed\n\n- updated included capire docs\n\n## 5.5.7 - 2022-04-05\n\n### Fixed\n\n- syntax highlighting in BAS\n\n### Changed\n\n- consume cds-compiler 2.13.8\n\n\n## 5.5.6 - 2022-03-31\n\n### Added\n\n- unit test for textmate grammar\n\n### Changed\n\n- ignore filtering is now lazy\n- formatting options docs are now generated\n- consume cds-compiler 2.13.6\n\n### Fixed\n\n- no longer set NODE_ENV to production\n- highlighting of single quoted strings\n\n\n## 5.5.5 - 2022-03-03\n\n### Added\n\n- schema file for `cds` section in `package.json`, `.cdsrc.json` and `.cdsrc-private.json`\n\n### Fixed\n\n- code completion for annotations no longer propose `@` if inside an annotation\n\n## 5.5.4 - 2022-02-28\n\n### Added\n\n- new code-formatting options for `action`s and `function`s:\n  + `alignActionNames` (aligns names)\n  + `alignActionReturns` (aligns `returns` keywords)\n\n### Changed\n\n- removed obsolete code-formatting option `alignAsInElements` (calculated fields use `=` now)\n- textmate grammar additionally compatible with Ruby regex engine\n\n### Fixed\n\n- code formatting:\n  + separate post-annotation with blank\n  + remove erroneous newlines around cardinality and filter in `select`\n  + separate projection items with newlines\n- code completion for annotations now correctly handle e.g: @aaa.| entity\n- references for annotations: plugins now get all file indexes\n\n## 5.5.3 - 2022-02-04\n\n### Added\n\n- test support for contribution providers\n\n### Changed\n\n- CDS language server back to Node 12 (5.5.0 required Node 14 which led to problems in BAS)\n- typings for contribution implementors are now bundled and accessible directly via `@sap/cds-lsp`\n\n### Fixed\n\n- format-cds CLI was not working under certain circumstances\n- syntax highlighting glitches\n- code formatting of nested projections\n\n## 5.5.0 - 2022-01-28\n\n### Added\n\n- Command-line interface for code formatter\n- CDS language server is now bundled and minified to speed up initialization\n- workspace symbols query now supports filters for kinds\n\n### Changed\n\n- consume cds-compiler 2.12.0\n- code completion for `index.cds` files will now render just the folder\n- performance: revalidate file on focus got only if stale index\n- memory consumption: indexes are now cached per file, no longer per compilation\n\n### Fixed\n\n- `enum` was not indexed \n- `composition` of aspect was not indexed\n- symbols contained localized entries with recent compiler versions\n- workspaces with _many_ workspace folders could lead to stop lsp\n- syntax highlighting is now better aligned with CDS grammar:\n  + multi-lined strings disabled\n  + backslash escaping disabled\n  + doubled quotes inside strings to reproduce single quotes\n  + element types now include scopes and length/size arguments\n\n\n## 5.4.0 - 2021-12-03\n\n### Added\n\n- progress indication for initialization, configuration changed, references and workspace symbols\n- support for protocol:selectionRange (though, VSCode has a bug and does not consider it currently)\n\n### Fixed\n\n- goto definition of certain references was wrong\n- symlinks were not followed when scanning workspace\n- (speedup) indexes could've gone stale even model file hasn't changed\n\n### Changed\n\n- consume cds-compiler 2.11.0\n- import artifact quickfix now shortens the using path\n- @sap/cds/common.cds now included by default\n- speedup initialization: no scan/read workspace, reusing source files first read by compiler, unless reference or workspaceSymbols require a scan\n- speedup: cache missed paths when compiler resolves using paths\n- speedup: only consider models from app/srv/db folders (according cds env) for references and workspace symbols\n- speedup when config changes: revalidation of files only if relevant settings changed\n- speedup resolution of using paths\n- speedup: cds env is now loaded synchronously in-process\n- speedup: calculate annotation diagnostics only for active file\n- speedup: dynamic registration of configurable requests now done asynchronously at startup\n- speedup: files to index for references now ordered by rank\n\n## 5.3.0 - 2021-09-23\n\n### Added\n\n- doc comments are automatically aligned\n\n### Fixed\n\n- certain localized elements were still indexed\n- new i18n entry in properties file has corrupted existing last entry\n- inconsistency in dependency calculation could have led to incorrect revalidations after a change\n\n### Changed\n\n- translation support is now lazy\n- performance improvements when translation files changed\n- last workspace/symbols are cached now to speed up CAP explorer\n- user setting cds.workspace.scanCsn has now three modes: Off, ByFileExtension (new default) and InspectJson \n\n\n## 5.2.0 - 2021-07-30\n\n### Added\n\n- new validation mode _ActiveEditorOnly_ (new default) for clients indicating support\n  via capability _workspace.didChangeActiveEditor_. \n  Other clients remain using _OpenEditorsOnly_ as default.\n  The new mode reduces number of compilations during editing and thus improves responsiveness.\n- new command to analyze using dependencies of CDS model files.\n  It will create a graphviz dot file that can be viewed with an appropriate viewer. \n  Getting an overview of file dependencies can help to keep your project architecture clean.\n\n### Changed\n\n- consume cds-compiler 2.5.0\n\n\n## 5.1.1 - 2021-07-05\n\n### Changed\n\n- consume cds-compiler 2.4.4\n- new performance relevant user settings\n    + `cds.workspace.debounceFastChanges`:  skip intermediate compilations when typing - enabled by default\n    + `cds.workspace.scanDependentModules`: skip scanning of node_modules - enabled by default, speeds up start-up time\n      Note: \n      - when using code completion for global identifiers (see `cds.completion.workspaceSymbols.minPrefixLength`) this option needs to be enabled\n      - for code completion of import paths in `using` statements this option needs to be enabled\n\n\n## 5.1.0 - 2021-06-22\n\n### Note\n\nThis is a quality release focusing on performance for large models.\nThere are new user settings and some have changed their defaults.\nBest performance is achieved with default settings, \nexcept `cds.contributions.enablement.odata` which should be switched `off` to speed up compilation, unless feature is needed.\n\nAdditonal hints to increase performance:\n- Within _SAP Business Application Studio_: close `CAP Data Models and Services` view, otherwise it will ask for all workspace symbols at every change.\n- Settings: `Cds � Contributions � Enablement: Odata`: switch off as already mentioned above\n- Settings: `Editor � Goto Location: Alternative Definition Command`: do not select `goToReferences`, otherwise being already on a definition will trigger find references which requires all dirty models to be recompiled.\n- Settings: `Workbench � Editor � Limit: Enabled`: switch on\n- Settings: `Workbench � Editor � Limit: Value`: lower the number. If open editors have `using` dependencies, a change in one editor will lead to a recompile of releated editors.\n- Commands `Go to References` / `Find All References` will recompile all models that might have changed due to a change in a depending model. If there are index models it often means the complete workspace is being recompiled. \nUntil a further change, reference calculation is resonably fast.\n- Command `Go to Symbol in Workspace` will recompile the complete workspace once, then it is reasonable fast\n- Changing settings in `CDS` section will currently perform a complete workspace invalidation i.e. required indexes will lead to recompilations on-demand as described above\n- Changing certain `cds.env` settings e.g. folder configurations will invalidate the workspace as well\n\n### Changed\n\n- consume cds-compiler 2.3.2\n- user settings\n    + cds.workspaceValidationMode new default: OpenEditorsOnly\n    + cds.workspace.scanCsn new settings with default switch off (before implicitly on)\n    + cds.quickfix.importArtifact new setting with default off (before implicitly on)\n\n\n## 5.0.5 - 2021-05-11\n\n### Fixed\n\n- asynchronous scanning of workspace blocked and led to high cpu usage (mostly on Linux/macOS) \n\n\n## 5.0.3 - 2021-05-06\n\n### Changed\n\n- consume cds-compiler 2.2.4\n- bug fixes\n\n## 5.0.1 - 2021-04-22\n\n### Changed/Fixed\n\n- where-used for namespaces also for compiler v2\n- new query flag for workspace symbols: /n to include implicit namespaces\n\n## 5.0.0 - 2021-04-02\n\n### Note\n\nThis is a major release which comes with @sap/cds-compiler v2.\nIt still supports cds-compiler v1 if used in your project\nor via global @sap/cds-dk.\n\n### Added\n\n- semantic highlighting - to be enabled via user setting `cds.semanticHighlighting.enabled`\n- new API for annotation handler to support semantic highlighting\n\n### Changed\n\n- consume cds-compiler 2.1.4\n\n## 4.4.1 - 2021-03-17\n\n### Added\n\n- preliminary support for cds-compiler 2.x\n\n## 4.4.0 - 2021-03-01\n\n### Changed\n\n- optimizations for decreased memory consumption\n- consume cds-compiler 1.50.0\n\n## 4.3.0 - 2021-02-01\n\n### Added\n\n- asynchronous initialization for annotation plugins (#923)\n- find references for annotation plugins (#929)\n- revalidate workspace after an initial annotation plugin installation (#930)\n\n### Changed\n\n- new user options for where-used request (#877)<br/>\nuntil now this functionality was enabled by default and now needs to be enabled via user options\n  + generic annotations - where a certain annotation 'class' or 'namespace' is used\n  + strings literals - where same string literals are used\n\n- consume cds-compiler 1.49.0\n- compatibility with early versions of cds-compiler 2.x\n- simplified consumption of CDS textmate grammar for Jetbrain IDEs\n\n### Fixed\n\n- dependency analysis for compilation:\nif a changed file has dependencies to the roots, but the\nroot models do not cover it, no longer it will compile multiple\ntimes\n\n- translation code action was not shown in the context of annotations\n- code completion for annotations had a trailing @ (#883)\n- annotation assignment spanned beyond semantical end (#838)\n- code formatting of brackets enclosing multiple elements in annotations had wrong indentation\n- indexing of `on` condition for elements was broken\n- update regex to highlight `one` and `many` keyword properly\n\n## 4.2.0 - 2020-11-27\n\n### Added\n\n- quickfix for deprecated identifiers\n- support for quickfixes in annotation handler\n- internal support for incremental text updates \n- improved supportability with extended statistic logs\n\n### Changed\n\n- consume cds-compiler 1.46.4\n\n### Fixes\n\n- for annotation handler and others\n\n## 4.1.2 - 2020-11-12\n\n### Changed\n\n- cds-lsp itself no longer dynamically registers file system watching for VSCode, BAS and Eclipse, as those configure it client-side\n\n### Fixes\n\n- bug fixes\n\n## 4.1.1 - 2020-11-06\n\n### Fixed\n\n- support for mono repo file system layouts did not work in certain cases\n- completion proposals for annotations were not shown at top of the list if inside an annotation\n\n## 4.1.0 - 2020-10-30\n\n### Added\n\n- support mono repo file system layouts\n- user option to format snippets after completion \n- user option to disable odata plugin\n- detection of slow running odata plugin (when validating) incl. user options to disable and fine tune\n- user option for omitRedundantTypesInSnippets for annotations\n\n### Changed\n\n- install/update contributions completely async\n- completion no longer suggests types when values are meant\n- project cds-lsp settings overrule all\n- consume cds-compiler 1.45.0\n\n### Fixed\n\n- validation of annotation plugins led to 100% cpu load\n- globally installed cds was not reliably found\n- code completion for annotation plugins did not work inside annotations at @ characters\n- bug fixes\n\n### Note\n\nFrom version 4.1.0 on, @sap/cds-lsp requires NodeJS 12.14+\n\n## 4.0.0 - 2020-09-30\n\n### Added\n\n- Plugin support for domain specific annotation handlers, featuring\n  - diagnostics\n  - code completion\n  - hover information\n  - goto definition\n  - quickfix to maintain translation\n  - auto-installation/update with user setting for npm registry\n\n- code completion inside string literals and `![...]` identifiers is automatically triggered by `/` character (additionally to `.` and `@`)\n  \n- snippets applied via code completion are now formatted\n\n- `action`s and their parameters are now indexed and support code navigation, hover etc.\n\n### Changed\n\n- consume cds-compiler 1.42.0\n\n### Fixed\n\n- bug fixes\n\n### Note\nFrom version 4.0.0 on, @sap/cds-lsp requires NodeJS 12.8+ (was 10.16+)\n\n## 3.5.0 - 2020-09-01\n\n### Added\n\n- Code completion proposes identifiers not yet imported in current file and generates corresponding `using` statement\n  - user setting: minimum number of characters required to propose those identifiers (`cds.completion.workspaceSymbols.minPrefixLength`). Default is -1 (=off)\n  - user setting: limit number of global identifiers (`cds.completion.workspaceSymbols.maxProposals`). Default is -1 (=unlimited)\n- Code formatting: options `whitespaceBeforeColon` and `whitespaceAfterColon` are now supported inside anonymous structure types\n- Code formatting: support configuration of alignment of COMPOSITION structs (option `alignCompositionStructToRight`)\n\n### Changed\n\n- consume cds-compiler 1.39.0\n\n## 3.4.3 - 2020-08-05\n\n### Changed\n\n- consume cds-compiler 1.35.0\n\n## 3.4.2 - 2020-07-28\n\n### Added\n\n- new user setting `cds.completion.workspaceSymbols` (default `off`) to add workspace symbols to code completion proposals\n- query for workspace symbols allows new option `/f` to consider fully qualified name\n\n### Changed\n\n- consume cds-compiler 1.34.0\n\n### Fixed\n\n- bug fixes\n\n## 3.4.0 - 2020-07-10\n\n### Added\n\n- support for docComments (/** ... */)\n  + hover over artifact will consider docComment\n  + snippet to create\n  + formatting will beautify docComments, incl. new option maxDocCommentLine\n  + quickFix to convert @cds.doc annotation to docComment incl. beautify\n  + distinct syntax highlighting for docComments\n- quickFix to generate using statement for not yet imported artifacts\n  + sorted by module and artifact name, beautified\n- semantic code completion for elements, enums, actions and parameters in annotate and extend (via cds-compiler 1.32.0)\n- syntax highlighting identifiers, including variants delimited with \\![...]\n- identifier completion proposals are prioritized by message severity\n- messages may now contain related information\n- added INSTALLATION.md for 3rd party IDE integrations\n\n### Changed\n\n- consume cds-compiler 1.32.0\n- updated README.md with feature list\n\n### Fixed\n\n- enum keyword was wrongly syntax highlighted\n- when an ignored source file is closed, potential messages are wiped\n- annotations of extensions were not indexed\n- bug fixes\n\n## 3.3.2 - 2020-04-26\n\n### Changed\n\n- remove optional odata annotation handler due to build issues\n\n## 3.3.1 - 2020-04-24\n\n### Changed\n\n- consume cds-compiler 1.26.2\n\n## 3.3.0 - 2020-04-24\n\n### Added\n\n- use global @sap/cds/common if locally not available\n\n### Changed\n\n- consume cds-compiler 1.26.0\n- (alpha): diagnostics and hover support for external annotation providers\n\n### Fixed\n\n- Minor fixes and improvements\n\n## 3.2.1 - 2020-03-30\n\n### Changed\n\n- consume cds-compiler 1.24.4\n\n## 3.2.0 - 2020-03-16\n\n### Changed\n\n* remove option for compiler location - LSP will always search Project->Global(via DK&CDS)->BuiltIn now\n- remove irrelevent formatting option (trimTrailingWhitespace)\n- consume cds-compiler 1.24.3\n\n### Fixed\n\n- formatting failed (seen in Eclipse, VSCode works) due to off-by-one error\n- global npm root for Business App Studio was not found with `compiler.location` option `ProjectThenGlobalThenBuiltIn`\n\n## 3.1.4 - 2020-03-04\n\n### Added\n\n- _extend_ definitions are now shown in outline and workspace symbols\n- api (alpha) for external annotation providers\n\n### Changed\n\n- consume cds-compiler 1.24.0\n\n## 3.1.3 - 2020-02-24\n\n### Added\n\n- pick up compiler and env via global cds-dk if cds not (yet) in project\n\n### Changed\n\n- consume cds-compiler 1.23.2\n\n## 3.1.2 - 2020-02-11\n\n### Added\n* code formatting\n    * options can now be overridden in source comments e.g. // @formatter tabSize:3\n    * new option to add/remove final line break\n    * new option to trim trailing whitespace\n\n### Changed\n* consume cds-compiler 1.23.1\n\n### Fixed\n* in some cases csn files with .json extension where not detected and thus workspace symbols were incomplete\n\n## 3.1.1 - 2020-01-30\n\n### Added\n* code formatting\n    * option to keep original empty lines\n* language server protocol 3.15: implement serverInfo in onInitialize\n\n### Fixed\n* formatting options were taken from homedir instead of preferring from project\n\n## 3.1.0- 2020-01-24\n\n### Added\n* translation support\n    * now with all formats supported by runtime (.properties, .json, .csv) incl. quick fixes to create missing entries\n    * now with customizations supported by runtime (filename, folder name, fallback_bundle, default_language)\n        * if entries of fallback language are missing but are defined for default language the latter ones are used\n        * if property files or json nodes or csv header only has default language defined (and not raw), quick fix will use default language\n        * quick fix for json and csv formats now try to keep entries sorted\n        * navigation from translation reference in cds source files to value supported for all formats\n* allow .cdsprettier.json to be located in user home dir\n\n### Changed\n* code formatting\n    * improve alignment of types, values, and preceding `:` or `=` operators\n* consume cds-compiler 1.22.0\n\n### Fixed\n* code formatting\n    * fix, improve, and allow to better adjust alignments and whitespace\n    * fix alignment of annotations in `annotate` statement\n    * fix casing of and indentation after `Association` and `Composition`\n    * fix formatting of parts of `select` statement in case of nesting and after `in`\n    * fix positioning of brace `{` after annotation if requested to be kept in previous line\n    * fix bug where token starting with `$` was merged\n* in the past file changes via watcher were automatically sent for all files in VSCode.\n  In recent versions of VSCode this has changed to only sent files supported by language server type (cds).\n  A fix was made to dynamically register for relevant side-files like\n  package.json, .cdsrc.json, all supported translation file formats, ignore files\n  to keep track of changed environment\n\n## 3.0.0 - 2019-12-16\nOfficial support for code formatting\n\n### Changed\n* code completion\n    * more snippet variants for extend\n    * no longer differ entity suggestions between within service or outside\n    * base types with parameters now suggested as simply keyword w/o params and additional suggestion as snippet (param names now enclosed in < >)\n    * changed label indicator for snippets from <> to ellipsis\n* consume cds-compiler 1.21.1\n* code formatting\n    * rework formatting options: add/remove options according to relevance, rename/group options for clarity, change default behavior in some cases\n    * various improvements, including in case statements and bracketed conditions\n\n### Fixed\n* code formatting\n    * fix alignment of annotations in views\n    * safely identify unreserved keywords\n\n## [2.1.21]\n### Fixes\n* Fix indentation after element definitions using Association or Composition\n\n## [2.1.20]\n### Added\n* support LSP configuration via settings file in workspace incl. logs in workspace\n\n### Changed\n* consume cds-compiler 1.20.3\n\n### Fixed\n* fix: extraction of root models did no longer work since @sap/cds#3.19\n* code formatting\n    * Fix indentation of keywords `union`, `except`, and `minus`\n    * Make alignments more consistent generally\n    * Improve readability by padding operators with blanks\n    * Improve alignment of bracketed conditions\n\n## [2.1.19]\n* consume cds-compiler 1.20.0\n* fixes and enhancements in code formatting\n\n## [2.1.18]\n* syntax highlighting: now supports 'default' keyword, plus minor fixes\n* removed dependencies to ts-md5 and vscode-uri\n* **for all IDE providers**: _out_ folder was renamed to _lib_\n* new internal URI handling: especially on Windows no longer encode drive letter colon\n\n## [2.1.17]\n* minor text polishing for config UI\n\n## [2.1.16]\n* fixes and enhancements for code formatting\n    * renamed settings file to .cdsprettier.json\n    * schema with parentOption and basic markdown support for label (new) and description\n* renamed tmLanguage for syntax highlighting\n* consume cds-compiler 1.19.2\n\n## [2.1.15]\n* fixes and enhancements for code formatting\n* clean-ups in LSP project setup\n* consume cds-compiler 1.19.1\n\n## [2.1.13]\n* fix regression: schema file was not included\n\n## [2.1.12]\n* fix minor issues\n\n## [2.1.11]\n* schema for formatting options with category, description, code sample, suboptions, enum values\n* now sits on node 10+\n* consume cds-compiler 1.18.1\n\n## [2.1.10]\n* Fixes and enhancement for syntax highlighting and code formatting\n\n## [2.1.9]\n* Syntax highlighting now uses different classifications (=colors) for annotations and comments\n* Support user settings in $LSP/.cds-lsp/.settings.json for IDEs which do not support user settings (Eclipse, Intellij, ...)\n* No longer report compiler messages for csn files\n* Preparation for config editor for formatting options\n* Deadlock detection and prevention for code formatting incl. option to cancel or try best in case\n* Use json parsing from compiler for csn files (which allows comments etc.)\n* Fixes and enhancements in source formatting\n* consume cds-compiler 1.17.3\n\n## [2.1.8]\n* code formatting - many fixes and enhancements\n    * now on by default but still experimental\n* syntax highlighting reworked for CDL and CQL keywords\n* where-used index now with using path segments\n* updated cds documentation (in code completion)\n* outline now shows contexts and services with fully qualified name\n* other fixes and improvements\n* consume cds-compiler 1.17.0\n\n## [2.1.7]\n* consume cds-compiler 1.16.2\n* fixes and improvements\n\n## [2.1.6]\n* beautify: improve alignment of comments and robustness\n* bug fix: outline showed entries not contained in file\n\n## [2.1.5]\n* consume cds-compiler 1.16.1\n* beautification for annotations and CQL\n\n## [2.1.4]\n* consume cds-compiler 1.15.0\n* user option to enable beautify: cds.experimental.beautify.enable (default false)\n\n## [2.1.3]\n* consume cds-compiler 1.14.0\n\n## [2.1.2]\n* consume cds-compiler 1.13.4\n* using compiler from project workspace now default\n\n## [2.1.1]\n* consume cds-compiler 1.13.1\n* performance improvements (fewer compilations and reduced memory footprint)\n* Links to folders in using statement are now resolved\n\n## [2.1.0]\n* consume cds-compiler 1.12.1\n* new where-used index with less memory consumption and support for references of custom annotations, built-in types, string constants and better tracking of identifiers in CQL\n* targets of using statement now rendered as links (via documentLink request)\n\n## [2.0.8]\n* performance optimizations for translation support\n* consume cds-compiler 1.10.0\n\n## [2.0.7]\n* new switch: cds.compiler.markMissingI18nDefault (default: off) to show problem markers for unresolved i18n references\n* bug fixes\n\n## [2.0.6]\n* consume cds-compiler 1.9.0\n* bug fixes\n\n## [2.0.5]\n* fix dependency installation in public cloud\n* consume cds-compiler 1.8.1\n\n## [2.0.4]\n* suggest @sap/cds/common as default path in using snippet if dependency to @sap/cds is present\n\n## [2.0.3]\n* fixes\n\n## [2.0.2]\n* consume cds-compiler 1.8.0\n\n## [2.0.1]\n* doc support (snippet for localization, hover on translation id)\n* consume cds-compiler 1.7.1\n* new unofficial switch cds.compiler.showInternalErrors\n* cds-compiler 1.7.1\n\n## [2.0.0]\n* Snippets for title and description\n* Code completion for translation references\n* Create translation properties file in quickfix if none existing\n* fixes\n\n## [1.4.25]\n* support for cds.doc\n* cds-compiler 1.6.0\n\n## [1.4.24]\n* Goto-definition for paths in using statement\n* New user preference to configure minimum severity of compilation problems\n* Compiler 1.5.0\n* Fix support of git and git+https dependencies\n\n## [1.4.23]\n* code completions for using statement paths\n* reworked snippets\n* minor fixes\n\n## [1.4.22]\n* CSN files are now detected and including in where-used index e.g. for workspace symbols\n* Introduce per-file compilation mode which speeds up where-used features expecially for large workspaces. User setting cds.compilation.mode (default PerFile)\n* Installation of dependencies in package.json files\n    * now configurable via user setting cds.autoInstallDependencies (default off)\n    * if turned on it only reinstalls if dependency definitions exist and have changed since last install. Other changes in package.json files are ignored\n    * package.json files are no longer reformatted when installing dependencies\n    * .cdsignore can be used to exclude paths from installation e.g. test folders with package.json files\n* In internal landscape within WebIDE it is now possible to use git-git-URLs to internal GitHub in addition to https-git-URLs\n* Compiler 1.3.0\n* Trace now measures durations with high precision, includes compilation footprint (number of files and size of compiled sources) and shows memory changes\n","downloadsCurrentMonth":4098,"downloadsCurrentFortnight":1951,"downloads365":29079,"downloadsFortnightGrowth":-2.5,"downloadsHistory":[{"yearMonth":"2023-04","downloads":1486},{"yearMonth":"2023-05","downloads":1612},{"yearMonth":"2023-06","downloads":1415},{"yearMonth":"2023-07","downloads":1795},{"yearMonth":"2023-08","downloads":1944},{"yearMonth":"2023-09","downloads":2035},{"yearMonth":"2023-10","downloads":2448},{"yearMonth":"2023-11","downloads":1872},{"yearMonth":"2023-12","downloads":2809},{"yearMonth":"2024-01","downloads":4283},{"yearMonth":"2024-02","downloads":3886}],"versions":[{"version":"created","date":"2020-06-11T20:50:50.692Z"},{"version":"2.1.2","date":"2020-06-11T20:50:51.152Z"},{"version":"modified","date":"2024-02-26T11:55:53.417Z"},{"version":"3.0.0","date":"2020-06-11T20:51:00.463Z"},{"version":"3.2.1","date":"2020-06-11T20:51:08.059Z"},{"version":"3.1.3","date":"2020-06-11T20:51:16.197Z"},{"version":"2.1.8","date":"2020-06-11T20:51:23.608Z"},{"version":"2.1.4","date":"2020-06-11T20:51:32.112Z"},{"version":"2.1.16","date":"2020-06-11T20:51:39.485Z"},{"version":"3.3.2","date":"2020-06-11T20:51:48.478Z"},{"version":"2.1.21","date":"2020-06-11T20:51:57.624Z"},{"version":"3.4.3","date":"2020-08-06T15:23:30.661Z"},{"version":"3.5.0","date":"2020-09-03T12:58:14.801Z"},{"version":"4.0.0","date":"2020-10-14T08:04:06.764Z"},{"version":"4.1.0","date":"2020-11-04T14:27:04.787Z"},{"version":"4.1.1","date":"2020-11-10T12:16:50.316Z"},{"version":"4.2.0","date":"2020-12-04T14:53:50.803Z"},{"version":"4.3.0","date":"2021-02-03T14:22:26.544Z"},{"version":"5.0.0","date":"2021-04-07T12:52:16.364Z"},{"version":"5.0.1","date":"2021-04-29T10:09:11.722Z"},{"version":"5.0.3","date":"2021-05-10T11:03:21.257Z"},{"version":"5.0.5","date":"2021-05-11T18:38:44.257Z"},{"version":"5.1.1","date":"2021-07-09T11:41:04.845Z"},{"version":"5.2.0","date":"2021-08-10T09:30:10.843Z"},{"version":"5.3.0","date":"2021-09-27T12:23:42.037Z"},{"version":"5.4.0","date":"2021-12-06T15:06:01.011Z"},{"version":"5.5.0","date":"2022-01-31T09:33:45.643Z"},{"version":"5.5.3","date":"2022-02-07T08:29:23.891Z"},{"version":"5.5.5","date":"2022-03-04T09:19:18.222Z"},{"version":"5.5.6","date":"2022-03-31T15:16:52.877Z"},{"version":"5.5.7","date":"2022-04-07T06:15:11.884Z"},{"version":"6.0.0","date":"2022-07-04T15:03:24.832Z"},{"version":"6.0.3","date":"2022-07-11T11:29:26.352Z"},{"version":"6.2.0","date":"2022-10-10T09:49:34.889Z"},{"version":"6.2.2","date":"2022-10-18T07:47:11.914Z"},{"version":"6.3.0","date":"2022-11-02T09:25:38.543Z"},{"version":"6.4.0","date":"2022-12-15T20:23:50.350Z"},{"version":"6.5.0","date":"2023-01-30T15:02:12.246Z"},{"version":"6.5.1","date":"2023-02-20T11:52:02.957Z"},{"version":"6.6.1","date":"2023-03-03T16:30:43.152Z"},{"version":"6.7.0","date":"2023-04-03T14:33:58.151Z"},{"version":"6.8.0","date":"2023-05-04T10:39:44.563Z"},{"version":"7.0.0","date":"2023-06-14T17:55:48.046Z"},{"version":"7.2.0","date":"2023-09-11T13:57:32.020Z"},{"version":"7.3.0","date":"2023-10-10T09:13:49.474Z"},{"version":"7.4.0","date":"2023-11-17T11:41:41.308Z"},{"version":"7.5.0","date":"2023-12-20T18:06:49.310Z"},{"version":"7.6.0","date":"2024-02-07T18:50:23.010Z"},{"version":"7.6.1","date":"2024-02-26T11:55:52.982Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-lsp"},{"name":"cds-mtx","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T22:13:31.287Z","updatedAt":"2024-02-12T18:11:14.759Z","readme":"# @sap/cds-mtx\n\nLibrary for multitenancy and extensibility support for the [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap).\n\nSee the documentation for [Multitenancy](https://cap.cloud.sap/docs/guides/deployment/as-saas) and [Extensibility](https://cap.cloud.sap/docs/guides/extensibility) for more details.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Change Log\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## Version 2.6.5 - 2023-09-04\n\n### Changed\n- All available HDI deployment parameters can now be passed for tenant deployment.\n\n### Added\n- Container creation now adds parameters needed for HANA encryption\n\n## Version 2.6.4 - 2022-11-17\n\n### Fixed\n- Full tenant metadata is stored again when running the subscription from CAP java\n- APIs can now be run without express app\n- Improved filter for technical tenants when getting all tenant ids\n\n## Version 2.6.3 - 2022-10-18\n\n### Fixed\n- .hdinamespace files provided as native HANA content are now included for deployment\n- Edmx files are only generated for the default language if ad-hoc edmx compilation is enabled (`mtx.edmx.compile: true`)\n\n### Changed\n- `polling_interval_millis` set for `@sap/instance-manager` has been increased to `3000`\n\n## Version 2.6.2 - 2022-09-21\n\n### Fixed\n- Debug logs do no longer contain any authentication details\n### Added\n- Retries can now be configured with a delay (in ms)\n  ```\n  \"mtx\": {\n     \"provisioning\": { \"retryDelay\": 1000 }\n  }\n  ```\n- Clustering of upgrade jobs by database id can be disabled to reduce service-manager workload\n  ```\n  \"mtx\": {\n      \"jobs\": {\n        \"clusterbydb\": false\n      },\n      ...\n  }\n  ```\n\n\n## Version 2.6.1 - 2022-08-22\n\n### Fixed\n- Use of legacy APIs for scope checks has been removed\n- Better compatibility for environments without vcap-environment, especially DwC\n- Restored compatibility for Node.js 12.  In version 2.6.0, this failed with an error like `SyntaxError: Unexpected token`.\n- Extension linters now also check types and aspects\n- I18n file collection now works correctly with @sap/cds@6\n- Job status of asynchronous requests to scaled applications is now returned correctly again\n\n### Changed\n- Retries for container creation and deployment have been disabled. Retries can be configured using via cds env:\n  ```\n  \"mtx\": {\n     \"provisioning\": { \"retries\": 2 }\n  }\n  ```\n  retries two times after a failure.\n\n## Version 2.6.0 - 2022-07-07\n\n### Added\n - Support for new build task aliases `java` and `nodejs`\n\n### Fixed\n- @sap/cds-mtx is now compatible with @sap/cds@^6.\n- Kibana logs of asynchronous jobs now always have the correct correlation id.\n- Upgrade of tenants with no meta tenant (e. g. created by dynamic deployer) can now be upgraded again, including the creation of the missing meta tenant.\n- Upgrade of tenants now consistently updates the basemodel files per tenant again.\n\n## Version 2.5.6 - 2022-05-18\n\n### Added\n- Tenant upgrades can now scale beyond a single database.\n- The tenant IDs are now exposed in the provisioning service (`/mtx/v1/provisioning/tenantIds`).\n- The SaaS Provisioning Service `UPDATE` event type is now also supported.\n- By setting cds environment `mtx.provisioning.lazymetadatacontainercreation: true`, the creation of the `__META__` container can be postponed to the first onboarding again. In case the onboarding request contains additional parameters for the container creation, these parameters will also be used for the creation of the `__META__` tenant, except if the parameters are also set via cds environment `mtx.provisioning.metadatacontainer`.\n\n### Fixed\n- When using a custom folder setup for native artifacts for HDI, the `cfg` folder is now correctly included for the HDI deployment\n\n## Version 2.5.5 - 2022-04-14\n\n### Changed\n- Improved logging in the context of requesting tokens.\n\n## Version 2.5.4 - 2022-04-04\n\n### Changed\n- If enabled via `cds.env.mtx.security.metadata-scope-checks`, the v2 CSN and EDMX APIs, as well as all metadata APIs are now scope-checked for `mtdeployment`.\n- Tokens sent to the command-line client are now reduced in scope for security reasons.\n\n### Fixed\n- `MT_LIB_TENANT-`-prefixed tenants used by the Java runtime are now correctly ignored by the `cds-mtx` sidecar.\n\n## Version 2.5.3 - 2022-03-14\n\n### Fixed\n- Provisioning parameters for the container creation can now also be set exclusively for the `__META__` container via cds environment `mtx.provisioning.metadatacontainer` or environment variable `CDS_MTX_PROVISIONING_METADATACONTAINER`. Tenant containers are not affected by that cds environment.\n- Configuration parameters for the `@sap/instance-manager` module can now be passes using cds environment `mtx.provisioning.instancemanageroptions` or environment variable `CDS_MTX_PROVISIONING_INSTANCEMANAGEROPTIONS`. See also [@sap/instance-manager](https://www.npmjs.com/package/@sap/instance-manager).\n- Upgrade calls for non-existing tenants do no longer create orphan HDI containers\n- More robust handling of inconsistent HDI container having no tenant id (error \"TypeError: Cannot read property 'toLowerCase' of undefined\")\n\n## Version 2.5.2 - 2022-01-26\n\n### Added\n- It is now checked if CDS annotations `@sql.append` and `@sql.prepend` are used in extensions. Using these annotations in extensions is currently not allowed.\n\n\n### Fixed\n- API `/mtx/v1/provisioning/tenant` does no longer return duplicate tenants in case of concurrent API calls.\n- Dependencies to `VCAP_SERVICES` environment have been removed. Service dependencies can now be fully defined via `cds.env`, except for databases shared between tenants.\n\n## Version 2.5.1 - 2021-12-09\n\n### Fixed\n- The `cds-mtx`-provided `.hdiconfig` now does not overwrite the application-provided one during deployment. This fixes an issue in parallel tenant upgrades for a large number of tenants, where the unlinking of the previously existing `.hdiconfig` failed occasionally.\n\n## Version 2.5.0 - 2021-12-06\n\n### Added\n- Binding of both service-manager and managed-hana is now supported. To enable it, you have to\nset the feature flag `cds.features.hybrid_instance_manager` to true. Please note that you also\nneed a compatible version of `@sap/instance-manager`.\n\n## Version 2.4.2 - 2021-12-02\n\n### Fixed\n- Authentication request for cds extension client is now returning token again\n- `hdbmigrationtable` files from an updated model with multiple new migration versions\nare now correctly merged with tenant specific `hdbmigrationtable` files\n\n\n## Version 2.4.1 - 2021-11-09\n\n\n### Fixed\n- Additional HDI_DEPLOY_OPTIONS do no longer affect the stability\nof the meta tenant creation\n- Reduction of redundant file system operations to improve stability of\ntenant upgrade\n\n## Version 2.4.0 - 2021-11-02\n\n### Added\n- Added parameter `subscriptionData` to `TenantPersistenceService.deleteTenant` so that\ncustom handlers get more information about the tenant that is deleted. Can be `{}`\nif there was a failed deletion attempt before that already removed the metadata.\n- Database deployment is now internally called via cds service `TenantPersistenceService` that\n  applications can add handlers for\n  ```\n  @protocol:'rest'\n  service TenantPersistenceService {\n      type JSON {\n          // any json\n      }\n      ...\n      action deployToDb(sourceDir: String, instanceData: JSON, deploymentOptions: JSON, additionalServices: JSON);\n  }\n  ```\n  Please note that this API is not meant to be called by applications but has been\n  introduced to allow applications to create handlers for custom logic to be executed\n  with the database deployment.\n- You can now diagnose deployed tables using `mtx/v1/diagnose/tables/<tenantId>`.\n\n### Changed\n- Parallel tenant upgrades have been optimized so that build results for non-extended tenants are shared and the number of database interactions is reduced.\n- An `EventTypeMissingError` is now thrown when the `eventType` parameter is missing at tenant creation.\n\n### Fixed\n- APIs `mtx.getEdmx(tenantId, service, language, odataVersion)` and the endpoint\n`/mtx/v1/metadata/edmx/<tenant-id>?name=<service>&language=<lang>&odataVersion=<version>`\nnow reuse the preuild edmx if `odataVersion` equals configured version (`cds.odata.version`)\n- Job list returned by diagnose API now contains correct results\n- Offboarding via CDS transactions is now working without an explicit `where` clause, i.e. you can simplify\n  ```js\n  await transaction.delete('tenant', tenantId).where({ subscribedTenantId: tenantId })\n  ```\n  into\n  ```js\n  await transaction.delete('tenant', tenantId)\n  ```\n\n## Version 2.3.4 - 2021-10-18\n\n### Fixed\n- Fixed full build logs not being part of the jobs logs.\n\n## Version 2.3.3 - 2021-10-14\n\n### Fixed\n- Job status reports for asynchronous tenant base model updates now contain the correct build and deployment logs.\n- With HANA build task configurations having subfolders, e. g. `sap/db` instead of `db`,\nnative HANA artifacts and csv files are now deployed correctly.\n- API `mtx/v1/model/content` now also works with tenant from url as specified\n- Update of tenant metadata containers on HANA Cloud no longer fails\n\n## Version 2.3.2 - 2021-10-06\n\n### Added\n- Additional user-provided services are now accessible for the deployment\n\n### Fixed\n\n- The `mtx/v1/diagnose/jobs` API will now correctly deliver job information about jobs in memory.\n- Compatibility with cds < @sap/cds@5.5.0 when running onboarding, upgrade or extend on java projects\nhas been fixed.\n\n## Version 2.3.1 - 2021-09-30\n\n### Fixed\n- Configuration `mtx.jobs.parallelUpgradeLimit` is now correctly limiting the number\nof parallel tenant upgrades.\n\n## Version 2.3.0 - 2021-09-27\n\n\n### Fixed\n- The maximum filename length of sources files that are stored with the tenant metadata has been\nincreased from 200 to 500. The tenant metadata store will be updated accordingly with any tenant\noperation (extend, upgrade).\n- Exceptions from asynchronous jobs are now visible in the application log again\n\n### Added\n- Tenant upgrade is now internally called via cds service `TenantPersistenceService` that\n  applications can add handlers for\n  ```\n  @protocol:'rest'\n  service TenantPersistenceService {\n      type JSON {\n          // any json\n      }\n      ...\n      action upgradeTenant(tenantId: UUID, instanceData: JSON, deploymentOptions: JSON) returns JSON;\n  }\n  ```\n  Please note that this API is not meant to be called by applications but has been\n  introduced to allow applications to create handlers for custom logic to be executed\n  with the tenant upgrade.\n- (BETA) It is now possible to get the edmx for services with a different odata version than the version configured\nfor the build. API `mtx.getEdmx(tenantId, service, language, odataVersion)` and the endpoint\n`/mtx/v1/metadata/edmx/<tenant-id>?name=<service>&language=<lang>&odataVersion=<version>` now supports a parameter `odataVersion`.\nPlease note that the output is compiled on-the-fly if `odataVersion` is specified which has potential impact on the performance.\nYou will also have to run a tenant upgrade for existing tenants (`/mtx/v1/model/upgrade`) to get a correct result.\n- Extensions can now be reset via API `/mtx/v1/model/reset` and `/mtx/v1/model/asyncReset`.\n- The job removal timeout is now configurable using `cds.mtx.jobs.removalTimeout`.\n- `mtx.jobs.maxParallelExecutions` can now be used to parallelize asynchronous jobs. The default is `2`.\n\n### Changed\n\n- Tenant updates are now parallelized. You can set the pool size using `mtx.jobs.parallelUpgradeLimit`. The default is `4`.\n- `mtx.jobs.intervalTimeout` is now deprecated, as the job queue does not require polling any more.\n- The default queue size for asynchronous jobs has been increased to `1000`.\n- In case of errors, the full `hdi-deploy` logs are now also printed for the default logging level.\n\n## Version 2.2.2 - 2021-08-26\n\n### Fixed\n- Fixed a regression where the `ExtendCDSdelete` scope was required for extension activations even without `undeployExtension` set to `false`.\n- Fixed an application crash at startup when `MTX_DISABLE_META_TENANT_CREATION` is set and no Instance/Service Manager credentials are available.\n\n### Added\n- There are new APIs for diagnosing memory, asynchronous jobs, and HDI containers. They can be called via\n  - `/mtx/v1/diagnose/memory`\n  - `/mtx/v1/diagnose/jobs`\n  - `/mtx/v1/diagnose/container/<tenantId>`\n\n  Note that with this change, the `/mtx/v1/model/diagnose` API is not available any more.\n  The new API will work out-of-the-box with `@sap/cds >= 5.5.0`, but you have to opt-in with earlier versions by setting\n\n  ```json\n  \"mtx\": {\n    \"api\": {\n      \"diagnose\": true\n    }\n  }\n  ```\n  in your `package.json`.\n\n## Version 2.2.1 - 2021-08-19\n\n\n### Changed\n- To reduce the number of logs, the HDI deployment output is now only logged in debug mode.\n- Tenant metdata request via `mtx/v1/provisioning/tenant/` are now cached.\n\n### Fixed\n- Native HANA table data properties files are now supported.\n- `MT_LIB_TENANT-*`-prefixed tenants are now ignored when requesting `mtx/v1/provisioning/tenant`. This fixes a compatibility problem when using the `CDS_MULTITENANCY_DATASOURCE_HANADATABASEIDS` environment variable.\n\n## Version 2.2.0 - 2021-07-30\n\n\n\n### Added\n- `working_set` and `exclude_filter` can now be used as `HDI_DEPLOY_OPTIONS`\n- Job log is now cleaned up with each startup to avoid garbage after application shutdowns or crashes.\nMaximum age of entries can be configured via cds configuration `mtx.jobs.cleanup.regular` and `mtx.jobs.cleanup.stale`\n(in milliseconds).\n\"Regular\" refers to finished or failed jobs (default is 30 min), \"Stale\" refers to queued or running jobs\n(default is 7 days).\n- (BETA) The tenant specific URL returned to the `saas-registry` can now be specified\nvia two environment variables `SUBSCRIPTION_URL` and `SUBSCRIPTION_URL_REPLACEMENT_RULES`.<br>\nThe following example uses the MTX application URL and turns it into the UI\napplication URL by replacing the application name suffix.\n  ```\n  SUBSCRIPTION_URL: ${protocol}://\\${tenant_subdomain}-${default-uri}\n  SUBSCRIPTION_URL_REPLACEMENT_RULES: [['srv', 'app']]\n  ```\n  `\\${tenant_subomain}` will be replaced by the domain of the subscribed tenant.\n\n### Changed\n\n- `/mtx/v1/metadata/edmx/` will now throw `ServiceMissingError` if no `name` query parameter is passed, instead of defaulting to `CatalogService`.\n- A `ModelNotFoundError` is thrown if no service model is found using `/mtx/v1/metadata/<modelType>/<tenantId>`.\n\n### Fixed\n- Access to metadata API (edmx, csn, languages, services) is now restricted\nto owner or provider tenant again\n- Allowed `HDI_DEPLOY_OPTIONS` are now filtered correctly\n- Correlation ids of requests are now forwarded correctly to asynchronous jobs for\nbetter supportability of mtx tenant operations.\n\n## Version 2.1.2 - 2021-07-09\n\n### Added\n\n- Tenant creation and deletion is now called via cds service `TenantPersistenceService` that\napplications can add handlers for\n```\n@protocol:'rest'\nservice TenantPersistenceService {\n    type JSON {\n        // any json\n    }\n\n    action createTenant(tenantId: UUID, subscriptionData: JSON) returns String;\n    action deleteTenant(tenantId: UUID);\n}\n```\n\n## Version 2.0.4 - 2021-06-14\n\n\n### Added\n\n- The global meta tenant creation in `cds.mtx.in` can now be disabled by setting the `MTX_DISABLE_META_TENANT_CREATION` environment variable\n\n### Fixed\n\n- More error types and semantic HTTP status codes have been added\n- Setting `MTX_ROLLBACK_CORRUPTED_CONTAINER` to `true` will now also delete and recreate an HDI container if its bindings are missing\n\n## Version 2.0.3 - 2021-06-08\n\n\n### Fixed\n\n- MTX Bootstrap has been adapted so that application service handlers can access mtx services\nagain\n- Logging is now consistently using cds.log\n- A caching problem with the metadata persistence factory is fixed\n\n### Changed\n\n- File system APIs are now asynchronous\n\n### Added\n\n- Allow array as configuration for mandatory scopes for subscription and update\n```\nmtx: {\n    security: {\n        \"subscription-scope\": [\"myApp.subscription\",\"myApp.superadmin\"],\n        \"deployment-scope\": [\"myApp.deployment\", \"myApp.superadmin\"]\n    }\n}\n```\n\n## Version 2.0.2 - 2021-05-21\n\n\n### Added\n- Internal on- and offboarding API for sidecar usecase: POST `/mtx/v1/internal/provisioning/subscribe`\nand POST `/mtx/v1/internal/provisioning/unsubscribe`\nwith payload\n```\n{\n  \"subscribedTenantId\": <tenant id>,\n  \"async\": <true/false>\n}\n```\n\n### Changed\n\n- A failed offboarding will now throw a `TenantOffboardingError`, instead of just logging the error.\n\n### Fixed\n\n- MTX APIs are now served idempotently. This fixes custom provisioning handlers not being invoked correctly.\n\n## Version 2.0.1 - 2021-05-10\n\n\n### Added\n\n- It's now possible to provide BTP dependencies in the `mtx` settings in your `.cdsrc.json` instead of implementing a custom handler, by setting `mtx.dependencies` accordingly.\n\n## Version 2.0.0 - 2021-05-07\n\n\n### Added\n- Saas provisioning operations GET, PUT and DELETE on API `/mtx/v1/provisioning/tenant/`\nnow require scope `mtcallback`. Upgrade calls on API `/mtx/v1/model/upgrade/` and\n`/mtx/v1/model/upgradeAsync/` now require scope `mtdeployment`.\nThis is now aligned with the\n[mandatory scope check required for the java runtime](../java/multitenancy#xsuaa-mt-configuration).<br>\nTo adapt the scope names to the java runtime scope configuration,\nthe scope names can be changed using the following cds configuration:\n```\nmtx: {\n    security: {\n        \"subscription-scope\": \"myApp.subscription\",\n        \"deployment-scope\": \"myApp.deployment\"\n    }\n}\n```\n- Support cds build API throwing BuildError instead of CompilationError.\n- Undeployment of extensions can now be done using a simplified API:\n`/mtx/v1/model/deactivate` with payload containing the extension sources to\nbe removed.\n```\n{\n  \"extension_files\": [\n    \"db/ext3.cds\"\n  ],\n  \"tenant\": \"<tenant id>\"\n}\n```\n- Support automatic roll-back for corrupted tenants when `MTX_ROLLBACK_CORRUPTED_CONTAINER` is set to `true`. This should _never_ be used in production, but only for integration tests.\n\n### Changed\n\n- The global data meta tenant (`GLOBAL_DATA_META_TENANT`) is now created on the first application startup, instead of the first onboarding\n- `@sap/hdi-deploy` and `@sap/instance-manager` are now directly required by `@sap/cds-mtx`. Therefore, they can be left out of your `package.json` `dependencies`\n- Job IDs are now generated using the `uuid` package\n- The default behavior of the `extension-allowlist` has changed. If `extension-allowlist`\nis not configured, it is not allowed to apply any extension.<br>\nExtensions can be easily enabled for all entities and services by adding the following\nto the configuration.\n```\nmtx: {\n  \"extension-allowlist\" = [\n      {\n          \"for\": [\"*\"]\n      }\n  ]\n```\n\n### Fixed\n- No more duplicate log entries in model upgrade result.\n\n## Version 1.2.3 - 2021-05-01\n\n\n### Fixed\n- Scope check for extension undeployment (ExtendCDSDelete) is enabled again\n\n## Version 1.2.2 - 2021-04-23\n\n\n## Version 1.2.1 - 2021-04-14\n\n\n### Fixed\n- Undeployment for model upgrade via `advancedOptions` working again\n- Undeployment of base model artifacts via 'undeploy.json' is working again\n- Unallowed `@cds.persistence.journal` annotations in extensions are now checked\n\n### Added\n- Size of job queue can now be configured via cds env\n```\nmtx: {\n  jobqueue: {\n    size: 10\n  }\n```\nor parameter `CDS_MTX_JOBQUEUE_SIZE=10`\n\n## Version 1.2.0 - 2021-03-30\n\n\n\n### Added\n- Multitenant applications now support extensions of entities using schema evolution based on `.hdbmigrationtable` files.\n- It is now possible to specify limits for the number of extension fields per entity.\nIf no limit is specified, the number of extension fields is not limited.\\\nIf this list exists, only entities and services contained in this list can be extended.\n```\n\"mtx\" : {\n  \"extension-allowlist\": [\n    {\n        'for': ['my.bookshop.Authors', 'my.bookshop.Books'],\n        'new-fields': 2\n    },\n    {\n        'for': ['CatalogService']\n    }\n  ]\n}\n```\n\n## Version 1.1.5 - 2021-03-09\n\n### Fixed\n- The extension API `/mtx/v1/content` now returns a correct json if a collection is requested with any version of\n@sap/cds used by the application. The `cds extend` command was returning `(intermediate result) is not iterable` because\nof an incorrect server response.\n- Connection handling has been improved. Errors of type `TimeoutError: Acquiring client from pool timed out` are reduced.\n\n## Version 1.1.3 - 2021-03-03\n\n\n### Fixed\n- `mtx/v1/model/status` now returns the job status again\n\n## Version 1.1.2 - 2021-03-01\n\n\n### Added\n- Multitenant applications **without tenant specific extensions** now support schema evolution based on `.hdbmigrationtable` files.\n- Provisioning parameters for the container creation can now also be set\nvia cds environment `mtx.provisioning.container` or environment variable `CDS_MTX_PROVISIONING_CONTAINER`.\\\nProvisioning parameters that are set in the subscription request to `mtx/v1/provisioning/tenant`\noverride the values from the environment.\n- Dedicated hdi deployment options can now be set via environment variable\n`HDI_DEPLOY_OPTIONS`, e. g. `HDI_DEPLOY_OPTIONS=\"{\\\"trace\\\": true }\"`. \\\nSee also\n[HDI deploy options](https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.05/en-US/a4bbc2dd8a20442387dc7b706e8d3070.html).\n\n### Fixed\n- Fix job-status handling.\n- Persist job errors, so they can be revealed even after MTX restart.\n\n## Version 1.0.28 - 2021-02-22\n\n### Added\n\n- It is now possible to pass hdi deployment parameters `undeploy` and `path-parameter` with the model upgrade\n(`mtx/v1/model/upgrade` and `mtx/v1/model/asyncUpgrade`)\n\n## Version 1.0.27 - 2021-02-01\n\n### Fixed\n\n- Extensions via `extend projection ` are now checked correctly by the linter.\n- Cross hdi container access is now supported properly (see also https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.05/en-US/a4bbc2dd8a20442387dc7b706e8d3070.html)\n\n## Version 1.0.26 - 2021-01-04\n\n\n### Fixed\n\n- When using`hdb` as driver for the database, the tenant updates are now logged properly\n\n## Version 1.0.25 - 2020-11-27\n\n\n### Added\n\n- Added enhanced authentication API needed for the @sap/cds-sidecar-client\nto support authentication with clientid/clientsecret from subscriber account.\nThis is needed to extend multitentant applications that are provided as services.\n\n### Fixed\n\n- Activation via cds-sidecar-client shows linter errors again\n- Offboarding of tenants does no longer cause a reconnect of cds\n(also requires update of @sap/cds dependency to minimum @sap/cds@4.3)\n\n## Version 1.0.24 - 2020-11-07\n\n\n### Fixed\n\n- Broken compatibility with hdb driver is now fixed\n\n## Version 1.0.23 - 2020-11-05\n\n\n### Fixed\n\n- MTX is now compatible with latest versions of @sap/hana-client\n- Linters can now handle extension projects with subfolders again\n- The connection pool used by mtx is now correctly updated on offboarding\neven with scaled applications\n\n## Version 1.0.22 - 2020-10-21\n\n\n### Fixed\n\n- The application url returned to the saas registry when using asynchronous onboarding\ncan now also be set in the header field 'application_url'\n- The build task used when onboarding do now use the right defaults. When being used\nas sidecar application, build task do no longer have to have the model option.\n- New entities with namespaces in extensions are now correctly\nchecked by the extensibility linter on extension activation\n- Call of onboarding and offboarding via javacript API is now fixed ('Cannot read property 'headers' of undefined')\n\n## Version 1.0.21 - 2020-09-29\n\n\n### Fixed\n\n- Connections to application after off- and onboarding now work properly\n\n## Version 1.0.20 - 2020-09-10\n\n\n### Fixed\n- Custom content upload using `/mtx/v1/model/updateCustomTenantContent` now also works\nwith cds 4\n\n## Version 1.0.19 - 2020-09-03\n\n### Added\n- The asynchronous model update API now accepts a callback URL (header field `MTX_STATUS_CALLBACK`) that\n  is called when the update is finished\n- A new REST API for activating extensions from csn sources was added. Use `POST /mtx/v1/model/activateCsn/`\nwith a csn JSON as payload. Example:\n\n```\n{\n        \"extensionCsn\": \"{\\\"extensions\\\":[{\\\"extend\\\":\\\"sap.capire.bookshop.Books\\\",\\\"elements\\\":{\\\"Z_ISBN_101\\\":{\\\"type\\\":\\\"cds.String\\\"}}}]}\",\n        \"tenant\": \"213a722e-ed91-43e2-adb4-3885b5e9d63e\"\n}\n```\n\n### Fixed\n- The sequence of extensions added through `cds.mtx.activate()` is now stable, even after\na base model update.\n\n## Version 1.0.18 - 2020-08-28\n\n## Version 1.0.17 - 2020-08-19\n\n### Fixed\n- Asynchronous basemodel upgrade and job status requests that failed when using @sap/cds@^4 are now fixed\n- Extensions that got lost when running onboarding multiple times are now preserved\n- The cds env configuration is now also available for service-manager\n\n## Version 1.0.16 - 2020-08-03\n\n### Added\n\n- Support for instances managed by Service Manager\n- Support for JWT Refresh Tokens to simplify token renewal in cds-sidecar-client\n\n### Fixed\n\n- Idempotent asynchronous offboarding\n- CDS 4 compatibility\n\n\n## 1.0.15 - 2020-07-01\n\n\n### Fixed\n- cds 4 compatibility\n- updated readme.md\n\n## 1.0.14 - 2020-05-27\n\n\n### Added\n\n- diagnose endpoint at /mtx/v1/model/diagnose/\n    - requires to be authenticated for the paas tenant\n    - requires scope \"MtxDiagnose\"\n- added memory status to debug logs. Activation with env MTX_LOG_MEMORY=true\n\n### Fixed\n\n- stablelized parallel extension activation\n- handling of asynchronous job status across multiple mtx application instances\n\n## 1.0.13 - 2020-04-27\n\n### Added\n\n- Logs are now collected by default when running asynchronous APIs\n    - can be disabled with environment variable `MTX_COLLECT_LOGS=true`\n    - logs can be limited by `MTX_LOG_COLLECTION_LIMIT=<limit>`\n\n- extensibility API that accepts csn notation `cds.mtx.activate(tenantId, csn)`\n\n### Fixed\n\n- handling of errornous undeploy.json files: error message now points to the root problem\n- handling of build errors: API now returns build and compile errors properly\n\n## 1.0.12\n\n### Added\n- reenabled the support of different domains (BETA)\n\n- Support for asynchronous extension activation to handle long-running jobs\n\n## 1.0.11\n\n### Added\n\n- Support of asynchronous onboarding as specified by the [saas-registry](https://wiki.wdf.sap.corp/wiki/display/CPC15N/SaaS+Application+Registration+in+CF#SaaSApplicationRegistrationinCF-Asynchronouscallbacksimplementation)\n\n## 1.0.10\n\n### Fixed\n- Compatibility with snapi compiler mode (env variable CDS_FEATURES_SNAPI=y)\n    - WARNING: in this mode, it is currently not checked if annotations of the basemodel are overwritten in the extension\n- Tenant upgrade with undeploy=true is now working properly\n\n## 1.0.9\n\n### Fixed\n- Compatibility with older versions of @sap/cds\n\n## 1.0.8\n\n### Added\n- possibility to store build / deployment logs in job log for asynchronous tenant update\n    - must currently be activated by environment variables (`MTX_COLLECT_LOGS=true` and `MTX_LOG_COLLECTION_LIMIT=<limit>`)\n- whitelist for entities and services that are allowed to be extended\n```\n\"mtx\": {\n           \"element-prefix\": \"Z_\",\n            \"namespace-blacklist\": [\"com.sap.\", \"sap.\"],\n            \"entity-whitelist\": [\"my.bookshop.Books\"],\n            \"service-whitelist\": [\"CatalogService\"]\n       }\n```\n\n### Fixed\n- Enable compatibility with SAP HANA cloud edition (no hdbcds support)\n- Deployment error with very old tenants (conflict with custom_tenant_objects.hdbtable)\n\n## 1.0.7\n\n### Added\n- allows to enable auto-undeploy in base model update request\n\n### Fixed\n- datatype error in synchronous base model update api\n\n## 1.0.6\n\n## 1.0.5\n\n### Added\n- accept database_id in onboarding request\n\n## 1.0.4\n\n### Added\n- enhanced namespace check for extensions\n- metadata API now supports ETags\n### Changed\n\n### Fixed\n- Datatype of custom content tables now LargeString\n- Bad request when sending non-json content\n\n### Removed\n\n## 1.0.3\n- Bug fixes\n\n## 1.0.2\n- Bug fixes\n\n## 1.0.1\n- Ignore namespace rules for customer extension entities\n- Enable hdbtabledata generation\n\n## 1.0.0 - 26.07.2019\nInitial release version.\n","downloadsCurrentMonth":4944,"downloadsCurrentFortnight":2773,"downloads365":193254,"downloadsFortnightGrowth":39.35,"downloadsHistory":[{"yearMonth":"2023-04","downloads":28253},{"yearMonth":"2023-05","downloads":33626},{"yearMonth":"2023-06","downloads":39666},{"yearMonth":"2023-07","downloads":20700},{"yearMonth":"2023-08","downloads":11695},{"yearMonth":"2023-09","downloads":10741},{"yearMonth":"2023-10","downloads":9168},{"yearMonth":"2023-11","downloads":8814},{"yearMonth":"2023-12","downloads":6615},{"yearMonth":"2024-01","downloads":7112},{"yearMonth":"2024-02","downloads":5198}],"versions":[{"version":"created","date":"2020-06-11T22:13:31.287Z"},{"version":"1.0.5","date":"2020-06-11T22:13:31.693Z"},{"version":"modified","date":"2024-02-12T18:11:14.759Z"},{"version":"1.0.12","date":"2020-06-11T22:13:38.615Z"},{"version":"1.0.7","date":"2020-06-11T22:13:44.968Z"},{"version":"1.0.13","date":"2020-06-11T22:13:51.169Z"},{"version":"1.0.1","date":"2020-06-11T22:13:58.002Z"},{"version":"1.0.10","date":"2020-06-11T22:14:04.956Z"},{"version":"1.0.16","date":"2020-08-05T14:55:01.318Z"},{"version":"1.0.17","date":"2020-08-19T11:41:25.862Z"},{"version":"1.0.19","date":"2020-09-03T16:00:55.281Z"},{"version":"1.0.20","date":"2020-09-10T15:50:19.284Z"},{"version":"1.0.21","date":"2020-10-14T07:14:02.880Z"},{"version":"1.0.22","date":"2020-10-21T14:56:02.742Z"},{"version":"1.0.25","date":"2020-12-04T14:44:26.507Z"},{"version":"1.0.27","date":"2021-02-03T13:13:39.465Z"},{"version":"1.0.28","date":"2021-02-23T08:15:50.525Z"},{"version":"1.1.2","date":"2021-03-01T19:54:06.221Z"},{"version":"1.1.3","date":"2021-03-03T15:30:39.508Z"},{"version":"1.1.5","date":"2021-03-09T15:35:37.894Z"},{"version":"1.2.0","date":"2021-04-07T09:41:30.621Z"},{"version":"1.2.1","date":"2021-04-16T09:00:14.308Z"},{"version":"2.0.0","date":"2021-05-10T15:37:24.127Z"},{"version":"2.0.1","date":"2021-05-11T07:34:17.221Z"},{"version":"2.0.2","date":"2021-05-25T09:00:20.284Z"},{"version":"2.1.2","date":"2021-07-12T07:09:49.226Z"},{"version":"2.2.1","date":"2021-08-23T07:41:02.294Z"},{"version":"2.2.2","date":"2021-08-26T14:19:26.769Z"},{"version":"2.3.0","date":"2021-09-27T13:21:35.933Z"},{"version":"2.3.1","date":"2021-10-01T09:01:49.282Z"},{"version":"2.3.2","date":"2021-10-06T13:02:25.031Z"},{"version":"2.3.3","date":"2021-10-15T11:16:32.210Z"},{"version":"2.3.4","date":"2021-10-18T15:15:53.898Z"},{"version":"2.4.0","date":"2021-11-03T08:36:41.037Z"},{"version":"2.4.1","date":"2021-11-09T14:45:13.041Z"},{"version":"2.4.2","date":"2021-12-03T09:13:48.024Z"},{"version":"2.5.0","date":"2021-12-06T13:41:29.016Z"},{"version":"2.5.1","date":"2021-12-10T08:16:44.178Z"},{"version":"2.5.2","date":"2022-02-01T13:48:26.379Z"},{"version":"2.5.3","date":"2022-03-15T07:06:54.233Z"},{"version":"2.5.4","date":"2022-04-07T14:56:18.682Z"},{"version":"2.5.5","date":"2022-04-14T09:49:37.805Z"},{"version":"2.5.6","date":"2022-05-19T07:06:18.804Z"},{"version":"2.6.0","date":"2022-07-08T06:47:17.999Z"},{"version":"2.6.1","date":"2022-08-24T21:25:38.822Z"},{"version":"2.6.2","date":"2022-09-23T08:22:09.965Z"},{"version":"2.6.3","date":"2022-10-18T12:58:27.454Z"},{"version":"2.6.4","date":"2022-11-17T16:18:43.035Z"},{"version":"2.6.5","date":"2023-09-04T15:05:43.055Z"},{"version":"2.6.6","date":"2023-12-27T14:10:14.643Z"},{"version":"2.6.7","date":"2024-02-12T18:11:14.575Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-mtx"},{"name":"cds-mtxs","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-07-05T13:31:19.718Z","updatedAt":"2024-02-27T10:15:09.152Z","readme":"# @sap/cds-mtxs\n\nLibrary for multitenancy, feature toggle and extensibility support for the [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap).\n\n<!-- See the documentation for [Multitenancy](https://cap.cloud.sap/docs/guides/deployment/as-saas) and [Extensibility](https://cap.cloud.sap/docs/guides/extensibility) for more details. -->\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Change Log\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## Version 1.16.0 - 2024-02-26\n\n### Added\n\n- `cds-mtx upgrade` now allows to pass `*` to upgrade all tenants.\n\n### Changed\n\n- The Service Manager polling timeout is increased from 60 to 180 seconds.\n- On failing UAA token request, MTXS now responds to client with JSON to enable parsing the passcode URL.\n\n### Fixed\n\n- `upgrade` action is now also provided by `cds.xt.SmsProvisioningService`.\n- Cleanup option of MTXS Migration deletes old `__META__` tenant only if cleanup is triggered for `*` (all tenants).\n- Improved formatting of errors when fetching auth tokens.\n\n## Version 1.15.0 - 2024-01-30\n\n### Added\n\n- MTXS now supports subscription via Subscription Manager Service also for Node.js applications.\n\n### Fixed\n\n- Additional services needed when using `SERVICE_REPLACEMENTS` for HDI deployment can now also be consumed in Kyma after adding them to the `cds` configuration like\n  ```json\n  \"requires\": {\n        \"myuserprovided\": {\n            \"vcap\": {\n                \"label\": \"user-provided\",\n                \"name\": \"myuserprovided\"\n            }\n        },\n  ```\n  See also https://help.sap.com/docs/SAP_HANA_PLATFORM/4505d0bdaf4948449b7f7379d24d0f0d/a4bbc2dd8a20442387dc7b706e8d3070.html#environment-variables-for-hdi-configuration\n- Temporary files for build and deployment are created in the OS temp directory if file system permissions do not allow the creation in the cds root directory.\n\n## Version 1.14.4 - 2024-01-24\n\n### Fixed\n\n- Fixed a `TypeError` in the credentials cache invalidation for HANA deployments.\n\n## Version 1.14.3 - 2024-01-18\n\n### Fixed\n\n- i18n translations missing in some Java setups are now correctly resolved.\n- CSNs loaded in a worker thread are correctly linked. In earlier versions, this could lead to a stack overflow in projects having `cds.requires.db.schema_evolution: false` and cyclic actions such as this:\n  ```cds\n  entity C_Books as projection on Books { * } actions {\n    action returnSelf() returns C_Books;\n  }\n  ```\n- Sync upgrades for `tenants = *` with `clusterSize > 1` are working correctly.\n\n### Changed\n\n- The temporary workaround for `cds.env.requires.['cds.xt.ModelProvideService'].loadSync = true` is removed. This setting won't have an effect for future versions.\n\n## Version 1.14.2 - 2024-01-04\n\n## Fixed\n\n- `POST /-/model-provider/getEdmx` correctly ad-hoc compiles EDMX files for extended or toggled models.\n- `POST /-/model-provider/getEdmx` re-compiles the EDMX if a `model` is passed.\n- More resilient retry handling for 'authentication failed' errors in SAP HANA deployments.\n\n## Version 1.14.1 - 2023-12-21\n\n## Fixed\n\n- A sidecar setup can be started for local development even with `multitenancy: false`.\n- Additional resilience measures for the new Service Manager APIs if a healthy instance exists, but no binding.\n- `cds.env.requires.['cds.xt.ModelProvideService'].loadSync = true` can be set to skip using worker threads when loading the application model.\n\n### Changed\n\n- `lazyT0` now also works in a sidecar scenario with `multitenancy` not explicitly set to `true`.\n- The default for `cds.requires.multitenancy.jobCleanupIntervalStale` is reduced from one week to two days.\n\n## Version 1.14.0 - 2023-12-14\n\n### Changed\n\n- Various performance improvements for retrieving EDMX or CSN models.\n- Improved logging for `cds.xt.JobsService` or `cds.xt.DeploymentService`.\n\n## Version 1.13.4 - 2023-12-07\n\n### Changed\n\n- The built-in Service Manager client uses async APIs for creating or deleting service bindings by default.\n\n## Version 1.13.3 - 2023-12-05\n\n### Fixed\n\n- `PUT /-/cds/saas-provisioning/tenant` can now be used for upgrade purposes with shared deployment directories in non-extensible apps.\n- `POST /-/cds/saas-provisioning/upgrade` correctly determines the deployment directory in non-extensible apps if just one tenant is passed in the request body.\n\n## Version 1.13.2 - 2023-12-01\n\n### Fixed\n\n- Projects with `cds.features.assert_integrity = 'db'` don't generate constraints for `t0` any more.\n- Deployment resources for `t0` are not created in the `base` directory any more.\n- Fixed a race condition for the shared `base` directory.\n\n## Version 1.13.1 - 2023-11-27\n\n### Added\n\n- `DEBUG=mtx` will now log all outgoing requests to Service Manager.\n- For `multitenancy.jobs.clusterSize > 1` the Service Manager request will throw an error for a corrupt tenant without credentials.\n\n### Changed\n\n- For non-extensibility projects, a shared deployment folder is used across tenants for resource extraction. For `n` simultaneous tenant upgrades, this decreases the number of extracted files `n`-fold.\n\n## Version 1.13.0 - 2023-11-13\n\n### Added\n\n- `GET /-/cds/saas-provisioning/tenant` now also returns `createdAt` and `modifiedAt` fields.\n\n### Changed\n\n- The internal job runner now has an in-memory queuing mechanism. For non-scaled sidecar instances, this avoids tasks for the same tenant from being run at the same time.\n\n## Version 1.12.1 - 2023-10-17\n\n### Added\n\n- API `PUT /-/cds/extensibility/Extensions/<extension id>` now also accepts i18n-files.\n\n### Fixed\n\n- More stable upgrade with extensibility enabled.\n- Downloaded migrated extension projects now contain correct base model references.\n\n## Version 1.12.0 - 2023-10-05\n\n### Added\n\n- Beta: Setting `cds.requires.multitenancy.humanReadableInstanceName = true` will create human-readable tenant IDs for instances created via Service Manager, instead of hashed strings. This is incompatible with existing tenants using hashed instance names.\n- Extensions of internal entities / services starting with `cds.xt.` are no longer allowed.\n- If no extensions exist, `ModelProviderService.getEdmx()` now uses edmx files prebuilt by `cds build`.\n- `ModelProviderService.getEdmx()` with empty `locale` parameter returns non-translated edmx.\n- `ModelProviderService.getI18n()` returns the translated texts for a given `locale` and `tenant`.\n- Migrated extension projects can now be downloaded using `cds extend <url> --download-migrated-projects`.\n\n### Changed\n\n- The allowlist for HDI deployment parameters (`HDI_DEPLOY_OPTIONS`) is removed. Any option can now be used.\n- `PUT /-/cds/saas-provisioning/tenant` now also allows non-UUID strings for `subscribedSubaccountId`.\n\n### Fixed\n\n- Synchronous call of `PUT /-/cds/saas-provisioning/tenant` now returns correct `content-type`: `text/plain`.\n- Update of extensions with different tags that depend on each other does no longer result in a compilation error.\n- Extensions containing new entities with associations to base entities do no longer cause a compilation error.\n- For SAP HANA deployment, no recompilation is done any more for applications not using extensibility.\n\n## Version 1.11.0 - 2023-09-01\n\n### Added\n\n- `/-/cds/extensibility/push` now also accepts the `prefer: respond-async` header for asynchronous requests.\n- `/-/cds/model-provider/getCsn` uses an LRU cache for base model CSNs, limited to 5 entries by default. This cache size can be configured using `cds.requires['cds.xt.ModelProviderService'].cacheSize`.\n- The `treat_unmodified_as_modified` parameter is now allowed for HDI deployments.\n\n### Fixed\n\n- The Service Manager client now returns all bindings for partial cache misses for `cds.requires.['cds.xt.SaasProvisioningService'].jobs.clusterSize > 1`.\n- The Service Manager client will now wait with exponential back-off for unexpected error codes.\n- The Service Manager client will now print the correct root cause for errors with a `description` field.\n- Command `cds-mtx` now terminates immediately after execution is finished.\n\n## Version 1.10.0 - 2023-07-31\n\n### Added\n\n- Cleanup of stale jobs can now be disabled by setting `cds.requires.multitenancy.jobCleanup = false`.\n- Experimental Extension CRUD API.\n\n### Changed\n\n- The Service Manager cache is invalidated for connection acquisition errors matching `SSL certificate validation failed`.\n\n## Version 1.9.2 - 2023-07-20\n\n### Changed\n\n- Remove peerDependency to `@sap/cds>=6`.  This caused troubles in installation scenarios where sap/cds 7 was fetched while 6 should be used.\n\n### Fixed\n\n- The MTX migration script does not longer undeploy application database tables if HDI `auto_undeploy` is configured for the `cds.xt.DeploymentService`.\n- The result verification of the MTX migration script no longer shows false errors when using `--force`.\n- When a request fails, shorter errors are logged and secret data is hidden. (Set `DEBUG=req` in env to see all details again.)\n\n## Version 1.9.1 - 2023-07-06\n\n### Fixed\n\n- `GET /-/cds/saas-provisioning/tenant` now doesn't include a duplicate `tenant` field, but only provides the tenant via `subscribedTenantId`.\n- After switching from `@sap/cds-mtx` to `@sap/cds-mtxs`, existing tenants will now be taken into account when running an upgrade for all tenants (`['*']`).\n\n## Version 1.9.0 - 2023-06-22\n\n### Added\n\n- MTXS Migration now checks extensibility configuration if old extensions exist.\n- Upgrade now checks if MTXS Migration has been done if old extensions exist and if extensibility is properly configured.\n- `GET /-/cds/saas-provisioning/tenant` now returns a `subscribedTenantId` field, even if the tenant was onboarded with no metadata.\n- Token resource now accepts the POST method (can be used with @sap/cds-dk version 7).\n\n## Version 1.8.4 - 2023-06-07\n\n### Fixed\n\n- Further improvement of timeout error handling when fetching uaa tokens.\n\n## Version 1.8.3 - 2023-06-05\n\n### Fixed\n\n- Enables passing deployment options to the `upgrade` endpoint of `cds.xt.SaasProvisioningService`.\n- The Service Manager now requests the authorization token resiliently.\n- MTXS migration script now ignores changes caused by sap.common entities when verifying the migration result.\n\n## Version 1.8.2 - 2023-05-24\n\n### Fixed\n\n- Fix for asynchronous subscriptions with `lazyT0 = true`.\n- SAP HANA deployment now correctly evaluates the sql mapping configuration (e. g. `cds.data.sql_mapping.quoted`) also for deployment of `t0`.\n\n### Changed\n\n- New API `ExtensibiltyService.getExtensions` replaces projection `ExtensibiltyService.Extensions` and is now working without additional configuration effort.\n\n## Version 1.8.1 - 2023-05-10\n\n### Fixed\n\n- MTXS Migration can now handle empty extension projects.\n- MTXS Migration can now handle extension projects with complex folder structure correctly.\n- The SaaS registry callback now supports X.509 authentication.\n- Sidecar is now using mocked authentication in development mode.\n- Fix for asynchronous subscriptions with `lazyT0 = true`.\n\n## Version 1.8.0 - 2023-05-04\n\n### Added\n\n- Token endpoint can now handle UAA binding with X.509 (mTLS) authentication. On CLI side, this requires @sap/cds-dk@>=6.8.0.\n\n### Changed\n\n- `JobsService`: the job status will now remain `RUNNING` until all tenant tasks have succeeded or failed, instead moving to `FAILED` as soon as there's the first task failure.\n\n### Fixed\n\n- MTXS Migration only deploys `cds.xt.Extensions` instead of the full application model.\n\n## Version 1.7.2 - 2023-04-17\n\n### Fixed\n\n- MTXS Migration now handles multiple generated projects correctly.\n- Extensibility Service now contains action `add` for extension modification.\n- Model Provider Service now offer action `getExtResources` returning the archive of the uploaded extension.\n- CSV files provided in extensions are now correctly re-deployed again with `upgrade`.\n\n## Version 1.7.1 - 2023-04-05\n\n### Fixed\n\n- MTXS Migration now behaves more robust with regards to cds build configurations.\n- Re-subscribe now also re-deploys extensions again.\n- Stability improvements for tenant upgrades.\n\n## Version 1.7.0 - 2023-03-28\n\n### Changed\n\n- Filter duplicate linter messages based on new LinterMessage API.\n- cds-mtx script now logs reasons for missing MTXS environment.\n- `DeploymentService` plugin handlers are now registered on `serving:cds.xt.DeploymentService`.\n\n### Fixed\n\n- HANA deployment now correctly evaluates the sql mapping configuration (e. g. `cds.data.sql_mapping.quoted`).\n\n## Version 1.6.3 - 2023-03-13\n\n### Fixed\n\n- `t0` model DDL files do not end up in application build results any more.\n- `cds.xt.SaasProvisioningService`: fixed an error for programmatic usage when sending the callback.\n- `cds-mtx` commands now properly exit with code != 1 when receiving an error from the `DeploymentService`.\n\n## Version 1.6.2 - 2023-03-03\n\n### Fixed\n\n- Robustness of MTX Migration has been improved.\n\n## Version 1.6.1 - 2023-03-01\n\n### Fixed\n\n- The lazily onboarded `t0` will now implicitly be created with the same onboarding parameters (e.g. database ID) as the first onboarded tenant.\n\n## Version 1.6.0 - 2023-02-27\n\n### Added\n\n- `t0` onboarding can now happen lazily before the first subscription by setting `cds.requires.['cds.xt.DeploymentService'].lazyT0`.\n- E-Tag handling for the `getCsn` API in sidecar scenarios has been introduced.\n\n### Fixed\n\n- Fixed input validation for feature toggles containing `_` or `-`.\n\n## Version 1.5.1 - 2023-02-08\n\n### Added\n\n- Jobs are now cleaned up in the database after configurable cutoff times. The following options are possible:\n  + `jobCleanupInterval`: Frequency in milliseconds for cleaning up finished or failed jobs. Default is 1 day.\n  + `jobCleanupAge`: Time in milliseconds for the minimum age of the failed or finished jobs to delete. Default is 1 day.\n  + `jobCleanupIntervalStale`: Frequency in milliseconds for cleaning up queued or running jobs. Default is 7 days.\n  + `jobCleanupAgeStale`: Time in milliseconds for the minimum age of the queued or running jobs to delete. Default is 7 days.\n- MTXS migration script now allows to cleanup @sap/mtx metadata containers.\n\n### Changed\n\n- `/-/cds/saas-provisioning/tenant`: consumers using the `mtx_status_callback` don't need a SaaS registry binding to the application any more.\n\n### Fixed\n\n- `cds migrate` does not crash any more when no options are supplied.\n- `cds-mtx-migrate` command now terminates immediately when the migration is finished.\n- Parameter `--dry` for `cds migration` now also skips the creation of the `t0`tenant.\n- `ModelProviderService`: Non-repeated dots are now allowed in feature toggles, e.g. `foo.bar.baz` is a valid feature toggle name.\n\n## Version 1.5.0 - 2023-01-27\n\n### Added\n\n- The built-in Service Manager client now caches binding information in-memory.\n- The `optimise_file_upload` HDI deployment option is now supported.\n- MTX migration script now allows to split extensions based on extension file names using regular expressions.\n- Now, provisioning supports SaaS applications using extensibility in combination with migration tables. Before, provisioning failed with a HDI deployment error.\n  **Note:** Extending migration table artifacts is not supported.\n\n### Fixed\n\n- MTX migration script now detects enabled multitenancy also for a sidecar project setup.\n- Improved robustness for MTX migration script, e. g. with inconsistent old metadata tenants.\n\n\n## Version 1.4.5 - 2023-01-18\n\n- The authorization header for asynchronous operations is correctly propagated for internal callbacks using `mtx_status_callback`.\n\n## Version 1.4.4 - 2023-01-16\n\n### Changed\n\n- `cds.xt.DeploymentService` configuration has been flattened. Instead of\n  ```js\n  \"hdi\": {\n    \"create\": {\n      \"provisioning_parameters\": {\n        \"database_id\": \"<ID>\"\n      },\n      \"binding_parameters\": {\n        \"key\": \"value\"\n      }\n    }\n  }\n  ```\n  you can now also write\n  ```js\n  \"hdi\": {\n    \"create\": {\n      \"database_id\": \"<ID>\"\n    },\n    \"bind\": {\n      \"key\": \"value\"\n    }\n  }\n  ```\n  The old configuration is still supported, but you're advised to migrate to the new configuration for improved readability.\n\n- `/-/cds/jobs/pollJob` now also returns a `tenants` field, so tenant-specific tasks don't have to be polled individually. An example response format looks like this:\n  ```js\n  {\n    \"status\": \"FAILED\",\n    \"op\": \"upgrade\",\n    \"tenants\": {\n        \"non-existing-tenant\": {\n           \"status\": \"FAILED\",\n           \"error\": \"Tenant 'non-existing-tenant' does not exist\"\n        },\n        \"existing-tenant\": {\n           \"status\": \"FINISHED\"\n        }\n     }\n  }\n  ```\n\n### Fixed\n\n- `cds.xt.SaasProvisioningService`: `*` is not allowed as a tenant name any more.\n- Namespace check for new entities in extensions now also covers new root entities.\n- Asynchronous operations now correctly send the callbacks defined via `status_callback` or `mtx_status_callback`.\n\n\n## Version 1.4.3 - 2022-12-28\n\n### Fixed\n\n- Asynchronous jobs now return a directly-consumable URL for Cloud Foundry deployments in the `Location` header.\n- Some incorrect status reports for the job and task polling have been fixed.\n- Stability improvements for HANA tenant lifecycle operations, most notably unhandled promise rejections exiting the process have been fixed.\n\n## Version 1.4.2 - 2022-12-19\n\n### Fixed\n\n- `/-/cds/jobs/pollTask` now correctly fetches the task status.\n- Jobs now have the correct default `RUNNING` status.\n\n## Version 1.4.1 - 2022-12-16\n\n### Fixed\n\n- Fixed an error with when parsing the tenant metadata when it is empty.\n- Async upgrade parallelization via database clustering now works correctly with the new jobs service.\n- Improved `tenant_id` correlation for Kibana logging.\n\n## Version 1.4.0 - 2022-12-15\n\n### Changed\n\n- Async API calls now have a `x-job-id` header.\n- Improved error handling for the Service Manager client.\n- When doing asynchronous updates for multiple tenants, you can now poll the status for each individual tenant. Please continue using the `Location` response header to poll the status for all tenants.\n  + This is what a sample response body for an asynchronous request to `/-/cds/saas-provisioning/upgrade` looks like:\n  ```json\n  {\n    \"ID\": \"<jobID>\",\n    \"createdAt\": \"2022-12-12T13:07:15.817Z\",\n    \"op\": \"upgrade\",\n    \"tenants\": {\n        \"t1\": {\n            \"ID\": \"<taskID>\"\n        }\n    }\n  }\n  ```\n\n## Version 1.3.3 - 2022-12-01\n\n### Changed\n\n- The built-in Service Manager client now supports pagination tokens. This allows for more than 1250 tenants.\n\n### Added\n\n- The built-in Service Manager client now supports X.509 (mTLS) certificates in addition to the client-credentials authentication flow.\n- `cds-mtx` commands now exit the process correctly on SAP HANA when there's an error in the command.\n- SAP HANA encryption parameters are now correctly forwarded to the service-manager on subscription\n\n### Fixed\n\n- Improved error handling for the built-in Service Manager client.\n- Tenant metadata can now be retrieved programmatically for all tenants via\n    ```js\n    const sps = await cds.connect.to('cds.xt.SaasProvisioningService')\n    const tenants = await sps.get('/tenant')\n    ```\n- `UPDATE`, `DELETE` and `upgrade` APIs of `cds.xt.SaasProvisioningService` can now also be called programmatically.\n\n## Version 1.3.2 - 2022-11-17\n\n### Fixed\n\n- `cds-mtx` commands now exit the process correctly.\n\n### Added\n\n- `cds.requires['cds.xt.SaasProvisioningService'].jobs.clusterPoolSize` allows you to specify the number of concurrent HANA Cloud cluster tenant upgrades.\n- `cds.requires['cds.xt.DeploymentService'].hdi.create.binding_parameters` now also works with the built-in Service Manager client.\n\n### Changed\n\n- Error handling for the built-in Service Manager client is improved.\n\n## Version 1.3.1 - 2022-11-04\n\n### Changed\n\n- `cds.requires.multitenancy.for` settings have been moved to `cds.requires['cds.xt.DeploymentService'].for`.\n\n## Version 1.3.0 - 2022-10-28\n\n### Added\n\n- `cds.requires['cds.xt.DeploymentService'].for` lets you define tenant-specific creation and deployment configuration.\n  + For example: parameters for `t0` onboarding can be specified via `cds.requires['cds.xt.DeploymentService'].for.t0`. Analogous to the configuration in `cds.xt.DeploymentService` you can specify options for `create` and `deploy`.\n- `cds.xt.DeploymentService`: The `t0` tenant is now onboarded on startup.\n- `POST /-/cds/deployment/subscribe` saves onboarding metadata in `t0`.\n- `POST /-/cds/deployment/unsubscribe` removes onboarding metadata for `t0`.\n- [BETA] Command line tool `cds-mtx` now also allows to run `upgrade` in an application environment, e. g. `npx cds-mtx upgrade tenant1` or `cds-mtx upgrade tenant1` if you have installed `@sap/cds-mtxs` globally. This redeploys the current application model. Potential service handlers can be registered in `cli.js` (`server.js` is not loaded)\n\n### Changed\n\n- `@sap/instance-manager` has been replaced by a custom Service Manager client, which is now the default. You can switch back to the `@sap/instance-manager`-based client by setting `cds.requires['cds.xt.DeploymentService']['old-instance-manager']` to `true`.\n\n### Fixed\n\n- `/-/cds/saas-provisioning/upgrade` now also runs with DwC\n\n## Version 1.2.0 - 2022-10-06\n\n### Added\n\n- `cds.xt.DeploymentService`: Additional parameters for HDI deployment (`@sap/hdi-deploy`) can now be added via the subscription request or the `cds` environment.\n\nVia additional parameter in the subscription payload:\n\n```\n{\n  \"tenant\": \"tenant\",\n  \"_\": {\n    \"hdi\": {\n      \"deploy\": {\n        \"auto_undeploy\": \"true\"\n      }\n    }\n  }\n}\n```\n\nVia `cds` environment:\n```\n...\n\"cds\": {\n  \"requires\": {\n    \"cds.xt.DeploymentService\": {\n      \"hdi\": {\n        \"deploy\": {\n          \"auto_undeploy\": \"true\"\n        }\n      }\n    }\n  }\n}\n```\n- `PUT /-/cds/saas-provisioning/tenant/<tenantId>` saves subscription metadata.\n- `GET /-/cds/saas-provisioning/tenant/<tenantId>` returns the saved tenant metadata for `<tenantId>`.\n- `GET /-/cds/saas-provisioning/tenant` returns the saved tenant metadata for all tenants.\n- `GET /-/cds/deployment/getTables(tenant='<tenantId>)` returns all deployed tables for a tenant.\n- [BETA] Command line tool `cds-mtx` allows to run `subscribe and unsubscribe` in an application environment, e. g. `npx cds-mtx subscribe tenant1` or `cds-mtx subscribe tenant1` if you have installed `@sap/cds-mtxs` globally.\n\n### Changed\n\n- `@sap/cds-mtxs@1.2.0` requires `@sap/cds@6.2`\n- `POST /-/cds/saas-provisioning/upgrade` accepts a list of tenants like `upgrade(['t1', 't2'])`.\n  + `upgrade(['*'])` upgrades all tenants.\n- `POST /-/cds/saas-provisioning/upgrade` gets its tenants from the `t0` cache instead of the `saas-registry` service.\n- `POST /-/cds/saas-provisioning/upgradeAll` has been deprecated and will be removed.\n- `POST /-/cds/deployment/unsubscribe` is now idempotent for HANA as well.\n- Polling interval to service-manager in `@sap/instance-manager` options has been increased to reduce rate-limiting problems.\n\n## Version 1.1.2 - 2022-08-25\n\n### Added\n\n- `cds.xt.DeploymentService` now lets you register a `deploy` handler, invoked right before the HDI deployment is triggered.\n\n## Version 1.1.1 - 2022-08-10\n\n### Fixed\n\n- `cds.xt.DeploymentService` can now also be called by users with role `cds.Subscriber`.\n\n### Changed\n\n- Log and debug output is improved.\n\n## Version 1.1.0 - 2022-08-09\n\n### Added\n\n- `cds.xt.DeploymentService` can now be added via the subscription request or `cds` environment (e. g. HANA via service-manager).\n\n  Via an additional parameter in the subscription payload:\n  ```json\n  {\n    \"subscribedTenantId\": \"tenant\",\n    \"eventType\": \"CREATE\",\n    \"_\": {\n      \"hdi\": {\n        \"create\": {\n          \"provisioning_parameters\": { \"database_id\" : \"DB_ID\" }\n        }\n      }\n    }\n  }\n  ```\n  Via the `cds` environment:\n  ```json\n  \"cds\": {\n    \"requires\": {\n    \"cds.xt.DeploymentService\": {\n      \"hdi\": {\n        \"create\": {\n          \"provisioning_parameters\": { \"database_id\" : \"DB_ID\" }\n        }\n      }\n    }\n  }\n  ```\n\n## Version 1.0.1 - 2022-07-06\n\n### Added\n\n- `@sap/cds-mtxs` now has a `peerDependency` to `@sap/cds`.\n\n## Version 1.0.0 - 2022-07-05\n\nFirst external release.\n\n## Version 0.1.0 - 2022-06-30\n\nInitial release.\n\n## Version 0.0.1\n\nInitial milestone version.\n","downloadsCurrentMonth":204163,"downloadsCurrentFortnight":95722,"downloads365":3419469,"downloadsFortnightGrowth":-3.98,"downloadsHistory":[{"yearMonth":"2023-04","downloads":260597},{"yearMonth":"2023-05","downloads":290371},{"yearMonth":"2023-06","downloads":307932},{"yearMonth":"2023-07","downloads":325276},{"yearMonth":"2023-08","downloads":317208},{"yearMonth":"2023-09","downloads":305047},{"yearMonth":"2023-10","downloads":316146},{"yearMonth":"2023-11","downloads":304446},{"yearMonth":"2023-12","downloads":294283},{"yearMonth":"2024-01","downloads":287303},{"yearMonth":"2024-02","downloads":185034}],"versions":[{"version":"created","date":"2022-07-05T13:31:19.718Z"},{"version":"1.0.0","date":"2022-07-05T13:31:20.055Z"},{"version":"modified","date":"2024-02-27T10:15:09.152Z"},{"version":"1.0.1","date":"2022-07-06T17:07:27.507Z"},{"version":"1.1.1","date":"2022-08-11T08:02:06.079Z"},{"version":"1.1.2","date":"2022-08-25T14:57:07.421Z"},{"version":"1.2.0","date":"2022-10-10T09:33:58.052Z"},{"version":"1.3.0","date":"2022-11-02T09:03:27.704Z"},{"version":"1.3.1","date":"2022-11-04T16:07:27.138Z"},{"version":"1.3.2","date":"2022-11-17T17:14:19.893Z"},{"version":"1.3.3","date":"2022-12-01T13:01:18.884Z"},{"version":"1.4.0","date":"2022-12-15T18:35:04.388Z"},{"version":"1.4.2","date":"2022-12-20T09:02:30.705Z"},{"version":"1.4.3","date":"2022-12-29T15:37:41.329Z"},{"version":"1.4.4","date":"2023-01-16T16:36:07.412Z"},{"version":"1.4.5","date":"2023-01-18T17:30:14.719Z"},{"version":"1.5.0","date":"2023-01-30T09:32:58.734Z"},{"version":"1.5.1","date":"2023-02-08T13:07:52.064Z"},{"version":"1.6.0","date":"2023-03-01T08:19:42.591Z"},{"version":"1.6.1","date":"2023-03-01T15:11:31.531Z"},{"version":"1.6.2","date":"2023-03-03T17:32:25.379Z"},{"version":"1.6.3","date":"2023-03-13T15:16:04.278Z"},{"version":"1.7.0","date":"2023-03-29T12:25:29.225Z"},{"version":"1.7.1","date":"2023-04-05T11:55:09.368Z"},{"version":"1.7.2","date":"2023-04-19T15:10:01.989Z"},{"version":"1.7.3","date":"2023-04-27T06:17:59.356Z"},{"version":"1.8.0","date":"2023-05-04T10:06:46.088Z"},{"version":"1.8.1","date":"2023-05-10T15:31:38.279Z"},{"version":"1.8.2","date":"2023-05-24T16:00:26.578Z"},{"version":"1.8.3","date":"2023-06-06T07:16:02.130Z"},{"version":"1.8.4","date":"2023-06-07T16:52:00.523Z"},{"version":"1.9.0","date":"2023-06-23T07:10:54.740Z"},{"version":"1.9.1","date":"2023-07-07T10:26:32.093Z"},{"version":"1.9.2","date":"2023-07-20T14:05:48.846Z"},{"version":"1.10.0","date":"2023-07-31T17:43:21.504Z"},{"version":"1.11.0","date":"2023-09-01T11:48:41.334Z"},{"version":"1.12.0","date":"2023-10-05T12:36:30.557Z"},{"version":"1.12.1","date":"2023-10-18T08:05:32.838Z"},{"version":"1.13.0","date":"2023-11-14T15:24:19.332Z"},{"version":"1.13.1","date":"2023-11-27T17:01:55.626Z"},{"version":"1.13.2","date":"2023-12-01T16:19:11.929Z"},{"version":"1.13.3","date":"2023-12-05T17:03:17.549Z"},{"version":"1.13.4","date":"2023-12-07T13:04:19.050Z"},{"version":"1.14.0","date":"2023-12-14T15:45:17.419Z"},{"version":"1.14.1","date":"2023-12-21T16:14:06.188Z"},{"version":"1.14.2","date":"2024-01-04T15:25:09.267Z"},{"version":"1.14.3","date":"2024-01-19T07:45:27.324Z"},{"version":"1.14.4","date":"2024-01-24T17:08:39.237Z"},{"version":"1.15.0","date":"2024-01-31T06:48:07.868Z"},{"version":"1.16.0","date":"2024-02-27T10:15:08.676Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-mtxs"},{"name":"cds-odata-v2-adapter-proxy","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-12T00:03:39.402Z","updatedAt":"2023-03-24T14:29:57.508Z","readme":"# @sap/cds-odata-v2-adapter-proxy (cov2ap)\n\n### [CDS OData V2 Adapter Proxy](https://www.npmjs.com/package/@sap/cds-odata-v2-adapter-proxy) for [CDS OData V4 Services](https://cap.cloud.sap/docs/).\n\n> Exposes a full-fledged OData V2 service, converting OData V2 requests to CDS OData V4 service calls and responses back.\n> Runs in context of the [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap/docs/)\n> using CDS Node.js module [@sap/cds](https://www.npmjs.com/package/@sap/cds) or CDS Java modules\n> [com.sap.cds](https://mvnrepository.com/artifact/com.sap.cds).\n\n## Open Source / Deprecation\n\n- :exclamation: Proxy is open source at https://github.com/cap-js-community/odata-v2-adapter\n- :exclamation: The new proxy library is fully compatible and can be used as drop-in replacement\n- :exclamation: This library is now deprecated and will no longer receive updates\n\n## Getting Started\n\n- Run `npm install @sap/cds-odata-v2-adapter-proxy -s` in `@sap/cds` project\n- Enhance or create `./srv/server.js`:\n  ```js\n  const cds = require(\"@sap/cds\");\n  const cov2ap = require(\"@sap/cds-odata-v2-adapter-proxy\");\n  cds.on(\"bootstrap\", (app) => app.use(cov2ap()));\n  module.exports = cds.server;\n  ```\n- Execute `cds run` from the project root to start the server:\n  - OData V2 service will be available at http://localhost:4004/v2/<service-path>\n  - OData V4 service will be available at http://localhost:4004/<service-path>\n\n## Options\n\nThe CDS OData V2 Adapter Proxy instantiates an Express router. The following options are available:\n\n- **base:** Base path under which the service is reachable. Default is `''`.\n- **path:** Path under which the proxy is reachable. Default is `'v2'`.\n- **model:** CDS service model (path(s) or CSN). Default is `'all'`.\n- **port:** Target port which points to OData V4 backend port. Default is process.env.PORT or `4004`.\n- **target:** Target which points to OData V4 backend host:port. Use `'auto'` to infer the target from server url after listening. Default is e.g. `'http://localhost:4004'`.\n- **targetPath:** Target path to which is redirected. Default is `''`.\n- **services:** Service mapping object from url path name to service name. Default is `{}`.\n- **mtxRemote:** CDS model is retrieved remotely via MTX endpoint for multitenant scenario (old MTX only). Default is `false`.\n- **mtxEndpoint:** Endpoint to retrieve MTX metadata when option 'mtxRemote' is active (old MTX only). Default is `'/mtx/v1'`.\n- **ieee754Compatible:** Edm.Decimal and Edm.Int64 are serialized IEEE754 compatible. Default is `true`.\n- **fileUploadSizeLimit:** File upload file size limit (in bytes) for multipart/form-data requests. Default is `10485760` (10 MB).\n- **continueOnError:** Indicates to OData V4 backend to continue on error. Default is `false`.\n- **isoTime:** Use ISO 8601 format for type cds.Time (Edm.Time). Default is `false`.\n- **isoDate:** Use ISO 8601 format for type cds.Date (Edm.DateTime). Default is `false`.\n- **isoDateTime:** Use ISO 8601 format for type cds.DateTime (Edm.DateTimeOffset). Default is `false`.\n- **isoTimestamp:** Use ISO 8601 format for type cds.Timestamp (Edm.DateTimeOffset). Default is `false`.\n- **isoDateTimeOffset:** Use ISO 8601 format for type Edm.DateTimeOffset (cds.DateTime, cds.Timestamp). Default is `false`.\n- **bodyParserLimit:** Request and response body parser size limit. Default is `'100mb'`.\n- **returnCollectionNested**: Collection of entity type is returned nested into a results section. Default is `true`.\n- **returnComplexNested**: Function import return structure of complex type (non collection) is nested using function import name. Default is `true`.\n- **returnPrimitiveNested**: Function import return structure of primitive type (non collection) is nested using function import name. Default is `true`.\n- **returnPrimitivePlain**: Function import return value of primitive type is rendered as plain JSON value. Default is `true`.\n- **messageTargetDefault**: Specifies the message target default, if target is undefined. Default is `'/#TRANSIENT#'`.\n- **caseInsensitive**: Transforms search functions i.e. substringof, startswith, endswith to case-insensitive variant. Default is `false`.\n- **propagateMessageToDetails**: Propagates root error or message always to details section. Default is `false`.\n- **contentDisposition**: Default content disposition for media streams (inline, attachment), if not available or calculated. Default is `'attachment'`.\n- **calcContentDisposition**: Calculate content disposition for media streams even if already available. Default is `false`.\n- **quoteSearch**: Specifies if search expression is quoted automatically. Default is `true`.\n- **fixDraftRequests**: Specifies if unsupported draft requests are converted to a working version. Default is `false`.\n- **changesetDeviationLogLevel**: Log level of batch changeset content-id deviation logs (none, debug, info, warn, error). Default is `'info'`.\n- **defaultFormat**: Specifies the default entity response format (json, atom). Default is `'json'`.\n- **processForwardedHeaders** Specifies if the `x-forwarded` headers are processed. Default is `true`.\n\n> All CDS OData V2 Adapter Proxy options can also be specified as part of CDS project-specific configuration\n> under section `cds.cov2ap` and accessed during runtime via `cds.env.cov2ap`.\n\n> Options can also be passed as command line environment variable, by converting the camel-cased option name to snake-case.\n> Underscores (`_`) need then to be escaped as double underscore (`__`) when provided via command line environment variable.\n>\n> Example:\n>\n> - path => CDS_COV2AP_PATH=odatav2\n> - quoteSearch => quote_search => CDS_COV2AP_QUOTE\\_\\_SEARCH=false\n\n> Option `cds.odata.v2proxy.urlpath` is available to specify an OData V2 proxy url path\n> different from default `/v2` for CDS core.\n\n## Advanced\n\n### Logging\n\nLogging is based on [cds.log](https://cap.cloud.sap/docs/node.js/cds-log), therefore CDS logging configurations apply.\n\n#### Logging Modules\n\n| Component                  | Module Name(s) |\n| -------------------------- | -------------- |\n| CDS OData V2 Adapter Proxy | cov2ap         |\n\n#### Kibana Logging\n\nIn order to enable Kibana friendly logging for `cds.log`\nfeature toggle `cds.features.kibana_formatter: true` needs to be set.\n\n#### Debug Mode\n\nDebug mode can be activated to log requests and responses processed (V2) and initiated (V4)\nby CDS OData V2 Adapter Proxy. The following information can be retrieved for analysis:\n\n- **Request:** url, headers, body\n- **Response:** status code/message, headers, body\n\nDebug log level can be activated\n\n- via command line environment variable: `CDS_LOG_LEVELS_COV2AP=debug`\n- via `cds.env` in code: `cds.env.log.levels.cov2ap = \"debug\"`\n\nDetails on how to set CDS environment can be found at [cds.env](https://cap.cloud.sap/docs/node.js/cds-env).\n\n#### Log Levels\n\nLogging can be configured to respect the following log levels:\n\n- **error**: Error logs are written (includes **warn**)\n- **warn**: Warning logs are written (includes **info**)\n- **info**: Info logs are written (includes **debug**)\n- **debug**: Debug logs are written\n- **trace**: Same as **debug**\n- **silent**: No logs are written\n\n#### Logging Components\n\n##### cds.log.levels.cov2ap: \"error\"\n\n- `[cov2ap] - Proxy:` Proxy processing error\n- `[cov2ap] - Authorization:` Authorization header parsing error\n- `[cov2ap] - MetadataRequest:` Metadata request processing error\n- `[cov2ap] - Request:` Request processing error\n- `[cov2ap] - Response:` Response processing error\n- `[cov2ap] - Batch:` Batch processing error\n- `[cov2ap] - AggregationKey:` Aggregation key error\n- `[cov2ap] - MediaStream:` Media stream processing error\n- `[cov2ap] - FileUpload:` File upload processing error\n\n##### cds.log.levels.cov2ap: \"warn\"\n\n- `[cov2ap] - Service:` Invalid service definition (name, path)\n- `[cov2ap] - Context:` Invalid (sub-)definition (name, path)\n- `[cov2ap] - ContentDisposition:` Content disposition warning\n\n##### cds.log.levels.cov2ap: \"info\"\n\n- `[cov2ap] - Batch:` Changeset order deviation (req, res)\n\n##### cds.log.levels.cov2ap: \"debug\"\n\n- `[cov2ap] - Request:` Log OData V2 client request (url, headers, body)\n- `[cov2ap] - ProxyRequest:` Log OData V4 proxy request (url, headers, body)\n- `[cov2ap] - ProxyResponse:` Log OData V4 proxy response (status code/message, headers, body)\n- `[cov2ap] - Response:` Log OData V2 client response (status code/message, headers, body)\n\n#### http-proxy-middleware\n\n- `[cov2ap] - [HPM]`: Proxy middleware processing logs\n\n### CDS Annotations\n\nThe following CDS OData V2 Adapter Proxy specific annotations are supported:\n\n**Entity Level**:\n\n- `@cov2ap.analytics: false`: Suppress analytics conversion for the annotated entity, if set to `false`.\n- `@cov2ap.deltaResponse: 'timestamp'`: Delta response '\\_\\_delta' is added to response data of annotated entity with current timestamp information.\n- `@cov2ap.isoTime`: Values of type cds.Time (Edm.Time) are represented in ISO 8601 format for annotated entity.\n- `@cov2ap.isoDate`: Values of type cds.Date (Edm.DateTime) are represented in ISO 8601 format for annotated entity.\n- `@cov2ap.isoDateTime`: Values of type cds.DateTime (Edm.DateTimeOffset) are represented in ISO 8601 format for annotated entity.\n- `@cov2ap.isoTimestamp`: Values of type cds.Timestamp (Edm.DateTimeOffset) are represented in ISO 8601 format for annotated entity.\n- `@cov2ap.isoDateTimeOffset`: Values of type Edm.DateTimeOffset (cds.DateTime, cds.Timestamp) are represented in ISO 8601 format for annotated entity.\n\n**Entity Element Level**:\n\n- `@Core.ContentDisposition.Filename: <element>`: Specifies entity element, representing the filename during file upload/download.\n- `@Core.ContentDisposition.Type: '<value>'`: Controls the content disposition behavior in client/browser (`inline` or `attachment`).\n- `@cov2ap.headerDecode: [...]`: Array of sequential decoding procedures ('uri', 'uriComponent', 'base64') used for media entity upload header.\n\n### CDS Modeling Restrictions\n\nCDS project configuration `cds.odata.version` shall be set to `v4`, as OData proxy maps to OData V4.\nCDS supports modelling features that are not compatible with OData V2 standard:\n\n- **Singletons:** Usage of annotation `@odata.singleton` is not supported in combination with OData V2\n- **Structured Types:** Usage of `cds.odata.format: 'structured'` is not supported in combination with OData V2\n- **Arrayed Types:** Usages of `array of` or `many` in entity element definitions lead to CDS compilation error: `Element must not be an \"array of\" for OData V2`\n- **Managed Compositions:** The usage of managed composition (currently) produces Format Exception in Fiori Elements V2 for Date/Time data types\n\nTo provide an OData V2 service based on the CDS OData V2 Adapter Proxy, those CDS modelling features must not be used.\nIn general any CDS OData API flavor must not be used in combination with CDS OData V2 Adapter Proxy.\n\nPer default, those modelling incompatibilities are reported as `Warning` and will not stop the compilation.\nThe resulting EDMX V2 may be invalid and not processable by an OData V2 client. To prevent this situation and fail\nearly to detect modelling incompatibilities, the severity for respective codes can be increased to `Error`,\nby setting the following environment variables:\n\n```json\n{\n  \"cdsc\": {\n    \"severities\": {\n      \"odata-spec-violation-array\": \"Error\",\n      \"odata-spec-violation-param\": \"Error\",\n      \"odata-spec-violation-returns\": \"Error\",\n      \"odata-spec-violation-assoc\": \"Error\",\n      \"odata-spec-violation-constraints\": \"Error\"\n    }\n  }\n}\n```\n\n### Cloud Foundry Deployment\n\nWhen deploying the CDS OData V2 Adapter Proxy to Cloud Foundry, make sure that it has access to the whole CDS model.\nEspecially, it’s the case, that normally the Node.js server is only based on folder `srv` and folder `db` is then missing on Cloud Foundry.\n\nTo come around this situation, trigger a `cds build` during development time, that generates a `csn.json` at location `gen/srv/srv/csn.json`.\nPoint your Cloud Foundry deployment of the CDS OData V2 Adapter Proxy to the folder `gen/srv` (using manifest.json or MTA), so that\nthe CDS models can be found via file `srv/csn.json`, during runtime execution on Cloud Foundry.\n\nMake sure, that all i18n property files reside next to the `csn.json` in a `i18n` or `_i18n` folder, to be detected by localization.\n\n### Multitenancy, Feature Toggles and Extensibility (MTX)\n\nCDS OData V2 Adapter Proxy supports multitenant scenarios. Basic extensibility is already supported in combination with the\n[CDS MTX](https://www.npmjs.com/package/@sap/cds-mtx) module. More advanced extensibility scenarios and feature toggles\nare supported in combination with the [CDS Streamlined MTX services](https://www.npmjs.com/package/@sap/cds-mtxs).\n\nIn order to provide the feature toggle vector to be used to build-up the corresponding `CSN` and `EDMX` metadata documents,\nthe Express request object `req` needs to enhanced by feature definitions.\nTo add support for a specific feature toggles management you can add a simple Express middleware as follows, for example, in your `server.js`:\n\n```js\nconst cds = require(\"@sap/cds\");\ncds.on(\"bootstrap\", (app) =>\n  app.use((req, res, next) => {\n    req.features = req.features || [\"advanced\"];\n    next();\n  })\n);\n```\n\n### SAP Fiori Elements V2\n\nThe OData V2 service provided by the CDS OData V2 Adapter Proxy can be used to serve an SAP Fiori Elements V2 UI.\n\nSAP Fiori Elements V2 examples:\n\n- SQLite based:\n  - **Analytics**: Analytical List Page app\n  - **Basic Edit**: Basic editing app\n  - **Draft Edit**: Draft supported editing app\n  - **Hierarchy**: Hierarchical display of data in tree table\n  - **Overview**: Overview Page app\n  - **XML**: Basic app (Atom format)\n- HANA based:\n  - **Parameters**: Parameterized Entity app\n\nRunning examples can be tested as follows:\n\n- Clone repository\n- Start server:\n  - SQLite based: `npm start`\n  - HANA based: `npm run start:hana`\n- Open Fiori Launchpad: http://localhost:4004/fiori.html\n\n> Code repository is only available SAP internal.\n\n### Compression Support\n\nResponse compressions can be enabled, by registering the `compression` Node.js\nmodule in Express app at bootstrap time, e.g. in `srv/server.js`:\n\n```js\nconst cds = require(\"@sap/cds\");\nconst cov2ap = require(\"@sap/cds-odata-v2-adapter-proxy\");\nconst compression = require(\"compression\");\n\ncds.on(\"bootstrap\", (app) => {\n  app.use(compression({ filter: shouldCompress }));\n  app.use(cov2ap());\n});\n\nfunction shouldCompress(req, res) {\n  const type = res.getHeader(\"Content-Type\");\n  if (type && typeof type === \"string\" && type.startsWith(\"multipart/mixed\")) {\n    return true;\n  }\n  // fallback to standard filter function\n  return compression.filter(req, res);\n}\n```\n\nThe shown compression filter function enables compression including\nOData Batch (`$batch`) calls with content type `multipart/mixed`.\n\n### Approuter Compression\n\n`@sap/approuter` now support out-of-the-box compression for OData $batch calls with `multipart/mixed`.\nIt's disabled by default, but can be enabled using option [compressResponseMixedTypeContent](https://www.npmjs.com/package/@sap/approuter#compression-property).\n\n## Custom Bootstrap\n\n### CAP Node.js Custom\n\n- Run `npm install @sap/cds-odata-v2-adapter-proxy -s` in `@sap/cds` project\n- Create new file `./srv/index.js`:\n\n```js\nconst express = require(\"express\");\nconst cds = require(\"@sap/cds\");\nconst cov2ap = require(\"@sap/cds-odata-v2-adapter-proxy\");\n\nconst host = \"0.0.0.0\";\nconst port = process.env.PORT || 4004;\n\n(async () => {\n  const app = express();\n\n  // OData V2\n  app.use(cov2ap());\n\n  // OData V4\n  await cds.connect.to(\"db\");\n  await cds.serve(\"all\").in(app);\n\n  const server = app.listen(port, host, () => console.info(`app is listing at ${host}:${port}`));\n  server.on(\"error\", (error) => console.error(error.stack));\n})();\n```\n\n- Run `node srv/index` from the project root to start the server:\n  - OData V2 service will be available at http://localhost:4004/v2/<service-path>\n  - OData V4 service will be available at http://localhost:4004/<service-path>\n\nNote that `@sap/cds` is a peer dependency and needs to be available as module as well.\n\n### CAP Java Custom\n\n> For CAP Java projects prefer the Native OData V2 Adapter ([com.sap.cds/cds-adapter-odata-v2](https://mvnrepository.com/artifact/com.sap.cds/cds-adapter-odata-v2)).\n\n- Run `npm install @sap/cds-odata-v2-adapter-proxy -s` in `@sap/cds` project\n- Provide CDS models (`db`, `srv`, `app`) or compile a generated CSN (see details below)\n- Create new file `./srv/index.js`:\n\n```js\nconst express = require(\"express\");\nconst cov2ap = require(\"@sap/cds-odata-v2-adapter-proxy\");\n\nconst host = \"0.0.0.0\";\nconst port = process.env.PORT || 4004;\n\n(async () => {\n  const app = express();\n\n  // OData V2\n  app.use(\n    cov2ap({\n      target: \"<odata-v4-backend-url>\", // locally e.g. http://localhost:8080\n      services: {\n        \"<odata-v4-service-path>\": \"<qualified.ServiceName>\",\n      },\n    })\n  );\n\n  const server = app.listen(port, host, () => console.info(`app is listing at ${host}:${port}`));\n  server.on(\"error\", (error) => console.error(error.stack));\n})();\n```\n\n- Run `node srv/index` from the project root to start the server:\n  - OData V2 service will be available at http://localhost:4004/v2/<odata-v4-service-path>\n  - OData V4 service shall be available at http://localhost:8080/<odata-v4-service-path>\n\n#### Additional Considerations\n\n- A deployed version of CDS OData V2 Adapter Proxy shall have option `target` set to the deployed OData V4 backend URL.\n  This can be retrieved from the Cloud Foundry environment using `process.env`, for example,\n  from the `destinations` environment variable. Locally e.g. http://localhost:8080 can be used.\n- In proxy option `services`, every OData V4 service URL path needs to mapped to\n  the corresponding fully qualified CDS service name, e.g. `\"/odata/v4/MainService/\": \"test.MainService\"`,\n  to establish the back-link connection between OData URL and its CDS service.\n- Make sure, that your CDS models are also available in the project.\n  Those reside either in `db`, `srv`, `add` folders, or a compiled (untransformed) `srv.json` is provided.\n  This can be generated by using the following command: `cds srv -s all -o .`\n- Alternatively, a `cds build` can be triggered as described in section \"Cloud Foundry Deployment\".\n- If not detected automatically, the model path can be set with option `model` (especially if `csn.json`/`srv.json` option is used).\n- Make sure, that all i18n property files reside next to the `csn.json` in a `i18n` or `_i18n` folder, to be detected by localization.\n- In a multitenant scenario in combination with a standalone proxy, the CDS model can be retrieved remotely via MTX endpoint (`mtxEndpoint`) by setting proxy option `mtxRemote: true`.\n- Proxy option `mtxEndpoint` can be specified as absolute url (starting with `http://` or `https://`), to be able to address MTX Sidecar\n  possibly available under a target different from OData v4 backend URL. If not specified absolutely, proxy `target` is prepended to `mtxEndpoint`.\n\n## Contributions\n\n> Code repository is only available SAP internal.\n\n- Clone repository\n- Unit Tests: `npm test`\n- Test Server: `npm start`\n  - Service: `http://localhost:4004/v2/main`\n  - Metadata: `http://localhost:4004/v2/main/$metadata`\n  - Data: `http://localhost:4004/v2/main/Header?$expand=Items`\n\nFor more details see [CONTRIBUTION](CONTRIBUTING.md) guide.\n\n## Features\n\n- GET, POST, PUT / MERGE / PATCH, DELETE\n- Batch support\n- Actions, Functions\n- Analytical Annotations\n- Deep Expands/Selects\n- JSON, Atom (XML) format\n- Deep Structures\n- Data Type Mapping\n- IEEE754Compatible\n- Messages / Error Handling\n- Location Header\n- $inlinecount / $count / \\$value\n- Entity with Parameters\n- File Upload (binary, multipart/form-data)\n- Stream Support (Octet and Url)\n- Content Disposition\n- Content-ID\n- Multitenancy (mtx, mtxs)\n- Feature Toggles\n- Extensibility\n- Draft Support\n- Search Support\n- Localization\n- Temporal Data\n- Tracing Support\n- Logging Correlation\n- ETag Support (Concurrency Control)\n- Next Links (skiptoken)\n- Delta Responses (deltatoken)\n- Continue-On-Error\n- X-HTTP-Method\n\n## OData V2/V4 Delta\n\n[What’s New in OData Version 4.0](http://docs.oasis-open.org/odata/new-in-odata/v4.0/cn01/new-in-odata-v4.0-cn01.html)\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3.1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)\nand this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).\n\n<!-- New version information is automatically added after line 8 -->\n\n## Version 1.9.21 - 2023-04-24\n\n### Fixed\n\n- Proxy is open source at https://github.com/cap-js-community/odata-v2-adapter\n- The new proxy library is fully compatible and can be used as drop-in replacement\n- This library is now deprecated and will no longer receive updates\n\n## Version 1.9.20 - 2023-03-09\n\n### Fixed\n\n- Cache invalidation for Streamlined MTX (extensibility enabled) with CDS 6.6.1\n- Use named parameters for mtxs actions to protect against incompatible changes\n- Allow status code 304 (not modified) when reading OData V4 metadata (as success)\n\n## Version 1.9.19 - 2023-02-15\n\n### Fixed\n\n- Provide subdomain information to logs\n- Use correct correlation-id for logging (setup CDS context correctly)\n- React to incompatible change of mtxs getEdmx, to provide (internal) model parameter\n- Enhance example app to show usage of bound/unbound OData V2 actions in Fiori UI via annotation\n\n## Version 1.9.18 - 2023-01-18\n\n### Fixed\n\n- Unicode encode messages header\n\n## Version 1.9.17 - 2023-01-09\n\n### Fixed\n\n- Fix special replacement pattern in $filter conversion\n\n## Version 1.9.16 - 2022-12-20\n\n### Fixed\n\n- Reject proxy processing of non OData services\n- Use stream pipeline for result streaming\n- Proxy does not end request to target anymore after writing body\n- Document that managed compositions will not work correctly in Fiori Elements V2\n\n## Version 1.9.15 - 2022-11-11\n\n### Fixed\n\n- Keep `ID__` parameter as query option for bound action/function on analytical entities\n- Remove introduced query option `select` for bound action calls on analytical entities again\n\n## Version 1.9.14 - 2022-11-07\n\n### Fixed\n\n- Provide `value` section of `ID__` aggregation key as query option `select` to bound action handler\n- Accept aggregation annotations in lowercase and uppercase writing\n- Support `@Aggregation.ReferenceElement` and `@Aggregation.Reference` annotations to perform aggregation on different element\n- Only a single aggregation reference element is supported, specified as array with single element, e.g. `['element']`\n- Cast aggregation values of `#COUNT_DISTINCT` to `Integer` type to be represented as number (not as string), if typed accordingly\n- Map default aggregation `#COUNT` to virtual property `$count` of `$apply`\n- Remove unneeded temporary aggregation `$COUNT`. Use `#COUNT` instead.\n\n## Version 1.9.13 - 2022-11-03\n\n### Fixed\n\n- Escape entity key value for bound action key parameter mapping\n- Support action parameters that overload bound entity key names\n- Support action/function on analytical entities via `ID__` aggregation key\n\n## Version 1.9.12 - 2022-11-02\n\n### Fixed\n\n- Fix `$metadata` lookup with query options\n\n## Version 1.9.11 - 2022-11-02\n\n### Fixed\n\n- Support new CDS integer types\n- Fallback target `auto` to `default` target until dynamic `target/port` assignment is available\n- Prevent loading OData V4 `$metadata` when OData V2 `$metadata` is requested\n- Fix draft requests re-write for `$filter`\n- Proxy option to disable `x-forwarded` header processing (`processForwardedHeaders: false`)\n\n## Version 1.9.10 - 2022-10-04\n\n### Fixed\n\n- Atom format fixes\n- Trim spaces for filter function parameter transformations\n- Allow passing proxy options as command line env (`camelCase` to `snake_case`, escape `_` by doubling)\n\n## Version 1.9.9 - 2022-09-21\n\n### Fixed\n\n- Fix logging layers and debug trace activation\n- Connect `cds.log` with `http-proxy-middleware`\n\n## Version 1.9.8 - 2022-09-20\n\n### Fixed\n\n- Fix data type conversion for single attribute value responses (incl. $value)\n- Fix response mapping of parameters for `Parameters` entity\n- Respect `$format=json` for service root document\n- Introduce proxy options to specify OData default format (default is `json`)\n- `Atom (XML)` format support\n\n## Version 1.9.7 - 2022-09-14\n\n### Fixed\n\n- Respect `$select` filter for `deferreds` structure\n- Fix definition lookup for service entities with scoped name\n- Fix definition lookup for unbound service operations (actions, functions) with scoped name\n- Improve Kibana logging even more\n- Use project specific logger\n- Document that option `fileUploadSizeLimit` only applies to uploads via `POST` using `multipart/form-data` requests\n\n## Version 1.9.6 - 2022-09-01\n\n### Fixed\n\n- Improve Kibana logging\n- Improve error and warning logging messages\n- Make log level of `Changeset order deviation` configurable via `changesetDeviationLogLevel`. Default is now `'info'`.\n\n## Version 1.9.5 - 2022-08-30\n\n### Fixed\n\n- Fix media upload via associations/compositions using POST\n- Fix duplication of streaming request data for media entity (chunked)\n- Fix result structure for parameterized entities entry addressed by key (object or not found)\n- Update README on sample apps\n\n## Version 1.9.4 - 2022-08-01\n\n### Fixed\n\n- Remove logging library `@sap/logging`. Use `cds.log` instead.\n- Remove obsolete proxy option `disableNetworkLog`\n- Proxy option `fixDraftRequests` suppresses unsupported draft expand to `SiblingEntity` and injects `SiblingEntity: null`\n\n## Version 1.9.3 - 2022-07-21\n\n### Fixed\n\n- Fix batch handling of parameterized entities\n\n## Version 1.9.2 - 2022-07-18\n\n### Fixed\n\n- Check on `cds.mtx.eventEmitter` before access\n- Restructure README\n\n## Version 1.9.1 - 2022-07-15\n\n### Fixed\n\n- Compile CSN for Node.js when loaded from CDS MTX services\n- Check on `cds.requires.multitenancy` instead of deprecated `cds.requires.db.multiTenant` (compatible)\n- Support `$count` with parameterized entities\n- Make decoding of JWT token body more robust (error log in case of invalid JWT)\n- Synchronize parallel loading of CSN and EDMX\n- First (alpha) support for CDS Streamlined MTX (no extensibility support yet)\n- Move `@types/express` to devDependencies\n\n## Version 1.9.0 - 2022-07-04\n\n### Fixed\n\n- CDS 6 compatible version\n- Enhance proxy option `target` with mode `auto` to handle dynamic target/port assignment (e.g. for unit-tests)\n- Represent time component of `cds.Date/Edm.DateTime` with second precision (i.e. `00:00:00`)\n\n## Version 1.8.21 - 2022-06-22\n\n### Fixed\n\n- Add `Type` suffix to fix `__metadata.type` for parameterized entities (datajs did skip date type conversion)\n- Fix parameterized entities navigation links\n- Enhance Fiori Elements example apps\n\n## Version 1.8.20 - 2022-06-13\n\n### Fixed\n\n- Change README on Approuter compression flag `compressResponseMixedTypeContent`\n- Fill and process surrogate key `ID__` correctly in case of analytical queries\n- Add an example Fiori Elements applications showcasing hierarchical `TreeTable` usage\n- Rework UI application examples (basic, draft and hierarchy apps)\n\n## Version 1.8.19 - 2022-05-18\n\n### Fixed\n\n- Don't propagate `host` header to forwarded calls.\n\n## Version 1.8.18 - 2022-05-13\n\n### Fixed\n\n- Propagate all headers to forwarded calls.\n\n## Version 1.8.17 - 2022-05-12\n\n### Fixed\n\n- Filter out annotation elements in response data starting with `odata.` or including `@odata.`.\n- Elements starting with `@` are excluded as before.\n- Propagate special headers to forwarded calls (i.e. starting with `dwc`).\n\n## Version 1.8.16 - 2022-04-28\n\n### Fixed\n\n- Fix if elements are annotated with `@cds.api.ignore`\n- Abort file upload when limit is reached\n\n## Version 1.8.15 - 2022-04-25\n\n### Fixed\n\n- Remove internal repository reference\n- Document that Singletons are not available in OData V2\n- Ignore omitted elements annotated with `@cds.api.ignore`\n- Support validated for absolute context urls via `cds.odata.contextAbsoluteUrl`.\n- Skip aggregation for measures with aggregation `#NONE` and `#NOP`\n- Support `$count` aggregations for measures with aggregation `#COUNT`\n- Changed OData type mapping for `Edm.Byte` to `cds.Integer`\n\n## Version 1.8.14 - 2022-04-08\n\n### Fixed\n\n- Upgrade `@sap/logging` to fix vulnerability\n\n## Version 1.8.13 - 2022-04-07\n\n### Fixed\n\n- Remove peer dependency to prevent workspace failures\n\n## Version 1.8.12 - 2022-04-01\n\n### Fixed\n\n- Refactorings to support universal CSN\n- Refactorings to support metadata prototype layering\n- Include `search` in `$apply` aggregations\n\n## Version 1.8.11 - 2022-03-11\n\n### Fixed\n\n- Fix for `falsy` values during data type conversion for functions and actions\n- Add OData V2 links via link providers to HTML index page\n\n## Version 1.8.10 - 2022-03-01\n\n### Fixed\n\n- Refactor locale determination from CDS\n- Serialize body to string in case of type `object` before calculating content length\n- Support `AnalyticalContext` annotations in addition to deprecated `Analytics` annotations\n\n## Version 1.8.9 - 2022-02-09\n\n### Fixed\n\n- Stabilization fixes\n\n## Version 1.8.8 - 2022-02-08\n\n### Fixed\n\n- Proxy option `calcContentDisposition` to calculate `content-disposition` header even if already available\n\n## Version 1.8.7 - 2022-02-03\n\n### Fixed\n\n- Proxy option `fixDraftRequests` to convert unsupported draft request to a working version (default: false)\n\n## Version 1.8.6 - 2022-02-01\n\n### Fixed\n\n- Fix README for combined custom backend bootstrap\n- Allow annotation `@odata.type` in lower case format\n- Allow type prefix `datetime` in addition to `datetimeoffset`\n- Add peer dependency @types/express\n\n## Version 1.8.5 - 2022-01-17\n\n### Fixed\n\n- Prevent additional call to fill `content-disposition`, in case header is already provided with stream\n- Support OData V2 `binary` media upload via POST for entities with element of type `Binary` and without `@Core.MediaType` annotations\n- Return server error as response, if OData V4 server does not support media upload without `@Core.MediaType` annotation\n  - e.g. `No payload deserializer available for resource kind 'PRIMITIVE' and mime type 'image/png'`\n\n## Version 1.8.4 - 2021-12-06\n\n### Fixed\n\n- Unquote action/function parameter of types `cds.UUID`, `cds.Binary`, `cds.LargeBinary`, `cds.Date`, `cds.Time`, `cds.DateTime`, `cds.Timestamp`\n\n## Version 1.8.3 - 2021-12-06\n\n### Fixed\n\n- Prevent parsing body for HEAD requests against $batch\n- Fix single quotes of URL parameters for request body conversion respecting line breaks\n- Introduce proxy option `quoteSearch` to control search expression quoting. Default is `true`\n- Fix bound action call to entity key having association type\n- Fix action/function parameter of types date, time, datetime\n\n## Version 1.8.2 - 2021-12-01\n\n### Fixed\n\n- Catch and handle unexpected errors during proxy request processing\n- Validate request body and content-type in request\n- Switch of internal NPM repository (Nexus -> Artifactory)\n\n## Version 1.8.1 - 2021-11-19\n\n### Fixed\n\n- Change action/function return type value representation for primitive types to include nesting to conform to OData standard\n- Introduce proxy options `returnPrimitiveNested: false` to keep previous action/function return value representation for primitive types\n- Introduce proxy option `returnCollectionNested` to control collection of entity type nesting into a `results` section. Default is `true`\n- Fill standardized `x-correlation-id` request header in addition to `x-correlationid` for proxy requests\n\n## Version 1.8.0 - 2021-11-17\n\n### Fixed\n\n- Add README documentation for annotation `@Core.ContentDisposition.Type`\n- Change `content-disposition` header default from `inline` to `attachment`\n- Proxy option `contentDisposition` to specify default content disposition for media streams (inline, attachment)\n- Unescape single quotes of action URL parameters for request body conversion\n- Fix action/function return type representation for `cds.LargeString`\n- Improve formatting of README and CHANGELOG\n- Adjust repository url\n\n## Version 1.7.16 - 2021-11-10\n\n### Fixed\n\n- `Content-Disposition` header filename is now url encoded\n- Annotation `@Core.ContentDisposition.Type` to specify content disposition type (e.g. inline, attachment (default), etc.)\n\n## Version 1.7.15 - 2021-11-08\n\n### Fixed\n\n- Quote key parts of type `cds.LargeString` for uri generation\n\n## Version 1.7.14 - 2021-11-03\n\n### Fixed\n\n- Decode url key values before conversion\n\n## Version 1.7.13 - 2021-10-18\n\n### Fixed\n\n- Escape quotes in search string before quoting\n\n## Version 1.7.12 - 2021-10-07\n\n### Fixed\n\n- Proxy option `propagateMessageToDetails` to always propagate root error or message to details section\n- Support for fetching Edmx metadata locally via `cds.mtx.getEdmx`\n- Support for fetching Edmx metadata remotely via MTX service url\n\n## Version 1.7.11 - 2021-09-09\n\n### Fixed\n\n- Convert ContentID for warning messages and error body and propagate to details\n- Fix batch boundary parsing from content type with charset definition\n- Functions `startswith` and `endswith` respect proxy option `caseInsensitive`\n\n## Version 1.7.10 - 2021-08-31\n\n### Fixed\n\n- Fix query options not part of action parameters\n- Proxy option `caseInsensitive` to transform search function e.g. `substringof` to case-insensitive variant\n\n## Version 1.7.9 - 2021-08-06\n\n### Fixed\n\n- Add metadata type of inline return type for actions and functions\n- Proxy option `messageTargetDefault` to specify default message target, if undefined\n- Empty proxy option `messageTargetDefault` leaves message target untouched\n\n## Version 1.7.8 - 2021-07-28\n\n### Fixed\n\n- Support for verb tunneling, i.e., `POST` with `X-HTTP-Method` header\n\n## Version 1.7.7 - 2021-07-27\n\n### Fixed\n\n- Support inline return type for actions and functions\n- Default undefined message target to `/#TRANSIENT#`\n- Return 404 for unknown service name during model compilation\n- Enhance logging to contain service name for service lookup from request\n\n## Version 1.7.6 - 2021-07-01\n\n### Fixed\n\n- Prevent exception on handling entities without keys\n\n## Version 1.7.5 - 2021-06-21\n\n### Fixed\n\n- Prevent unnecessary expensive `isExtended` call per request using metadata cache\n\n## Version 1.7.4 - 2021-06-18\n\n### Fixed\n\n- Support annotation `@odata.Type` for non-UUID CDS types\n- Set header `x-cds-odata-version: v2` to indicate target OData version to CDS runtime\n- Explain usage of response compression in README\n\n## Version 1.7.3 - 2021-06-11\n\n### Fixed\n\n- Change OData V4 `continue-on-error` default to `false`\n- Proxy option `continueOnError: true` available to activate `continue-on-error`\n\n## Version 1.7.2 - 2021-06-10\n\n### Fixed\n\n- Fix content type normalization to preserve charset\n\n## Version 1.7.1 - 2021-05-28\n\n### Fixed\n\n- Fix return type determination for external services definitions\n\n## Version 1.7.0 - 2021-05-27\n\n### Fixed\n\n- Change action/function return type value representation for complex and primitive types\n- Introduce proxy options `returnComplexNested` and `returnPrimitivePlain` to keep previous action/function return value representation\n\n## Version 1.6.3 - 2021-05-26\n\n### Fixed\n\n- Convert additional targets of response messages\n- Transform leading part of locale to lower-case\n- Fix local entity name determination for scoped entities, e.g. `.texts`\n\n## Version 1.6.2 - 2021-04-29\n\n### Fixed\n\n- Merge headers and body of POST and PUT media entity upload calls\n- Handle error case in PUT media entity upload call\n\n## Version 1.6.1 - 2021-04-12\n\n### Fixed\n\n- Handle authorization header correctly in media upload\n\n## Version 1.6.0 - 2021-04-06\n\n### Fixed\n\n- Final CDS 5 compatibility version\n\n## Version 1.5.11 - 2021-03-26\n\n### Fixed\n\n- CDS 5 compatibility (>= 1.6.0 needed for CDS 5)\n- Support `content-disposition` header in media entity upload\n- Introduction of element annotation `@cov2ap.headerDecode` to decode header values\n\n## Version 1.5.10 - 2021-03-18\n\n### Fixed\n\n- Fix crash for bound action without return type\n- Consider bound action binding parameter for messages targets\n\n## Version 1.5.9 - 2021-03-02\n\n### Fixed\n\n- Improve TypeScript typings\n\n## Version 1.5.8 - 2021-02-25\n\n### Fixed\n\n- Update `@sap/logging` dependency\n\n## Version 1.5.7 - 2021-02-19\n\n### Fixed\n\n- Restore backwards compatibility with CDS 3\n\n## Version 1.5.6 - 2021-02-12\n\n### Fixed\n\n- Convert response message targets\n\n## Version 1.5.5 - 2021-01-27\n\n### Fixed\n\n- Align determination of locale including sub tags (e.g. `zh-TW`)\n\n## Version 1.5.4 - 2021-01-26\n\n### Fixed\n\n- Support action/function array parameter types\n- Introduce proxy option `bodyParserLimit` for body parser size limit\n\n## Version 1.5.3 - 2021-01-12\n\n### Fixed\n\n- Improve TypeScript typings\n\n## Version 1.5.2 - 2021-01-11\n\n### Fixed\n\n- Add TypeScript typings for proxy constructor\n\n## Version 1.5.1 - 2020-12-21\n\n### Fixed\n\n- Normalize service root path in service root xml to include trailing slash\n\n## Version 1.5.0 - 2020-12-16\n\n### Fixed\n\n- Update minor version\n\n## Version 1.4.63 - 2020-12-15\n\n### Fixed\n\n- Fix that file upload error message does not return with `500` status code\n\n## Version 1.4.61 - 2020-12-11\n\n### Fixed\n\n- Fix accept header for binary data retrieval to include `application/json`\n\n## Version 1.4.60 - 2020-12-07\n\n### Fixed\n\n- Respect offset for `Edm.DateTimeOffset`, and default to UTC offset (+0000)\n- Fix ticks and offset calculation for type `DateTimeOffset` to handle offset as minutes\n- Update README for custom bootstrap to give `proxy()` priority over `cds.serve` (as with `cds run`)\n- Make authorization header parsing more robust\n- Provide `__metadata` type information for function/action result\n- Data format of type `cds.Time (Edm.Time)` is switchable to ISO 8601 with proxy option `isoTime` or entity annotation `@cov2ap.isoTime`\n- Data format of type `cds.Date (Edm.DateTime)` is switchable to ISO 8601 with proxy option `isoDate` or entity annotation `@cov2ap.isoDate`\n- Data format of type `cds.DateTime / Edm.DateTimeOffset` is switchable to ISO 8601 with proxy option `isoDateTime` or entity annotation `@cov2ap.isoDateTime`\n- Data format of type `cds.Timestamp / Edm.DateTimeOffset` is switchable to ISO 8601 with proxy option `isoTimestamp` or entity annotation `@cov2ap.isoTimestamp`\n- Process DateTimeOffset always as UTC information (with `Z`)\n\n## Version 1.4.59 - 2020-12-02\n\n### Fixed\n\n- Change accept header to `application/json`, if accept `xml` is requested\n- Fix single service support bound to root url\n- Data format of type `Edm.DateTimeOffset` (`cds.DateTime`, `cds.Timestamp`) is switchable to ISO 8601 with proxy option `isoDateTimeOffset` or entity annotation `@cov2ap.isoDateTimeOffset`\n\n## Version 1.4.58 - 2020-11-26\n\n### Fixed\n\n- Support boolean header value in media entity\n- Prevent escaping of quotes in url for batch requests\n- Add `media_src` and `content-type` in `__metadata` for media entities\n\n## Version 1.4.57 - 2020-11-24\n\n### Fixed\n\n- Match headers case-insensitive for custom body in media entity\n- Parse header string values for non-string types in media entity\n\n## Version 1.4.56 - 2020-11-12\n\n### Fixed\n\n- Enable OData V4 `continue-on-error` per default\n- Add proxy option to deactivate `continue-on-error`\n\n## Version 1.4.55 - 2020-11-10\n\n### Fixed\n\n- Fix host port in response links\n- Handle duplication of link tokens\n\n## Version 1.4.54 - 2020-11-05\n\n### Fixed\n\n- Support mapping of `__next` annotation\n- Forward file upload headers to media entity POST call\n- Explain annotation `@Core.ContentDisposition.Filename` in README\n- Update README on OData API flavors\n- Fix links for navigation collections and query options\n\n## Version 1.4.53 - 2020-10-30\n\n### Fixed\n\n- Support custom body for binary media upload via POST\n- Set `Accept` header for `$batch` proxy request to `multipart/mixed`\n- Set missing response header `Content-Transfer-Encoding: binary`\n\n## Version 1.4.52 - 2020-10-27\n\n### Fixed\n\n- Log warning for change set order violation, instead returning an error response\n\n## Version 1.4.51 - 2020-10-27\n\n### Fixed\n\n- Support OData V2 `binary` media upload via POST\n- Support OData V2 `multipart/form-data media` upload via POST\n- Update README on logging layers\n\n## Version 1.4.50 - 2020-10-22\n\n### Fixed\n\n- Rewrite batch success status code from `200` to `202`\n- Remove OData V4 header `odata-entityid`\n- Propagate `Content-ID` in response to HTTP request headers\n- Remove artificially added `Content-ID` header from batch response\n- Fix `Content-ID` order check for deviations between request and response\n\n## Version 1.4.49 - 2020-10-19\n\n### Fixed\n\n- Fix entity uris with `x-forwarded-path` headers for OData batch calls\n- Support of `odata-entityid` header rewrite\n\n## Version 1.4.48 - 2020-10-16\n\n### Fixed\n\n- Fix entity uris with `x-forwarded-path` headers\n- Forward `x-request-id`, `x-correlationid` for metadata request\n\n## Version 1.4.47 - 2020-10-08\n\n### Fixed\n\n- Respect `Content-ID` in HTTP request headers\n- Update on peer dependencies\n- Update README on OData V2 Adapter for CAP Java\n- Update README on mission statement\n\n## Version 1.4.46 - 2020-09-29\n\n### Fixed\n\n- Update README on option `cds.env.odata.v2proxy.urlpath`\n- Delta response annotation `@cov2ap.deltaResponse: 'timestamp'`\n\n## Version 1.4.45 - 2020-09-17\n\n### Fixed\n\n- Prepare `Delta Responses` support in proxy (not yet supported by CDS)\n- Remove metadata information in request payload deeply\n- Update README on CDS modelling restrictions\n\n## Version 1.4.44 - 2020-09-03\n\n### Fixed\n\n- Rename proxy option `standalone` to `mtxRemote`\n- Allow proxy option `mtxEndpoint` to be absolute http url\n- Support for `cds.env` for proxy options under section `cds.cov2ap`\n- Update README and JSDoc documentation\n\n## Version 1.4.43 - 2020-09-01\n\n### Fixed\n\n- Fix `$filter` function conversion\n- Fix remote CSN fetch for standalone proxy\n- Fix `@sap.aggregation.role` annotation detection\n- Annotation `@cov2ap.analytics: false` to suppress analytical conversion\n- Update README documentation\n\n## Version 1.4.42 - 2020-08-05\n\n### Fixed\n\n- Add missing `Content-ID` header for batch changeset\n\n## Version 1.4.41 - 2020-08-03\n\n### Fixed\n\n- CDS 4 compatibility\n- Improve logging layers\n- Update README documentation\n- Improve JWT tenant processing\n\n## Version 1.4.40 - 2020-07-20\n\n### Fixed\n\n- Fix aggregation grouping on filtered elements\n- Support `sap:` analytical annotations\n\n## Version 1.4.39 - 2020-07-10\n\n### Fixed\n\n- Move annotation `ContentDisposition.Filename` to data element\n- Improve stability of content disposition\n\n## Version 1.4.38 - 2020-07-06\n\n### Fixed\n\n- Fix `base` proxy option (follow-up)\n\n## Version 1.4.37 - 2020-06-26\n\n### Fixed\n\n- Replace `pathRewrite` option by `targetPath` option\n- Fix `base` proxy option\n- Respect OData annotation `@odata.Type`\n- Alternative annotation `@Common.ContentDisposition.Filename`\n\n## Version 1.4.36 - 2020-06-24\n\n### Fixed\n\n- Fix escaping of quote for function parameters\n- SAP Fiori Elements V2 sample app\n\n## Version 1.4.35 - 2020-06-23\n\n### Fixed\n\n- Fix reserved uri characters (follow-up)\n\n## Version 1.4.34 - 2020-06-17\n\n### Fixed\n\n- Fix entity key with (encoded) reserved uri characters\n\n## Version 1.4.33 - 2020-05-29\n\n### Fixed\n\n- Service Document in XML format (default)\n- Update dependencies\n- Disable network log per default\n\n## Version 1.4.32 - 2020-05-27\n\n### Fixed\n\n- Update dependencies\n- Update README on localization\n- Toggle switch for network logging\n- Allow HANA `SYSUUID` as UUID\n\n## Version 1.4.31 - 2020-05-25\n\n### Fixed\n\n- Align model resolving\n- Fix data types conversion for numbers\n- Fix data types recognition in functions\n- Support response compression\n- Prevent unnecessary data serialization for tracing\n- Performance optimization for entity key/uri calculation\n- General performance optimizations\n- Update dependencies\n\n## Version 1.4.30 - 2020-05-01\n\n### Fixed\n\n- Make function call with request body more robust\n- Fallback severity for detail messages to error\n- Keep request body for action call\n- Update README on CF deployment\n\n## Version 1.4.29 - 2020-04-28\n\n### Fixed\n\n- Fix analytics default value for all OData types\n- Fix long running data type conversion for filter elements\n\n## Version 1.4.28 - 2020-04-27\n\n### Fixed\n\n- Fix `$filter` in analytics query\n- Fix count for empty analytics result\n- Fix result projection for analytics query\n- Fix analytics `null` result values\n- Only add root error, if no details messages\n\n## Version 1.4.27 - 2020-04-21\n\n### Fixed\n\n- Add root error as first detail message\n- Error code including `transition` marks transition message\n\n## Version 1.4.26 - 2020-04-20\n\n### Fixed\n\n- Fix `$filter` for navigation elements\n- Fix OData annotations conversion for Java backends\n- Add request authorization parsing for logging\n\n## Version 1.4.25 - 2020-04-08\n\n### Fixed\n\n- Add additional messages as details\n\n## Version 1.4.24 - 2020-04-07\n\n### Fixed\n\n- Fix for metadata transfer-encoding chunked\n- Filter `@` attributes\n\n## Version 1.4.23 - 2020-04-01\n\n### Fixed\n\n- Fix type conversion for `le` operator\n\n## Version 1.4.22 - 2020-03-27\n\n### Fixed\n\n- Fix entity uri path behind app router\n- Update dependencies\n\n## Version 1.4.21 - 2020-03-02\n\n### Fixed\n\n- Improve `$metadata` logging\n- Fix `$metadata` call headers\n\n## Version 1.4.20 - 2020-02-27\n\n### Fixed\n\n- Fix CDS backwards compatibility\n\n## Version 1.4.19 - 2020-02-25\n\n### Fixed\n\n- Fix ETag Support (Concurrency Control)\n- Support streaming from URL media\n- Adding custom path rewrite\n- Custom `server.js` support\n- Fix for rendering aggregation of integers\n- Fix time duration parsing\n- Misc fixes and improvements\n- General housekeeping\n- Moving from `axios` to `node-fetch`\n\n## Version 1.4.18 - 2020-02-03\n\n### Fixed\n\n- Improve `$value` handling for streaming\n- Fix stream filename retrieval\n- Optimize edmx localization\n- Improve logging and tracing handling\n- Fix for external services (e.g. Java backend) support\n- Re-add `services` configuration for external service mapping\n- Fix for search phrase\n\n## Version 1.4.17 - 2020-01-20\n\n### Fixed\n\n- Support for virtual hosts (e.g. Cloud Connector)\n- Fix decode URI for path name\n- Fix IEEE754 compatibility for single requests\n- Add IEEE754 compatibility option switch\n\n## Version 1.4.16 - 2020-01-14\n\n### Fixed\n\n- Enforce IEEE754 compatibility\n- Pin `axios` library\n\n## Version 1.4.15 - 2019-12-20\n\n### Fixed\n\n- Fix authentication prompt for `$metadata`\n- Improve trace handling\n\n## Version 1.4.14 - 2019-12-19\n\n### Fixed\n\n- Protect `$metadata` call\n- Fix `$filter` parentheses nesting\n- Fix `all` model loading from app, srv\n- Improve `$filter` handling, incl. data type and negative tests\n\n## Version 1.4.13 - 2019-12-12\n\n### Fixed\n\n- Remove `services` configuration, as it is obsolete\n- Fix nested functions in `$filter`\n\n## Version 1.4.12 - 2019-12-06\n\n### Fixed\n\n- Fix service and CSN model detection\n\n## Version 1.4.9 - 2019-12-05\n\n### Fixed\n\n- Allow CSN JSON object as model option\n- Raise error, if service not found based on path\n- Fix service paths with hyphen\n- Fix `cds.Date`, `cds.Time` data type mappings\n\n## Version 1.4.8 - 2019-11-14\n\n### Fixed\n\n- Increased body size limit\n- Fix engine config, to allow Node >= 8\n- Map `cds.DateTime` and `cds.Timestamp` to `Edm.DateTimeOffset`\n\n## Version 1.4.6 - 2019-11-07\n\n### Fixed\n\n- Update on README documentation\n- Minor fixes\n\n## Version 1.4.5 - 2019-10-25\n\n### Fixed\n\n- `__count` is now of type String\n- Aggregation values are converted according to dynamic type\n- Search support\n- Fix for converting warning messages\n\n## Version 1.4.4 - 2019-10-07\n\n### Fixed\n\n- Filter data type conversions\n\n## Version 1.4.3 - 2019-10-01\n\n### Fixed\n\n- Check CDS multitenancy/extensibility (mtx)\n- Allow options that are falsy for Javascript\n\n## Version 1.4.2 - 2019-09-24\n\n### Fixed\n\n- Looser declaration or peer dependency to be compatible with snapshots\n\n## Version 1.4.1 - 2019-09-11\n\n### Fixed\n\n- Fixed compatibility to CDS 3.17.0\n- Propagate `x-request-id`, `x-correlationid`\n\n## Version 1.4.0 - 2019-09-09\n\n### Fixed\n\n- Raise error message for not supported aggregation function (e.g. `#FORMULA`)\n- Fixed entity key calculation for key associations\n- Fixed DateTime representation in entity key structure\n\n## Version 1.3.0 - 2019-08-30\n\n### Fixed\n\n- Passing through responses in XML (just for errors)\n- Data-type mapping on aggregation values works for non-strings\n\n## Version 1.2.0 - 2019-08-08\n\n### Added\n\n- External Release\n\n## Version 1.0.0 - 2019-05-21\n\n### Added\n\n- Internal Release\n","downloadsCurrentMonth":36055,"downloadsCurrentFortnight":17091,"downloads365":532077,"downloadsFortnightGrowth":-1.25,"downloadsHistory":[{"yearMonth":"2023-04","downloads":51551},{"yearMonth":"2023-05","downloads":59110},{"yearMonth":"2023-06","downloads":64948},{"yearMonth":"2023-07","downloads":45342},{"yearMonth":"2023-08","downloads":44532},{"yearMonth":"2023-09","downloads":42119},{"yearMonth":"2023-10","downloads":47650},{"yearMonth":"2023-11","downloads":40016},{"yearMonth":"2023-12","downloads":31369},{"yearMonth":"2024-01","downloads":32012},{"yearMonth":"2024-02","downloads":32323}],"versions":[{"version":"created","date":"2020-06-12T00:03:39.402Z"},{"version":"1.4.13","date":"2020-06-12T00:03:39.897Z"},{"version":"modified","date":"2023-03-24T14:29:57.508Z"},{"version":"1.2.0","date":"2020-06-12T00:03:46.889Z"},{"version":"1.4.30","date":"2020-06-12T00:03:52.939Z"},{"version":"1.4.17","date":"2020-06-12T00:03:59.084Z"},{"version":"1.4.33","date":"2020-06-12T00:04:06.952Z"},{"version":"1.4.19","date":"2020-06-12T00:04:13.375Z"},{"version":"1.4.20","date":"2020-06-12T00:04:19.596Z"},{"version":"1.4.21","date":"2020-06-12T00:04:25.923Z"},{"version":"1.4.22","date":"2020-06-12T00:04:32.253Z"},{"version":"1.4.16","date":"2020-06-12T00:04:38.902Z"},{"version":"1.4.6","date":"2020-06-12T00:04:45.284Z"},{"version":"1.4.12","date":"2020-06-12T00:04:51.564Z"},{"version":"1.4.25","date":"2020-06-12T00:04:59.861Z"},{"version":"1.4.26","date":"2020-06-12T00:05:06.672Z"},{"version":"1.4.1","date":"2020-06-12T00:05:13.171Z"},{"version":"1.4.8","date":"2020-06-12T00:05:20.236Z"},{"version":"1.4.29","date":"2020-06-12T00:05:27.537Z"},{"version":"1.4.18","date":"2020-06-12T00:05:34.368Z"},{"version":"1.4.15","date":"2020-06-12T00:05:40.738Z"},{"version":"1.4.36","date":"2020-06-24T08:02:05.841Z"},{"version":"1.4.37","date":"2020-06-29T13:23:40.087Z"},{"version":"1.4.41","date":"2020-08-04T14:16:16.301Z"},{"version":"1.4.42","date":"2020-08-17T08:39:47.783Z"},{"version":"1.4.43","date":"2020-09-01T11:39:11.795Z"},{"version":"1.4.44","date":"2020-09-03T12:28:24.026Z"},{"version":"1.4.46","date":"2020-09-29T07:35:52.705Z"},{"version":"1.4.47","date":"2020-10-08T16:24:36.026Z"},{"version":"1.4.48","date":"2020-10-16T12:49:41.730Z"},{"version":"1.4.49","date":"2020-10-19T09:47:19.798Z"},{"version":"1.4.50","date":"2020-10-22T18:48:59.694Z"},{"version":"1.4.53","date":"2020-10-30T12:58:01.925Z"},{"version":"1.4.54","date":"2020-11-06T09:48:39.053Z"},{"version":"1.4.55","date":"2020-11-10T13:13:17.757Z"},{"version":"1.4.57","date":"2020-11-24T15:28:34.727Z"},{"version":"1.4.58","date":"2020-11-26T11:04:48.861Z"},{"version":"1.4.59","date":"2020-12-03T08:07:20.356Z"},{"version":"1.4.60","date":"2020-12-07T10:44:04.828Z"},{"version":"1.4.61","date":"2020-12-11T13:01:47.791Z"},{"version":"1.5.0","date":"2020-12-16T08:18:56.746Z"},{"version":"1.5.1","date":"2020-12-22T08:01:06.724Z"},{"version":"1.5.4","date":"2021-01-26T11:21:25.158Z"},{"version":"1.5.6","date":"2021-02-17T13:57:09.892Z"},{"version":"1.5.7","date":"2021-02-19T08:41:54.731Z"},{"version":"1.5.9","date":"2021-03-03T07:36:01.780Z"},{"version":"1.5.10","date":"2021-03-18T09:50:52.538Z"},{"version":"1.6.0","date":"2021-04-07T08:34:22.730Z"},{"version":"1.6.1","date":"2021-04-12T07:54:06.297Z"},{"version":"1.6.2","date":"2021-04-29T07:34:03.994Z"},{"version":"1.6.3","date":"2021-05-26T09:28:54.059Z"},{"version":"1.7.0","date":"2021-05-28T07:14:34.896Z"},{"version":"1.7.1","date":"2021-05-28T13:20:27.432Z"},{"version":"1.7.2","date":"2021-06-10T11:51:41.295Z"},{"version":"1.7.3","date":"2021-06-11T10:16:54.897Z"},{"version":"1.7.4","date":"2021-06-18T08:17:47.797Z"},{"version":"1.7.6","date":"2021-07-01T06:42:42.350Z"},{"version":"1.7.7","date":"2021-07-27T09:47:09.099Z"},{"version":"1.7.8","date":"2021-07-28T08:03:29.143Z"},{"version":"1.7.9","date":"2021-08-06T13:01:45.583Z"},{"version":"1.7.10","date":"2021-08-31T11:12:53.274Z"},{"version":"1.7.11","date":"2021-09-09T12:53:10.197Z"},{"version":"1.7.12","date":"2021-10-07T09:07:08.778Z"},{"version":"1.7.13","date":"2021-10-18T07:17:45.102Z"},{"version":"1.7.14","date":"2021-11-03T12:44:16.125Z"},{"version":"1.7.15","date":"2021-11-08T12:22:49.576Z"},{"version":"1.7.16","date":"2021-11-10T13:12:56.037Z"},{"version":"1.8.0","date":"2021-11-17T09:23:44.406Z"},{"version":"1.8.1","date":"2021-11-19T14:33:19.957Z"},{"version":"1.8.2","date":"2021-12-01T09:51:41.335Z"},{"version":"1.8.3","date":"2021-12-06T09:12:08.897Z"},{"version":"1.8.4","date":"2021-12-06T15:07:34.902Z"},{"version":"1.8.5","date":"2022-01-17T13:23:19.578Z"},{"version":"1.8.6","date":"2022-02-01T13:29:33.812Z"},{"version":"1.8.8","date":"2022-02-09T07:51:55.700Z"},{"version":"1.8.7","date":"2022-02-09T08:28:26.767Z"},{"version":"1.8.9","date":"2022-02-09T08:52:53.745Z"},{"version":"1.8.10","date":"2022-03-01T15:17:15.797Z"},{"version":"1.8.11","date":"2022-03-11T14:36:14.559Z"},{"version":"1.8.12","date":"2022-04-07T08:04:58.878Z"},{"version":"1.8.13","date":"2022-04-07T08:15:31.894Z"},{"version":"1.8.14","date":"2022-04-08T13:57:56.673Z"},{"version":"1.8.15","date":"2022-04-25T08:11:30.620Z"},{"version":"1.8.16","date":"2022-04-28T09:21:00.416Z"},{"version":"1.8.17","date":"2022-05-12T09:49:48.567Z"},{"version":"1.8.18","date":"2022-05-13T11:44:46.981Z"},{"version":"1.8.19","date":"2022-05-18T11:08:44.338Z"},{"version":"1.8.20","date":"2022-06-13T11:37:39.584Z"},{"version":"1.8.21","date":"2022-06-22T14:46:58.647Z"},{"version":"1.9.0","date":"2022-07-04T07:13:35.604Z"},{"version":"1.9.1","date":"2022-07-15T08:29:35.820Z"},{"version":"1.9.2","date":"2022-07-18T15:48:58.314Z"},{"version":"1.9.3","date":"2022-07-21T13:46:57.735Z"},{"version":"1.9.4","date":"2022-08-02T09:06:41.492Z"},{"version":"1.9.5","date":"2022-08-30T12:01:32.478Z"},{"version":"1.9.6","date":"2022-09-01T07:15:51.644Z"},{"version":"1.9.7","date":"2022-09-14T06:56:46.518Z"},{"version":"1.9.8","date":"2022-09-20T10:19:02.808Z"},{"version":"1.9.9","date":"2022-09-21T09:21:31.251Z"},{"version":"1.9.10","date":"2022-10-04T15:02:58.642Z"},{"version":"1.9.11","date":"2022-11-02T08:18:42.746Z"},{"version":"1.9.12","date":"2022-11-02T14:52:00.010Z"},{"version":"1.9.13","date":"2022-11-03T13:59:39.651Z"},{"version":"1.9.14","date":"2022-11-07T09:42:59.780Z"},{"version":"1.9.15","date":"2022-11-11T10:01:34.021Z"},{"version":"1.9.16","date":"2022-12-20T10:33:42.776Z"},{"version":"1.9.17","date":"2023-01-09T10:23:58.898Z"},{"version":"1.9.18","date":"2023-01-18T14:24:54.358Z"},{"version":"1.9.19","date":"2023-02-15T08:45:28.978Z"},{"version":"1.9.20","date":"2023-03-09T14:02:32.332Z"},{"version":"1.9.21","date":"2023-03-24T14:29:57.377Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds-odata-v2-adapter-proxy"},{"name":"cds","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T22:48:33.267Z","updatedAt":"2024-03-18T16:50:58.421Z","readme":"# @sap/cds\n\nThe API package for the [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap).\n\nSee the [API documentation](https://cap.cloud.sap/docs/node.js) for more details.\n\n## How to Obtain Support\n\nIn case you find a bug, please report an [incident](https://cap.cloud.sap/docs/resources/#reporting-incidents) on SAP Support Portal.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3.1.txt).\n","changelog":"# Change Log\n\n- All notable changes to this project are documented in this file.\n- The format is based on [Keep a Changelog](http://keepachangelog.com/).\n- This project adheres to [Semantic Versioning](http://semver.org/).\n\n## Version 7.7.3 - 2024-03-18\n\n### Fixed\n\n- `cds.log`: preserve message property of details through stringification (it's non-enumerable if the detail entry is an error)\n- Auto-exposed child entities with multiple restrictions\n- Calculation of read-only values in custom code during creation of new drafts\n\n## Version 7.7.2 - 2024-03-11\n\n### Fixed\n\n- Requests to actions/functions on entities in draft state via navigation.\n- PUT/PATCH with if-none-match: * forces insert\n\n## Version 7.7.1 - 2024-03-06\n\n### Fixed\n\n- JWT authentication for Event Mesh endpoints\n- `cds.log`'s json formatter: ensure `type` is set (required on kubernetes until CLS defaults this)\n- Erroneously generated foreign keys in `req.data` for UPDATE using path expressions\n- `INSERT.columns.rows` for multiple nested composition of aspects\n- Paths passed to `tar` on Windows are now normalized to use forward slashes.\n\n## Version 7.7.0 - 2024-02-26\n\n### Added\n\n- Improved trace output for bootstrap phase. For example try that:\n   ```js\n   DEBUG=trace cds w bookshop | grep trace\n   ```\n- Support for `@odata.draft.bypass` to allow direct modifications of active instances.\n- `req.user.tokenInfo` for `@sap/xssec`-based authentication (`ias`, `jwt`, `xsuaa`)\n- `cds.fiori.draft_lock_timeout` as successor of `cds.drafts.cancellationTimeout`.\n  + Possible values are /^([0-9]+)(h|hrs|min)$/ or a number in milliseconds.\n- There is a new `sap.common.Timezones` entity with a basic time zone definition. There will be accompanying data in package `@sap/cds-common-content`.\n- Deprecation warnings for configuration options `cds.drafts.cancellationTimeout`, `cds.features.serve_on_root`, `cds.features.stream_compat`, `cds.fiori.lean_draft` and `cds.requires.middlewares`, as well as for the properties `req.user.locale` and `req.user.tenant`. The deprecation warnings can be turned off by setting `cds.features.deprecated` to `off`. \n\n### Changed\n\n- The index page now lists all service endpoints, which is important for services that are exposed through multiple protocols.\n- `cds.deploy` improves error diagnostics with deeper `Query` object inspection.\n- Slightly changed the default export for ESM compatibility. This fixed failing ESM imports in Vitest tests.\n\n### Fixed\n\n- Persistent outbox must not be used for `t0` tenant.\n- Second `await cds.connect.to('X')`, where initialization of `X` results in an error, did not return.\n- Support additional draft requests.\n- `cds.log` with `null` as argument.\n\n## Version 7.6.4 - 2024-02-21\n\n### Fixed\n\n- Emitting multiple message with an in-memory outbox\n- Occasional crash for invalid draft requests\n- On the index page, aditional links now show up again for non-OData services.\n- Handling of thenables for queries\n\n## Version 7.6.3 - 2024-02-13\n\n### Fixed\n\n- Event Mesh webhooks now add standard `before` middlewares in case of custom authorization\n- `compile.to.serviceinfo` no longer fails for services marked with `@protocol:'none'`. Such internal services are not shown in the output.\n\n## Version 7.6.2 - 2024-02-09\n\n### Fixed\n\n- Introduce i18n `BATCH_TOO_MANY_REQ` key for error message: \"Batch request contains too many requests\"\n- Properly handle `$orderby` in lean draft\n- View resolving in combination with `@cap-js/cds-db`\n- Allow `cds.requires.someService.outbox` to be a string\n- `cds.log`: errors, when not the first argument, were considered objects carrying custom fields\n- `accept` header parsing for OData requests if quality factor `q` is included\n- Broken links on index page if multiple protocols are configured\n\n## Version 7.6.1 - 2024-01-30\n\n### Fixed\n\n- Garbage collection of draft is configured with `cds.fiori.draft_deletion_timeout`\n\n## Version 7.6.0 - 2024-01-29\n\n### Added\n\n- `cds.upsert` as shortcut for `cds.db.upsert`\n- Automatic deletion of stale drafts. Feature is enabled if `cds.env.fiori.deletionTimeout` is set to a value of `true`; `true` uses the default timeout of `30d` (30 days).\n- Support for default exports (ESM/TS) in custom authentication\n- Support for executing SAP HANA procedures from SYS schema\n- Support for more complex on-conditions in case of READ requests\n- Best effort mechanism for supporting lambda expressions targeting remote odata-v2 services\n- Support for actions and functions which are bound to singletons\n\n### Changed\n\n- Draft: Standard Sorting Behavior for SAP Fiori List Report Floorplan\n- Use new CDS schema for validation and code completion in `package.json` and `.cdsrc.json` files\n- Media Data Streaming\n  + OData: Large binaries without `@Core.MediaType` annotation were previously returned as base64-encoded buffer. Starting from this `@sap/cds` version also not-annotated large binaries are ignored by OData. It is strongly recommended to annotate all large binary properties with `@Core.MediaType` and use it according to streaming scenarios.\n  + Custom Handlers: `SELECT` with explicitly listed `SELECT.columns` of type `cds.LargeBinary` returns them as Readable streams. Large binary columns requested implicitly by `SELECT` (for example, with `.columns('*')`) are ignored.\n  + Streaming API: `cds.stream()` and `srv.stream()` are deprecated and will be removed with the next major release. Use `SELECT` with a single `cds.LargeBinary` column instead. The resulting object will contain the name of the column and a stream value. For example, `SELECT.one.from(E).columns(['image']).where(...)` returns `{ image: <media stream> }`.\n  + Backward Compatibility: To restore previous behavior use `stream_compat`.\n\n### Fixed\n\n- `cds.minify` returned a shallow clone. When callers like 2sql `cds.linked` that subsequently, this left the passed-in csn in a broken, partially linked state. Now, `cds.minify` doesn't clone anymore, but modifies the passed in csn.\n- Handling of read-only fields in drafts\n- Event Mesh: Better error message for incoming messages without a topic\n- `cds build` now logs a better error message if an incompatible `@sap/cds` version is used.\n- Better error message for runtime requests to non-existing tenants in extensibility scenario.\n- Do not generate UUIDs for association key during `CREATE` operation.\n- OData aggregation with lean draft\n- Sorting in new odata parser with nested select statements. The default sort order is now added to the outer select statement.\n- Server crash in case of misformatted `groupby` transformation in `$apply`\n- Switched EM webhook endpoints to also use new authentication implementation\n- `odata_new_parser`: better error message and code for expand on non-existing elements\n\n### Removed\n\n- Experimental `STREAM` CQN is removed and cannot be used anymore\n\n## Version 7.5.3 - 2024-01-23\n\n### Fixed\n\n- `cds.localize` and `cds build` produce `i18n.json` again with keys from all base languages\n- `cds.compile.to.serviceinfo` now correctly parses SpringBoot config with nested objects, e.g. for `cds.odata-v4.endpoint.path`\n- Recommend to use `chai` 4 for the time being, as `chai` 5 doesn't properly work yet (requires ESM, `chai-as-promised` not working)\n- View resolving for entities using property names that are identical to entity names\n- Direct modifications with `cds.fiori.bypass_draft` if `cds.fiori.draft_compat` is not enabled\n- Draft: Field validation error message does not display the name of the field\n\n## Version 7.5.2 - 2024-01-05\n\n### Fixed\n\n- Service-level ETag handling in legacy OData server\n- Only provide model to ModelProvider if extensibility or feature toggles are active\n- OData server driven paging when using feature flags `cds.env.features.odata_new_parser` and `cds.env.features.okra_skip_query_options`\n\n## Version 7.5.1 - 2023-12-21\n\n### Fixed\n\n- Resolving custom authentication implementation pointer\n\n## Version 7.5.0 - 2023-12-14\n\n### Added\n\n- Support for expressions in where clause of `@restrict` annotation.\n  + Example: `@(restrict : [{ grant : ['*'], where : (NAME = $user) }])`\n- Function `cds.unboxed(srv)` to get the non-outboxed variant of the service\n- Service implementations can now be provided in .mjs modules.\n- Remote services: advanced configurable `CSRF` token fetching HTTP method and the URL.\n  For example, in the configuration of your remote services, you can now configure the HTTP method and URL as follows:\n  ```json\n  \"cds\": {\n    \"requires\": {\n      \"API_BUSINESS_PARTNER\": {\n        \"kind\": \"odata\",\n        \"model\": \"srv/external/API_BUSINESS_PARTNER\",\n        \"csrf\": { // this configuration implies `csrf: true`\n          \"method\": \"get\",\n          \"url\": \"...\"\n        }\n      }\n    }\n  }\n  ```\n- `cds.log`'s built-in JSON formatter:\n  + Extract custom fields (`cds.env.log.als_custom_fields`) and categories from args (not only error-like first objects)\n    + Example: `LOG.info('foo', { query: 'SELECT * FROM DUMMY' }, 'bar', { categories: ['baz'] })`\n  + `cds.env.log.mask_headers = [...]` allows to specify a list of matchers for which the header value shall be masked (i.e., printed as `***`)\n    + Default: `['/authorization/i', '/cookie/i']`\n- `cds.env.fiori.bypass_draft` feature flag, designed to enable direct modifications via `POST` and `PATCH` of\nactive instances in lean draft mode (`cds.env.fiori.lean_draft=true`). For example:\n\n```http\nPOST /Orders\n{\n  \"IsActiveEntity\": true\n}\n```\n\n- Auth kind `ias`: same SAML attr API as auth kind `xsuaa` for easier migration\n\n### Changed\n\n- Removed and integrated former `ctx-auth` middleware into `cds.auth` middleware\n- `cds.log`:\n  + `cds.env.log.format = 'plain'|'json'` allows to configure which built-in formatter is used. Defaults to `json` in production, `plain` otherwise.\n  + If a built-in JSON formatter is used:\n    + Field `tenant_subdomain` is filled if running on CF and information is available through authentication\n    + Additional CF-related fields are filled if running on CF\n    + Custom fields (`cds.env.log.als_custom_fields`) are filled if bound to an instance of Application Logging Service\n    + Field `categories` is filled if bound to an instance of Application Logging Service\n  + Config `cds.env.log.kibana_custom_fields` changed to `cds.env.log.als_custom_fields` (ALS = Application Logging Service) with compatibility until the next major\n- Package `passport` is no longer required (if `cds.env.requires.middlewares` is not set to `false`)\n- Type definitions for the APIs of this package are now maintained in package [`@cap-js/cds-types`](https://npmjs.com/package/@cap-js/cds-types).\n  + If you used one of the types `CSN`, `Definitions`, `entity` of _@sap/cds/apis/reflect_, use the `Linked` counterparts instead.\n  + If you used the type `CQNQuery` of _@sap/cds/apis/cqn_, use `SELECT` or a union type instead.\n  + This also includes various fixes to Typings for\n    + `req.subject` like `SELECT.from(req.subject)`\n    + `SELECT.columns([...])`\n    + `cds.db`\n    + `cds.util`\n    + `cds.context.features`\n- The number of files logged on `cds serve` is now limited to 30 by default. You can run with `DEBUG=serve` to show all files.\n- `express.static` is only mounted if the target folder (`cds.folders.app`) exists\n- `cds.outbox.Messages` no longer uses aspect `cuid` to reduce model size impact in case `@sap/cds/common` is not used otherwise\n\n### Fixed\n\n- Messaging: Listen to `*`\n- Drafts of `@readonly` entities cannot be deleted\n- Made `srv.prepend()` robust by not allowing async callbacks and hence not being an async function itself anymore\n- Formatting for stringified number-literal value\n- Secrets are now masked with `DEBUG=cds.service.factory`\n- The timestamp of cds.context is not propagated to new root contexts\n- `cds.localize` uses less memory to create translation bundles\n- `UPSERT` operation failed to fill DateTime/Timestamp fields\n- Use original logic (based on `NODE_ENV`) to load cds plugins from `devDependencies`\n- Property `tenant` also available on express' `req` object with basic and mocked auth\n- Empty `req.data` in before `DELETE` handler in draft\n- Loading `cds-plugins` now offers a hook to add a more flexible plugin loader, e.g., for corrupt `package.json` files.\n- Ignore default values of associations for draft entities\n- OData: client-side errors (4xx) logged as warnings instead of errors\n- IAS authentication: use `tokenInfo.getClientId()` instead of `payload.azp` as it implements a fallback\n- Deep updates with binary keys\n- Allow `null` values in `cds.env` (example package.json excerpt: `{ \"cds\": { \"features\": { \"foo\": null } } }`)\n- Collection-bound actions/functions called via navigation\n\n### Removed\n\n- Deprecated global configuration feature flag `cds.env.features.fetch_csrf`.\n  Instead, please use `csrf` and `csrfInBatch` to configure your remote services.\n  These options will allow to configure CSRF-token handling.\n- Compat for deprecated `cds.env.auth.passport`. Use `cds.env.requires.auth` instead.\n\n## Version 7.4.2 - 2023-11-30\n\n### Fixed\n\n- Typing for `DELETE.from(<e>.drafts)`\n- UUID keys must not be generated for associations\n\n## Version 7.4.1 - 2023-11-23\n\n### Fixed\n\n- Add dynamic properties to result when experimental feature `cds.env.features.okra_skip_query_options` is active\n- Allow negative integers in new parser\n- Allow deletion of instances outside the draft tree\n- Tenant lookup in OData metadata requests\n- `cds.parse.csv` and `cds deploy` correctly parse CSV files with Windows file endings (CRLF) and quoted values\n- Typescript Typings\n\n## Version 7.4.0 - 2023-11-13\n\n### Added\n\n- Any service is outboxable via `srv = cds.outboxed(srv)`\n- Draft: support `HasActiveEntity eq false` by read\n- Check if OData function/action params exist for complex types\n- Remote services: destination option `jwt` set to `null` instructs that an incoming request's JWT shall not be passed to SAP Cloud SDK, e.g., when it shall use a fresh client credentials flow token\n  + Example:\n    ```json\n    \"requires\": {\n      \"API_BUSINESS_PARTNER\": {\n        [...]\n        \"destinationOptions\": {\n          \"jwt\": null\n        }\n      }\n    }\n    ```\n- Alpha feature flag `cds.env.fiori.wrap_multiple_errors` to toggle the following behaviour for OData errors meant to be consumed by SAP Fiori Elements:\n  In cases where multiple errors occur and the flag is set to `false`, the first error is presented as the top-level error (replacing the generic \"multiple errors\" wrapper).\n  The default value is `true`, but `false` will become the default value in cds^8.\n- On CF, the default keep alive timeout of the server is set to 91s (to exceed the 90s of CF's gorouter)\n- `cds deploy` now auto-fills the `ID_texts` field (which get created for entities marked with `@fiori.draft.enabled`) in csv and json data files with a stable UUID.  This way, it does not need to be manually added to data files.  Also, as the value is stable (a hash of the semantic key fields `ID` and `locale`), it works with `UPSERT` statements.\n\n### Changed\n\n- Default outbox configuration (overridable via `cds.env.requires.outbox = { ... }`):\n  + `kind` changed to `persistent-outbox` (was `in-memory-outbox`)\n  + `parallel` changed to `true` (i.e., messages are not emitted in sequence)\n- Internal class `OutboxService` is deprecated and will be removed\n\n### Fixed\n\n- `req.subject` in lean-draft handlers\n- `cds.odata.batch_limit` wasn't taken into account\n- Enterprise-Messaging: Only set tenant information for multitenant apps\n- Enterprise-Messaging: Race condition in `subscribe` event\n- Draft: delete of active entity is forbidden, if draft exist\n- Draft: sorting of draft entities in `list status: all`\n- Draft: invalid delete draft request now rejects with error\n- Draft: Enhance Draft Edit functionality with exclusive record lock\n- Typings for `req.reject/error/info/warn`\n- Deep delete with mixins on new db layer did not work\n- Special strings like `'$now'`, `'$user'` and `'$uuid'` expanded automatically\n- Only services that are served via OData are precompiled during startup\n- Response status of not existing mocks returned 200 instead of 404\n- Calculation of @Capabilities in case of complex $apply\n- `test.data.reset()` did not delete drafts\n- `resolveView` considers `list` for renamed columns\n- `cds.schema` now loads lazily\n- `odata_new_parser`: `$expand=` no longer throws an error with and is simply ignored\n- `odata_new_parser`: Empty custom query params like `Foo?bar` are ignored\n- `odata_new_parser`: generated wrong CQN for queries like `$filter=false or ref eq 5`\n\n## Version 7.3.1 - 2023-10-23\n\n### Fixed\n\n- `cds-ts` no longer fails if configured with an ESM loader. It tries loading files w/ `import()` in this case.\n- `cds deploy` for draft enabled entities\n\n## Version 7.3.0 - 2023-10-04\n\n### Added\n\n- `cds.localized` now caches i18n bundles per locale and per model to speed up repeated usages of the same bundle at runtime, for example, in repeated calls to `cds.compile.for.edmx()`.\n- Based on `cds.localized` with cached bundles, a new operation `cds.localized.lookup(i18n_key, locale)` is provided.\n- If env variable `CDS_TEST_ENV_CHECK` is set, `cds.test.in()` detects if `cds.env` was loaded before from a different folder.\n- `cds.test.log()` allows to capture and analyze any console log output. `cds.test.verbose()` is now deprecated.\n- Typings for `cds.tx`\n- Add method `cds.schema.default4(schemaId)` to retrieve json schema based on its id\n- Support for pseudo role `internal-user` with authentication kind `ias`\n- CSV files with multiline values, i.e. line breaks, are now supported with `cds deploy`\n\n### Changed\n\n- If omitted in the accept header, `ExponentialDecimals` no longer gets defaulted (to `true`), which violated the OData 4.0 specification.\n  This change can _temporarily_ be overridden via `cds.env.odata.defaultExponentialDecimals = 'true/false'`.\n- Make type signature of `extend.with` more general\n- `cds.test.data.autoReset()` is deprecated in favor of explicit `cds.test.data.reset()` call, like `beforeEach (test.data.reset)`.\n- `cds.utils.uuid()` now uses `randomUUID` function of node `crypto` module instead of `uuid` package\n- `@Capabilities` restrictions defined on entity level are also applied if navigating to the entity. Restrictions defined directly on the navigation now override restrictions defined on the target entity.\n\n### Fixed\n\n- Draft: activate managed fields were miscalculated in some cases\n- Error with `exists` predicate in `@restrict.where` when calling compositions\n- `IsActiveEntity` in error target for lean draft\n- Remote Service: OData v2 compliant representation of Edm.Decimal, Edm.Double, and Edm.Int64 in URL\n- In draft activate managed fields were calculated wrongly in some cases\n- On draft save, missing entries in `req.headers`\n\n## Version 7.2.1 - 2023-09-21\n\n### Fixed\n\n- HTTP headers argument was not forwarded to remote services when using the `srv.send(...)` API.\n- Not existing draft upon `SAVE` has own error code.\n- Links to documentation in Typescript definitions.\n- Remote service won't check for `credentials.url` in case of messaging.\n- Lean draft: Implicitly added `limit` in some lean draft read scenarios.\n- Lean draft: Association keys in lean draft.\n- Remote service: Preserve namespaces in URLs that do not match the service's namespace.\n\n## Version 7.2.0 - 2023-09-04\n\n### Added\n\n- Typescript definition for:\n  - The `cds.exit()` method.\n  - The `label` option parameter in the `cds.log()` API. For example: `cds.log('log message', { label: 'adapter' }`.\n  - A variant of the `roles` property of the `cds.User` class.\n- `@restrict` annotations can now prevent the creation of drafts ([see documentation](https://cap.cloud.sap/docs/guides/authorization#restrictions-and-draft-mode))\n- JSON Schema validation for `cds.requires.multitenancy.jobs` settings.\n- Managed associations to one with exactly one foreign key can now have a default value.\n- Experimental feature flag `cds.env.features.okra_skip_query_options`. This feature allows you to bypass the parsing of query options by the legacy OData V4 Server (Okra). Please note that this feature can only be utilized in conjunction with the new OData parser, which is activated by setting the feature flag `cds.env.features.odata_new_parser = true`.\n- Support for `@requires: 'any'` to make service public, i.e., no authenticated user is required\n\n### Changed\n\n- The built-in `java` profile sets `build.target` to `.` by default\n- Decimals from query options (e.g., `$filter`) are represented as strings in CQN\n- Improve error message for unsupported transformations with `$apply`\n- For database dialect H2, specialized, localized views for languages `de` and `fr` are no longer generated.\n- Authentication kinds `jwt`, `xsuaa`, and `ias` throw an error during bootstrapping if the necessary credentials are\nunavailable.\n  Previously, a warning was logged, and authentication was skipped.\n  See `cds bind`/ Hybrid Testing in CAPire for how to combine local development and cloud resources.\n- The Typescript definitions now make use of the default export.\n\n### Fixed\n\n- Trace middleware: Adapted usage of `performance.now()` for Node 20.\n- Draft: Associations to non-draft enabled entities must never point to drafts\n- Avoided type error in old db post-processing\n- `<remote-srv>.run('/arbitrary-url')` now defaults to a get request and doesn't add request body\n- `@cds.query.limit` is cached per projection\n- Application crash for incorrect usage of REST-style API to run queries\n- The `@requires` annotation on entity level didn't get applied to bound operations\n- `cds.test` run with a profile parameter such as `cds.test('run', '--profile', 'integration-tests')` will use the\ncorrect profile.\n- `cds.env.requires.auth.restrict_all_services = false` in combination with `cds.env.requires.middlewares = true` (the default)\n\n## Version 7.1.2 - 2023-08-11\n\n### Fixed\n\n- `req.tenant` is undefined when using the new OData parser\n- Draft: Replace some occurrences of the `arr.push(...largeArray)` pattern when copying large arrays to prevent maximum\ncall stack size exceeded errors due to large deep update processing when saving the draft\n- Keys are no longer added to the diff as they could be renamed, leading to SQL errors\n- Custom-bound actions for draft-enabled entities don't trigger a READ request on application service anymore\n- `cds.connect.to('db', options)`: add-hoc options for SAP HANA Database Service\n- Reading key-less singleton with `$select` clause while using the new OData parser `cds.env.features.odata_new_parser`\n- Avoided using colored logs if process.env.NO_COLOR is set or not logging to a terminal (i.e., `!process.stdout.isTTY || !process.stderr.isTTY`)\n\n## Version 7.1.1 - 2023-08-01\n\n### Fixed\n\n- Lean draft: read actives via service on draft edit\n- Only log the error in case of an unhandled rejection\n- Resolve column name for experimental `STREAM` CQN queries that point to views\n\n## Version 7.1.0 - 2023-07-28\n\n### Added\n\n- Enable PDF export via GET to collection with accept header `application/pdf`.\n  Custom handler must return the following:\n  ```\n  {\n    value: <instance of Readable>,\n    $mediaContentType: <String>, // > optional, defaults to: application/pdf\n    $mediaContentDispositionFilename: <String>, // > optional\n    $mediaContentDispositionType: <String> // > optional, defaults to 'attachment' if $mediaContentDispositionFilename is set\n  }\n  ```\n- Schema for `cds` entry in `package.json` now has a tooltip and default value\n- `srv.endpoints`: Array containing the information for all endpoints at which the service is served.\n  Example:\n  ```\n  [\n    { kind: 'odata-v4', path: '/odata/v4/browse' },\n    { kind: 'rest', path: '/rest/browse' }\n  ]\n  ```\n- Service level support for @restrict. Limited to grant: '*' and all filter conditions in `where` are ignored.\n  Example:\n  ```\n  @(restrict: [{\n    grant: '*',\n    to: ['authenticated-user']\n  }])\n  ```\n- Support for resolving experimental `STREAM` CQN queries that point to views\n\n### Fixed\n\n- Multiple TypeScript fixes/improvements\n- Proper handling for `expand=*` for OData URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Corrected the resolution of fully qualified operation names in the REST adapter.\n- Log level for OData metadata cache was not handled correctly\n- Protocol paths are normalized to always have a leading slash\n- `@odata` shortcut for `odata-v4` protocol with custom configuration\n- Set default protocol to `odata-v4`, independent of the order in `cds.env.protocols`\n- Now data is correctly logged for `GET` and `DELETE` remote requests\n- draft: deep update without change should not update the `modifiedAt` field\n- Lean draft: do not propagate `@Capabilities.NavigationRestrictions.RestrictedProperties`\n- Commit database transactions only once outbound streaming has ended\n- Lean draft: deactivate legacy `drafts` getter\n- Updated typings for `srv.send()`\n- `$search`: exclude calculated fields/expressions from default search in projection of projections\n- Immutable properties are always removed from payload during `UPDATE`\n- `serviceinfo.urlPath` contains the first endpoint of the service (cf. `srv.endpoints`), which is the legacy path if\n`cds.env.features.serve_on_root === true`\n\n## Version 7.0.3 - 2023-07-19\n\n### Fixed\n\n- Compile for lean draft: do not add draft entity for external entities\n- Rollback awaited in REST adapter\n- `service.on('error')` handler invoked only once\n- `SELECT.one.localized`\n- `COPYFILE_DISABLE=1` is now set for building `tar` archives by default\n- Actions of projection target are no longer accessible in linked models\n- Batch executes model-less mass inputs when on `@sap/hana-client`\n- Requests to `/<path>/webapp` return 404 for absolute `@path` specifications\n- `cds compile --to serviceinfo` no longer returns paths w/ Windows `\\` path characters\n\n## Version 7.0.2 - 2023-07-06\n\n### Fixed\n\n- Glitch in `cds.deploy` if no change was applied\n- Detection of `.cdsrc-private.json` during startup\n- Respect capabilities annotation for draft events\n- `cds compile --to serviceinfo` returns correct service paths again\n\n## Version 7.0.1 - 2023-07-03\n\n### Fixed\n\n- Feature toggle detection in single-tenant mode\n- Log output for OData $batch requests\n- Avoid \"catastrophic backtracking\" issue in Okra's (OData V4 server) tokenizer\n- Transaction marked as committed too early\n\n## Version 7.0.0 - 2023-06-21\n\n### Added\n\n- Handling of expand with multiple `*` (e.g. `$expand=*,*`) in new parser. When using `*` in an `$expand`, the new OData\nparser now removes all unneeded `*`.\n- Tests run with `cds.test()` now also load `cds-plugins`\n\n### Changed\n\n- Result of `READ` events is now always an array. Previously, it could be `null/undefined` (now empty array), a single object (now array with one entry), or array.\n- OData: `PUT`/`PATCH` requests resulting in a new entity (i.e., the `UPSERT` effectively was an `INSERT`) return status code 201\n- Draft: Draft activate requests resulting in an `UPDATE` return status code 200\n- ETags are validated via `WHERE EXISTS` clause attached to query on `GET`, `PUT`/`PATCH`, and `DELETE`\n- OData: `PUT`/`PATCH` with `if-match` header prevents `UPSERT`, i.e., only an existing entity can be updated by such a request\n- Runtime support for `@sap/instance-manager` is removed in favor of the `cds-mtxs` Service Manager client.\n- In multitenant mode, the SAP HANA pool uses the `cds-mtxs` credentials cache\n- Draft handlers are registered for all entities.\n- Decimals in client input are validated in runtime's assert framework (previously OData adapter)\n- `cds build` and `cds deploy --to hana` have moved to `@sap/cds-dk`. Upgrade `@sap/cds-dk` to version 7 to continue using these commands.\n- Changed the behavior of `SELECT` queries for single entities to return `undefined` instead of `null` when no record is found.\n- Fiori preview has moved to the new `@sap/cds-fiori` module.\n- Numbers are now always used as placeholders in SQL, except for `SELECT 1 From...`, `LIMIT`, and the comparison of two numeric values (e.g., `1 eq 1`).\n- Only new major version 3 of SAP Cloud SDK is from now on supported. Please make sure to upgrade. Version 2 is not maintained anymore.\n- `@protocol` annotation can serve multiple protocols per service.\n- Per default, services are served with a protocol-specific prefix (for example, '/odata/v4' for a service using the OData V4 protocol). To also serve without this prefix, as was the case in older `@sap/cds` versions, the flag `cds.env.features.serve_on_root` can be set to `true`. Alternatively, the `@path` annotation can be used to explicitly specify an absolute path (with a leading `/`).\n- `cds.requires.middlewares` is enabled by default.\n- The order of CSV files that `cds deploy --to sqlite` uses now reflects the dependency order of cds models.  This is needed if `UPSERT` is used to create a logically correct deployment.\n- `cds.fiori.lean_draft` is activated by default. You can still set it to `false` as a fallback.\n\n### Fixed\n\n- UUID typed key properties are no longer automatically filled during UPSERT\n- OData: When undefined in the payload, requests for actions with not nullable array-type parameters result in a client-side error\n- Missing `GROUP BY` in request with `$apply` in combination with aggregate on restricted entity\n- When `@sap/cds` was not installed underneath project root, cds-plugins were not found\n- Support for multiline texts in `properties` files\n- Error when reading auth-protected entities with infix filter in expand\n- Glitch in transaction handling in case of concurrent async before handlers\n\n### Removed\n\n- Deprecated `req.run()` function, use `cds.run()` instead.\n- Support for inofficial feature flag `cds.env.features.bigjs`\n- Support for inofficial feature flag `cds.features.parameterized_numbers`\n- Deprecated referential integrity checks at runtime\n- Support for `cds-mtx`\n- Support for Node 14\n- Internal `req.getUriInfo()` and `req.getUrlObject()`\n- `cds deploy --to hana` is now part of `@sap/cds-dk`.\n- Deprecated compat mode `cds.env.features.cds_tx_protection = false`\n- Beta `AuditLogService` and out-of-the-box audit logging. Use the plugin `@cap-js/audit-logging` instead.\n\n## Version 6.8.4 - 2023-06-14\n\n### Fixed\n\n- `$metadata` requests for multitenant applications\n\n## Version 6.8.3 - 2023-06-13\n\n### Fixed\n\n- `cds build` no longer reports CAP Java Classic runtime usage by mistake.\n- `cds version` prints the local `@sap/cds` version, even if called from a different `@sap/cds` installation.\n- User challenges handling in case of `cds.env.requires.auth.restrict_all_services: false`\n\n## Version 6.8.2 - 2023-05-26\n\n### Fixed\n\n- EDMX texts for extended tenants based on `@sap/cds-mtx` now appear correctly again.\n- `@assert.range` for DateTime/Date/Time/Timestamp\n- Nested `$expand` OData query to the `texts` compiler-generated composition for entities with localized elements.\nFor example, similar OData requests `Entity?$expand=items($expand=item($expand=texts))` now should work as expected.\n- `req.subject` would occasionally be incorrect when a query had been executed prior to it.\n- cds plugins are also fetched from the development dependencies (`devDependencies`) section in `package.json`\n- `cds build` now correctly resolves complex models of mtx extension projects\n\n## Version 6.8.1 - 2023-05-04\n\n### Fixed\n\n- DROP statements for SQLite and PostgreSQL no longer miss a comma at the end\n\n## Version 6.8.0 - 2023-05-02\n\n### Added\n\n- Global cds-dk version is now included in tabular output of `cds v -i`.\n- Audit logging support for the OAuth2 Plan\n- Feature flag to limit the maximum number of requests in an OData batch request. The max number can be specified with a number in `cds.odata.batch_limit`.\n- Custom authentication in `enterprise-messaging`\n- Requests with lambda expressions are rejected by remote services of kind `odata-v2`\n- `cds build` ignores invalid entries in `undeploy.json`\n- New `minorUnit` element in `sap.common.Currencies` for how many fractions the minor unit takes (e.g., `0` or `2`).  See https://www.npmjs.com/package/@sap/cds-common-content for matching content.\n- Support for `$user.<attr> is null` and `$user.<attr> is not null` in `@restrict.where`. `is null` matches `null` and `[]`, `is not null` matches arrays with at least one entry as well as `!= null` if no array.\n- Plugins are now also fetched from `devDependencies`, unless `NODE_ENV === 'production'`\n- Plugins can now provide `cds` configurations in their package.json.\n- Support in OData entities with special letters (like ó,â,ü) in names.\n\n### Changed\n\n- Texts for _Country_ are changed to _Country/Region_ in `@sap.common.Countries`\n- Resolved an issue where selection strategies of destination options in multitenant applications were not working correctly, resulting in runtime errors.\nThe fix relies on the `@sap-cloud-sdk/connectivity` npm package to be installed.\n- Precision of timestamp used in outbox message increased to 100 nanoseconds (`YYYY-MM-DD hh:mm:ss.nnnnnnn`)\n- When another user locks a draft, the error message now includes the username of that user\n\n### Fixed\n\n- Fix exported types of the `cds` core API\n- cds build uses the correct path if no project dir is given\n- Read after write for updates on-to-one navigation\n- Error in $orderBy in combination with @Core.MediaType property\n- Fixes in lean-draft\n- Fixed an issue where the combined `$search` and `$expand` query and localized data was returning empty results on SAP HANA\n- Tests using `cds.test` no longer crash with a segmentation fault if `injectGlobals: false` is set in the Jest configuration.\n- Handlers registered with `cds.on('shutdown')` are now called with an `err` argument if the shutdown happened in response to uncaught exceptions or unhandled rejected Promises.\n- Log output on uncaught exceptions, or unhandled rejected Promises now is done via `cds.log` instead of `console`.\n- New config option `cds.env.server.force_exit_timeout` allows to configure the timeout in ms, after which we force-exit the server (default: 1111) if it didn't do so as expected after a prior `server.close()`. Values `false` or `0` disable force-exit.\n- Require custom auth relative to project root when using pluggable middlewares\n\n## Version 6.7.2 - 2023-04-24\n\n### Fixed\n\n- Try to destroy nonexistent socket in case of custom streaming implementation\n- Draft: Missing field `IsActiveEntity` in target path of error messages during `draftActivate`\n- Minor fixes for `cds.fiori.lean_draft`\n- Error in media type check when no `Content-Type` header is found\n\n## Version 6.7.1 - 2023-04-14\n\n### Changed\n\n- Calling a parameterized view without params error now results in the status code 400 with an improved error message.\n\n### Fixed\n\n- cds build error CreateListFromArrayLike\n- Disabling of arbitrary user config in mock auth config using `\"users\": { \"*\": false }`\n- Various fixes for `cds.fiori.lean_draft`\n- User attributes that look like numbers are quoted in SQL clause for `@restrict`\n\n## Version 6.7.0 - 2023-03-28\n\n### Added\n\n- Config `cds.ql.quirks_mode` as a compatibility flag to still support behaviors which are undocumented or even against the specifications, for example, CQN:\n   ```js\n   let q = INSERT.into('Books')\n   //> According to CQN spec should return:\n   {SELECT:{from:{ref:['Books']}}}\n   //> But today returns:\n   {SELECT:{from:'Books'}}\n   ```\n   The default in cds6 is `true` → to be changed to `false` with cds7.\n- `cds build` now checks extension point restrictions defined by the SaaS app provider. `cds build` fails if any restrictions are violated.\n- Typings for `cds.spawn()`\n- Typings for `entity.drafts`\n- Typings for Winston logger\n- Typings for `cds.context`\n- Typings for `service.on`, `service.before`, and `service.after` for actions and CRUD events\n- CLI command `cds env` now allows property paths with `/` instead of `.`, which allows usages like that:\n```sh\ncds env requires/cds.xt.ModelProviderService\n```\n- `cds.env` now allows to statically set/add profiles via `cds.profile` and `cds.profiles` in package.json.\n- `cds.env` now also supports using profiles in preset definitions, i.e., in `cds.requires.kinds`.\n- `cds deploy` prints a warning when using Cloud Foundry client version less than 8.\n- `req.subject` to conveniently operate on the subjects targeted by the request. Example usage:\n  SELECT.one.from(req.subject)   //> returns single\n  SELECT.from(req.subject)      //> returns array\n  UPDATE(req.subject)          //> updates one or many\n  DELETE(req.subject)         //> deletes one or many\n- `cds-serve` as a future replacement for `cds serve` in npm scripts. Applications can adopt this now to ease the transition to the next major version.\n\n### Changed\n\n- CQL types now attach additional functionality to entities where appropriate\n- `cds.log().trace()` now logs stack traces in `DEBUG` level, before that was on `TRACE`/`SILLY` level only\n- Plain SQL queries now have `req.event === undefined`. Formerly this had non-deterministic values.\n- Plain SQL queries don't allow registering custom handlers, other than for event `'*'`.\n- Plain SQL queries are only supported on database services, not on application services.\n- CQN representation of `columns=*` is not allowed anymore, instead `columns=['*']` should be used. This also applies to expand.\n- Only draft roots can be created via direct, non-navigation OData `POST` requests.\n- Flag `cds.features.fiori_preview` changed to `cds.fiori.preview`. The old flag still works as well.\n- Flag `cds.features.fiori_routes` changed to `cds.fiori.routes`. The old flag still works as well.\n\n### Fixed\n\n- Specifying a key in `SELECT.from(...)` is now typed to produce a single result instead of an array of results\n- Proper handling of `IsActiveEntity` in error paths\n- For cloud events using AMQP, the type is set to `application/cloudevents+json`\n- Use `message` property in typings.\n- Typings for `cds.on('bootstrap', app => {app.use(...)`\n- Return types for `User` and `delete` in typescript\n- Typings for connect options\n- Typings for `req.error`\n- Deployment in sidecar\n- Error with restricting an entity and requesting it with `$apply` in combination with aggregate\n- Combined usage of `$skiptoken` and `$skip`\n- Error `package.json file is missing` in mtx extension builds\n- CLI commands w/ unknown arguments (`cds --foo`) fail again with a proper error message\n\n## Version 6.6.2 - 2023-03-17\n\n### Fixed\n\n- Exception during `cds deploy` without mtx\n- Service name specified with `cds deploy --to hana:serviceName` takes precedence over environment variables.\n\n## Version 6.6.1 - 2023-03-09\n\n### Added\n\n- `cds.xt.TENANT_UPDATED` event is emitted once a tenant is extended\n\n### Fixed\n\n- `TypeError` when using the query API with an unknown target in x4 flavor\n- The setting for `cds.requires['cds.xt.DeploymentService'].lazyT0` is now recognized in the VS Code schema validation.\n- The HDI deployment `stdout` logs are now only visible for `DEBUG` level if triggered via `cds-mtxs`. They are also streamed to `logs/<tenant>.log` in case you need the full deployment output, even without `DEBUG` enabled.\n- `.forUpdate` when used for etags\n- Prevent `TypeError` if an existing draft does not have admin data\n- Outbound-streaming error handling\n\n## Version 6.6.0 - 2023-02-27\n\n### Added\n\n- Improved error handling for `cds build` if the SaaS base model is missing in an extension project.\n- Support for reliable paging using `$skiptoken`. Can be activated via `cds.query.limit.reliablePaging = true`\n- Built-in models are now added to existing model options of custom build tasks.\n\n### Changed\n\n- `cds.serve(ServiceName)` (and `cds serve -s ServiceName`) now exactly serve services with the given names. Previously, all services that ended with the given name were served as well, e.g., `MyServiceName` and `ServiceName`, which might be problematic for applications that bootstrap services one by one.\n- Optimize `@cds.persistence.journal` filtering for `last-dev` CSN file.\n\n### Fixed\n\n- `cds deploy --to hana` no longer calls `cds bind` when `VCAP_SERVICES` is provided, for example, via `default-env.json`.\n- `$search` on an entity without String elements\n- Only elements from type `cds.String` are searchable when combining `$apply` and `$search`\n- Error message for missing database connection in draft case\n- Extensibility with in-memory Sqlite\n- OData adapter error messages\n- Columns in navigation path are now added to the SELECT.columns in the new parser\n- Application service calls on draft-enabled entities using aliases\n- Custom mtxs build tasks now use the correct default `src` folder value.\n- `cds build` adds a `.hdiconfig` file when creating SAP HANA migration tables if none exists.\n- UPSERTs using reserved keywords\n- Fix outbound-streaming error handling\n- Rollback transaction if inbound streaming fails\n- Custom database initialization in `db/init.js` now skips the `t0` tenant for multitenant apps.\n- Concurrent etag calculation for UPDATE and DELETE\n- Typings for `cds.delete()`\n- CQN for `not` operator with OData functions\n- Expand on composition of aspect for draft-enabled entities\n- Better error messages are provided for errors with HTTP status codes `400`, `500`, and `501`\n\n## Version 6.5.0 - 2023-01-27\n\n### Added\n\n- New aspect `sap.common.TextsAspect` in common.cds\n- New syntax for collection-bound entities\n\n### Changed\n\n- Successive calls to `SELECT.where()` wraps existing clause in brackets if it contains `or`. E.g.\n   ```js\n   SELECT.from `X` .where `x` .or `y` .where `z`\n   //> SELECT from X where (x or y) and z`\n   ```\n- `cds build` for SAP HANA now adds an `engines.node` version to the generated `db/package.json`. This will help in the future when runtime environments change their default to some version higher than the one supported by `@sap/hdi-deploy`.\n- `cds build` checks the consistency of built-in models for Java projects. An error is logged if some model files cannot successfully be resolved, indicating that a required npm module might be missing.\n- Status code of draft actions are set in respective handler instead of protocol adapter\n- `cds deploy --dry` no longer loads the `sqlite3` module by mistake. This fixes a regression when building Java projects. As a side effect, a file with the name `undefined` was created in the project root folder.\n- Internal representation of pseudo roles `internal-user` and `system-user`\n\n### Fixed\n\n- Resolve i18n folders from the root directory\n- Types for `cds.test`\n- Types for `srv.send`\n- Optimized Search: Search queries for localized entities will now use default values if no localized data is found in the corresponding localized tables on SAP HANA. Correct aliasing by search queries with navigation.\n- Resolution of `type of` references during minify in bootstrap\n- Generation of odata-v2 URL in case of select=* in `urlify()`\n- Build resets changed `cds.env` and `cds.root` when finished\n- Expand error when using infix filters\n- CDS configuration schema validation for `@sap/cds-mtxs`\n- Typings for QL API\n- Return types of asynchronous service API\n\n## Version 6.4.1 - 2022-01-16\n\n### Fixed\n\n- `cds build` correctly creates a `resources.tgz` file for MTXS projects on Windows\n- `cds.deploy` for SAP HANA now doesn't try to search for a globally installed `@sap/hdi-deploy` if there's no `npm` installed, e.g., on a Node.js server without `npm`\n- Signature for `cds.ql.UPSERT`\n- Signature for `<srv>.delete().where()`\n- Signature for `SELECT.alias`\n- `UPSERT` requests for SQLite if only keys are provided\n- `cds.test` doesn't log database resets with `autoReset` enabled anymore\n- The `cds.deploy` output for SAP HANA is now correctly formatted in Kibana\n- SAP HANA stored procedures containing implicit selects\n- Shorthand configuration for `graphql` in `cds.env.protocols`\n- If `cds.env.protocols` is set, `cds.requires.middlewares` is automatically turned on\n- `cds.context` middleware is split to initial handling of request correlation and user propagation\n- Fix view resolving and managed data for UPSERT\n- `cds.linked` supports polymorphic self links like in: `action foo( self: [many] $self, ...)`\n- Error with `@odata.draft.enabled` and `@restrict`\n- Skip mandatory check on navigation properties for write requests\n\n## Version 6.4.0 - 2022-12-15\n\n### Added\n\n- Signatures for `ql.UPSERT`\n- Runtime support for flat database UPSERTs\n- `enterprise-messaging`: Support for `@sap/cds-mtxs`\n- `persistent-outbox`: Support for parallel processing with option `parallel: true` as well as pluggable processor functions through `service.outbox.process` (beta)\n- `cds version` now also lists packages with `@cap-js/` prefix from dependencies\n- `cds.context.http` is now available for webhook-based requests\n- `cds build` for SAP HANA migration tables now only saves model entities annotated with `@cds.persistence.journal` as `last-dev` version.\n- `cds deploy` now uses the `VCAP_SERVICES` environment variable (if set), and skips `cf` operations in this case\n- Support for timestamp precision greater than 3 digits of fractional seconds\n\n### Changed\n\n- Added several missing signatures in CQN types that are now in accordance with the current documentation.\n- `.columns(…)` of both `cql.SELECT` and `cql.INSERT` give improved code completion when paired when appropriate type definitions are present\n- Status code of error messages caused by empty `not null` fields is changed from `400` to `500` on database layer. As a result, the error message `Value is required` in production will be replaced by `Internal server error` in the HTTP response.\n- Underscores in environment variables can now be escaped by two `__` to set keys in `cds.env`.  For example, use `CDS_FEATURES_WITH__MOCKS=...` to set `features.with_mocks`.  Note that previously, this ended up as  `features: { with_: { mocks:... }}`, so in rare cases, it might yield unexpected results.\n- `persistent-outbox`: Only programming errors lead to `process.exit()`, unrecoverable ones are only logged, and their `attempts` are updated to `options.maxAttempts`\n- Global configuration of CSRF-token handling for remote services `cds.env.features.fetch_csrf` is deprecated. Instead, please use `csrf: true/false` and `csrfInBatch: true/false` in the configuration of your remote services. These options will allow to configure CSRF-token handling for each remote service separately.\n- `cds build` no longer creates `engines` entry in package.json in case none has been defined. The Node.js version matched the minimal supported version of the CDS runtime and might, therefore already be outdated.\n- For streamlined MTX, `@sap/cds` now uses the custom SAP Service Manager client built into `@sap/cds-mtxs`\n- Require new package `@cap-js/graphql` for `cds compile -2 graphql`\n\n### Fixed\n\n- Type `expr` of CQN can now describe function calls\n- Added missing optional `options` parameter in signature of `cds.serve`\n- `cds deploy` handles empty result from `cf` call correctly\n- When using CQL projections with array types, the type of the projection variable will now be correctly inferred as a single element of that array\n- `cds deploy` logs without label\n- Localized draft requests with nested expand in the case of `to many` now return localized data\n- Protected service root for REST adapter\n- `cds build` logs tar error message\n- Resolve view only with renamed fields in `orderBy` case\n- In case of `$apply`, no default values for `top` or `skip` are set in subselects\n- Environment variables like `cds.requires.<service>.kind...` now consistently override services set in, e.g. `package.json`\n- Expand of composition backlink now accesses draft instance instead of active\n- Performance of server bootstrap for services with lots of entities\n- Error with virtual properties in expand combined with draft\n- `req.tenant` is properly propagated by custom authentication in odata and rest\n- Error with `SiblingEntity` in draft\n- Quoting of keys typed as `cds.String` in error targets. Error targets are a relative resource path to correlate error\nmessages with the corresponding text input filed in the UI in an OData HTTP error response body for errors, warnings,\nand info messages. For example:\n- Error with `GET` on `actions`\n\n```diff\nHTTP/1.1 400 Bad Request\nOData-Version: 4.0\ncontent-type: application/json;odata.metadata=minimal\nConnection: close\nContent-Length: 145\n\n{\n  \"error\": {\n    \"code\": \"400\",\n    \"message\": \"Value is required\",\n-    \"target\": \"items(ID=string-key-1)/text\",\n+    \"target\": \"items(ID='string-key-1')/text\",\n    \"@Common.numericSeverity\": 4\n  }\n}\n```\n\n- Application crash if batched Uri uses invalid percent-encoding\n- `cds build` for SAP HANA no longer produces `hdbtabledata` for CSV files that refer to non-existing entities. This can be the case for imported content packages that bring CSV files for entities not used in the application model.\n- `cds build` for SAP HANA now gives precedence for CSV files from application layer. This is important for imported content packages that bring CSV files that shall be overwritten in the application layer.\n- `cds build` for Java no longer adds the service `cds.xt.MTXServices` to the application model.\n- `cds build` no longer fails when creating large resource TAR archives for MTXS projects.\n\n### Removed\n\n- Removed `PreconditionFailedError` when sending a request with an `if-match` header on an entity without an ETag\n- Check for forbidden deep operations for associations on database layer. All non-key fields for associations provided by request are ignored. Please check https://cap.cloud.sap/docs/guides/providing-services#associations-vs-compositions for more information. Note that this is a breaking change for applications that rely on checks for forbidden deep operations by runtime.\n\n## Version 6.3.2 - 2022-11-21\n\n### Fixed\n\n- `cds deploy` reports errors correctly\n- Reference resolution in QL API\n- `cds.parse.path` to correctly handle special characters\n- `cds build` issues on Windows: build with a large number of files and build on Git Bash.\n- `odata` as default protocol for enabled middlewares feature\n\n## Version 6.3.1 - 2022-11-04\n\n### Fixed\n\n- `cds build` no longer reports false positive validation errors for built-in MTX models like `@sap/cds/srv/mtx` or `@sap/cds-mtxs/srv/bootstrap`\n- `cds deploy` handles empty result from `cf` call correctly\n- `$search` fails on columns composed by a CQL expression that uses the SAP HANA `coalesce` predicate\n- Draft ownership was erroneously checked for bound actions on active instances\n- `cds watch/run/serve --with-mocks` no longer start randomly with missing mocked services.  This could happen if previous runs crashed with errors and left a bad state in the local service registry.\n\n## Version 6.3.0 - 2022-10-28\n\n### Added\n\n- Additional type signatures for service methods in the query API\n- In case of an error in a batch request, the @Core.ContentID is added to the details of the error message\n- Extensibility: Use i18n files from extensions in edmx calculation\n- In messaging, you can listen to all messages in a queue by subscribing to `'*'`\n- Improved Log formatting for Cloud Foundry\n- In remote services: Correct OData type conversion when using an imported csn\n- Types for `SELECT.forUpdate({wait})`\n\n- `cds.ql` now provides a dedicated method `.alias()` to choose table aliases, e.g.:\n  ```js\n  SELECT.from(Authors).alias(a)\n  ```\n  > Note: unfortunately we can't use method `.as()` instead of `.alias()` for compatibility reasons\n\n- `cds.ql` now supports constructing queries with `where exists` clauses, e.g.:\n  ```js\n  SELECT.from(Authors).where({exists:'books'})\n  SELECT.from(Authors).where({'not exists':'books'})\n  SELECT.from(Authors).alias('a').where({ exists: // or 'not exists'\n    SELECT.from(Books).where({author_ID:{ref:['a','ID']}})\n  })\n  ```\n  > Note: last query is equivalent to first\n- `cds compile` and `cds deploy` now also support dialect `h2`\n- New (easier) `jwt` and `xsuaa` authentication middleware for pluggable middlewares\n\n### Changed\n\n- In `enterprise-messaging`, emitting CloudEvents messages sets the HTTP header `Content-Type: application/cloudevents+json`\n- Added type definition for `cds.User`\n\n### Fixed\n\n- Change signature of cqn `SELECT.limit.offset` and `SELECT.limit.rows` to `val` instead of `number`\n- Parsing of store procedure SQL calls, including the schema name. For example, `CALL \"SCHEMA\".\"PROC\"(?)` and `CALL SCHEMA.PROC(?)`\n- Add property name in the error message on validation of the value\n- Kibana and Cloud Foundry formatter: do not log cookie header value\n- Missing SQL aliases for `$search` queries combined with `$orderBy` query option\n- The return value of `cds.connect` is now correctly typed as a `Promise`\n- `req.data` is no longer modified for remote services in the case of `odata-v2` inserts\n- `cds.localize` no longer ignores i18n files defined within CDS model scope and outside project scope\n- Don't modify query in `fioriGenericRead` handler\n\n## Version 6.2.3 - 2022-10-21\n\n### Fixed\n\n- New continuation for incoming messages\n- `cds.test` no longer fails if used in ESM modules with `mocha` (`ERR_REQUIRE_ESM` error)\n- Collection-bound actions/functions don't need draft ownership check\n\n## Version 6.2.2 - 2022-10-13\n\n### Fixed\n\n- Fix environment variable `OLD_MTX`, allowing `cds build` to create artifacts for classic `@sap/cds-mtx` library\n\n## Version 6.2.1 - 2022-10-05\n\n### Fixed\n\n- In the CDS configuration, custom profiles now have precedence over the (implicit) default `[development]` profile, irrespective of insertion order.\n- `cds test` is now compatible with new `axios` 1.x\n\n## Version 6.2.0 - 2022-10-04\n\n### Added\n\n- Types for using tagged template variants of several CQL constructs\n- Types for calling shortcut versions of CQL constructs (`SELECT(...)` in addition to `SELECT.from(...)`, etc.)\n- Types for `cds.test`\n- Types for `cds.log().setFormat()`\n- Support for `redis-messaging` (beta)\n- Log the cds version when starting the server\n- Support for non-root entities as the main draft entity\n- Support for IAS authentication using kind `ias-auth`\n- Warning if multiple installations of `@sap/cds` were found when serving requests\n- Wildcard expansion `('*')` of properties in QL is now typed\n- Support for extended models in custom transactions and background processes\n- `cds build` logs detailed error messages if required service models cannot be resolved or aren't defined in custom build tasks.\n- Support for additional data types `cds.UInt8`, `cds.Int16`, `cds.Int32`, `cds.Int64`\n- Typings for `cds.utils`, `req.entity`\n- Optimized server startup for projects with large models and high numbers of services.\n  Can be switched off by setting config `cds.features.precompile_edms = false` in case of problems.\n- Set default header to `application/octet-stream` while sending binary to remote\n- OData temporal query params `$at`, `$from`, `$to`, `$toInclusive` can be used in custom handlers\n- Reserved keywords from compiler api available at `cds.compile.to.[cdl, sql.sqlite]`\n- Improved `winston` integration in `cds.log`\n\n### Changed\n\n- `cds.debug()` now returns undefined instead of falsy if debug is switched off. This allows usages like that:\n  ```js\n  const DEBUG = cds.debug('whatever')\n  DEBUG?.(...)\n  ```\n- All MTX-related modules have been refactored and moved to `@sap/cds-mtxs`.\n  Ensure to also upgrade to the latest version of `@sap/cds-mtxs` when upgrading `@sap/cds` to avoid any breaking change effects.\n- SQLite database file endings have been changed to `.sqlite`, so third-party tools (e.g. VS Code extensions) can deduce the file type.\n- Method `disconnect()` in db services empties db pool w/o removing db services. In special cases (like tests), cleaning-up db service should be done manually while deleting `cds.services.db` and `cds.db`.\n- Prefer HANA driver that is required in package.json of project root\n\n### Fixed\n\n- Queries like `SELECT.from(Foo).where({a:1}).or({b:2}).and({c:3})` erroneously resulted in `SELECT from Foo where (a=1 or b=2) and c=3`\n- Signatures for QN `order_by` expressions are now in line with the capire doc\n- Signatures for QL operations are now more specific\n- `basic-auth` does not inherit users of `mocked-auth`\n- `cds.localize` now ignores i18n files defined outside the project scope.\n- Allow `@Capabilities.NavigationRestrictions.RestrictedProperties` to be specified in the format `{ InsertRestrictions: { Insertable: false } }`\n- Bound actions/functions while calling remote service\n- `$search`: Search on localized projections/views does not always return the localized data\n- `cds push` now shows better output for failed extension validations\n- Aliased parameters in REST parser\n- `cds.deploy` now logs the correct filename for multitenant SQLite\n- HDI configuration data (e.g., `./cfg`, `.hdiignore`) and HANA native artifacts have not always been copied into the `sdc` folder of an MTX sidecar module\n- OData URL to CQN parser (`cds.env.features.odata_new_parser`) now supports functions with no arguments\n- Runtime exception for `PATCH` HTTP request with an empty payload body and read-only field\n- Streams in draft caused SQL error\n- Better response state handling during `cds deploy` to Cloud Foundry.\n- Draft: patch on draft-enabled entity with a composition of one\n- Maximum stack trace exceeded in generic audit logging implementation\n- The protocol adapter logs the decoded URI or the original one if it is invalid\n- REST: reject action calls with round brackets (parentheses). For example, the request `/Books(1)/bookShelf.CatalogService.rate()` is now rejected.\n- `cds deploy` and `cds run/serve/watch` no longer print terminal escape sequences (`x1b...`) if they run non-interactively.\n- Some fields in entities like `path` generated invalid SQL\n\n## Version 6.1.3 - 2022-09-13\n\n### Added\n\n- Configuration to change maximum body size in bytes for remote requests: `cds.env.remote.max_body_length: 1000` sets it to 1 MB\n\n### Changed\n\n- For structured input, foreign keys are generated as non-enumerable properties on application-service layer\n\n### Fixed\n\n- Deep insert/update/upsert requests where the key of an association is provided in a structured format will not be rejected anymore if the target has default or mandatory fields\n- For some configurations, mtxs services were bootstrapped twice\n\n## Version 6.1.2 - 2022-09-05\n\n### Fixed\n\n- Missing key insertion from where clauses in references for deep update statements\n- Prevent duplicate entries for some `INSERT` statements\n- Log details were not properly displayed in Kibana\n- getCsn in model-provider if `cds.requires.toggles` is false\n- HTTP calls in messaging have the correct content length\n- Performance issue for OData <entity>/$count requests\n- Typescript definition for SQL-native variant of `srv.run`, like `srv.run('SELECT * from Authors where name like ?',['%Poe%'])`\n- Typescript definitions for `srv.run( [query] )` and `srv.send( {query, headers} )`\n- Typescript definitions for `cds.log` are improved, and level indicators like `cds.log()._debug` added\n- Typescript definitions for `tx` now carry additional service methods\n- `cds login` now returns errors with better root cause messages\n- `$expand` requests for to-one associations that do not select the foreign key\n- `UPDATE` statement accepts empty objects: `UPDATE('Foo').with({ bar: {} })`\n- URI encoding of parameters in remote service calls\n\n## Version 6.1.1 - 2022-08-24\n\n### Added\n- The configuration schema now includes `cds.extends` and `new-fields` (in `cds.xt.ExtensibilityService`)\n- Ability to run extension validations as part of `cds lint`\n- The `/-/cds/login` endpoint now also supports client credentials authentication\n- `srv.run(fn)` now accepts a function as first argument, which will be run in an active outer transaction, if any, or in a newly created one. This is in contrast to `srv.tx(fn)`, which always creates a new tx.\n  ```js\n  cds.run (tx => { // nested operations are guaranteed to run in a tx\n    await INSERT.into (Foo, ...)\n    await INSERT.into (Bar, ...)\n  })\n  ```\n\n### Fixed\n\n- Erroneous checks for `join` in `SELECT.from(SELECT.from('xxx'))`\n- Virtual fields with default values in draft context\n- View resolving without model information doesn't crash\n- Unable to upload large attachments. Uploading a large attachment (base64 encoded) caused a runtime exception.\n- `cds.Query.then()` is using `AsyncResource.runInAsyncScope` from now on. &rarr; this avoids callstacks being cut off, e.g. in debuggers.\n- `cds.tx()` and `cds.context` have been fixed to avoid accidental fallbacks to auto-commit mode.\n- HDI configuration data (e.g. `./cfg`, `.hdiignore`) is now included in the `resources.tgz` file which is required for Streamlined MTX.\n- `cds deploy` accepts in addition to `VCAP_SERVICES` also `TARGET_CONTAINER` and `SERVICE_REPLACEMENTS` from vcap file when using `--vcap-file` parameter.\n- `cds build` doesn't duplicate CSV files that are contained in `db/src/**`.\n- Typescript issues in `apis/log.d.ts`\n- `cds build` adds OS agnostic base model path to generated feature CSN.\n- Unhandled promise rejection in `expand` handling\n- `cds.context.model` middleware is not mounted for not extensible services\n- `cds.context` continuation was sometimes not reset in REST adapter\n\n## Version 6.1.0 - 2022-08-10\n\n### Added\n\n- Support for `@sap/cds-mtxs` in `enterprise-messaging`\n- Detailed information about pool state: `borrowed`, `pending`, `size`, `available`, `max` to the timeout error\n- Odata v2 payloads for `cds.Time` are converted from hh:mm:ss to PThhHmmMssS e.g. 12:34:56 to PT12H34M56S if provided in hh:mm:ss format\n- Odata v2 payloads for `cds.Integer` are converted to String if not provided as String\n- New OData parser supports aliased parameters e.g. `...function(ID=@p)?@p=5`\n- Support for locale \"en_US_x_saprigi\"\n- Parameter `rows` in ql API function `limit` can be omitted for remote services, e.g. `SELECT.limit(undefined, 5)`\n- New OData parser supports $filter with \"in\" operator, e.g. `$filter=ID in (1,2,3)`\n- `cds build` copies `package.json` and `.cdsrc.json` into _main folder of MTX sidecar app.\n- New OData parser supports null parameter in function/action, e.g `/findBooks(author=1,title=null)`\n- New environment variable `schemas` contains locations for json schemas validating `package.json`, `.cdsrc.json` and `.cdsrc-private.json` in VS Code\n- `cds.test` can now listen on a fixed port by way of additional arguments '--port', '<PORT_NUMBER>\n- `cds.requires.db.kind = 'sql-mt'` is introduced as a shorthand for\n  ```js\n  \"db\": {\n    \"kind\": \"sqlite\",\n    \"[production]\": {\n      \"kind\": \"hana-mt\"\n    }\n  }\n  ```\n- `cds build` support for Streamlined MTX extension projects based on build task `mtx-extension`\n- TS definitions for `SELECT.forSharedLock` and `SELECT.forUpdate`\n- TS definitions for `log`\n- Support for new cds build task option `deploy-format`. Java apps may use this option instead of the corresponding global CDS config option.\n- The `ExtensibilityService` serves an endpoint to retrieve a subdomain-specific JWT, which is used by `cds login`\n- The endpoint `/-/cds/extensibility/push` now checks restrictions for new extensions. The configuration is added to the `cds.xt.ExtensibilityService`\n  ```js\n  \"requires\": {\n    \"cds.xt.ExtensibilityService\": {\n      \"element-prefix\": [\"Z_\", \"ZZ_\"],\n      \"namespace-blocklist\": [\"com.sap.\", \"sap.\"],\n      \"extension-allowlist\": [\n        {\n          \"for\": [\"my.bookshop\"],\n          \"kind\": \"entity\",\n          \"new-fields\": 2\n        },\n        {\n          \"for\": [\"CatalogService\"],\n          \"new-entities\": 2\n        }\n      ]\n    }\n  }\n  ```\n- `cds build` validates required service models `@sap/**` for MTX sidecar app and logs an ERROR if some couldn't be resolved.\n- Configuration schema for many properties of the `cds` configuration block in `package.json` or `.cdsrc.json`, especially for `cds.requires...`\n\n### Changed\n\n- Streamlined calculation of the difference for `DELETE` queries using `req.diff()`\n- Improved error messages for rest / new odata parser\n- Adjust types for `SELECT.from` and `SELECT.one` to accept array classes as well\n- No `\"` added around search values in OData v2 e.g. Foo?search=name is passed through as is\n- If an entity can not be read after write (e.g. insert only entity) no error is shown in the log\n- Throw not supported error for pagination in `$expand`\n\n### Fixed\n\n- Wrong context in `tx.run(query)` when `query` is an array\n- We now detect and ignore erroneous attempts to re-register framework-generated stubs as handlers for custom actions/functions.\n- Emits with `persistent-outbox` also work with manual transactions\n- You can now use `cds.ql` fluent API to query tables not in the model, but in database.\n  For example, within `cap/samples/bookshop` this works now:\n  ```sql\n  await SELECT.from('sqlite_master')\n  await cds.read('sqlite_master')\n  ```\n  Caveat: The following undocumented usage of unqualified names happened to work in the past.\n  But this was very fragile and caused lots of issues, and therefore was removed:\n  ```sql\n  await SELECT.from('Books')\n  await cds.read('Books')\n  ```\n  Always use qualified names or reflected definitions instead:\n  ```sql\n  const Books = 'sap.capire.bookshop.Books'\n  await SELECT.from(Books)\n  await cds.read(Books)\n  ```\n  ```sql\n  const {Books} = cds.entities ('sap.capire.bookshop')\n  await SELECT.from(Books)\n  await cds.read(Books)\n  ```\n- Wrong results for expand to many without `orderBy`\n- `cds deploy` api endpoint regex for cli now ignores trailing version info in url\n- Default values no longer overwrite payload values on fields of new drafts\n- Unmanaged to-one navigation caused malformed SQL statement in draft\n- `cds.compile.to.serviceinfo` fix failure to detect Java services if `odataV4.endpoint.path` or `odataV2.endpoint.path` missing in `cds` configuration in `application.yaml`\n- Data type conversion did not work in some expand cases\n- Failed connection to SAP HANA with no or malformed credentials was leading to credentials being written to the log\n- `cds build` no longer fails with an error `no such file` if one of the following files has been defined in some `srv` subfolder - `package.json, package-lock.json, .cdsrc.json, .npmrc`\n- Tar issue on Windows: 'The command line is too long'.\n- `$search`: Lifecycle issue that causes an empty search result when the `$search` and `$expand` query options were combined\n- Operator `IN` with Tagged Template String Literals e.g.:\n  ```sql\n  SELECT.from(Object).where`userId IN ${aUserIDs}`\n  ```\n- `cds build` now uses a closed version range in the node engines version of the deployed application's `package.json`\n- `cds build` no longer generates EDMX files for services that aren't odata protocol enabled\n- `cds deploy` handles orgs and spaces containing commas correctly\n- Incorrect decoding of special characters when reading data of type `cds.LargeString` from SAP HANA using `hdb@^0.19.5` driver\n- The payload is added to the delete request in rest adapter as `req.data`\n\n## Version 6.0.4 - 2022-07-20\n\n### Fixed\n\n- Local mocking of external services using `cds watch`\n\n## Version 6.0.3 - 2022-07-14\n\n### Changed\n\n- On Business Application Studio, `@sap/cds` now rejects starting on Node 12, as it does locally.  This avoids cryptic follow-up errors.\n\n### Fixed\n\n- Generic handlers for draft-related operations will trigger a READ event afterwards\n- `file-based-messaging` only watches the file when at least one handler is registered\n- `--vap-file` parameter of `cds deploy` is available again\n- `cds build` no longer throws an error if `@sap/cds-mtx` library (classic MTX) isn't installed locally.\n- `cds.spawn` no longer tries to reuse a transaction\n- Custom query parameter caused bad request on certain characters in REST adapter\n- `cds-ts` no longer fails with an `ERR_UNKNOWN_FILE_EXTENSION` error\n- Timeouts when sending string payloads to remote services\n- `cds.context.http` for `$batch` using atomicity groups\n\n## Version 6.0.2 - 2022-07-06\n\n### Fixed\n\n- Jest tests do not fail any longer because of logs during app shutdown\n- `cds build` now uses the correct `mtx/sidecar` context. This avoids redundant `cds-mtxs` npm dependency for Java projects.\n\n## Version 6.0.1 - 2022-07-05\n\n### Added\n\n- Config option `cds.env.server.port` allows to configure the port to use (in addition to `process.env.PORT` and CLI option `--port`)\n\n### Changed\n\n- Plugins cannot be loaded as ES modules, but need to remain CommonJS modules\n\n### Fixed\n\n- Removed debug log about shutdown from `cds serve`\n- Hiding timeout error in production mode\n\n## Version 6.0.0 - 2022-06-30\n\n### Added\n\n- Listeners for `commit` events on the request object are now awaited\n- Experimental support for ECMAScript modules (ESM): You can now write your custom code, i.e.,\n  service implementations, `server.js`, `db/init.js` using ES6 `import` statements.\n  **Note though** that this is _experimental_ for now. Known limitation: _jest_ doesn't\n  support dynamic imports, which are required for that.\n\n- Improved `cds.error` to allow these using variants:\n  ```js\n  cds.error `Message with formatted: ${{foo:'bar'}}`\n  cds.error ({ message, code, ... })\n  cds.error (message, { code, ... })\n  let e = new cds.error(...) //> will not throw\n  ```\n  > Calling `cds.error()` with `new` returns the newly created Error,\n  > while calling it without `new` it throws immediately. The latter is\n  > useful for usages like that:\n\n- Improved `req.error` to always turn each recorded error into an instance of `Error` with its own stack trace.\n  Multiple errors are finally thrown as an array of these errors with `.message = 'MULTIPLE_ERRORS'`\n  and `.details = this` (the latter is for compatibility to former releases).\n\n- Public API for `cds.User.roles`: For example, this allows to construct new instances of `cds.User` like so:\n  ```js\n  let user = new cds.User ({ id:'me', roles:['admin'] })\n  user.is('admin') //> true\n  ```\n\n- Public API for `cds.context.tx`: This provides access to the current global root `tx`, if any.\n  (This replaces the former undocumented `req._tx`)\n\n- Public API `cds.User.anonymous` and `cds.User.privileged` which are sealed instances you can use directly\n  instead of always passing `new cds.UserPrivileged`.\n\n- Public API `cds.context.http` to reliably access inbound http `req` and `res` objects.\n\n- Persistent outbox now contains last error and timestamp of last attempt\n- Enable PUT requests for UPDATE queries with CQN for remote services\n- Support for new major version 2 of SAP Cloud SDK\n- Support for the `@assert.target` annotation for managed-to-one associations\n- Support for `FOR SHARE LOCK` on SAP HANA to acquire shared locks on the queried records so that the locked records\nstay intact until the transaction is committed or rolled back.\n- Consistent error information for remote batch requests\n- `cds.env` now supports expanding scalar `cds.requires` entries from `cds.requires.kinds` as follows:\n  ```jsonc\n  { \"cds\": {\n    \"requires\": {\n      \"mtx-sidecar\": true,\n      \"db\": \"sql\",\n      \"kinds\": {\n        \"sql\": {/* detailed config for sql */},\n        \"mtx-sidecar\": {/* detailed config */},\n      }\n    }\n  }}\n  ```\n- Support for mTLS in `enterprise-messaging-shared` and `message-queuing`\n- Allow empty publish and subscribe prefixes for SAP Event Mesh when using the format `cloudevents`\n- Custom type `sap.common.Locale` in common.cds\n- Ordering by aggregated value for draft-enabled active entity\n- `cds build` support for model provider service-based resource deployment.\n- Remote service:\n  + Conversion of OData V2 (`\"kind\": \"odata-v2\"`) function and action results to OData V4 format\n  + Conversion of binary data in CQN queries to `base64url` in URL and payload\n  + Key predicate is omitted for single-key entities in resulting URL (e.g. `GET /Foo(1)` instead of `GET /Foo(ID=1)`)\n  + Support of views with parameters\n- Add `@odata.mediaContentType` if selecting stream property\n- Kubernetes service bindings: Support for servicebinding.io and SAP BTP Service Operator based bindings\n- `cds build` copies an existing `.npmrc` file located in the root or srv folder of your project into the deployment folder (usually `gen/srv`). This allows for dedicated npm configuration in cloud environments.  Can be switched off by cds build option `contentNpmrc`.\n- `cds build` copies an existing `.cdsrc.json` file located in the root or srv folder of your project into the deployment folder (usually `gen/srv`). The effective CDS configuration is created from the `.cdsrc.json` and CDS configuration defined in the `package.json` file. Can be switched off by cds build option `contentCdsrcJson`.\n- Beta OData URL to CQN parser (`cds.env.features.odata_new_parser = true`):\n  + `@odata.context` is derived without using okra, not yet supported:\n    + `$expand=*` query option\n  + Support for actions and functions\n  + Further `$apply` transformations supported\n    + (nested) `concat` transformations\n    + `orderBy` transformation\n    + `top` & `skip` transformation\n    + `identity` transformation\n- Log `BEGIN`/`COMMIT`/`ROLLBACK` commands when using SAP HANA as the underlying database\n- Binary data in payload is validated to be RFC-4648 and OData ABNF conformed\n- Support multiple media (streaming) properties in one entity\n- Support for annotation `@protocol:'none'` to mark services as internal\n- New build task aliases `java` and `nodejs` deprecating `java-cf`and `node-cf`, which are still supported for compatibility reasons.\n- New shutdown event sent by `cds serve` (beta)\n- $filter in $expand for remote services\n- Mapping of aliases in $expand for remote services\n\n### Changed\n\n- `@sap/cds` can now be loaded from different install locations like any other module, i.e. `@require('@sap/cds')` will no longer return the same singleton instance.\n- SAP Cloud SDK is now only an optional dependency and must be installed manually\n- Improved `cds.context` implementation to use `AsyncLocalStorage` instead of plain `async_hooks` (-> [see Node.js docs](https://nodejs.org/api/async_context.html)); APIs stay the same.\n- Improved `cds.tx(tx=>{ ... })`: The new `tx` will be set as `cds.context.tx` for the function body's continuation,\n  so all nested service or database operations will be executed within this transaction automatically.\n- Node.js 14.15 is now the minimum required Node.js version.  Version 12 is no longer supported.\n- Node.js 14.15 is now enforced on loading of `@sap/cds`, for example, on server startup.\n- Improve error messages in messaging management\n- `cds.env.requires` formerly inherited from `cds.env.requires.kinds`. This is not the case anymore; hence things like this worked before but don't anymore:\n  ```js\n  let sql = cds.requires.sql       //> is undefined now\n  let sql = cds.requires.kinds.sql //> use this instead\n  ```\n  Alternatively you can add this to your cds config:\n  ```json\n  { \"cds\": { \"requires\": { \"sql\": true } }}\n  ```\n- Details of errors from remote services are now in property `reason` (before it was `innererror`)\n- `innererror` is not removed from OData error response\n- The `file` option of file-based messaging is now on top level (before it was in `credentials`)\n- Optimized Search: `cds.env.features.optimized_search=true` is now the default behavior.\n- `cds build` no longer generates CF manifest files for Nodejs and HANA db deployer modules.\n- `cds build` no longer supports WebIDE Fullstack compatibility mode. Consequently, SAP HANA artifacts and service EDMX files for Fiori modules might no longer be correctly generated.\n- Remote services: Batched `GET` requests will not fetch CSRF tokens\n- CQN now uses `xpr` correctly instead of brackets in `where`\n- `process.exit` is called again by `cds run/serve` and `watch`, to gain a reliable `exit` event for cleanup tasks.  Before, this would be spoiled by apps that do not shut down the event loop properly.\n- `cds build` no longer filters `./` file dependencies from package.json in the build output.\n- Fiori preview no longer supports URL pattern with `service` and `entity` query parameters, e.g. `$fiori-preview?service=...&entity=...`.  These URLs were created back in `@sap/cds` 3.x.\n- `cds build` no longer copies the `node_modules` folder into the deployment folder (usually `gen/db/**` and `gen/srv/**`).\n- Set default tenant to `undefined` in single-tenant mode\n- Handle foreign keys of to-one associations which should be set to `null` on db layer\n- `cds build` uses the native `fs` functions instead of `fs-extra`.\n- `cds build` supports initial data in CSV files that are located in any 'csv' or 'data' subfolder of some CDS model file. This also implies CSV files stored in reuse modules. Now, this behaviour is consistent with SQLite deployment. If the location of some CSV file has changed, a deployment error might be returned. In that case previously deployed `hdbtabledata` files have to be undeployed.\n- `cds deploy` reads Cloud Foundry file `config.json` to get org and space information.\n- New REST adapter replaced old (limited) implementation\n- Default behavior for runtime integrity checks. From now on no integrity checks will be done by default.\nNote that this is a breaking change for applications that rely on automatic integrity checks by runtime. We recommend using `cds.env.features.assert_integrity`: `db` to switch on database integrity constraints. The value `app` can be used as fallback to previous behavior.\n- `cds build` no longer copies `.env` or `default-env.json` files into the deployment folder.\n- OData `POST`, `PATCH`, and `PUT` requests and draft-related `draftEdit` and `draftActivate` actions are now followed by an additional `READ` request to the application service. Consequently, affected functionality:\n  + It is now sufficient to have a custom `READ` handler in order to adjust the response (e.g., to handle virtual properties) of the modification request.\n  + A user is now required to be authorized to read updated data e.g. a user having a role restricted with \"INSERT-only\" annotation pattern will get empty results in response to `POST` request.\n  + For compatibility reasons, `req._` of the modification request is uplinked to `req._` of the follow-up `READ` request so that one still can access original `req._.req/res` request objects of the modification request within the corresponding `READ` handlers.\n  + Modification logs are now followed by corresponding access logs.\n  + More details can be found in cds v6.0.0 release notes.\n- Message for PreconditionFailedError is now configurable in messages.properties\n- Remove circular references in Kibana logging\n- Error sanitization in production is skipped for custom errors with HTTP code `5xx`. From now on, an app developer can return any error message to the client.\nNote that this is a breaking change for applications that rely on error sanitization for custom errors in production. The behavior of errors thrown by CAP framework is unchanged.\n\n### Fixed\n\n- We don't rely on `global.cds` anymore -> allows to load and correctly work with multiple versions of `cds`\n- Improved shutdown for AMQP connections and file listeners\n- Using `CQL` with a tagged template string `SELECT from Foo { null as boo }` threw an exception.\n- In case of `MULTIPLE_ERRORS` throw an `Error` instead of an object\n- `cds build` ensures correct precedence of feature annotations. Fixes `Duplicate assignment` compilation errors.\n- Compatibility with former support to find service `@impl: 'relative/to/cdw'`.\n- Views on views with parameters where erroneously inherited params through `cds.linked()`.\n- Authentication: Return HTTP `404 Not Found` rather than `204 No Content` status code for invalid requests.\nFor example, given the following request `/ReqAdmin(1)/toIntermediate/toa` and assuming that the `toIntermediate` instance does not exist,\nthe runtime returned an HTTP `204 No Content` success status response code indicating that the request has succeeded.\nIn such scenarios, now the HTTP `404 Not Found` status code is returned rather than `204 No Content`.\n- Errors from HTTP requests sent via `cds.test.axios` now are the original Axios errors, i.e. including properties like `request` and `response`, with stack traces from caller.\n- Errors constructed and thrown by `req.reject()` now have a stack starting at the code calling `req.reject()`.\n- Auth annotations `@restrict` and `@requires` with empty array do not allow access anymore\n- Delete on restricted singleton caused request to fail\n- Add workaround of typescript not complete literal unions, specially when union strings.\n- Accidental handling of non-proxy entities as they would have been proxies (`cds.env.odata.proxies`) in expands\n- Boolean keys are properly parsed into JS boolean values\n- Navigation path segments with aliased keys in structured mode (OData flavors `w4` and `x4`) when using beta OData URL to CQN parser (`cds.env.features.odata_new_parser`)\n- All entities in `@sap/cds/common` have now proper CDS doc comments\n- `cds build` uses `package.json` and `package-lock.json` files located in `srv` folder for deployment if existing. Before, `package.json` and `package-lock.json` files of the project root folder have always been taken.\n- Pass options from `cds.parse.expr` to `cdsc.parse.expr`.\n- Avoid error that is caused, e.g., in a streaming scenario when there is an issue while processing the stream. Trying to change/send the response object could cause a crash because the response was sent already.\n- Correct URL generation for `Integer64` and `Decimal` for remote services\n- Operation parameters from structured type and annotated with @open are not filtered from the input query\n- Services are secured by default in production. Can be disabled via feature flag `cds.env.requires.auth.restrict_all_services: false` or by using `mocked-auth`.\n- Optimized Search: Exception when searching on views using built-in SQL SAP HANA functions\n- In some cases, custom error handlers were not called for rest\n- `cds build` adds newline at EOF for `hdbmigrationtable` files\n- Static values in on condition were ignored when inserting on navigation\n- Removed entity key validation by POST request in rest\n- `$count=false` returned count\n- `odata_new_parser`: `format=json` allowed as query parameter, other formats not supported and returning 501, trailing `?` allowed e.g. `/Employees?`\n- `odata_new_parser`: Piped use of same transformations is now supported, like `/Students?$apply=filter(BIRTHYEAR ge 2000)/groupby((UNIVERSITY),aggregate(SUBJECT with countdistinct as distinctSubjects))/filter(UNIVERSITY eq 'Hamburg')`\n- `odata_new_parser`: Behavior of piped transformations while using `topcount` or `bottomcount` is now correct\n- Better error message for missing `exists` predicate in `@restrict.where`\n- Reading raw Binary data provided as a `base64` (standard or url-safe) string by means of a `$value` query option\n- Selecting a navigation with `$select` ended up in database error\n- `cds.compile` no longer fails for cds sources that contain the `file:` pattern\n- $select=IsActiveEntity did not work on draft enabled entity, when requesting active data via navigation\n- not equal operator `<>` treated the same way as `!=`\n- `cds.localize` now respects custom i18n file names (which is not recommended though)\n- `cds version` now handles array-valued entries for `folders.db`and `folders.srv` gracefully when looking for MTX sidecar\n- OData access of entities named `get` and `set`\n- missing brackets for OR condition in `.where()` when requesting by navigation\n- `cds build` now correctly supports Node.js apps that do not have a service module defined. In these cases, the build task's _src_ folder has to be configured as \".\"\n- `cds build <dir>` is now correctly executed if called by npm script or mta build.\n- `cds deploy` now shows a better error message on INSERT errors (on SQLite).\n\n### Removed\n\n- Deprecated option to send synchronous requests via `srv.emit()` -> use `srv.send()` for that\n- Deprecated feature flag `cds.env.features.implicit_sorting`\n- Deprecated feature flag `cds.env.features.update_managed_properties`\n- Deprecated feature flag `cds.env.features.resolve_views`\n- Deprecated feature flag `cds.env.features.spaced_columns`\n- Deprecated feature flag `cds.env.features.throw_diff_error`\n- Deprecated feature flag `cds.env.features.delay_assert_deep_assoc`\n- Deprecated feature flag `cds.env.features.auto_fetch_expand_keys`\n- Deprecation warning for query parameters `sap-valid-from` and `sap-valid-to`\n- Built-in graphql support &rarr; moved to new `@sap/cds-graphql`\n- Deprecated feature flag `cds.env.features.extract_vals`\n- Support for CQN `where in` syntax `{ val: [1, 2, 3] }` without `list`. Use `{ list: [{ val: 1 }, { val: 2 }, { val: 3 }] }` instead.\n- Support for selects in restrict entries, e.g. `where : 'exists (select 1 from MyTable where a = b)'` is not allowed anymore\n- Input validation for deep `INSERT`/`UPDATE` for associations in the service layer\n- Support for `@odata.contained` annotation. Use Compositions instead.\n- Support for `@odata.on.insert/update` annotation. Use `cds.on.insert/update` instead.\n- Support for expressions in references, for example: `ref: ['foo as bar']`).\n- Generic support of `$expand` and `$select` OData query options for custom actions and functions\n\n## Version 5.9.8 - 2022-06-24\n\n### Fixed\n\n- Application model is now again properly updated after extension activation\n- Avoid crashes during `cds version` when `folders.db` or `folders.srv` are array-valued instead of strings\n- `cds build` correctly validates MTX extension allow lists and doesn't log false positive warning messages\n\n## Version 5.9.7 - 2022-06-13\n\n### Fixed\n\n- Deleting a parent will delete all compositions, also texts\n- Views with aliased elements in `orderBy`\n\n## Version 5.9.6 - 2022-05-24\n\n### Fixed\n\n- Ignored requests in batch requests\n- `pool` module for logger facade is separated from `hana` database logger. Timeout error by acquiring client from pool is now enhanced with `_poolState` providing current pool attibutes.\n- Multiple errors did not have correct HTTP response status code\n- `POST|PUT|PATCH` requests with `charset` directive in `Content-Type` header (e.g., `Content-Type: application/json; charset=utf-8`) no longer issues an error \"Invalid content type\" in REST adapters\n- Call SAP HANA procedure:\n  + accepted are any symbols in a procedure name if it is delimited with a double quotation (`\"`)\n  + fixed results for table output parameters when using `@sap/hana-client`; **limitation**: output parameters in a `CALL` statement must follow the same order used in a stored procedure definition\n- `@odata.context` considers `cds.env.odata.contextAbsoluteUrl` when requesting an OData Service\n\n## Version 5.9.5 - 2022-05-09\n\n### Fixed\n\n- `HDB_TCP_KEEP_ALIVE_IDLE` config\n- A combination of `!=` operator and `or` in `where` clauses of `@restrict` annotations or when adjusting `req.query` in custom handlers (OData services only)\n- Programmatic calls to bound actions/functions do have keys in `req.data` again if compat flag `cds.env.features.keys_in_data_compat` is set\n\n## Version 5.9.4 - 2022-05-02\n\n### Fixed\n\n- Error messages are improved if no `passport` module was found or if no `xsuaa` service binding is available\n- Issue fixed for `srv.get()`. It was returning `TypeError` in plain REST usage for external services, e.g. `srv.get('/some/arbitrary/path/111')`\n- Allow unrestricted services to run unauthenticated, removing the `Unable to require required package/file \"passport\"` error. Totally not recommended in production.  Note that though this restores pre 5.9.0 behavior, this will come again starting in 6.0.\n- Audit logging of sensitive data in a composition child if its parent is annotated with `@PersonalData.EntitySemantics: 'Other'` and has no data privacy annotations other than `@PersonalData.FieldSemantics: 'DataSubjectID'` annotating a corresponding composition, for example:\n  ```js\n    annotate Customers with @PersonalData : {\n      DataSubjectRole : 'Address',\n      EntitySemantics : 'Other'\n    } {\n      addresses @PersonalData.FieldSemantics: 'DataSubjectID';\n    }\n    annotate CustomerPostalAddress with @PersonalData : {\n      DataSubjectRole : 'Address',\n      EntitySemantics : 'DataSubject'\n    } {\n      ID @PersonalData.FieldSemantics : 'DataSubjectID';\n      street @PersonalData.IsPotentiallyPersonal;\n      town @PersonalData.IsPotentiallySensitive;\n    }\n  ```\n\n## Version 5.9.3 - 2022-04-25\n\n### Fixed\n\n- Since 5.8.2 `req.target` for requests like `srv.put('/MyService.entity')` is defined, but `req.query` undefined (before `req.target` was also undefined). This was leading to accessing undefined, which has been fixed.\n- Custom actions with names conflicting with methods from service base classes, e.g. `run()`, could lead to hard-to-detect errors. This is now detected and avoided with a warning.\n- Typed methods for custom actions were erroneously applied to `cds.db` service, which led to server crashes, for example, when the action was named `deploy()`.\n- Invalid batch requests were further processed after error response was already sent to client, leading to an InternalServerError\n- Full support of `SELECT` queries with operator expressions (`xpr`)\n\n## Version 5.9.2 - 2022-04-07\n\n### Fixed\n\n- i18n translation for errors did not work correctly in some cases\n- Normalization in custom `getRestrictions`\n- Throw exception by `INSERT` into HANA queries if number of provided rows deviates from number of affected rows returned by hdb to prevent data losses\n- Handler detection for extended services\n- Speed-up in localization handling\n- Draft: navigation via an association to many from a non-draft enabled entity to a draft-enabled entity\n- Limited support of `SELECT` queries with operator expressions (`xpr`)\n\n## Version 5.9.1 - 2022-03-31\n\n### Fixed\n\n- Function arguments might be escaped too often\n- URL encoding for remote services for CQN queries\n- `cds serve` during development again redirects URLs for UI apps in a folder with the same name as a service, so `/foo/webapp` would redirect to `/foo` again.  This got broken in 5.8.3.\n- Endless loop in localization handling\n- Ensure service implementation while extending entity from the service\n- Post-processing of custom draft queries\n- `cds build` no longer omits unused CDS type definitions, leading to Java compiler errors\n\n## Version 5.9.0 - 2022-03-25\n\n### Added\n\n- Enable custom audit logging implementation by subclassing or prepending `cds.AuditLogService`\n- Log authentication/authorization traces, for example, authentication strategy and access control decisions to facilitate troubleshooting in debug mode.\n- Bound functions and actions calls with odata-v2 from remote service\n- Beta support for procedure calls with table output data (SAP HANA only)\n  + Both hdb and `@sap/hana-client` currently do not support parameter metadata for table output. To provide the functionality anyways, CAP must fetch the metadata itself. As this is not CAP's expertise, the feature is only beta.\n  + All parameters must be named or unnamed, that is `CALL EXAMPLE_PROC(PARAM_1 => ?,PARAM_2 => ?)` or `CALL EXAMPLE_PROC(?,?)`\n- Alpha `cds.ApplicationService.getRestrictions(definition, event, user)`, which returns the applicable restrictions for the current request as follows:\n  + `null`: unrestricted access\n  + `[]`: no applicable restrictions -> no access\n  + `[{ grant: '...', to: ['...'], where: '...' }, ...]`: applicable restrictions with grant normalized to strings\n    + That is, `grant: ['CREATE', 'UPDATE']` in model becomes `[{ grant: 'CREATE' }, { grant: 'UPDATE' }]`\n  + Promise resolving to any of the above (needed for CAS override)\n- Internal model provider service can be used for obtaining dynamic csn, including features and key user extensions\n- Support insert of SQL snippets for HANA migration tables using @sql.append and @sql.prepend annotations.\n- Support for the `@odata.draft.enclosed` annotation on associations targeted via navigation — previously only supported for `$expand`\n- Pseudo role `internal-user` for technical user tokens acquired from own XSUAA instance\n- Include globally-installed cds-dk version in output of `cds version`.\n- Include version of cds-mtx in output of `cds version`, if available.\n- Feature toggle support in `cds build` for cloud deployments. Create language bundles and parsed CSN for all features.\n- Support for `@Aggregation.default` in new OData parser (`cds.env.features.odata_new_parser = true`)\n\n### Changed\n\n- Cleaned up `cds.env.requires` towards a consistent usage:\n  + Moved all entries of `cds.requires` to `cds.requires.kinds` → `cds.requires` is empty now by default, but has `cds.requires.kinds` as prototype, so e.g. `cds.requires.sql` will still return a match.\n  + Added support for db-specific  `cds.requires.db.deploy-format` → deprecating `cds.hana.deploy-format` (which is still supported for compatibility)\n  + Introduced `cds.requires.kinds.hana-cloud` as `{kind:hana, deploy-format:hdbtable}` → to be used by default for production\n  + Changed `cds.requires.audit-log` to be consistent to all other; also got moved to `cds.requires.kinds.audit-log`, so it is no longer activated by default.\n  + Added support for `cds.requires.foo: true` with `foo` being a preset/prototype entry in `cds.requires.kinds` → allows to more easily switch on pre-configured services.\n- Update-managed properties (`@cds.on.update`) are always updated\n  + Example: `UPDATE('Books').set({}).where({ ID: 1 })` leads to new modifiedAt and modifiedBy\n  + Does not apply to nested entities that are only preserved by specifying their primary keys in the data\n  + Deactivate during two month grace period via compact feature flag `cds.env.features.update_managed_properties = false`\n- Response no longer contains keys neither technical draft properties (e.g. `HasDraftEntity` or `InProcessByUser`) in expanded data if they were not requested explicitly when using `cds.Service` API\n  + Example:\n    ```js\n    > await srv.read('Authors', a => { a.name, a.books(b => { b.title }) }).where({ ID: 1 })\n    // -> \"old behaviour\" result\n    [{ name: 'Emily Brontë', books: [{ title: 'Wuthering Heights', ID: 201 }] }]\n    // -> \"new behaviour\" result\n    [{ name: 'Emily Brontë', books: [{ title: 'Wuthering Heights' }] }]\n    ```\n  + Technical draft properties are not automatically fetched also on a root level\n  + Deactivate during two month grace period via compat feature flag `cds.env.features.auto_fetch_expand_keys = true`\n- Access control is checked in generic handlers (rather than handlers materialized on app startup)\n- Expand restriction check moved to pre-before phase\n- The active state of an entity is read instead of the draft state when navigating from a draft entity to a draft-enabled entity via an association.\n- Authentication middleware is always mounted (used to be only for restricted services)\n- Fiori preview now uses the Horizon theme\n- 'Preview' links in generic index.html page no longer get the word _preview_ appended automatically, allowing for more flexible naming.  Link providers should make sure to add the _preview_ word if necessary.\n- Don't throw error in GraphQL adapter if update mutation filter does not match any entries (to be consistent with delete mutations)\n- Remote call of unbound action/function returns octet-stream instead of string by default\n- Default pool's behavior has been changed from `FIFO` (queue) to `LIFO` (stack). Can be changed in pool configuration.\n- `cds run/serve` now gracefully shuts down the HTTP server before exiting.  Custom handlers for signals like `SIGTERM` or `SIGINT` can now be processed.\n- `cds build` no longer creates `COMMENT` statements for HANA if doc comments are present in CDS models.  The statements caused superfluous table migrations during HANA deployments.\n\n### Fixed\n\n- Logging of failed requests to remote services was incompatible to Elasticsearch\n- `cds serve --project <dir>` didn't serve static web resources from `<dir>`\n- `cds serve -p <dir>` was meant to be a shortcut for `cds serve --project <dir>`\n- Messaging: Use correct kind for logging\n- Incorrect return values for update-managed properties (`@cds.on.update`) of child entities that were not changed in request\n- `$filter` with navigation to-one eq null\n- Calculation of `DraftIsProcessedByMe` when navigating to `DraftAdministrativeData`\n- Inbound streaming with media type annotated as `@Core.Computed`\n- Pass column expression into `SELECT()` (example: `SELECT('SUBSTRING(locale,0,2) as loc').from(<entity>)`)\n- Annotation `@cds.api.ignore` ignores key in new parser\n- Inconsistencies in actions and functions API\n- Opening root transaction in `srv.run` if none exists\n- Glitches in handling of `req.user.tenant` and `req.user.locale`\n- Flattened keys in URL are resolved correctly if they are unique in new REST adapter\n- Actions and functions in REST adapter\n- Empty string as key does not work in new parser\n- Requesting property of an entity caused error in new parser\n- The SQLite CSV import now imports `\"true\"` and `\"false\"` as strings instead of Booleans\n- Fixed loading mechanism for custom build task handlers\n- `req.diff()` for `UPDATE` on a view with renamed property in `orderBy`\n- `$user.<attr>` for managed properties (`@cds.on.insert`/`@cds.on.update`)\n- GraphQL `__typename` meta field if it is the only selected field of an association/composition\n- Command shortcuts like `cds c` are now handled properly if executed in an NPM script\n- ETag is not included in expanded entities using `$select`, for example: `Books(1)?$expand=author($select=ID)`\n- `cds.compile.to...` no longer crashes if called with a CSN that has a dangling ref\n- Requests to remote services via navigation path without explicit `$select`, but having `$expand` query option\n- `cds.compile` correctly supports reserved namespaces like `cds.foundation`.\n- `cds.compile.to.serviceinfo` now uses the correct configuration for the base URL paths for Java services\n- `cds deploy --to sqlite` correctly localizes texts in deployed views. Before not all localized texts have been correctly resolved.\n- `cds deploy --to hana` reports missing org or space info with a better message.\n- Using combinations of `.` and `_` in CSN definition names\n\n### Removed\n\n- Redundant locale implementation\n\n## Version 5.8.4 - 2022-03-17\n\n### Fixed\n\n- `UPDATE` singleton entity does not require to provide singleton keys in a payload\n- CQN queries with operator expressions (`xpr`) in ON-conditions of unmanaged associations and compositions\n\n## Version 5.8.3 - 2022-03-01\n\n### Fixed\n\n- `queries` property for application-defined destinations of remote services\n- `cds serve --watch` no longer fails if `@sap/cds-dk` is installed only globally\n- `cds serve` during development longer redirects URLs with similar path segments from different services, like `/service/one` and `/service`\n- `cds deploy --to sqlite` now ignores a `_texts.csv` file again if there is a language-specific file like `_texts_en.csv` present\n- Using logical blocks (surrounded with `(` and `)`) in ON-conditions of unmanaged associations and compositions\n- Skip \"with parameters\" clause if no order by clause or all columns in the order by clause are not strings when using parametrized views on SAP HANA\n- Limited support for binary data in OData\n  - Using of `base64` encoded string values in `WHERE IN` on SAP HANA\n  - `base64url` values in `@odata.context` annotation\n- `cds.context` is set in GraphQL adapter\n- Using payloads with `@odata.type` annotating primitive properties no longer crashes the application. `#` in type value may be omitted. Example:\n\n  ```json\n  {\n    \"ID\": 201,\n    \"title@odata.type\": \"#String\",\n    \"title\": \"Wuthering Heights\",\n    \"stock@odata.type\": \"Int32\",\n    \"stock\": 12\n  }\n  ```\n\n- Unicode support for i18n bundles\n\n## Version 5.8.2 - 2022-02-22\n\n### Fixed\n\n- Crash if error does not have a stack in Kibana logging\n- Allow short names for bound operations in odata-server\n- Performance issue during deep operations\n- Resolving views with parameters\n- Expanding association-to-many within draft union scenario\n- Erroneous invalidation of deep `INSERT|UPDATE|DELETE` operations if root entity has managed to-one association to non-writable view\n- Handling of falsy results when sending requests to remote services\n- Resolving foreign key propagations for views with union\n\n## Version 5.8.1 - 2022-02-11\n\n### Fixed\n\n- Use single transaction for update mutations in GraphQL adapter\n- ODATA to CQN parser returned not selected keys in `@odata.context`\n- Draft: `$expand` with special draft columns in `$orderBy` for active entities\n- Reading distinct values of draft enabled entity\n- Handling of LOB data on HANA\n- Fix streaming draft by navigation\n- Empty to-many arrays are not removed from req.data for inserts\n- `$filter` query option in structured mode (OData flavors `w4` and `x4`)\n  + Using JSON-stringified objects no longer occasionally crashes an application\n  + Filtering on a structured element with `ne null` condition also selects data having some `null` properties within\n- Rest: `Content-type` header is set to `text/plain` for primitive data types in response (except for `Boolean`)\n\n## Version 5.8.0 - 2022-01-27\n\n### Added\n\n- Custom `server.js` don't have to export `cds.server` anymore -> we use that by default now.\n- In `cds.requires`: Support to replace primitive values with objects\n- Support filter functions on renamed properties from external service\n- Results of database queries use `big.js` for values of type `cds.Decimal` and `cds.Integer64` if enabled via `cds.env.features.bigjs`\n- Support lambda in `$filter` in `$expand`\n- Support for `GET` requests on service root in REST adapter (old and new)\n- Support for `HEAD` requests in REST adapter (old and new)\n- New hook `req.before('commit')`\n- Draft (Access control for bound actions): Only the user that is the owner of the draft can execute its bound actions.\n- Check that all keys are provided in REST adapter\n- Restrict access to all services via `cds.env.requires.auth.restrict_all_services = true`\n  - That is, all unrestricted services (i.e., w/o own `@requires`) are treated as having `@requires: 'authenticated-user'`\n- Threshold for automatically sending GET requests as `$batch` (beta, cf. @sap/cds@5.6.0) can be configured per remote service via `cds.env.requires.<srv>.max_get_url_length` (if not configured on service, the global config applies)\n- Limited support for binary data in OData\n  - In payloads, the binary data must be a base64 encoded string\n  - In URLs, the binary data must have the following format: `binary'<url-safe base64 encoded>'`, e.g., `$filter=ID eq binary'Q0FQIE5vZGUuanM='`\n  - The use of binary data in some advanced constructs like `$apply` and `/any()` may be limited\n  - On SQLite, the base64 encoded string is stored in the database\n  - It’s strongly discouraged to use binary data as keys. See \"Primary Keys — Best Practices\" in the documentation.\n- Support for OData annotation `@Core.ContentDisposition.Type` with `attachment` as the default value\n- Support for returning custom stream objects in custom handlers (beta):\n  - Example:\n\n    ```js\n    return {\n      value: instanceof Readable || null,\n      $mediaContentType = 'image/jpeg',\n      $mediaContentDispositionFilename = 'foo.bar', // > optional\n      $mediaContentDispositionType = 'inline' // > optional\n    }\n    ```\n\n### Changed\n\n- `cds deploy --to hana` now uses `cf curl` instead of `cf` command natively\n- Event Mesh: In multitenancy mode, messaging artifacts are also deployed for provider accounts (unless the service option `deployForProvider` is set to `false`)\n- Status code in case of multiple errors (rules apply in order):\n  + If all errors have the same status code, that status code is used\n  + If there is at least one 5xx status code, the resulting status code is 500\n  + If there is at least one 4xx status code, the resulting status code is 400\n  + If none of the rules apply, the resulting status code is 500\n- Ignore the `If-Match` HTTP request header for `UPDATE`/`DELETE` requests whose target entities are not annotated with the `@odata.etag` annotation.\n- I18n template strings now are replaced in EDMX documents such that they can occur multiple times.  For example, the `{i18n>key1} - {i18n>key2}` template results in `value1 - value2`, while previously only the first string was replaced, leading to `value1 - {i18n>key2}`.  This is helpful for the [`Template` strings of `UI.ConnectedFields`](https://github.com/SAP/odata-vocabularies/blob/ac9fe832df9b8c8d35517c637dba7c0ac2753b0f/vocabularies/UI.xml#L168).\n\n### Fixed\n\n- At Node.js runtime, the `development` configuration profile is no longer active if `CDS_ENV` is set to `production` and `NODE_ENV` is undefined\n- Enterprise Messaging: The user is now privileged for AMQP\n- `cds.spawn` also works with synchronous functions\n- Foreign keys in parent are set to `null` when deleting composition of one\n- `cds version` now always prints the version of `@sap/cds-dk`, especially if `cds version` was called from within an npm script, i.e. not from `cds-dk`'s CLI.\n- Better error message in case destination of Remote Service isn’t found\n- Differentiate between draft already exists and entity locked\n- OData adapter: roll back transaction before re-throwing standard error in case of atomicity group\n- Results of actions/functions do not ignore custom data when using `$expand` query option\n- `req.data` is available in custom error handler in case of deserialization error thrown by legacy OData server\n- Joining entities with renamed foreign keys (limited to single-level projections)\n- Requests with draft and `$expand=*` caused problems in some cases\n- `cds serve` during development longer redirects URLs with similar path segments like `/browse/123/browse/` to e.g. `/browse/`\n- Post-processing for renamed columns in expand\n- Deploy to SAP HANA: passing of options to `hdi-deploy` via `HDI_DEPLOY_OPTIONS` now possible\n- Keys as path segments in beta OData to CQN parser\n- OData V2 Remote Service (`\"kind\": \"odata-v2\"`):\n  + Request data properties of types `cds.Date`, `cds.DateTime`, and `cds.Timestamp` are converted accordingly to OData V2 specification\n  + Response data properties of types `cds.Decimal`, `cds.DecimalFloat` (deprecated) and `cds.Integer64` are handled properly when using `Accept` header with `IEEE754Compatible=true/false` and `ExponentialDecimals=true/false` format parameters\n\n## Version 5.7.6 - 2022-02-23\n\n### Fixed\n\n- `draftActivate` action does not return children if not requested\n\n## Version 5.7.5 - 2022-01-14\n\n### Fixed\n\n- Instance-based restriction for activation of draft-enabled entities using `or` in restriction\n- Messaging: Duplicate handler execution if application service registered events twice\n- Post of a deeply nested sub-entity with structured parent keys\n- Negating lambda expressions in OData using the `not` operator\n- Event Mesh: Redelivery count when using AMQP\n- OData requests using lambda expressions on localized data\n- `cds.db.exists` wrongly generated a `SELECT * FROM ...` for OData flavor x4\n- Return localized texts on draft activate\n- Unicode characters in unquoted search terms in beta OData to CQN parser\n\n## Version 5.7.4 - 2021-12-22\n\n### Fixed\n\n- Complex `@restrict.where: 'exists [...] or (... or ...) or ...'` in draft union scenario no longer crashes the application\n- Sanitization of null values for `cds.RemoteService`\n- Handling of boolean values in draft union scenario with `$expand` query option\n- `_4odata` flag in CQN stays non-enumerable when forwarding to another application service\n- Handling of type references on properties of associations in `cds.minify`\n\n## Version 5.7.3 - 2021-12-16\n\n### Fixed\n\n- Message Queuing now accepts `amqp` options\n- OData requests using lambda expressions with `contains` function\n- Result of OData query option `$count=true` when using `$apply`\n- `$filter` with navigation to-one equals value crashes\n- `$skiptoken` query option allows using arbitrary symbols except of `&` with beta OData URL to CQN parser (`cds.env.features.odata_new_parser`). In this non-integer value case, the value won’t be parsed into CQN.\n- Function names in `$filter` can now be case insensitive (as per OData 4.01)\n- `$count` in `$expand` caused server to crash\n\n## Version 5.7.2 - 2021-12-09\n\n### Fixed\n\n- Instance-based restriction for activation of draft-enabled entities\n- `.columns('*')` on projections of remote services using renamed properties\n- GraphQL filters on nested fields are now applied correctly\n- Performance degradation during the processing of `where exists`\n- Read drafts via navigation with complex filter expression\n\n## Version 5.7.1 - 2021-12-06\n\n### Fixed\n\n- Draft (OData flavors `w4`, `x4`, and `v4` with structs): Flags `HasActiveEntity`, `HasDraftEntity`, and `IsActiveEntity` are now included in the HTTP response for GET requests.\n- Instance-based restriction on entities using localized fields in draft\n- Results of actions/functions do not ignore nested data if query options are present\n\n## Version 5.7.0 - 2021-12-03\n\n### Added\n\n- Deferred emitting via persistent outbox, enabled through service `outbox` of kind `persistent-outbox`\n- Support for compiler-generated referential constraints (beta)\n  + Activate via `cds.env.features.assert_integrity: '<preset>'`\n  + Available presets:\n    + `off`: no database constraints and no runtime checks\n    + `app`: runtime checks by default\n    + `db`: database constraints by default\n  + \"by default\": if not excluded, the runtime check or database constraint applies\n  + \"opt-in\": if included, the runtime check or database constraint applies\n  + Behavior can be overridden via `@assert.integrity: <true/false/'RT'/'DB'>` on property, entity, or service level (lowest applies)\n- Allow `--with-mocks` in production via `cds.env.features.with_mocks = true`\n- Set media type from content-type header while inbound streaming\n- Support for navigations with `$count` in `$filter`, for example `GET Entity?$filter=toMany/$count gt 0`\n- Draft: Generate UUIDs for request payloads to which extra data items are added (without the UUID keys) in a custom application handler.\n- Generate GraphQL schema via `cds compile -2 gql` (alpha)\n- Log requests to remote services if the respective log level is set to `debug`\n- Beta OData URL to CQN parser (`cds.env.features.odata_new_parser`):\n  + Support for `$skiptoken` query option\n  + Limited support for `$apply` query option\n    + Supported are the following transformations and their combinations: `aggregate`, `groupby`, `topcount`, `bottomcount`, `filter`, `search`\n    + Not supported:\n      + Transformations `topsum`, `bottomsum`, `toppercent`, `bottompercent`, `expand`, `concat`, `compute`, `identity`\n      + `rollup` and `$all` in `groupby` transformation\n      + Filter function `isdefined`\n      + Custom aggregation methods, arithmetic operators (`add`, `sub`, `mul`, and so on), and keyword `from` in `aggregate` transformation\n      + OData vocabulary for Data Aggregation, `@Aggregation.default` annotation\n    + Out of scope:\n      + Draft handling\n- Out-of-the-box audit logging for draft enabled entities\n- Support for `@sap/instance-manager`'s hybrid mode\n  + Enable via `cds.env.features.hybrid_instance_manager`\n  + Respective version of `@sap/instance-manager` required\n- `cds.minify()` (alpha) as static method\n- Annotation `@open` for actions in new Rest Adapter\n- Audit logging (`cds.env.features.audit_personal_data`) supports annotation `@PersonalData.EntitySemantics: 'Other'` and allows an arbitrary composition of entities with respect to `@PersonalData.EntitySemantics` annotations\n\n### Changed\n\n- `if-match` and `if-none-match` headers are  ignored for entities without etags\n- Improve response time of `SELECT` queries that check referential integrity by adding an upper bound `LIMIT 1`\n- Leaner implementation for `sap-statistics`\n- Leading and trailing whitespaces are allowed for `$search` query parameter\n- Insert / Update of Composition of one with empty object is not allowed for non UUID keys\n- Search behavior of whitespaces changed as follows:\n  + Searches for plain whitespace, for example, `\"$search= \"` matches the complete data set.\n  + Searches for whitespace surrounded by double-quotes, for example, `$search=\" \"` matches all entries containing whitespaces.\n- In single-tenant mode, the default SQLite database is used, regardless of `context.tenant`\n- `cds build` for Node.js projects now copies `package-lock.json` files into the staging folder (usually `gen/srv`). This allows the execution of `npm ci` there.\n- Relaxed UUIDs in beta URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Authentication strategies `dummy` and `mock` no longer require `passport`\n- In production, debug logs of `cds.DatabaseService` and `cds.RemoteService` have sanitized values\n  + Deactivate via `cds.env.log.sanitize_values = false`\n\n### Fixed\n\n- Path resolution for references in sub-selects\n- Where exists without infix filter, e.g., `@restrict.where: 'exists author'`\n- `@restrict.where: 'exists [...]'` in draft union scenario\n- Select query with path exists predicates, for example, `WHERE EXISTS books[year = 2000].pages[wordcount > 1000]`\n- Proper registration of audit log event handlers\n- Draft: Generate foreign keys for request payloads to which extra data items are added in a custom application handler.\n- `cds build` correctly merges `hdbmigrationtable` files that have multiple new migration versions defined.\n- `cds.test` converts response data of failed requests to JSON to prevent lost error details\n- Instance-based restriction for draft enabled entities\n- Delete requests for localized with compositions\n- Ignore input for static and calculated fields during draft activate\n- Clear extension map entry on error during CSN fetching\n- Do not ignore errors during diff calculation\n- Requests to mocked remote service when using custom service name with `.service` property\n- Rollback on already backrolled or committed transactions are ignored\n- Rollback handling in spawned background job\n- `cds.spawn()` throws error if passed option is an instance of `cds.EventContext`\n- Delete `timestamp` from options passed to `cds.spawn()` (transactions create their own timestamp)\n- Type error during programmatic action/function call if no params defined\n- Fully qualified bound actions/ functions in beta URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Draft handling: `GET` requests with navigation via `SiblingEntity` and expand to-one\n- No audit log if sensitive data not selected\n- Kibana formatter: do not log authorization header value\n- Audit logging (`cds.env.features.audit_personal_data`) no longer crashes the application\n  + when using the same entity as a composition child in different parent entities\n  + when accessing a not existing entity\n\n### Removed\n\n- Deprecated feature flags `cds.env.runtime.skipWithParameters` and `cds.env.features.skip_with_parameters`. Use `cds.env.features.with_parameters` instead.\n\n## Version 5.6.4 - 2021-11-23\n\n### Fixed\n\n- Preserve log level in Kibana formatter\n- RFC 3986 compliant segment recognition in beta URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Support for `$skiptoken` OData query option when using beta URL to CQN parser (`cds.env.features.odata_new_parser`)\n- OData requests with `$skip` and without `$top` query option to services with defined default limit (`cds.query.limit.default`)\n- Creating entities with binary keys. Currently, the binary keys may be provided only as Node.js `Buffer` instances using a custom handler.\n- Requests with a payload containing nested arrayed elements no longer crash the application\n\n## Version 5.6.3 - 2021-11-15\n\n### Fixed\n\n- `cds run` does not fail if `cds.requires.multitenancy` is explicitly set to `false`\n- Calculation of `DraftIsCreatedByMe` or `DraftIsProcessedByMe` when expanding or navigating to `DraftAdministrativeData`\n- Nested `any` in `$filter` query option\n- Crash on draft activate after draft edit for not existing composition of one if no explicit DB service is defined\n- Typescript definition of `srv.delete` no longer leads to a duplication error\n\n## Version 5.6.2 - 2021-11-08\n\n### Fixed\n\n- Handle arrayed elements using templating mechanism\n- OData requests to `$count` endpoint of ETag enabled entity\n- `cds.test` does no longer crash if executed in `cds repl` on a remote service call\n- Crash on draft activate after draft edit for not existing composition of one\n- Ensure request correlation (with default server)\n- `<entity>.texts` points to real text entity\n- Draft union with expand to to-one and to-many\n- No columns in draft lock statement (i.e., use `SELECT 1`)\n\n## Version 5.6.1 - 2021-11-02\n\n### Fixed\n\n- UAA credentials lookup\n- Revert return type validation for `cds.String` for compatibility with older `@sap/cds-mtx` versions\n- Messaging: Ill-defined incoming AMQP messages will not crash the app\n- `cds compile -l` does no longer crash if called without `--to` option\n\n## Version 5.6.0 - 2021-10-29\n\n### Added\n\n- New REST protocol adapter (beta)\n  + Makes use of the beta OData URL to CQN parser. Hence, almost all OData requests are supported (see limitations below).\n  + Activate via `cds.env.features.rest_new_adapter = true`\n  + Out of scope (compared to OData protocol adapter):\n    + OData query option `$apply`\n    + Batch requests (with or without atomicity groups)\n    + Draft handling\n- New GraphQL protocol adapter (alpha)\n  + Serves single endpoint for all services based on `served` event at `/graphql` (subject to change).\n  + Activate via `cds.env.features.graphql = true`\n  + Required additional dependencies: `@graphql-tools/schema`, `express-graphql`, and `graphql`\n  + Not meant for productive use! For example, authentication and authorization are out of scope.\n- Support of the following features when using beta OData URL to CQN parser (`cds.env.features.odata_new_parser`):\n  + REST-style URLs (example: `GET /Foo/1`)\n  + `$expand=*` query option on different nested expand levels (`$levels` isn’t yet supported)\n  + Draft handling\n  + Structured keys\n  + Streaming\n  + Navigation to primitive properties without `$value` query option\n- Optimized Search: Support `$filter` query option in combination with optimize `$search` and localized data (when the environment variable `cds.env.features.optimized_search` is set to `true`)\n- `GET` requests support static values in ON-conditions of composition parents when using unmanaged backlinks\n- `destinationOptions` can be configured for Remote Services\n  + Example:\n    ```json\n      {\"cds\":{\"requires\":{\n        \"S4\": {\n          \"destinationOptions\": {\n            \"selectionStrategy\": \"subscriberFirst\",\n            ...\n          }\n        }\n      }}}\n    ```\n- `forwardAuthToken` can be configured for Remote Services\n  + Example:\n    ```json\n      {\"cds\":{\"requires\":{\n        \"credentials\": {\n          \"url\": \"...\",\n          \"forwardAuthToken\": true\n          }\n        }\n      }}}\n    ```\n- File to store private project settings `.cdsrc-private.json` (shouldn’t be checked in source code management)\n- Read additional configuration from JSON files or directory structures using `CDS_CONFIG` env variable\n- Missing typescript definitions for services' `.send` shortcuts `get`, `put`, `post`, `patch`, and `delete`\n- Build VCAP_SERVICES env variable dynamically for compatibility (`cds.env.features.emulate_vcap_services`)\n- GET requests to Remote OData Service are automatically sent as `$batch` if the generated URL is too long\n  + Can be configured via `cds.env.remote.max_get_url_length` (beta, default: 1028).\n- Provide ETag in response headers in case of `prefer: return=minimal`\n- Kibana formatter: log the user's id via `cds.env.log.user = true` (beta)\n  + Consider the data privacy implications!\n- Experimental support for uiflex running locally on sqlite by setting `cds.requires.extensibility.kind = uiflex`\n- Minified `cds.model` (deactivate via `cds.env.features.skip_unused = false`)\n\n### Changed\n\n- Query API: Specified keys are now part of the target path, e.g. `SELECT.from('Books', 1)` will move the key condition into `SELECT.from.ref`.\n  + Deactivate during two-month grace period via compat feature flag `cds.env.features.keys_into_where = true`\n- Removed duplicate integrity checks\n- Optimized search: Optimize queries for non-localized elements\n- OData to CQN parsing changed to enable remote service consumption. As a side effect, application code in `srv.on('READ', handler)` custom handlers relaying on CQN might need to be adapted. The following has changed:\n  - Previously, columns in `req.query.SELECT.columns` were always defined. Now, in case there is no `$select` and `$expand` query options in the OData query, `req.query.SELECT.columns` is `undefined`.\n  - Previously, if the `$expand` query option was specified in the OData query, all elements of the expanded navigation property were listed explicitly in the CQN query. Now, an `*` (asterisk) is listed instead.\n- Non-specified columns are resolved at database layer\n- `cds deploy` no longer enforces the presence of SAP CommonCryptoLib (checked with env variable `SECUDIR`) on Windows since it uses now the built-in security libraries\n- Target keys are not included in the body when sending `PATCH` requests to external services\n\n### Fixed\n\n- Audit logging of non-string values\n- Query API compilation error when keys start with `{`\n- Handling of wrong Edm.DateTimeOffset values\n- Using UUIDs in search with beta OData URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Runtime exception for READ requests with deeply nested navigation and structured keys, for example:\n`GET foo/Bar/b708ad6c-2dd4-40d5-91c0-2e3eacf306d2/Info/sales(a='1010',b='10',c='00')/functions(functionName='error')`\n- The check for the minimum Node.js version now properly enforces version 12.18, i.e. aborts server startup.\n- `cds.test` fails with a clearer error message if the server wasn't started at all\n- Audit logging for modification of personal or sensitive data when using same entity as a composition child in different parent entities\n- Deleting an entity defined with managed composition of one, whereas a dependent entity is defined as having an independent managed association to its composition parent no longer crashes the application\n- Audit logging for entities having arrayed elements\n- Filtering for `cds.Date` on Remote OData V2 services\n- Crash when `rollup` function was used in groupBy in OData requests\n- Or for $filter with IsActiveEntity=true for access to active entities\n- Reading draft-enabled entity with `$expand` targeting non-draft associations\n- Delete with sub-select\n- Runtime exception when streaming property annotated with `@Core.MediaType: 'application/json'`\n- Reading streams via navigation when entity containing large data is a part of a draft-enabled composition tree\n- Read draft entity with nested exists restriction\n- Activate draft of entity having `to-one` and `to-many` compositions\n- Caching issue that causes the OData `omit-values` preference in `Prefer` HTTP headers to misbehaves\n- Deletion of draft instances if multiple draft enabled entities are used within one service\n- Queries with `contains` filter targeting a remote OData v2 service\n- Schema evolution support for nested CDS entities in `cds build`\n- I18n texts with quotes and other special characters get escaped correctly if they appear in XML and JSON documents\n- Execution of plain SQL statements on SQLite\n- `Content-Disposition` header is now URL encoded\n\n### Removed\n\n- Usage of `@sap/xsenv` is superseded with `cds.env` in node.js cds-runtime\n- `@odata.on.insert/update` and `#user/now` are deprecated and will be removed in the next major version. Use `@cds.on.insert/update` and `$user/now` instead.\n\n## Version 5.5.5 - 2021-10-20\n\n### Fixed\n\n- Action parameters set to null\n- Restrictions with \"where exists\" clause and filter on ambiguous fields\n- Nulled user attribute in restrictions with \"where exists\" clause\n- Wait for all queries to settle during deep operation\n\n## Version 5.5.4 - 2021-10-12\n\n### Fixed\n\n- Backwards compatibility for `cds.tx({ user: new User ({ tenant, locale }) })`\n- Transaction API fix: `cds.tx ({ tenant }, tx => { ... })` instead of `cds.tx (tx => { ... }, { tenant })`\n- Writable and reliable `query._target`\n- `req.target` in REST with navigations in URL\n\n## Version 5.5.3 - 2021-10-06\n\n### Fixed\n\n- Resolving of views for view definitions using aliases\n- `cds.test` in `cds repl` no longer yields an error with the `beforeEach` function not found\n- Aliasing in case of draft union when expanding more than one `to-one` association\n- Resolving of views if intermediate views are defined in database namespace\n\n## Version 5.5.2 - 2021-09-29\n\n### Fixed\n\n- `$expand` requests with virtual fields with the same name in root and child\n- Requests expanding `DraftAdministrativeData` when compound keys are used\n- `SELECT.columns` with an empty array as argument\n- Queries with complex lambda filters\n\n## Version 5.5.1 - 2021-09-24\n\n### Added\n\n- Support for casting SQL function input\n\n### Fixed\n\n- Typo in `DELETE` method of `cds.test`\n- View resolving for intermediate queries\n- Result post-processing for renamed expands\n- Don't use placeholder values for `null`\n\n## Version 5.5.0 - 2021-09-23\n\n### Added\n\n- Support for minified models\n- Messaging: Support for string payloads\n- Messaging: Webhooks use 'application/json' as the default content type\n- Messaging: If senders don't use `data` as a property of the payload, then the whole payload is interpreted as `data`\n- Messaging: Support for `$namespace` placeholer in queue name\n- Support for deletable singletons with `@odata.singleton.nullable`\n- Remote requests set the `accept-language` header according to the original request or the user's locale\n- Support for choosing data source names different from names of respective service definitions.\n  + Example:\n    ```json\n      {\"cds\":{\"requires\":{\n        \"S4\": {\n          \"model\": \"...\", \"service\": \"API_BUSINESS_PARTNER\"\n        }\n      }}}\n    ```\n- When calling `cds.tx()` to create new transactions, this now automatically inherits the current event context from `cds.context`. In case that creates issues set `cds.env.features.cds_tx_inheritance = false` to restore the former behaviour. You can still overwrite individual context settings, for example:\n    ```js\n    const tx = cds.tx() // inherits tenant and user\n    const tx = cds.tx({ // inherits tenant\n      user: new cds.User.Privileged\n    })\n    ```\n- Method `cds.tx()` now allows to pass a function which will be executed within a new managed transaction, with `tx.commit/rollback()` handled automatically. For example:\n    ```js\n    await cds.tx (tx => {\n      await tx.insert (...)\n      await tx.read (...)\n    })\n    ```\n    is equivalent to:\n    ```js\n    const tx = cds.tx ()\n    try {\n      await tx.insert (...)\n      await tx.read (...)\n      await tx.commit()\n    } catch {\n      await tx.rollback()\n    }\n    ```\n- Method `cds.tx({user})` now allows specifying a user as a plain string, for example:\n    ```js\n    cds.tx ({ user:'me' })\n    ```\n    is equivalent to:\n    ```js\n    cds.tx ({ user: new cds.User('me') })\n    ```\n- Newly introduced method `cds.spawn()` allows correctly and conveniently spawning background jobs from within event handlers. Thereby ensuring a detached fully-managed ACID transaction set as `cds.context` for each execution of the background job, inheriting the current event context from the outer `cds.context` by default. Usage options:\n    ```js\n    cds.spawn (async ()=>{\n      await INSERT.into ('Ticker') ...\n    })\n    ```\n    ```js\n    cds.spawn (async ()=>{\n      await INSERT.into ('Ticker') ...\n    },{ after: 111 /* ms */ })\n    ```\n    ```js\n    let n=0, handle = cds.spawn (async ()=>{\n      await INSERT.into ('Ticker') ...\n      if (++n>9) clearTimeout (handle)\n    },{ every: 111 /* ms */ })\n    ```\n    ```js\n    cds.spawn (async ()=>{\n      await INSERT.into ('Ticker') ...\n    },{ // inherits tenant\n      every: 111 /* ms */,\n      user: new cds.User.Privileged\n    })\n    ```\n- Default server is CORS-enabled for all origins if not in production\n- Default lock acquire timeout for `SELECT FOR UPDATE` via `cds.env.sql.lock_acquire_timeout`\n- Optimized search: Support `groupby` for localized data (when the environment variable `cds.env.features.optimized_search` is set to `true` on SAP HANA)\n- Out-of-the-box audit logging for deep structures without own association to data subject\n  + limited to one data subject per role per composition tree\n- Support for reading streams via `GET /<Entity>(<ID>)/$value`\n- Draft choreography: support of navigation with `SiblingEntity`\n- Support for where exists with infix filters in `@restrict`\n- Support annotation `@Capabilities.ExpandRestrictions.NonExpandableProperties`\n- `@Core.ContentID` added to OData error responses if `content-id` header is specified\n- New OData URL to CQN parser (`cds.env.features.odata_new_parser`):\n  + support of navigation to primitive properties using `$value`\n  + support of `not` operator with string functions (`contains`, `startswith`, `endswith`)\n- Support for default values for virtual fields\n- Payload for non-writable navigation targets removed from `req.data`\n- `cds build` supports i18n message bundles for Java and Nodejs apps and a default CSN format option for Java\n- View resolving considers renaming of foreign keys and `excluding` names when `columns` are explicitly provided in CQN\n- Resilient acquire for SAP HANA via `cds.env.requires.db.connection_attempts = <number>` (alpha; hard max of 3 enforced)\n\n### Changed\n\n- Messaging: Webhooks will always generate tokens\n- Messaging: In multitenancy mode, messaging artifacts are only deployed to subscribers (unless the service option `deployForProvider` is set to `true`)\n- Messaging: Incoming messages without corresponding handlers aren’t acknowledged\n- If a service executes a query targeting a projection on one of its entities, the query is resolved along with projections to an entity known by the executing service. The result is post-processed to reflect the expected result of the incoming query. The reason is that no handlers of the executing service were executed as they didn’t know the query target.\n  + Deactivate during two-month grace period via compat feature flag `cds.env.features.resolve_views = false`\n- Use `@sap/cds-compiler`'s `smartId` function to determine whether a reference needs to be quoted.\n  + Allows the use of non-word characters in column names, for example `entity Foo { ![bar/bz]: String; }`.\n  + Support for columns with spaces with feature flag `cds.env.features.spaced_columns`.\n  + Note: Restrictions in other layers (example: OData's simple identifier schema) still apply.\n  + Note: Expressions in references (example: `ref: ['foo as bar']`) currently works but were never intended to and will be removed in future versions.\n- Clear draft data based on their draft UUID instead of via deep delete\n- Support `@sap/cds-compiler`'s changes for DB constraints: managed and unmanaged compositions of one behave like associations. This means that only `$self`-managed composition of one gets `DELETE CASCADE` constraint. Since all other \"2one\" cases require extra `DELETE` handled by the runtime, that constraint is ignored.\n- Value with regards to date and time functions aren’t converted to strings in the OData protocol adapter\n- No placeholders for `LIMIT` to enable statement caching during pagination\n- Arrayed elements stringified in DB layer\n- Return values of handlers will have precedence over database reads\n- Error of a failed request to a Remote Service contains now the response payload if available\n- Configuring ad-hoc destinations via `credentials.url` is now allowed in `NODE_ENV=production`\n- New OData URL to CQN parser (`cds.env.features.odata_new_parser`):\n  + CQN for `$select` and `$expand` columns\n\n### Fixed\n\n- `SELECT.from (Foo, f => f.bar('*').where(...))` resulted in a runtime exception\n- Preserved locales are now considered when accessing database tables\n- Integrity checks for compositions by draft enabled entities\n- Constant columns must not be quoted anymore, i.e. `{ val: \"'myValue'\", as: \"myColumn\"}` must be changed to `{ val: \"myValue\", as: \"myColumn\" }`\n- Accidental `tx.run()` after prior `tx.commit/rollback()` lead to acquired connections not returned to pool. This is detected and disallowed now. In case that creates issues set `cds.env.features.cds_tx_protection = false` to restore the former behaviour.\n- Structured keys are correctly resolved with pegjs-based parser\n- Template processing for columns with spaces in their name\n- Deep delete with recursions in composition tree (with limited recursion depth)\n- Draft edit with recursions in composition tree (with limited recursion depth)\n- `emit` for messaging services now also works in custom express middlewares\n- `req.query` is a CQN object (previously array with one entry) in case of batch insert in REST adapter\n- HasActiveEntity flag with expand\n- `compile.to.serviceinfo` now honors default Java endpoint paths if none are configured in `application.yaml`\n- `PATCH` request to a non-existent entity annotated with the `@PersonalData` annotation\n- `req.diff()` while deep updating via composition\n- Convert data type of elements in sub-entities (to one association) when forwarding responses to external services\n- Update children of a composition of many (`INSERT > DELETE`) with `PATCH/PUT` having at the same time another association to one composition child respects foreign key constraints.\n- Handling of virtual fields used in the `$filter` query option of navigation requests\n- Copy texts in default language from active to draft table on draft edit\n- Optimized search: Escape double quotation marks and backslashes (when the environment variable `cds.env.features.optimized_search` is set to `true`)\n- Update for multiple rows\n- Expand during draft union\n- Validate content type for `$batch` requests\n- Support for `SELECT` statements in `where` clauses when resolving views\n- `INSERT.rows()` doesn’t silently fill in `INSERT.entries` anymore &rarr; use `INSERT.entries()` to do so instead.\n- `UPDATE(Foo).with({foo:{'=':'bar'})` erroneously produced:\n  ```js\n  {UPDATE:{..., with:{foo:{ref:['bar']}}}} //> wrong\n  ```\n  instead of:\n  ```js\n  {UPDATE:{..., data:{foo:'bar'}}} // correct\n  ```\n  &rarr; to produce the ref, use one of:\n  ```js\n  UPDATE(Foo).with ({foo:{ref:['bar']}})\n  UPDATE(Foo).with `foo=bar`\n  ```\n- `UPDATE.with` property stays undefined until actually filled with data\n- Differentiate between require and initialize error of audit logging client\n- The built-in model tree-shaking erroneously deleted explicitly modeled `.texts` entities\n- Actions and functions with `Integer` response type in REST services\n- Occasional drop of conditions in `WHERE` depending on the value when using structured types\n- `PATCH` fixed for singletons and when having a keyless, for example, managed to-one navigation path\n- Internal server error when forwarding a query to an external service whose target entity doesn’t contain keys\n- Nested where exists in `@restrict` via navigation (CRUD-only; beta)\n- Expand to one in draft union\n- Patch to auto exposed entity through composition of aspect from SAP Fiori Elements\n- Diff for delete in draft\n- Streaming requests on views with joins no longer crash the application\n\n### Removed\n\n- Direct usage of body-parser\n- Queries constructed from `cds.ql` do not have the _internal_ property `cqn` anymore\n- Inofficial variant `SELECT({'expand(foo)':['a','b']})` is not supported anymore\n  &rarr; use one of these official APIs for expands instead:\n  ```js\n  SELECT(x => { x.a, x.foo (f =>{ f.b, f.c }) })\n  SELECT(['a',{ref:['foo'], expand:['b','c']}])\n  ```\n- Inofficial variant `SELECT.orderBy('foo','desc')` is not supported anymore\n  &rarr; use one of these official APIs instead:\n  ```js\n  SELECT.from(Foo).orderBy({foo:'desc'})\n  SELECT.from(Foo).orderBy('foo desc')\n  ```\n- Inofficial variant `SELECT.orderBy('foo, bar desc')` is not supported anymore\n  &rarr; use one of these official APIs instead:\n  ```js\n  SELECT.from(Foo).orderBy({foo:1,bar:-1})\n  SELECT.from(Foo).orderBy('foo','bar desc')\n  SELECT.from(Foo).orderBy `foo, bar desc`\n  ```\n- Inofficial variant `SELECT.where({ or: [{ foo: 'bar' }, { foo: 'baz' }] })` is not supported anymore\n  &rarr; use one of these official APIs instead:\n  ```js\n  SELECT.from(Foo).where({ foo: 'bar', or: { foo: 'baz' } })\n  SELECT.from(Foo).where `foo='bar' or foo='baz'`\n  ```\n- Usage of SQL window functions during expand on SAP HANA\n- Hidden symbol for where clause elements originating from `@restrict`\n- Error masking gate keeper for `cds.env.log.levels.cli`\n\n## Version 5.4.6 - 2021-09-18\n\n### Added\n\n- Support for nested where exists in `@restrict` (CRUD-only; beta)\n\n### Fixed\n\n- Inverse transition mapping calculation\n- Skip empty structures during deep update\n\n## Version 5.4.5 - 2021-09-15\n\n### Fixed\n\n- Processing of null elements during deep update\n- Performance issue during template processing\n\n## Version 5.4.4 - 2021-09-09\n\n### Fixed\n\n- For drafts, the query parameter `$top=0` in combination with `$count=true` now returns the correct `@odata.count` value\n- Deep delete with composition of one with structured key in target\n- Implicit delete of child with structured key\n- Update of deeply nested entity with structured key\n- Order by join column during draft union\n- Skip calculated properties while following projections\n- The `with parameters` clause is now correctly handled in sub-selects if the locale parameter exceeds three characters\n- Statement already finalized error on SQLite\n\n## Version 5.4.3 - 2021-08-16\n\n### Fixed\n\n- Skip calculated properties while following projections\n- Unrestricted subclauses in `@restrict.where`\n- Safe access to `cds.env.log.levels.cli`\n\n## Version 5.4.2 - 2021-08-11\n\n### Fixed\n\n- Where condition in draft union in case of multiple keys\n- Handling of nulled properties in Service Consumption\n- Requests to Remote Services returning `text/html` result in an error\n- View resolving is more robust for path expressions\n- Skip foreign properties (e.g., mixins via associations) while following projections\n- UPDATE entity with composition to aspect with structure type property\n\n## Version 5.4.1 - 2021-08-03\n\n### Fixed\n\n- Erroneously added Brazilian Portuguese (`pt_BR`) removed from the list of normalized locales\n\n## Version 5.4.0 - 2021-08-02\n\n### Added\n\n- Messaging: Support for format `cloudevents`\n- Messaging: Support for `@topic`\n- Messaging: Support for `subscribePrefix` and `publishPrefix`\n- Support for `ReadByKeyRestrictions` annotations\n- Support for OData `omit-values` preference in `Prefer` HTTP header\n- Object variant of service methods\n- Brazilian Portuguese (`pt_BR`) is now on the list of [normalized locales](https://cap.cloud.sap/docs/guides/i18n#normalized-locales)\n- Support for actions and functions on Remote Service\n\n### Changed\n\n- In multitenant `enterprise-messaging`: If a tenant subscribes, the messaging artifact generation is awaited. In your provisioning service configuration, make sure to set `onSubscriptionAsync` to `true` and `callbackTimeoutMillis` to more than 10 minutes.\n- In `enterprise-messaging`: Messages are sent via HTTP\n- Computed values are preserved during draft activate\n- Messaging: No more topic manipulation per default\n- For consistency reasons `cds build` now determines the default model path using cds resolve\n- Match XSUAA's user attribute value `$UNRESTRICTED` case insensitive\n- CDS build now uses new CDS logging facade to allow for consistent logging behaviour across the different CDS modules\n\n### Fixed\n\n- Disable persistency check for requests without a target\n- Expand at draft edit\n- Remove restriction for `$search` queries not accepting brackets\n- Select query with infix filter in custom handler\n- Order by on same named properties of different associations in draft\n- Allow to call bound actions and functions of read-only entities\n- Writing draft-enabled entities with composition of aspects (a.k.a. managed compositions)\n- Expand to autoexposed association/composition in draft case\n- `cds.parse.xpr()` always returns an array\n- Allow boolean options in `cds build` CLI\n- Integrity check in case of bulk query execution\n\n### Removed\n\n- Messaging: The topic prefix `topic:` is deprecated\n- Messaging: No default headers for format not equal to `cloudevents`\n\n## Version 5.3.3 - 2021-07-28\n\n### Fixed\n\n- Validation of arrayed parameters of actions and functions\n- Skip not-to-be-audited entities in composition tree\n- In draft, `<entity>.texts` can be used without explicit exposure\n\n## Version 5.3.2 - 2021-07-16\n\n### Added\n\n- `enterprise-messaging`: Experimental support to send messages via HTTP (`emitPerHTTP: true`)\n\n### Changed\n\n- Aligned Node.js and Java auditlog APIs\n- `enterprise-messaging`: No topic manipulation for outbound events beginning with a different namespace\n\n### Fixed\n\n- Call `init()` and register custom handlers for every new `cds.ApplicationService` created in extensibility scenarios\n- Structured keys for deep operations in OData flavor `x4`\n- Wrong user in messaging requests coming from webhooks\n- Improvements in log formatter for Kibana:\n  + Remove redundant metadata information\n  + Add information from `req.headers`\n  + Treat error-like objects like errors\n  + Custom fields (alpha)\n- Minor fix for *optimized search* on SAP HANA\n\n## Version 5.3.1 - 2021-07-12\n\n### Changed\n\n- Task `@sap/cds-runtime/lib/messaging/deploy.js` moved to `@sap/cds/tasks/enterprise-messaging-deploy.js` after module merge\n- Parse OData lambda expression on collection of scalars with equals operator (i.e., `.../any(d:d = \"<val>\")`) to CQN with `contains` (pegjs-based parser only)\n\n### Fixed\n\n- Improved error message in case custom `server.js` doesn't export a function\n- Kibana formatter: `stacktrace` as array of strings\n- Bootstrapping for feature toggles\n- Deep operations for certain composition constellations\n- Aliasing on SQL layer for OData `ne` operator\n- Fixed scope issues in manual deployment for messaging\n- Projections with infix filters and cardinality changes are safely ignored during `CREATE`/`UPDATE`\n- Resolving of views if underlying projection has explicit aliases\n\n## Version 5.3.0 - 2021-07-07\n\n### Added\n\n- `cds serve` and `cds deploy` now also load `.ts` Typescript files if started with [`ts-node`](https://www.npmjs.com/package/ts-node)\n- Log formatter for Kibana (beta) via `cds.env.features.kibana_formatter`\n- First version of the `AuditLogService` (beta)\n  + Supported events: `dataAccessLog`, `dataModificationLog`, `configChangeLog`, and `securityLog`\n  + Usage: `const AuditLogService = await cds.connect.to('audit-log'); await AuditLogService.emit/send('<event>', <data>)`\n  + Out-of-the-box audit logging for modification of personal data and access to sensitive personal data via `cds.env.features.audit_personal_data`\n- Support for deep updates with compositions of one in `UPDATE(...).with(...)`\n- Support for logical events in `composite-messaging`\n- Initial support for generating OData V2 queries\n- Preserve `DraftAdministrativeData_DraftUUID` if OData v2 client (indicated by `@sap/cds-odata-v2-adapter-proxy`)\n- Use placeholder values for numbers with `cds.env.features.parameterized_numbers` (alpha)\n- Support for argument-less SQL functions (e.g., `current_date`)\n- Performance optimization: Resolve localized texts for `$search` queries at runtime (alternative to localized views resolution) to avoid the performance overhead of the SQL `coalesce` function in filter operations. To enable this *experimental feature* for SAP HANA, you can set the `cds.env.features.optimized_search` environment variable to `true`\n- Performance optimization: Optimize `$search` queries using the `CONTAINS` predicate instead of the `LIKE` predicate in the `WHERE` clause of a `SELECT` statement. To enable this *experimental feature* for SAP HANA, you can set the `cds.env.features.optimized_search` environment variable to `true`\n- OData lambda expressions in `$filter`:\n  + Basic support of structured types (`cds.env.odata.flavor = x4`) on SAP HANA\n  + Support of navigation paths on SAP HANA, for example, `GET /Books?$filter=author/books/all(d:d/stock gt 10)`\n\n### Changed\n\n- Custom build tasks are no longer restricted to `@SAP` namespace.\n- CDS build tasks of type `fiori` are no longer copying files located in the UI module folder into the deployment staging folder.\n- Leaner error messages for unsuccessful remote service calls\n- Incoming messages now contain a privileged user\n- `SELECT.where(...)` generates CQN with list of values for `in` operator\n- Always use flag `u` during input validation via `@assert.format`\n- Intermediate CQN format for lambda expressions with preceding navigation path\n- Better error messages for draft enabled entities\n\n### Fixed\n\n- Projecting data works also for projections where one field maps to multiple entries\n- `SELECT` queries without user-specified columns only modify draft columns if the entity is draft-enabled.\n- Generated `index.html` erroneously showed entries for `contained` entities from managed compositions.\n- Use OData simple identifier format for links to entity sets in generated `index.html`.\n- `cds build` logged duplicate compilation errors for the identical `.cds` file, but with different relative path names.\n- `cds serve` no longer tries to redirect Fiori URLs starting with `$` to service URLs.\n- `cds build` now supports `HANA Table data properties files` in SaaS applications. These files haven’t been copied into the sidecar folder.\n- `cds deploy --dry` generates DROP/CREATE DDL statements with an order that also H2 can handle, i.e. with dependant views dropped before basic views.\n- `cds build` now correctly handles symbolic links for nodejs projects on Windows.\n- `cds build` now correctly filters CDS source files when building SaaS applications.\n- Deploy endpoint for messaging artifacts includes the needed roles\n- Detection of mocked services and forced resolving of views\n- `POST/PATCH/PUT` requests on `Composition of many` with association as key and custom `on` conditions\n- `$expand` on entities with `.` in name\n- Filter on external service when using `ne null`\n- Primitive property access of Singletons defined without keys via URL like `/Singleton/name`\n- Expand and navigation in draft-enabled entity with composition of aspects\n- `@Core.ContentDisposition.Filename` instead of `@Core.ContentDisposition`\n- Select query with `$count` with combination with `$search`\n- Parsing of `Timestamp`, `DateTime` and `Date` values in OData request when using beta URL to CQN parser (`cds.env.features.odata_new_parser`)\n- Reset temporal session contexts\n- Caching of runtime aspects\n- Handling of foreign keys as well as an input validation when using nested associations as keys\n- Transaction handling in case of multiple changesets\n- Hana procedure call with output parameter\n- Skip foreign key propagation if target is annotated with `@cds.persistence.skip`\n- Values misidentified as operators in `$search`\n- Ensure UTC valus are written to DB\n- Etag handling in case of action with `$select`\n- Fix draft related issues in odata2cqn\n- Where clause in `@restrict` gets duplicated if `$search` query option is used\n\n## Version 5.2.0 - 2021-05-31\n\n### Fixed\n\n- Virtual fields are not filtered out before application service handlers\n- Clarification: the minimum required Node.js version is 12.18.  Versions < 12.18 might not work.\n- `cds build` supports validation of `extension-allowlist` which is replacing `entity-whitelist` or `service-whitelist` with cds-mtx 2.0. Warnings are no longer returned if neither entity-whitelist nor  service-whitelist is defined.\n- `cds compile -2 sql/edmx` erroneously wrote excessive compiler output to stderr\n- Resolve the correct `enterprise-messaging-shared` credentials from VCAP_SERVICES by default\n- `cds compile --to sql` now completes the last SQL statement with a proper semicolon\n\n## Version 5.1.5 - 2021-05-21\n\n### Added\n\n- `cds build` adds `engines.node` version to `package.json` if not present, in order to match the minimum required node version of CDS.\n- Generate an invocation context identifier (`cds.context.id`) if none can be derived\n\n### Changed\n\n- Better support for UI tools to get metadata for projects with both a Node.js and Java server\n\n### Fixed\n\n- Match locales in all upper-case (for example `ZH-CN` instead of `zh-CN`)\n- Key elements got lost in `cds.linked` when using type refs referring to other key elements\n- Tree shaking erroneously removed types `Foo` when only referred to by type refs like `bar : Foo:bar`\n- Fixed an error in transaction handling, that lead to db connections not released in rare cases\n- SQL names option gets properly propagated\n- No longer erroneously exclude entities explicitly marked with `cds.persistence:{table, skip:false}`, as in [cap/samples/suppliers](https://github.com/SAP-samples/cloud-cap-samples/blob/6b08826af51651f6b31fce8454fbadd23c634b85/suppliers/srv/mashup.cds#L46)\n\n## Version 5.1.4 - 2021-05-12\n\n### Fixed\n\n- Error when using complex type references, as in:\n```swift\nentity Foo { bar: Tic:tac.toe; }\nentity Tic { tac: Composition of { toe:String } }\n```\n\n## Version 5.1.3 - 2021-05-12\n\n### Fixed\n\n- `cds` does not check for the min. Node.js on BAS, for now\n\n## Version 5.1.2 - 2021-05-12\n\n### Fixed\n\n- `cds compile --for odata` now honors the OData version again\n- `cds compile --for odata` now honors the SQL naming mode (`sql.names`) again\n- `cds serve` does not run in an infinite bootstrap loop if `cds.server()` is called in `server.js`\n\n## Version 5.1.1 - 2021-05-07\n\n### Fixed\n\n- `cds build` is now always adding `.hdbview, .hdbtable, .hdbconstraint or .hdbindex` plugin mappings to `.hdiconfig` to avoid that deployment is failing in case such files exist in an already deployed container, but are no longer generated.\n- `cds compile --dest <dir>` no longer crashes creating the destination folder\n\n## Version 5.1.0 - 2021-05-05\n\n### Added\n\n- Custom error handler via `srv.on('error', function (err, req) { ... })` (beta)\n  + Synchronous modification of passed error only\n- `cds.log.format()` for custom log formatting\n\n### Fixed\n\n- `cds build` now correctly handles `message.properties` files used for Nodejs runtime messages if these files have been defined in an i18n content folder located at project root.\n- Nodejs custom handlers are now correctly resolved if a dedicated destination folder has been configured for the build task.\n- Now, the `.csv` file reader correctly closes open file descriptors to avoid memory leaks during `cds build`.\n\n### Changed\n\n- Clean up obsolete compiler option `snapi`.\n- `cds build` is no longer validating Nodejs custom service handlers that have been registered using service `@impl` annotation.\n\n## Version 4.6.6 - 2021-05-05\n\n### Fixed\n\n- Now, the `.csv` file reader correctly closes open file descriptors to avoid memory leaks during `cds build`.\n- Fixed i18n handling causing `cds build` to fail with error message `bundle is not iterable`.\n- Nodejs custom handlers are now correctly resolved if a dedicated destination folder has been configured for the build task.\n\n## Version 5.0.7 - 2021-04-21\n\n### Fixed\n\n- Internal test stabilizations\n\n## Version 5.0.6 - 2021-04-16\n\n### Fixed\n\n- `cds build` no longer fails with `TypeError: x.startsWith is not a function` in some situations\n\n## Version 5.0.5 - 2021-04-15\n\n### Changed\n\n- Internal errors are no longer decorated with `Please report this`.  People interpreted the text as to only include the stack trace in error reports and to omit other valuable context information.\n\n### Fixed\n\n- `cds build` now correctly creates the deployment layout for multitenant applications (sdc folder contents) that have dedicated folder paths configured for db, srv, and app modules.\n- `cds deploy --to sqlite` now ignores a `_texts.csv` file again if there is a language-specific file like `_texts_en.csv` present\n- `cds env` no longer fails to parse `.env` files with JSON values containing `=` characters\n\n## Version 5.0.4 - 2021-04-07\n\n### Fixed\n\n- `cds build` no longer fails with a `task.apply is not a function` error when used in an npm script.\n\n## Version 5.0.3 - 2021-04-06\n\n### Fixed\n\n- `cds.compile` got thoroughly cleaned up and enhanced as the single API to compile models\n- `cds.compile.to.cdl` was missing in 5.0.2\n- `cds build` no longer uses reflected CSN which caused odata and EDMX transformation to fail.\n  As a consequence language specific EDMX files were missing.\n\n### Removed\n\nThe following undocumented, internal functions have been removed.\nIn case you spotted and used them, please replace as given below.\n\n- `cds.compile.cdl` &rarr; use `cds.compile` instead\n- `cds.compile.to.parsed.csn` &rarr; use `cds.parse` instead\n- `cds.compile.to.xtended.csn` &rarr; use `cds.compile` instead\n- `cds.compile.to.inferred.csn` &rarr; use `cds.compile` instead\n- `cds.compile.to.hdi` &rarr; use `cds.compile.to.hdbtable` instead\n- `cds.compile.to.hana` &rarr; use `cds.compile.to.hdbcds` instead\n- `cds.compile.to.xsuaa` &rarr; still available in CLI thru `cds compile -2 xsuaa`\n- `cds.compile.to.serviceinfo` &rarr; still available in CLI thru `cds compile -2 serviceinfo`\n- `cds.compile.to['edmx-v2']` &rarr; still available in CLI thru `cds compile -2 edmx-v2`\n- `cds.compile.to['edmx-v4']` &rarr; still available in CLI thru `cds compile -2 edmx-v4`\n- `cds.compile.to['edmx-w4']` &rarr; still available in CLI thru `cds compile -2 edmx-w4`\n- `cds.compile.to['edmx-x4']` &rarr; still available in CLI thru `cds compile -2 edmx-x4`\n\n\n## Version 5.0.2 - 2021-03-30\n\n### Added\n\n- Ensure correlation id and set intermediate `cds.context` in default `server.js`\n\n### Fixed\n\n- `cds build` no longer aborts for CAP Java SDK based projects with `compiler version 2 not supported` message.\n\n## Version 5.0.1 - 2021-03-25\n\n### Added\n\n- `cds.load.properties` and `cds.parse.properties` to load and parse content in .properties format\n- `cds.load.csv` and `cds.parse.csv` to load and parse csv content\n- `CDL`, `CQL`, and `CXL` as new global methods for tagged template strings generating [CSN], [CQN], or [CXN] objects\n- Fluent API classes provided through `cds.ql` also support tagged template strings now in these methods: `SELECT`, `SELECT.from`, `SELECT.where`, `UPDATE`, `UPDATE.with`, `UPDATE.where`, `INSERT.into`, `DELETE.from`, `DELETE.where`\n\nExample:\n```js\nlet Authors = SELECT `ID` .from `Authors` .where `name like ${'%Brontë%'}`\nlet Books = SELECT `ID,title` .from `Books` .where `author_ID in ${Authors}`\nawait UPDATE`Books`.with`x = x-${amount}`.where`ID=${ID}`\n```\n\n### Changed\n\n- Minimum required Node.js version is now 12.  Support for Node.js 10 is dropped.\n- `req.timestamp` is a Date object now; was a UNIX epoch integer before, i.e., Date.now()\n\n### Fixed\n\n- Fixed race conditions in `cds.serve` leading to broken services\n- Fixed typos in API type definitions\n- Fixed `cds.reflect.forall` for CSN extensions\n- Fixed orphaned `_texts` proxies, causing init from csv to fail with \"no such table\" errors\n\n## Version 5.0.0 - 2021-03-19\n\n### Added\n\n- MTX APIs are now automatically served when `cds.requires.multitenancy` exists. This renders an application-level server start script for multitenancy unnecessary.\n- Auto-connect to a live reload server started by `cds watch`\n- `cds.parse` now offers tagged template strings. E.g. const {CDL,CQL,CXL} = cds.parse; CQL`SELECT from Books where stock > 111`.\n- `cds.log` now supports config options for Loggers and log levels via `cds.env.log`\n- `cds.entity.draft` as a stable way to read from draft data\n- `cds.linked` now correctly links, events, action params and results, which were not linked before\n- `cds.env.features.skip_unused = 'all'` removes all definitions from csn which are not reachable by defined services. Especially when using comprehensive reuse models, like ODM, this significantly reduces both, memory consumption as well as excess tables and views in databases\n\n### Changed\n\n- Upgraded major version of dependency `@sap/cds-compiler`\n- `cds.requires.db.multiTenant` is deprecated. Multitenancy can now be enabled by adding a `cds.requires.multitenancy` configuration.\n- `cds deploy --to hana` no longer adds a driver for SAP HANA to `package.json`.  This can be done with `cds add hana`.\n- `cds deploy --to hana` no longer adds configuration for SAP HANA to `package.json`.  This can be done with `cds add hana`.\n- `cds deploy --to hana` drops support for the classic CAP Java runtime, i.e. longer writes credentials for SAP HANA to `connection.properties`.\n- Fiori preview now [loads and shows data initially](https://sapui5.hana.ondemand.com/1.84.0/#/topic/1cf5c7f5b81c4cb3ba98fd14314d4504) in its list page\n- I18n template strings now are replaced in EDMX documents such that they retain their surrounding string.  For example, the `\"{i18n>key1} - {i18n>key2}\"` template results in `\"value1 - value2\"`, while previously the first match replaced the entire string, leading to `\"value1\"`.  This is helpful for the [`Template` strings of `UI.ConnectedFields`](https://github.com/SAP/odata-vocabularies/blob/ac9fe832df9b8c8d35517c637dba7c0ac2753b0f/vocabularies/UI.xml#L168).\n- CDS drops compiler v2 support for classic CAP Java runtime projects. `cds build` returns an error if compiler version 2 is used. For further details regarding migration to CAP Java SDK runtime see https://cap.cloud.sap/docs/java/migration.\n\n### Fixed\n\n- `cds.connect.to` no longer returns `undefined` in concurrent cases where `connect` is called again while a datasource is about to be connected.\n- `cds.log` formerly wrote log and debug output to stderr, now writes that to stdout\n- `cds.server` now accepts port `0` as a number\n- Race conditions in `cds.serve` and `cds.connect` lead to wrong Service instances to lost handler registrations\n\n### Removed\n\n- Compiler non-snapi support &rarr; see `cds.env.features.snapi` option\n- In recent releases we added methods `cds.compile.to.hdbtabledata` and `cds.compile.to.hdbmigration`, intentionally undocumented, as they were meant to be private. Nobody should ever have used these methods, hence nobody should be affected by their removal.\n\n## Version 4.6.5 - 2021-03-12\n\n### Fixed\n\n- `cds build` now correctly parses `.hdbtablemigration` files on Windows\n- `compile --to serviceinfo` no longer crashes for Spring configuration in multi-root `yaml` files\n\n## Version 4.6.4 - 2021-03-01\n\n### Fixed\n\n- Fix call to `to.hdi.migration` compiler API\n- `cds build` for SAP HANA now correctly passes `sql_mapping` options to new hdimigration compiler API.\n\n## Version 4.6.3 - 2021-02-26\n\n### Added\n\n- [beta] `cds build` for SAP HANA now provides schema evolution support for multitenant application extensions.\n\n### Fixed\n\n- `cds compile --to serviceinfo` returns better results for Java projects\n- `cds.connect.to('srv-missing')` called twice with `srv-missing` not configured, would have failed with an error on the first call, but got stuck in the Promise chain for all subsequent calls.\n- `.after` handlers are called with result based on request, e.g., array for collection and object for entity, instead of always array\n  - Deactivate during two month grace period via compat feature flag `cds.env.features.arrayed_after = true`\n\n## Version 4.6.1 - 2021-02-11\n\n### Added\n\n- [beta] `cds build` for SAP HANA now supports the generation of `hdbmigrationtable` design-time artifacts for big volume tables allowing for schema evolution capabilities. Model entities annotated with `@cds.persistence.journal` will be deployed as `hdbmigrationtable` artifacts instead of `hdbtable`.\n\n## Version 4.5.3 - 2021-02-19\n\n### Fixed\n\n- `cds deploy` and `build` now refer to the latest HDI deployer which supports Node.js 14\n\n## Version 4.5.2 - 2021-02-17\n\n### Fixed\n\n- `cds serve --with-mocks` now also works in `production` environment if `cds.features.mocked_bindings` is true.  Previously, mocks were always disabled in `production`.\n- `cds serve` now only fires the `listening` event once\n- `cds build` redacts cds configuration data in log messages\n\n## Version 4.5.1 - 2021-02-01\n\n### Fixed\n\n- Update `@sap/cds-runtime` dependency\n\n## Version 4.5.0 - 2021-02-01\n\n### Added\n\n- `cds.server` provides an option to switch off automatically generated `index.html` served at `/`:\n  Do that in a custom `server.js`:\n  ```js\n  const cds = require('@sap/cds')\n  // ...\n  module.exports = (o) => cds.server({ ...o, index:false })\n  ```\n- The default `index.html` now honors the system's setting for dark mode.\n- Former package `@sap/cds-reflect` is now embedded in `@sap/cds`\n\n### Changed\n\n- Fiori preview is now disabled if `NODE_ENV` is `production`, to avoid any runtime overhead there.  You can enable it with configuration `cds.features.fiori_preview: true`.\n\n### Fixed\n\n- `cds build` now correctly supports multitenant applications defining multiple database modules, e.g. one database for tenant related data and one for shared data.\n- `cds deploy --to hana` does no longer fail with an invalid service name error if '.' is used in the MTA ID.\n\n## Version 4.4.10 - 2021-01-18\n\n### Changed\n\n- `cds build` for SAP HANA now only filters csv files if it's needed, e.g. if they contain comment lines.\n\n## Version 4.4.9 - 2021-01-12\n\n### Fixed\n- `cds build` for SAP HANA no longer fails sporadically with `ENOENT` when writing CSV files.\n\n\n## Version 4.4.8 - 2021-01-07\n\n### Fixed\n\n- Add missing setter for `user.locale`\n\n## Version 4.4.7 - 2020-12-18\n\n### Fixed\n\n- `cds build` for Java now also creates a default edmx file (the one w/o language suffix) if the `cds.i18n.languages` array is configured with a set of languages.  Runtime systems expect this file.\n- `cds build` now skips empty lines in CSV files when preparing SAP HANA deployment.  This doesn’t happens if the build target folder is `.`, because there CSV files are sources that are not touched.\n- `cds build` for SAP HANA now writes CSV files more reliably, avoiding sporadic `ENOENT` errors.\n\n## Version 4.4.6 - 2020-12-08\n\n### Fixed\n\n- Compat `.emit()` for synchronous events with object as first parameter\n\n## Version 4.4.5 - 2020-12-07\n\n### Fixed\n\n- Revert of _cds serve --at / now can overwrite the default /index.html route_, which caused problems in some applications\n\n## Version 4.4.4 - 2020-12-04\n\n### Added\n\n- `cds.User.default` allows to override the default user, e.g. to be `cds.User.Privileged` in tests. By default this is `cds.User.Anonymous`.\n\n### Changed\n\n- `cds compile` and `build` now do a faster localization of edmx files.  If there are no text keys inside these files, the content is no longer duplicated in memory.\n- `cds serve --at /` now can overwrite the default `/index.html` route\n\n\n## Version 4.4.3 - 2020-12-03\n\n### Fixed\n\n- `srv.on` can now be used for async events w/o having to call `next` in each handler\n- `srv.emit` constructs instances of `cds.Event` from given arguments, as intended\n- `srv.send` constructs instances of `cds.Request` from given arguments\n- Revert of: `cds build` filters `i18n` files for nodejs staging builds\n\n## Version 4.4.2 - 2020-12-01\n\n### Added\n\n- `cds.context` always allows access to the current request context when running in Node v12.18 and higher. It uses Node.js' `async_hooks` API for so-called continuation-local storage, and supercedes the need for `srv.tx(req)` in custom handlers.\n- Custom functions/actions can now be implemented with plain JavaScript methods in subclasses of `cds.Service`\n\n### Changed\n\n- `cds.unfold` was long-term deprecated, and removed now &rarr; use `cds.compile`\n- `cds.config` was long-term deprecated, and removed now &rarr; use `cds.env`\n- `cds.session` was long-term deprecated, and removed now &rarr; use `cds.db`\n\n## Version 4.4.1 - 2020-11-27\n\n### Fixed\n\n- When two services `Foo` and `FooBar` were defined, with one services's name being a substring of the other service's name,\n  it may have happened that the same EDMX, i.e. that of `FooBar`, was erroneously returned for both.\n- On Windows, the index page now shows normalized links to embedded html pages, i.e. `foo/bar.html` instead of `foo\\bar.html`.\n- `cds build` now consistently uses build target folder `'.'` as default for Java projects - also if custom build tasks have been defined.\n- Requests that contain `*` as `Accept-Language` header value do no longer fail.\n\n## Version 4.4.0 - 2020-11-18\n\n### Changed\n\n- Propagate correlation id header to subrequests\n\n### Fixed\n\n- `cds.debug` now reacts on the `DEBUG` environment variable set in a `.env` file\n- `cds build` filters `i18n` files for nodejs staging builds\n- Language headers with values `en-US-x-[saptrc, sappsd]` are now mapped to user locale `en-US-[saptrc, sappsd]`.\n- Messages are kept in their respective request (i.e., not propagated to the request's context, if exists)\n- Log requests in atomicity groups\n- `cds build` now creates correct custom handler path for nodejs projects in WebIDE fullstack.\n\n## Version 4.3.2 - 2020-12-18\n\n### Fixed\n\n- use `@sap/cds-runtime~2.6`\n\n## Version 4.3.1 - 2020-11-20\n\n### Fixed\n\n- `cds build` now creates correct custom handler path for nodejs projects in WebIDE fullstack.\n\n## Version 4.3.0 - 2020-11-03\n\n### Added\n\n- Helper function `cds.utils.uuid` to generate a UUID\n- Support `SELECT[...].limit(0, ...)`\n- `hdbtabledata` generation can be disabled using `cds build` task option `skipHdbtabledataGeneration`.\n\n### Changed\n\n- Optimized `cds build` performance when creating OData EDMX output.\n\n### Fixed\n\n- `cds build` now classifies the severity of compile messages the same way as the low-level compiler. As a consequence, messages with severity _warning_ might now be classified as _error_.\n- Now, cds CLI logs errors based on _log-level_ setting.\n- `cds compile --to sql` no longer creates SQLite-specific views if in `hana` SQL dialect\n- The `node-cf` build task of `cds build` now also filters `./` file dependencies from package.json in the build output.\n\n\n# Version 4.2.8 - 2020-10-27\n\n### Fixed\n\n- `cds compile --to edmx --dest` creates files with `.xml` ending again.\n\n\n# Version 4.2.7 - 2020-10-26\n\n### Fixed\n\n- SAP Fiori Elements preview finds the `express` package again in the case where no `express` is installed in the application's `node_modules`.\n\n\n# Version 4.2.6 - 2020-10-26\n\n### Fixed\n\n- `cds run` finds the `express` package again in the case where no `express` is installed in the application's `node_modules`.\n\n\n# Version 4.2.5 - 2020-10-23\n\n### Fixed\n\n- `cds compile --to edmx-v2` and `edmx-v4` now again write to the folder given with `--dest`.\n\n\n# Version 4.2.4 - 2020-10-16\n\n### Fixed\n\n- `cds compile --to edmx-v2/4` no longer crashes\n- `cds watch` no longer shows an error in absence of model files\n- `cds build` no longer fails with an error about module './old/compile'\n- Stack trace of some errors have been improved\n- The `.hdiconfig` file created by `cds build` now includes SAP HANA artifact types from undeploy.json\n\n# Version 4.2.3 - 2020-10-12\n\n### Fixed\n\n- Leading `#` comments in CSV files sporadically caused `cds build` to fail on Windows with error `EPERM: operation not permitted`.\n- Method `req.user.is()` returns boolean\n\n# Version 4.2.2 - 2020-10-07\n\n## Added\n\n- `cds.env.odata.containment` to use OData v4 Containment NavigationProperties feature\n- `cds.env.odata.structs` to preserve struct elements as ComplexTypes in OData EDMX instead of flattening\n- `cds.env.odata.refs` which uses NavigationProperties in OData EDMX instead of adding foreign keys\n- `cds.env.odata.proxies` to add proxy EntityTypes for external Association targets\n- `cds.env.odata.flavors` which contain presets for the afore-mentioned flags\n- `cds.env.odata.flavor` to choose from the afore-mentioned presets\n- `cds.load` option `plain` replacing former option `clean` (which still is silently supported for compatibility).\n- `cds.get` now supports option `flavor` with values: `files` | `sources` | `parsed` | `resolved` | `compiled`.\n- `sap.common.Currencies`, `Countries`, and `Languages` now have their `code` element annotated with `@Common.Text` pointing to the `name`.  In SAP Fiori's value list with fixed values, this will show the `name` rather than the code itself.  As before, this only has an effect if `@Common.TextArrangement` is set to `#TextOnly` on the entity the code list is used as `ValueList` for.\n\n## Changed\n\n- Replaced `cds.PrivilegedUser` with `cds.User.Privileged`\n- `cuid` in `@sap/cds/common` is now defined as an `aspect` to align it with the other definitions.  The previous definition as `abstract entity` is equivalent and was only needed for historic reasons.\n- `cds deploy --to sqlite` now skips columns from csv files if the header value is empty.  This allows for ad-hoc 'disabling' of columns.  For SAP HANA, the generated `hdbtabledata` files now also skip empty columns, restoring the behavior from cds 3.\n- `cds deploy --to sqlite` has aligned its escaping rules for parsing csv data with SAP HANA's `hdbtabledata`.  A `\"` character can be escaped by another `\"` as before, but only if contained in a quoted string, i.e. `\"A\"\"B\"` leads to `A\"B`, while `A\"\"B` stays `A\"\"B`, and `\"\"` results in an empty string.\n\n## Fixed\n\n- A `manifest.yml` file is now also generated for nodejs applications if a sqlite database is used.\n- `cds build` did not correctly validate custom service handler implementations, warnings have been logged by mistake.\n- The default memory size for nodejs applications has been increased in `manifest.yml` to avoid out-of-memory issues for cloud native deployments.\n- `cds build` is now correctly creating external CSN output for Java multi-tenant applications.\n\n# Version 4.1.10 - 2020-09-11\n\n## Added\n\n- Much like SQLite deployment, `cds deploy --to hana` and `cds build` can now cope with leading `#` comments in csv files, i.e. the comments get removed before deployment.\n- `cds deploy` now can handle empty strings in CSV values (use `\"\"`)\n\n## Fixed\n- `cds v` and `cds --version` now work again when called from `npm run` or `npx`.\n\n\n# Version 4.1.9 - 2020-09-02\n\n## Added\n\n- `cds.PrivilegedUser`, e.g., for transactions with super user\n\n# Version 4.1.8 - 2020-09-02\n\n## Changed\n\n- The `node-cf` build task of `cds build` now removes file dependencies in `package.json` in the build output.  These are anyways not resolvable on CF, but are handy at build time to [refer to other CDS modules](https://github.com/SAP-samples/cloud-cap-samples/blob/6fdd91b8c810d4367aa6dfc0a91e06dc467686ed/bookshop/package.json#L6).\n- `cds deploy --to sqlite` can now cope with leading `#` comments in csv files\n- `cds version --all` now includes `@sap/cds-sidecar-client`\n\n## Fixed\n\n- `cds.entities` w/o namespace parameter now works properly when running out of a compiled model (aka `csn.json` aka 'on Cloud Foundry').\n- `cds deploy --to hana` now also handles SAP HANA Cloud services on trial, which are created by the `hana` broker (in contrast to the `hanatrial` broker which still provisions older SAP HANA instances).\n- `cds deploy --to hana` no longer uses `cf marketplace`, which has changed its parameters in CF CLI v7.\n- SAP Fiori Elements preview's html no longer provokes Javascript errors in the SAP Fiori client.\n- For DB services of kind `sql` the service implementation is now set correctly in the cds configuration.  Previously, `sql` services got a `sqlite` implementation even if they were set to `hana` in production.\n- Custom event handlers that do not register with a path (only with event and function) no longer crash the runtime\n- In Typescript typings, the API declaration for `cds.load` and the `bootstrap` event is now fixed.\n\n# Version 4.1.7 - 2020-08-17\n\n## Added\n\n- Shortcut to class `cds.ApplicationService` in cds facade\n- Shortcut to class `cds.DatabaseService` in cds facade\n- Shortcut to class `cds.RemoteService` in cds facade\n- Shortcut to class `cds.MessagingService` in cds facade\n- Shortcut to class `cds.Event` as new base class of `cds.Request`\n\n## Fixed\n\n- Race condition on two parallel `cds.connect` to same service\n- **`cds deploy --no-save`** extends the list of files it does not modify to `package.json`, `default-env.json` and `connection.properties`\n- **Add meaningful error message if hdi-deploy cannot be loaded** &mdash; during `cds deploy --to hana`.\n\n# Version 4.1.6 - 2020-08-07\n\n## Added\n\n- `req.notify()` as a new varient besides `req.info()`, which should display as toaster notifications on Fiori elements or other UIs.\n\n## Fixed\n\n- `req.target` for unbound actions/functions is now `undefined` again, as documented\n- Handlers registered with `srv.on(<CRUD>, 'Some/path', ...)` were never invoked\n- Queries to remote services via `srv.on(..., ()=> other.read('Something'))` weren't sent to remote\n\n# Version 4.1.5 - 2020-07-31\n\n## Removed\n\nThe following changes affect undocumented internal implementations, and hence should not affect CAP-based projects.\nNevertheless, they are listed here for your reference.\n\n- `db.disconnect()` &rarr; no replacement; no need to disconnect before shutdown.\n- `db.run(()=>{})` &rarr; use `cds.run([...multiple queries])` instead.\n\n\n## Changed\n\n- **Most CLI commands have moved** to `@sap/cds-dk`.  Make sure to install the latest version with `npm i -g @sap/cds-dk`.\n\n- **Default OData version** in `cds configuration` is now `v4`. For `Node.js` projects and `Java` projects using new stack the cds configuration of `odata.version = 'v4'` is no longer required. For `Java` projects using old Java stack, OData v2 will still be used.\n\n- **Always do `await cds.connect.to()`** &mdash; in former versions `cds.connect.to()` returned some magic thenables, meant to ease the [_Promise Hell_](https://medium.com/@pyrolistical/how-to-get-out-of-promise-hell-8c20e0ab0513); now it always returns plain-standard Promises. Likely you never used this undocumented former behaviour, but in case: Just ensure to always call `cds.connect` with `await`.\n\n- **Deprecated `cds.connect()`** &mdash; please prefer `cds.connect.to('db')` instead, which has the very same effect but is more in line with the notion of potentially working with multiple database services.\n\n- **Deprecated `cds.hana.syntax` configuration**.  Use `cds.hana.deploy-format`=`hdbtable` instead to switch deployment from `hdbcds` to `hdbtable` for SAP HANA Cloud.\n\n- **Faster generation of `hdbtabledata` files** from csv data.  It no longer tries to check the existence of element or column names.  Such checks are anyways done during SAP HANA deployment.  This behavior is now symmetrical to SQLite deployment.\n\n- **Removed legacy cds build system** &mdash; the fallback using `cds.features.build.legacy` is no longer supported.\n\n- **`cds deploy --to hana` changes kind** to `hana` only if it is not already `sql`.\n\n- **Consistent default naming scheme for applications and services deployed to CF** across the following `cds` commands `build`, `deploy`, `init` and `add`. For an application named `myapp` the SAP HANA deployer app name is `myapp-db-deployer`, the SAP HANA DB service name is `myapp-db`. `cds build` now generates the application manifest file with a different name `manifest.yml`.\n\n- **`cds build`** no longer creates service metadata for the UI service binding by default. For SAP Web IDE Full-Stack compatibility a corresponding metadata.xml is still generated.  A `fiori` build task has to be defined otherwise.\n\n- **`cds build` creates `hana` build results only** if either a corresponding build task has been configured or if kind `hana` or kind `sql` has been defined. A `production` build is required for the latter. A fallback is used for Web IDE Fullstack and legacy build configs.\n\n## Added\n\n- **Common `cds.service.factory`** &mdash; `cds.serve` and `cds.connect` now use a common `cds.service.factory` to construct instances of `cds.Service`, as well as adding custom-provided handlers and implementations. This applies the same consistent ways to register new implementations via `cds.env.requires` options, model annotations `@impl` and `@kind`, or the well known `.cds`/`.js` sibling files mechanism.\n\n- **Common `cds.Service` base class** &mdash; `cds.Service` is the newly introduced common base class for all connected or provided services &mdash; i.e. all service instances contructed thru `cds.service.factory`. It provides uniform consumption APIs, as well as event handling APIs and capabilities for all services.\n\n- **Custom `cds.Service` subclasses** &mdash; besides providing `cds.service.impl` functions as of before, custom service implementations can now return subclasses of `cds.Service`, thereby plugging into the framework even more.\n\n- **New `srv.after('each', row => ...)`** &mdash; the former technique to register per-row handlers `srv.after('READ', each => ...)` broke when code was minified. The new method using pseudo event `'each'` is minifier-safe.\n\n- **New `srv.prepend(srv => ...)`** &mdash; use `srv.prepend(...)` to register event handlers to be executed _before_ the already reistered handlers. For example, extensions of reused implementations sometimes need to use this.\n\n- **Reflect `srv.events`** &mdash; base class `cds.Service` provides a new getter `srv.events` to reflect on declared events in the service definition, similar to the already existing `srv.entities`, `srv.types` and `srv.operations`.\n\n- **Experimental `cds.ql(req)`** &mdash; event handlers can now use the like of `const {SELECT} = cds.ql(req)` to ensure transaction-managed and tenant-isolated execution of queries, instead of `srv.tx(req)`. **Note** though, that this is an **experimental** feature, which might change or be removed in future versions.\n\n- **Using `await` in `cds repl`** &mdash; we now support using `await` directly on `cds repl` prompt inputs. This feature is provided through [Node's _--experimental-repl-await_ option](https://nodejs.org/api/repl.html#repl_await_keyword).\n\n- **CLI shortcut `--odata <v2|v4|x4>`** &mdash; the newly introduced general CLI option _**--odata** <v2/v4>_ acts as a shortcut to _--odata-version <v2/v4>_. In addition, _--odata **x4**_ acts as shortcut to _--odata-version v4 --odata-format structured  --odata-containement true_.\n\n- **`cds build --production`** &mdash; builds the project using the `production` profile - same when `NODE_ENV` or `CDS_ENV` environment variable is set to `production`. This will create HANA deployment artifacts if `kind: \"sql\"` has been defined.\n\n- **`cds build --for <hana|java-cf|node-cf|mtx> --opts <...>`** &mdash; now supports execution of auto-created or configured build tasks. Individual properties can be overwritten by passing corresponding CLI options, defaults are used otherwise. For example, `cds build --for hana --dest target --opts model=[data,srv,app]`. **Note:** The parameter `options-model` has been deprecated use `--opts model=[...]`instead.\n\n- The set of languages that is honored for the `i18n.json` language pack can now be configured through `i18n.languages`.  Default is still `all`, which means the sum of language files found next to models.\n\n## Fixed\n- SAP Fiori Elements preview is now working again with the latest version of SAP UI5.\n\n- **Use latest SAP CommonCryptoLib help** &mdash; when SAP CommonCryptoLib is missing during `cds deploy --to hana`.\n\n- `sql_mapping` is only written to `csn.json` if the classic Java runtime and no default naming is used.\n\n- SAP Fiori Elements dev support in `cds run` now also honors `/v2` URLs.  These are installed by default by the `@sap/cds-odata-v2-adapter-proxy`.\n\n- npm scripts that wrap around cds-dk commands like `cds watch` now also work on Windows.  Previously they couldn't find the cds command.\n\n- When extracting the base model of a multi-tenant application `cds build` now ensures that only files having project scope are copied, a warning is logged otherwise.\n\n- `cds build` now no longer crashes if exactly one custom language is given in `options.lang` of the `java-cf` build task.\n\n- `cds compile` now fails with a non-zero exit code in case of compilation errors.\n\n# Version 3.35.0 - 2020-05-08\n\n## Changed\n- The new compiler implementation, a.k.a SNAPI, is now the default.  Can be disabled with `cds.features.snapi=false`.\n\n# Version 3.34.3 - 2020-06-19\n\n## Changed\n\n- Faster generation of `hdbtabledata` files from csv data.  It no longer tries to check the existence of element or column names.  Such checks are anyways done during SAP HANA deployment.  This behavior is now symmetrical to SQLite deployment.\n\n# Version 3.34.2 - 2020-05-30\n\n## Changed\n\n- Use `cds.hana.deploy-format`=`hdbtable` instead of `cds.hana.syntax` to switch deployment from `hdbcds` to `hdbtable` for SAP HANA Cloud.\n- `cds run` now supports relative `dataSource` URLs in SAP UI5 manifests again, so that UI5 apps can be served w/o approuter.  This support is only active in development mode.\n- `cds deploy --to hana` changes kind to `hana` only if it is not already `sql`\n\n## Fixed\n\n- The `UI.Identification` annotation for `sap.common.CodeList` got a correct value, pointing to its `name` element.\n- Configuration `requires.<foo>.credentials.destination` is now preserved again when running with `VCAP_SERVICES`.  In version 3.34.1 it was cleared.\n- Entities annotated with `@cds.persistence.skip:if-unused` (like `sap.common.Languages`) now again are skipped when compiling to SAP HANA output.  This got broken in previous versions when using the new compiler APIs.\n- `sql_mapping` is again written to `csn.json` as it's required by classic Java runtime.\n- `default-env.json` is now read even in production, which is in line with the behavior of other modules that honor this file.  Real prod environments like CF will still overwrite these defaults.\n- `cds build` caused error `invalid option` &mdash; when passing command line options like `log-level`, `src` or `for`.\n\n# Version 3.34.0 - 2020-04-27\n\n## Added\n\n- `cds version` option `-ls` prints an `npm ls` subtree.\n- `cds serve` / `run` now also accept package names as arguments, e.g. `cds serve --project @capire/bookshop`.\n- `cds compile` option `--parse` provides minimal, parsed-only CSN output.\n- New Node.js method `cds.compile()` allows compiling CDS sources in-process.\n- `cds build` now supports cds configuration `requires.db.kind:\"sql\"` which allows seamless production deployments using HANA db and development deployments using sqlite db.\n- Default maximum query size limit of 1000 (overridable via `@cds.query.limit.max`).\n- Improved error message during `cds deploy` on Windows when `SAP CommonCryptoLib` is missing.\n- `cds build` now checks that `entity-whitelist` and `service-whitelist` have been defined for SaaS applications - a warning is reported otherwise. `cds build` will fail if invalid entries exist.\n- Parameter `--vcap-file` lets `cds deploy --to hana` use an existing `default-env.json` file for the deployment credentials, instead of always creating new credentials from Cloud Foundry. Note that this is a beta feature.\n- `cds build --log-level` allows to choose which messages to see, default log level is `warn`.\n- Labels of `@sap/cds/common` texts are now available in many languages\n\n## Changed\n\n- Node.js method `cds.parse()` has been changed to now truely return parsed-only models, with extensions not applied yet.\n**Note:** If you'need the former (erroneous) behaviour, please use `cds.compile` for that from now on.\n- Node.js method `cds.get()` now returns parsed-only models; same as `cds.parse()`.\n- `cds serve` / `run` / `watch` now reduce logging of details for the bound DB on connect, leading to less clutter.\n- Precision for `validTo` and `validFrom` defined in the `temporal` aspect in `@sap/cds/common` changed from `DateTime` to `Timestamp`.\n- Some administrative fields of SAP Fiori draft documents are now hidden on the UI.  The rest got labels.\n- Renamed cds configuration setting `features.messageLevel` to `log-level` to be consistent with command line option, e.g. `cds build --log-level`.\n\n- `cds extend` and `cds activate` commands have been moved to `@sap/cds-dk`. `cds disconnect` has been moved there under a different name.\n\n## Fixed\n- `cds build` - improvements in the area of error handling and error reporting.\n- `cds env` and Node.js runtime now properly complete configuration like `requires.db.kind.sql` with VCAP_SERVICES, so that in `production` an SAP HANA service is bound.\n- `cds build` now localizes edmx files properly if `cds.env.features.snapi` is turned on.\n- `cds deploy --to hana` no longer crashes if called with `NODE_ENV=production`.\n\n## Removed\n\n# Version 3.33.1 - 2020-03-24\n\n## Fixed\n- `cds build` now correctly supports options.model definitions of type string\n- Details navigation in Fiori preview works again since it's pinned to SAP UI5 1.73.  Actual cause still needs to be investigated.\n- `cds deploy` now adds `@sap/hana-client` to package.json instead of `hdb`.\n- `cds deploy` adds kind `sql` to requires section.\n\n# Version 3.33.0 - 2020-03-19\n\n## Added\n- `cds deploy` uses information from existing `default-env.json`.\n\n- `cds version` now also lists all dependencies of your local package.json and has an updated CLI commend help, documenting option `--all`.\n- `cds compile` option `--docs` preserve contents of `/** ... */` doc comments in CSN output as well as in EDMX outputs (as _Core.Description_ annotations).\n- `cds compile` option `--clean` tells the compiler to not add any derived information, but return a CSN which reflects only what was actually found in a `.cds` source.\n- `cds serve` option `--watch` starts the specific serve command in nodemon watch mode\n- Node.js: `cds.env` now supports camel case env variables as well as dot-notated keys in `.env`\n\n## Changed\n\n- Labels for the `createdAt` and `changedAt` in the `@sap/cds/common#managed` entity have been adjusted to reflect the SAP Fiori design guidelines.\n- `cds build` now delegates to the modular build system by default (known as `cds build/all`). The modular build system is compatible, but supports additional features, e.g. staging build, SAP HANA Cloud Edition support, populating initial data from .csv by generating .hdbtabledata files, etc. The legacy build is still available as a fallback in case of issues - use setting `cds.features.build.legacy: true` or ENV variable `CDS_FEATURES_BUILD_LEGACY=true`.\n\n## Fixed\n\n- `cds build` now correctly logs warnings returned by cds compiler. The message log level can be customized using cds configuration setting `cds.features.messageLevel` - default is `warn`.\n- `cds.env.roots` now properly picks up a changed value of `cds.env.folders`\n- `hdbtabledata` is no longer generated for entities that are marked with `@cds.persistence.skip`\n\n## Removed\n\n\n# Version 3.32.0 - 2020-03-06\n\n## Fixed\n- An issue where all Node.js runtime sessions where disconnected when one tenant offboarded.\n\n\n# Version 3.31.2 - 2020-03-05\n\n## Fixed\n- `cds deploy` does not crash if _texts.csv is provided for skipped entities\n- `cds serve foo.cds` does no longer load same model twice\n- `cds compile --to edmx` no longer creates files with csn instead of edmx content in case no language bundles are found\n- Both `cds env` and `cds compile` no longer write terminal escape sequences if only stdout is redirected, but not stderr.\n- No longer enforce Node.js version 8 in `db/package.json`.  Cloud Foundry environment does not support it anymore, as this version is out of maintenance.\n\n\n# Version 3.31.1 - 2020-02-26\n\n\n## Fixed\n\n- Removed `npm-shrinkwrap.json`\n\n\n# Version 3.31.0 - 2020-02-25\n\n## Added\n\nGeneration of `hdbtabledata` files now reports if CSV file names don't match entity names, and if header names don't match element names in an entity.  Watch out for such logs in case CSV files are not deployed to SAP HANA.\n\n## Fixed\n\n- `cds compile --to hdbtabledata` no longer crashes with `_texts.csv` files referring to a non-`localized` entity\n- `cds build/all` adds `app` folder to the list of model folders for HANA database builds. Draft tables are missing if the corresponding annotation model is missing.\n\n\n# Version 3.30.0 - 2020-02-10\n\n## Added\n\n  - `cds compile --log-level` allows to choose which messages to see\n  - `cds deploy --dry` prints DDL statements to stdout instead of executing them\n  - `cds deploy --with-mocks` also adds tables for required services\n  - `cds serve --mocked` allows mocking individual required services\n  - ( &rarr; learn more about these things using `cds help ...` )\n  - `cds.env` now also loads from `.env` files in properties format\n  - [`cds.resolve/load('*')`](https://cap.cloud.sap/docs/node.js/api#cds-load) resolves or loads all models in a project including those for required services. It ist controlled and configurable through `cds.env.folders` and `.roots￼``. Try this in `cds repl` launched from your project root to see that in action:\n    ```js\n    cds.env.folders         // = folders db, srv, app by default\n    cds.env.roots           // + schema and services in cwd\n    cds.resolve('*',false)  // + models in cds.env.requires\n    cds.resolve('*')        // > the resolved existing files\n    ```\n\n  - Added `cds.debug(<id>)` as a convenient helper for debug output controlled by `process.env.DEBUG`. For example, use it as follows:\n    ```js\n    const DEBUG = cds.debug('my-module')\n    DEBUG && DEBUG ('my debug info:', foo, ...)\n    ```\n    ```sh\n    > DEBUG=my-module cds run\n    ```\n\n  - Added `cds.error(<msg>)` as a convenient helper for throwing errors whose stack traces start from the actual point of invocation. For example, use it as follows:\n    ```js\n    const {error} = cds\n    if (...) throw error `Something's wrong with ${whatever}`\n    const foo = bar || error `Bar is missing!` // short circuit exits\n    ```\n\n## Changed\n\n  This version brings a major refactoring and streamlining of service runtime implementations,\n  which stays fully compatible regarding all documented APIs but in case you used internal\n  not documented (non-)APIs, you should know these:\n\nRemoved undocumented features\n\n  - Annotation `@source` from models loaded for runtime\n  - Property `cds.serve.app` &rarr; use `cds.app` instead\n  - Property `source` from CSN entity/view definition objects\n\n> It's very unlikely that you ever used these undocumented internal features at all.\n> In case you did, this should never have been done and you should fix that asap.\n\n\nDeprecated features (&rarr; might get removed in upcoming versions)\n\n  - Property `cds.session` &rarr; use `cds.db` instead\n  - Property `cds.options` &rarr; use `cds.db.options` instead\n  - Property `cds.unfold` &rarr; use `cds.compile` instead\n  - Property `cds.config` &rarr; use `cds.env` instead\n\n> These properties actually where duplicates to the mentioned alternatives.\n\n\n`cds run` and `cds watch` have been re-implemented as convenience shortcuts to `cds serve`, which acts as the central orchestrator for bootstrapping now.   (&rarr; see `cds run ?` or `cds watch ?` to learn more)\n\n`cds serve` now optionally bootstraps from project-local `./server.js` or  `./srv/server.js`, if exist, thus giving more control while still benefitting from `cds serve`'s intrinsic support for options like `--in-memory` or `--with-mocks`.\n\n`cds serve` now uses `cds.load('*')` to load a single effective model once, assigned to `cds.model`, and reused for db as well as all provided and required services . As that avoids loading models redundantly, it drastically improves both, bootstrapping performance as well as memory consumption.\n\n`cds deploy` does not (have to) register the default models to `package.json` anymore. For example, unlike before, `cds deploy -2 sqlite` will merely add an entry: `db:{kind:'sqlite'}`, without an additional `model` property anymore.\n\n`cds deploy --to hana` does not create `connection.properties` file any longer, but only modify existing one\n\n`modifiedAt` and `modifiedBy` from `@sap/cds/common`\n   - Are now mutable for OData, i.e. no longer carry the `@Core.Immutable: true` annotation.\n   - Are set by the Node.js runtime whenever the respective row was modified, i.e. also during `CREATE` operations.\n\nSupport for `cds init` is now moved to `@sap/cds-dk`.\n\n## Fixed\n\n - There was a bug in that caused a service names `FooBarV2` to erroneously be mapped to mount point `/foo-barv2` instead of `/foo-bar-v2` as intended and was the case before. &rarr; in case you started a project in this interims phase and had a service name with that pattern you may encounter this fix as an incompatible change, but it's actually reverting to the former compatible way.\n\n - `cds.env` erroneously overrode profiled entries depending on properties order\n\n - Fiori preview now uses latest version of SAP UI5 again\n\n - `cds deploy` verifies returned service key to ensure target service is not of type `managed`.\n\n\n\n\n# Version 3.21.3 - 2020-02-05\n## Fixed\n- Fiori preview no longer catches service URLs with an arbitrary prefix (e.g. `/foo/browse` instead of just `/browse`).\n\n\n# Version 3.21.1 - 2020-01-07\n## Fixed\n- SAP Fiori Elements preview no longer crashes since it's pinned to SAP UI5 1.72.3.  Actual cause still needs to be investigated.\n\n## Version 3.21.0 - 2019-12-11\n\n- `cds add`, `import`, and `watch` now print installation hints if `@sap/cds-dk` is not installed\n\n- Experimental option `hana.syntax=hdi` to create `hdbtable` files instead of `hdbcds`.  May still change!\n\n\n## Changed\n\n- In development mode, the `mock` authorization strategy is automatically activated with two fake users `alice` and `bob`, which allows for out-of-the-box testing of `@requires` annotations. This means that, unlike before, the `JWT` authorization strategy needs to be activated explicitly (through `{auth: { passport: { strategy: 'mock' }}}`.  In production, no change is required.\n\n- You might see a `MODULE_NOT_FOUND` error for `@sap/xsenv` in case you use the `JWT` strategy but have not bound any xsuaa service.  In this case either bind such a service instance, add the `@sap/xsenv` dependency, or use a different strategy like `mock`.  The trigger of this error is `@sap/xssec` 2.2.4 no longer requiring `@sap/xsenv`.\n\n- Renovated and streamlined `cds init`. It prints a hint now if it's called with old-style parameters, as well as that it wants to be used from `@sap/cds-dk`. Check out `cds help init` for more.\n\n- Removed the experimental `--args` parameter of `cds compile`.  This turned out to be cumbersome to use in shells. Replacement is the standard configuration mechanism, e.g. use an environment variable `CDS_FOO_BAR` to activate option `cds.foo.bar`.\n\n## Fixed\n- `SELECT.one/distinct(Fool,[...])` failed when passing an array for columns as argument two\n\n\n\n# Version 3.20.1 - 2019-11-26\n## Fixed\n- Fix 'duplicate versions' errors by loading `@sap/cds` again from the current project if possible.\n\n# Version 3.20.0 - 2019-11-19\n\n## Added\n- Mention xsuaa in help of `cds compile`\n\n## Fixed\n- Typings for `UPDATE` function no longer contain duplicates.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.20.3\n- Changes of `@sap/cds-ql` 1.21.0\n- Changes of `@sap/cds-services` 1.21.0\n- Changes of `@sap/cds-messaging` 1.4.0\n- Changes of `@sap/generator-cds` 2.10.2\n\n\n\n# Version 3.18.4 - 2019-11-15\n\n## Fixed\n- `.cfignore` files now get created by `cds build/all` to improve the overall deployment turnaround\n  of `cf push`.  Also, this avoids failures of CF node.js buildpack trying to rebuild sqlite binaries.\n- Generated `manifest.yaml` files for Cloud Foundry now contain a `path` attribute that allows\n  pushing from an outside folder.  Also, they specify reduced memory requirements.\n- Generated `manifest.yaml` for HDI deployer does not create a route, and specifies a valid `health-check-type`.\n- `cds deploy --to hana` now also includes models in the `srv` folder.\n- `cds deploy` no longer writes model folders to `package.json` that do not exist.\n\n\n# Version 3.19.0 - 2019-10-31\n\n## Added\n- Deployments for sqlite and SAP HANA now find CSV files in the form `_texts_LOCALE.csv`,\n  like `Books_texts_fr.csv`.  This file layout allows splitting translated texts into one file\n  per language.\n- Deployment for sqlite now also imports initial data from JSON files\n- `cds version` has learned about `@sap/cds-dk`\n\n## Fixed\n- `cds watch --help` works again, if used from `@sap/cds-dk`\n\n\n# Version 3.18.3 - 2019-10-28\n## Fixed\n- Fixed a crash in `cds run --watch` with changing directories.\n- `cds watch` is now also found if called from an NPM script.\n- `cds watch` now uses the same lookup paths for models as `cds run`\n\n\n# Version 3.18.1 - 2019-10-17\n## Fixed\n- Fixed a crash during sqlite deployment if there were csv files that did not match an entity name\n- `cds deploy --to hana` now does a build for SAP HANA even if no matching build task is available.\n- `cds deploy` now tries to add `.gitignore` entries only once\n- In `@source` annotations of csn.json files generated for cloud deployments,\n  now posix file paths (with `/`) are written, and no Windows paths.\n- `cds serve` and `run` now shuts down gracefully in case of `SIGHUP` signals emitted by\n  e.g. the VS Code terminal.\n- `cds watch` now is found even if `@sap/cds-dk` is not installed locally.\n\n## Also see\n- Changes of `@sap/cds-ql` 1.19.2\n- Changes of `@sap/cds-services` 1.19.1\n- Changes of `@sap/cds-messaging` 1.2.1\n\n\n# Version 3.18.0 - 2019-10-09\n\n## Added\n- Compiler options for SAP HANA backend can now be set in configuration in the `cdsc.toHana` block\n  (e.g. `cds.cdsc.toHana.joins`)\n- `service.tx()` as a shortcut for `service.transaction()`\n\n## Fixed\n- `cds deploy --to hana` now adds the tunnel address to the JDBC URL\n- Boolean and number values from `default-env.json` now are accepted in configuration (`cds env`)\n- For applications deployed to Cloud Foundry, custom handlers are now properly resolved using their names.\n- `cds serve`/`run` now properly log `$batch` requests of OData\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.19.1\n- Changes of `@sap/cds-messaging` 1.2.0\n- Changes of `@sap/cds-ql` 1.19.1\n- Changes of `@sap/cds-reflect` 2.8.0\n- Changes of `@sap/cds-rest` 1.2.0\n- Changes of `@sap/cds-services` 1.19.0\n- Changes of `@sap/generator-cds` 2.9.0\n\n\n# Version 3.17.8 - 2019-09-25\n\n## Fixed\n\n- `UPDATE(entity, key)` statement\n\n\n# Version 3.17.7 - 2019-09-24\n\n## Fixed\n\n- `cds deploy`\n\n\n# Version 3.17.6 - 2019-09-23\n\n## Changed\n\n- Improved `cds env`\n\n\n# Version 3.17.5 - 2019-09-20\n\n## Fixed\n\n- `cds deploy` did not work properly\n\n\n# Version 3.17.4 - 2019-09-19\n\n## Also see\n- Changes of `@sap/cds-rest` 1.1.2\n\n\n# Version 3.17.3 - 2019-09-19\n\n## Fixed\n\n- `cds deploy --to hana`\n\n\n# Version 3.17.2 - 2019-09-19\n\n## Also see\n- Changes of `@sap/cds-services` 1.18.2\n- Changes of `@sap/generator-cds` 2.8.2\n\n\n# Version 3.17.1 - 2019-09-18\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.18.2\n- Changes of `@sap/cds-ql` 1.18.2\n- Changes of `@sap/cds-services` 1.18.1\n\n\n# Version 3.17.0 - 2019-09-10\n\n## Added\n- `cds run` has learned a new `--watch` option, which provides automatic restarts of the server on file changes.  [nodemon](https://www.npmjs.com/package/nodemon) package is required for this to work.\n\n## Fixed\n- `cds deploy` now writes `true` and `false` values in csv files as boolean to sqlite\n- Console output of `cds run` now waits until the server is really up and running before it declares success.\n- `cds deploy` and `build/all` do not write `hdbtabledata` files if some are already present.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.18.1\n- Changes of `@sap/cds-ql` 1.18.1\n- Changes of `@sap/cds-reflect` 2.7.1\n- Changes of `@sap/cds-services` 1.18.0\n- Changes of `@sap/generator-cds` 2.8.1\n\n\n\n# Version 3.16.2 - 2019-08-27\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.17.1\n\n\n\n# Version 3.16.0 - 2019-08-22\n\n## Added\n- `cds run` has learned a new `--in-memory` option, which connects and deploys to an SQLite in-memory database. There is no need to call `cds deploy` before.\n- `cds deploy --to hana` now can also be executed in Java projects\n- `cds run`'s index.html got a favicon, to give a visual clue in browsers.\n- `cds.requires.<datasource>.model` configuration can now also point to a node.js module, e.g. `@my/module`.\n  Previously, only a relative file path was supported.\n- Improved logging of query objects\n- `cds compile` now understands `--to edmx-v2` and `--to edmx-v4` to produce OData metadata of versions 2 or 4, respectively.\n\n## Changed\n- SAP Fiori Elements preview in `cds run` now is only added if OData services are being served.\n  For other protocols like `rest`, no SAP Fiori Elements preview is provided. Same holds true for the `$metadata` link.\n- `cds compile` now behaves better in non-TTY scenarios (e.g. when piping to files).  It writes a proper JSON\n  string instead of a Javascript object.  Previously, one had to enforce JSON using the `--to json` processor.  Compare e.g. the output of `cds compile model.cds` to `cds compile model.cds > model.json`.\n\n## Fixed\n- Fiori preview in `cds run` now also works for services with namespaces\n- In services of CF marketplace, `cds deploy --to hana` now only accepts services with plan `hdi-shared`.\n  Previously, it could get confused with services of type `hana` but of other (non-HDI) plans.\n- Localized edmx files are now produced also for i18n.json files.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.17.0\n- Changes of `@sap/cds-ql` 1.17.0\n- Changes of `@sap/cds-services` 1.17.0\n- Changes of `@sap/generator-cds` 2.7.0\n\n\n\n# Version 3.15.0 - 2019-07-26\n\n## Added\n- `hdbtabledata` files are now generated automatically as part of `cds deploy --to hana` for given set of CSV files.  CSV file names must follow the pattern `<namespace>-entity.csv` (same as for SQLite deployment) and be located in `db/csv` or `db/data`.\n- For Node.js, multiple configuration profiles can now be activated at the same time, e.g. by setting both `NODE_ENV` and `CDS_ENV`, or by setting a multi-value list: `CDS_ENV=profile1,profile2`.\n- New labels for `sap.common.*.code` and `sap.common.Currencies.symbol` (part of `@sap/cds/common`).\n- Better message for `Duplicate definition` errors, where the same `cds` file is referenced from different locations.\n  To fix this, check all dependencies to `@sap/cds` in your package.json and those of reused packages and ensure they allow deduped use of `@sap/cds`.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.16.1\n- Changes of `@sap/cds-ql` 1.16.0\n- Changes of `@sap/cds-services` 1.16.0\n- Changes of `@sap/generator-cds` 2.6.1\n\n\n# Version 3.14.0 - 2019-07-11\n\n## Added\n- Support for `SELECT.distinct.from(Foo)` and `SELECT.one.from(Foo)` queries in Node.js\n- [Beta] `cds deploy --to hana` deploys to SAP HANA on Cloud Foundry\n- For Node.js, `cds env` now activates the `development` profile automatically,\n  unless `CDS_ENV` or `NODE_ENV` are set.  This is in line with `NODE_ENV` defaulting to `development`.\n\n## Also see\n- Changes of `@sap/cds-ql` 1.15.0\n- Changes of `@sap/cds-services` 1.15.0\n- Changes of `@sap/generator-cds` 2.5.0\n\n\n# Version 3.13.0 - 2019-06-26\n\n## Added\n- `cds serve` now provides a preview of the services in a list page of SAP Fiori Elements\n\n## Changed\n- `cds serve` now yields an error if there are no services defined in the model\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.15.0\n- Changes of `@sap/cds-ql` 1.14.0\n- Changes of `@sap/cds-services` 1.14.0\n- Changes of `@sap/generator-cds` 2.4.11\n\n\n\n# Version 3.12.0 - 2019-06-17\n\n## Added\n- On request, `cds build/all` now generates OData EDMX files for node.js services\n- Performance optimizations for `cds build/all`\n\n## Fixed\n- `cds deploy` no longer fails if `data` dir is not present\n- `cds build/all` no longer prints a message if `mta.yaml` does not exist\n\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.14.1\n- Changes of `@sap/cds-ql` 1.13.0\n- Changes of `@sap/cds-services` 1.13.0\n\n\n# Version 3.11.1 - 2019-06-03\n\n## Fixed\n- `cds deploy` honors saved datasource configuration again\n- localization works again for sqlite datasources defined in `package.json`\n\n\n# Version 3.11.0 - 2019-06-03\n\n## Added\n\n- `cds deploy` now also finds `.csv` files in imported reuse packages\n- Better error messages for various `cds` CLI calls\n\n## Changed\n- `cds build/all` for Node.js projects generates proper CSN in `gen/csn.json`.\n   A warning is emitted if `cds serve` is run with the previous format.  Rebuild the project if you see this warning.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.14.0\n- Changes of `@sap/cds-ql` 1.12.0\n- Changes of `@sap/cds-services` 1.12.0\n- Changes of `@sap/generator-cds` 2.4.10\n\n# Version 3.10.0 - 2019-05-21\n\n## Added\n- Tables and view for localized entities are created by default now, both for SAP HANA and SQLite.\n- Internal errors are now marked as such in all CLI commands, with a request to report them.\n\n## Changed\n- `cds compile --service all` no longer fails in case no services are found.\n  This better matches higher level commands like `cds build` that should not fail in this instance.\n  Note that `--service Foo` fails as before in case `Foo` is not found.\n- `cds run` and `cds serve` now serve the generic index page at `/`, while previously this was `/$index`.\n- `cds build/all` now auto-creates build tasks from `mta.yaml` definition if no build tasks have been\n  defined in `.cdsrc.json`. If no `mta.yaml` file exists, cds configuration data respectively defaults\n  are used for build task configuration.\n\n## Fixed\n- CLI now shows compilation warnings in all commands, e.g. in `build`, `deploy`, or `compile`.\n  Previously warnings were only shown in case of compilation errors.\n- `cds help` no longer inserts terminal escape sequences if stdout is redirected to a file.\n- Errors in custom handlers are no longer shadowed in `cds serve` or `cds run`.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.13.4\n- Changes of `@sap/cds-ql` 1.11.1\n- Changes of `@sap/cds-reflect` 2.5.0\n- Changes of `@sap/cds-services` 1.11.1\n- Changes of `@sap/generator-cds` 2.4.8\n\n\n\n# Version 3.9.0 - 2019-05-08\n\n## Added\n- `cds.serve` now reads passport for services from `auth.passport` configuration property\n\n## Fixed\n- `cds.compile` now really skips entities marked with `if-unused`\n- Build tasks are now listed with `cds env`\n- `cds serve` now supports the `--at`, `--to`, and `--with` arguments as specified.\n- `cds deploy --to sqlite` now better handles csv files with empty values\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.12.0\n- Changes of `@sap/cds-ql` 1.10.2\n- Changes of `@sap/cds-reflect` 2.5.0\n- Changes of `@sap/cds-services` 1.10.2\n- Changes of `@sap/generator-cds` 2.4.6\n\n\n\n# Version 3.8.1 - 2019-04-30\n\n## Fixed\n- Texts in deep annotations, e.g. `@UI.Facet`, are now properly localized in OData metadata\n\n\n# Version 3.8.0 - 2019-04-09\n\n## Fixed\n- Make tests run on Windows again\n- Various fixes in `cds build/all`\n- Adjustments to latest compiler for localizing models\n- `.hdbcds` and `.hdbtabledata` files are now copied over in `cds build/all`\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.11.0\n- Changes of `@sap/cds-ql` 1.8.1\n- Changes of `@sap/cds-services` 1.8.1\n- Changes of `@sap/generator-cds` 2.4.4\n\n\n\n# Version 3.7.1 - 2019-03-25\n\n## Fixed\n- `cds serve` now honors `newCsn` configuration when serving from precompiled csn.json files.\n- `cds init` creates samples correctly when project already contains files.\n- `cds build` for node.js projects will now show up compilation errors.  Formatting has been improved as well.\n- Better support for finding `cds` executable in VSCode.\n\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.10.0\n- Changes of `@sap/cds-ql` 1.7.1\n- Changes of `@sap/cds-services` 1.7.2\n- Changes of `@sap/generator-cds` 2.4.4\n\n\n\n# Version 3.6.0 - 2019-02-27\n\n## Added\n- In `cds init`:\n  - Add modules via `cds init --modules` to an existing project.\n  - Do not allow project creation via `cds init` outside of current working folder, e.g. init ../../some/where/else is not allowed.\n  - No output at all (not even error messages) when using `cds init --quiet`.\n  - Create a module folder using `cds init --modules...` even if it is empty based on the supplied options.\n  - Parameter `--modules` only supports one folder of each type.\n- Alpha support for `@cds.odata.valuelist`: Adding `@cds.odata.valuelist` to `@cds.autoexposed` entities will automatically equip all associations referring to such entities with a corresponding `@Common.ValueList.entity`\n\n## Changed\n- Simplified code lists: removed superfluous types `LanguageCode`, `CountryCode`, and `CurrencyCode` from `@sap/cds/common`\n- `cds build/all` now does `--clean` by default and is less verbose in its output\n\n## Fixed\n- `cds.load` no longer fails if reading in a CSN file in version `0.1.0`\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.9.0\n- Changes of `@sap/cds-reflect` 2.4.0\n- Changes of `@sap/cds-ql` 1.6.0\n- Changes of `@sap/cds-services` 1.6.0\n- Changes of `@sap/generator-cds` 2.4.0\n\n\n\n# Version 3.5.2 - 2019-02-20\n\n## Fixed\n- Node.js projects created with `cds init` now\n  - Bind the service module to an HDI service in `mta.yaml`.\n  - Invoke CDS build when building the database module.\n  - No longer create old-style `service` configuration in `package.json`.\n- For datasources with kind `hana` we now also find `hanatrial` services in trial landscapes by matching their tag `hana`.\n\n\n\n# Version 3.5.1 - 2019-02-14\n\n## Fixed\n- In `cds serve` service providers where added twice to the express app.  This is fixed.\n- In the logs of `cds serve` false warnings on SAP Fiori Elements requests are now gone.\n- `cds serve` no longer fails on localization for unbound actions.\n- The project template was fixed to properly wire up the connection to SAP HANA.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.8.1\n- Changes of `@sap/cds-ql` 1.5.1\n- Changes of `@sap/cds-services` 1.5.2\n- Changes of `@sap/generator-cds` 2.3.7\n\n\n\n# Version 3.5.0 - 2019-02-07\n\n## Added\n- `cds compile -2 xsuaa` now generates default values for `xsappname` and `tenant-mode`\n- All commands now can be called with `--help`, where previously only `cds help <command>` was allowed.\n\n## Changed\n- The minimum required Node.js version is now set more specifically to _8.9_ LTS.  Previously, just Node.js 8 was mentioned.\n- The `cds build/all` (experimental build command for Node.js) emits a warning for existing projects to add build task configuration.  Watch out for such a warning in the console and follow its instructions.\n\n## Fixed\n- Service handlers are now also found on CF if CDS models are served from a `csn.json` file instead as from `.cds` sources.\n- An issue where projects w/o `db` dir could not be built using `cds build`.\n- Unclear documentation of `cds deploy` on where it looks up the data source.\n- `cds env` to load configuration profiles in lower-prio files (`.cdsrc.json`) with higher precedence than default configuration in higher-prio files (`package.json`).\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.8.0\n- Changes of `@sap/cds-reflect` 2.3.0\n- Changes of `@sap/cds-ql` 1.5.0\n- Changes of `@sap/cds-services` 1.5.0\n- Changes of `@sap/generator-cds` 2.3.6\n\n\n# Version 3.4.1 - 2019-01-24\n\n## Fixed\n\n- Restore cds-compiler `.version`\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.7.1\n- Changes of `@sap/cds-reflect` 2.2.1\n- Changes of `@sap/cds-ql` 1.4.0\n- Changes of `@sap/cds-services` 1.4.0\n- Changes of `@sap/generator-cds` 2.2.0\n\n\n# Version 3.4.0 - 2019-01-22\n\n## Added\n\n- `cds.env` supports loading from `default-env.json`\n- Support base models for `cds compile -2 xsuaa`\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.7.0\n- Changes of `@sap/cds-reflect` 2.2.0\n- Changes of `@sap/cds-ql` 1.4.0\n- Changes of `@sap/cds-services` 1.4.0\n- Changes of `@sap/generator-cds` 2.2.0\n\n\n# Version 3.3.0 - 2019-01-11\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.6.0\n- Changes of `@sap/cds-reflect` 2.1.0\n- Changes of `@sap/cds-ql` 1.3.0\n- Changes of `@sap/cds-services` 1.3.0\n- Changes of `@sap/generator-cds` 2.2.0\n\n\n# Version 3.2.0 - 2018-12-21\n## Changed\n- cdsc 2sql output may also contain .types\n- Add labels to CodeLists in common.cds\n- Improved cds error messages\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.6.0\n- Changes of `@sap/cds-reflect` 2.1.0\n- Changes of `@sap/cds-ql` 1.2.0\n- Changes of `@sap/cds-services` 1.2.0\n- Changes of `@sap/generator-cds` 2.2.0\n\n\n# Version 3.1.1 - 2018-12-13\n## Changed\n- Better console output from cds compile\n\n## Fixed\n- cds.compile ignored configured odata.version\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.6.0\n- Changes of `@sap/cds-reflect` 2.1.0\n- Changes of `@sap/cds-ql` 1.1.0\n- Changes of `@sap/cds-services` 1.1.0\n- Changes of `@sap/generator-cds` 2.2.0\n\n\n# Version 3.0.0\n## Changed\n- Reworked configuration options to center around required 'data sources'.\n  - As an example see the snippted that e.g. `cds deploy --to sqlite:my.db` generates into `package.json`.\n  - The former `cds` options from `package.json` are deprectated but still supported.\n- Clean up of many Node.js APIs, mainly for `cds.serve` and `cds.connect`.  See the [Javacript APIs documentation](https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/a131984aefe94ff884e6b6819ee76bd9.html) for details.\n- Node.js 8 is now the minimum required runtime version.\n- Simplified `cds init`.  By default it creates a plain project suitable for local CDS development.\n\n## Added\n- `cds env` allows for inspecting the effective configuration\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.5.0\n- Changes of `@sap/cds-reflect` 2.0.0\n- Changes of `@sap/cds-ql` 1.0.0\n- Changes of `@sap/cds-services` 1.0.0\n- Changes of `@sap/generator-cds` 2.0.0\n\n\n# Version 2.11.2\n## Fixes\n- During `cds init/new` only install `@sap/generator-cds` 1.x\n\n\n# Version 2.11.0\n## Added\n- Reuse aspect `cuid` to `@sap/cds/common`\n- Support for smart to-many Associations finding backlinks automatically (&rarr;not for production!)\n- Support to fill DBs with initial data from CSV files (fetched from folder `db/csv/`)\n- New CLI command `cds run` - today a mere wrapper for `cds serve all` but meant to serve microservice test scenarios\n- `cds deploy` can be configured not to modify `package.json` through the `--no-save` option.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.2.0\n- Changes of `@sap/cds-reflect` 1.8.0\n- Changes of `@sap/cds-ql` 0.12.0\n- Changes of `@sap/cds-services` 0.12.0\n\n\n# Version 2.10.3\n## Fixes\n- During `cds init/new` only install `@sap/generator-cds` 1.x\n\n\n# Version 2.10.0\n## Added\n- Support for Fiori Draft\n\n## Fixes\n- Enhanced server.js to also include links to entities\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.1.3\n- Changes of `@sap/cds-reflect` 1.7.0\n- Changes of `@sap/cds-ql` 0.11.0\n- Changes of `@sap/cds-services` 0.11.0\n\n\n# Version 2.9.1\n## Fixes\n- `cds build` no longer blocks if running inside a Maven build.\n\n\n# Version 2.9.0\n## Added\n- `common.cds` model got annotations for title, description, and value lists.\n- `cds` executable now can read from stdin, e.g. `echo 'entity Foo {ID:UUID;}' | cds -2 sql`\n- `cds -2 sql` now outputs plain (non-HANA) SQL.  Use `-2 hana` for HANA SQL.\n- `cds config` shows the current CDS configuration.  Use `cds help config` to learn more.\n\n## Fixes\n- Entities from `common.cds` like `Languages`, `Countries`, and `Currencies` are now only persisted to the database if they are actually used.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.1.2\n- Changes of `@sap/cds-reflect` 1.6.0\n- Changes of `@sap/cds-ql` 0.10.0\n- Changes of `@sap/cds-services` 0.10.1\n\n\n# Version 2.8.0\n## Added\n- Support was added to build node.js service modules\n- `cds init` has been reimplemented with a better commandline experience, along with updated templates.  Plugin `@sap/generator-cds`, which is required for `cds init`, is now automatically installed when `init` is called for the first time.  `cds new` is still available and is now just a synonym for `init`.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.1.1\n- Changes of `@sap/cds-services` 0.9.0\n- Changes of `@sap/cds-ql` 0.9.0\n\n\n# Version 2.7.0\n## Also see\n- Changes of `@sap/cds-compiler` 1.0.32\n- Changes of `@sap/cds-services` 0.8.1\n- Changes of `@sap/cds-ql` 0.8.1\n\n\n# Version 2.6.0\n## Also see\n- Changes of `@sap/cds-compiler` 1.0.31\n- Changes of `@sap/cds-services` 0.7.0\n- Changes of `@sap/cds-ql` 0.7.0\n\n\n# Version 2.5.1\n## Also see\n- Changes of `@sap/cds-services` 0.6.0\n- Changes of `@sap/cds-ql` 0.6.0\n\n\n# Version 2.5.0\n## Added\n- Instead of compiling each `.cds` service file separately, `cds build` now combines all those files from the same folder, creating only one `csn.json` file for them.\n\n## Fixes\n- Shortcuts of `cds init` work again\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.0.30\n- Changes of `@sap/cds-services` 0.5.0\n- Changes of `@sap/cds-ql` 0.5.0\n\n\n# Version 2.4.2\nSame as version 2.3.2, but including the generic service provider for Node.js (`@sap/cds-services` and `@sap/cds-ql`).\n\n\n# Version 2.3.2\n## Changed\n- The default for SQL name mapping is changed to `plain`.  This means that\n  - The name of a table/view in the database catalog is obtained from the name of the corresponding entity in the CDS model in the following way:\n    - replace all \".\" by \"_\"\n    - convert everything to upper case\n  - The name of a table/view column in the database catalog is obtained from the name of the corresponding entity element in the csn in the following way:\n    - convert everything to upper case\n\n  Note that this is a breaking change for appliations that rely on the previous value of `quoted`.  In order to get this value back, add the following to `package.json`: `\"cds\": { \"data\": { \"sql_mapping\" : \"quoted\" } }`\n\n## Fixes\n- Special output formatting in CLI is only done for `cds eval` and `cds repl`, but not for programmatic usage.\n- Links to external documentation are now point to correct help documents.\n\n## Also see\n- Changes of `@sap/cds-compiler` 1.0.30\n\n\n\n# Version 2.3.0\n## Added\n- SQL names can now be configured with `{ data: {sql_mapping: \"plain/quoted\"} }`.  Default is `quoted`, but will be changed to `plain` soon.  If you need to stay with `quoted` in the futute, e.g. due to data compatibility reasons, you can configure this mode already now.\n\n## Fixes\n- The `csn.json` file produced by `cds build` now contains the properly unfolded model for OData.  Previously this was the normalized model, which led to runtime errors in the Java service provider.\n- Invalid configuration data in `package.json` now leads to a build error again.\n- Console output of `cds build` now presents files paths sorted.\n\n## Also see\n- Changes of CDS compiler 1.0.27\n\n\n\n# Version 2.2.0\n## Added\n- CDS configuration in `package.json` can now be omitted if you follow the standard project layout, i.e. if you place your model files in `db/`, `srv/`, and `app/` folders.\n\n## Changed\n- Previously data models needed to include import statements to the service models (e.g. `using from '../srv'`), so that the Java runtime could use these service views on the DB to execute queries.  The views are now included automatically, so that you can remove the explicit `using` clauses.\n- Calling just `cds` on the command line now prints its help.  The previously started REPL is now available with `cds repl` (or just `cds r`).\n\n## Fixes\n- Some cds commands failed on Windows.  This is fixed.\n\n## Also see\n- Changes of CDS compiler 1.0.24\n\n\n\n# Version 2.1.0\n## Added\n- Service edmx files are now written to UI app folders if their manifest.json contains a reference to the service.  This allows Web IDE's annotation modeler to work on up to date service files.\n- The results of `cds.compile.to...` commands are now automatically formatted if called in `cds -e...` or cds repl.  You don't need to append `console.log` to the call chain.\n\n## Fixes\n- Language properties are now found in all folders, also ones that are outside of the current module\n- csn.json is written with line breaks and indentation\n\n## Also see\n- Changes of CDS compiler 1.0.21\n\n\n# Version 2.0.0\n## Added\n- All-new command-line interface.  See `cds help` for information on the available commands.\n- `cds compile` exposes CDS model transformations with various options.\n- `cds build` automatically writes localized edmx files.\n- `cds build` now writes the version to the build log.\n- `cds version` does the usual thing.\n- `cds init` scaffolds CDS projects.\n- CDS repl (read-eval-print-loop): just type `cds` and play with CDS API.\n\n## Fixes\nToo many to mention :)\n\n## Also see\n- Changes of CDS compiler 1.0.19\n","downloadsCurrentMonth":395473,"downloadsCurrentFortnight":186500,"downloads365":8620137,"downloadsFortnightGrowth":-2.95,"downloadsHistory":[{"yearMonth":"2023-04","downloads":723680},{"yearMonth":"2023-05","downloads":821420},{"yearMonth":"2023-06","downloads":825069},{"yearMonth":"2023-07","downloads":842507},{"yearMonth":"2023-08","downloads":814441},{"yearMonth":"2023-09","downloads":768469},{"yearMonth":"2023-10","downloads":796181},{"yearMonth":"2023-11","downloads":764577},{"yearMonth":"2023-12","downloads":726544},{"yearMonth":"2024-01","downloads":680576},{"yearMonth":"2024-02","downloads":350585}],"versions":[{"version":"created","date":"2020-06-11T22:48:33.267Z"},{"version":"3.18.1","date":"2020-06-11T22:48:33.780Z"},{"version":"modified","date":"2024-03-18T16:50:58.421Z"},{"version":"3.31.1","date":"2020-06-11T22:48:41.437Z"},{"version":"3.20.1","date":"2020-06-11T22:48:48.347Z"},{"version":"2.8.0","date":"2020-06-11T22:48:56.092Z"},{"version":"3.21.0","date":"2020-06-11T22:49:03.165Z"},{"version":"3.18.4","date":"2020-06-11T22:49:09.800Z"},{"version":"3.16.1","date":"2020-06-11T22:49:17.419Z"},{"version":"1.14.1","date":"2020-06-11T22:49:23.788Z"},{"version":"3.34.2","date":"2020-06-11T22:49:32.375Z"},{"version":"3.20.0","date":"2020-06-11T22:49:39.242Z"},{"version":"3.7.1","date":"2020-06-11T22:49:45.765Z"},{"version":"3.21.3","date":"2020-06-11T22:49:53.339Z"},{"version":"1.15.0","date":"2020-06-11T22:50:00.096Z"},{"version":"2.10.3","date":"2020-06-11T22:50:11.394Z"},{"version":"3.10.0","date":"2020-06-11T22:50:18.242Z"},{"version":"2.10.2","date":"2020-06-11T22:50:24.522Z"},{"version":"2.8.1","date":"2020-06-11T22:50:31.022Z"},{"version":"3.21.1","date":"2020-06-11T22:50:37.511Z"},{"version":"3.34.1","date":"2020-06-11T22:50:44.257Z"},{"version":"1.15.1","date":"2020-06-11T22:50:51.479Z"},{"version":"3.16.2","date":"2020-06-11T22:50:57.643Z"},{"version":"3.17.4","date":"2020-06-11T22:51:04.829Z"},{"version":"3.0.0","date":"2020-06-11T22:51:12.092Z"},{"version":"3.33.1","date":"2020-06-11T22:51:19.191Z"},{"version":"3.5.0","date":"2020-06-11T22:51:25.888Z"},{"version":"3.21.2","date":"2020-06-11T22:51:33.990Z"},{"version":"3.5.1","date":"2020-06-11T22:51:41.111Z"},{"version":"3.31.2","date":"2020-06-11T22:51:49.780Z"},{"version":"2.3.2","date":"2020-06-11T22:51:56.236Z"},{"version":"3.5.2","date":"2020-06-11T22:52:02.678Z"},{"version":"2.9.1","date":"2020-06-11T22:52:09.074Z"},{"version":"3.13.0","date":"2020-06-11T22:52:15.624Z"},{"version":"3.16.3","date":"2020-06-11T22:52:22.089Z"},{"version":"2.3.1","date":"2020-06-11T22:52:29.375Z"},{"version":"1.14.0","date":"2020-06-11T22:52:35.871Z"},{"version":"2.10.1","date":"2020-06-11T22:52:42.256Z"},{"version":"3.18.3","date":"2020-06-11T22:53:01.225Z"},{"version":"3.34.3","date":"2020-06-24T08:01:44.889Z"},{"version":"4.1.5","date":"2020-08-05T14:09:33.398Z"},{"version":"4.1.7","date":"2020-08-18T13:11:27.063Z"},{"version":"4.1.9","date":"2020-09-03T12:07:53.100Z"},{"version":"4.2.3","date":"2020-10-14T07:44:46.926Z"},{"version":"4.2.4","date":"2020-10-16T16:51:19.882Z"},{"version":"4.2.6","date":"2020-10-26T12:02:08.948Z"},{"version":"4.2.7","date":"2020-10-26T14:29:07.298Z"},{"version":"4.2.8","date":"2020-10-27T17:22:21.465Z"},{"version":"4.3.0","date":"2020-11-04T14:06:19.353Z"},{"version":"4.3.1","date":"2020-11-23T16:57:02.566Z"},{"version":"4.4.4","date":"2020-12-04T14:35:18.761Z"},{"version":"4.4.5","date":"2020-12-07T09:58:03.250Z"},{"version":"4.4.6","date":"2020-12-08T12:43:48.347Z"},{"version":"4.3.2","date":"2020-12-18T13:14:23.584Z"},{"version":"4.4.7","date":"2020-12-18T13:16:46.793Z"},{"version":"4.4.9","date":"2021-01-12T16:40:26.421Z"},{"version":"4.4.10","date":"2021-01-20T14:39:03.312Z"},{"version":"4.5.1","date":"2021-02-03T10:20:56.962Z"},{"version":"4.5.2","date":"2021-02-17T16:25:14.471Z"},{"version":"4.5.3","date":"2021-02-19T12:07:54.211Z"},{"version":"4.6.4","date":"2021-03-02T13:51:06.724Z"},{"version":"4.6.5","date":"2021-03-15T09:36:08.951Z"},{"version":"5.0.4","date":"2021-04-07T14:10:33.925Z"},{"version":"5.0.6","date":"2021-04-16T12:41:51.531Z"},{"version":"4.6.6","date":"2021-05-10T07:24:35.940Z"},{"version":"5.1.1","date":"2021-05-10T15:16:48.742Z"},{"version":"5.1.2","date":"2021-05-11T17:02:15.685Z"},{"version":"5.1.3","date":"2021-05-11T18:11:49.945Z"},{"version":"5.1.4","date":"2021-05-12T16:29:59.689Z"},{"version":"5.1.5","date":"2021-05-25T08:58:48.560Z"},{"version":"5.3.0","date":"2021-07-12T07:14:16.056Z"},{"version":"5.3.1","date":"2021-07-13T07:56:46.387Z"},{"version":"5.3.2","date":"2021-07-19T07:08:41.835Z"},{"version":"5.4.0","date":"2021-08-02T13:36:46.509Z"},{"version":"5.4.1","date":"2021-08-03T13:46:47.246Z"},{"version":"5.4.2","date":"2021-08-11T12:24:31.669Z"},{"version":"5.4.3","date":"2021-08-16T11:21:24.906Z"},{"version":"5.4.4","date":"2021-09-09T10:25:15.438Z"},{"version":"5.4.5","date":"2021-09-15T09:43:17.840Z"},{"version":"5.4.6","date":"2021-09-20T12:16:57.940Z"},{"version":"5.5.0","date":"2021-09-27T12:37:11.550Z"},{"version":"5.5.1","date":"2021-09-27T12:37:26.715Z"},{"version":"5.5.2","date":"2021-09-29T14:58:13.057Z"},{"version":"5.5.3","date":"2021-10-07T07:52:38.726Z"},{"version":"5.5.4","date":"2021-10-13T09:28:58.778Z"},{"version":"5.5.5","date":"2021-10-20T13:58:14.473Z"},{"version":"5.6.0","date":"2021-11-02T12:08:45.385Z"},{"version":"5.6.1","date":"2021-11-02T15:31:40.523Z"},{"version":"5.6.2","date":"2021-11-08T13:56:36.679Z"},{"version":"5.6.3","date":"2021-11-15T17:49:08.767Z"},{"version":"5.6.4","date":"2021-11-23T15:33:51.607Z"},{"version":"5.7.1","date":"2021-12-06T14:34:26.378Z"},{"version":"5.7.2","date":"2021-12-09T12:17:51.040Z"},{"version":"5.7.3","date":"2021-12-16T15:39:49.816Z"},{"version":"5.7.4","date":"2021-12-22T13:37:04.842Z"},{"version":"5.7.5","date":"2022-01-14T11:03:54.002Z"},{"version":"5.8.0","date":"2022-01-31T08:54:12.872Z"},{"version":"5.8.1","date":"2022-02-11T16:28:14.836Z"},{"version":"5.8.2","date":"2022-02-22T16:23:26.509Z"},{"version":"5.8.3","date":"2022-03-01T20:42:09.373Z"},{"version":"5.8.4","date":"2022-03-17T10:35:21.153Z"},{"version":"5.9.0","date":"2022-03-28T08:21:39.505Z"},{"version":"5.9.1","date":"2022-03-31T13:33:24.914Z"},{"version":"5.9.2","date":"2022-04-07T12:02:52.746Z"},{"version":"5.9.3","date":"2022-04-27T08:32:56.402Z"},{"version":"5.9.4","date":"2022-05-02T16:34:27.835Z"},{"version":"5.9.5","date":"2022-05-09T14:48:00.478Z"},{"version":"5.9.6","date":"2022-05-24T12:26:19.415Z"},{"version":"5.9.7","date":"2022-06-13T11:07:07.144Z"},{"version":"5.9.8","date":"2022-06-27T07:14:17.857Z"},{"version":"6.0.1","date":"2022-07-05T09:03:40.470Z"},{"version":"6.0.2","date":"2022-07-06T16:25:05.741Z"},{"version":"6.0.3","date":"2022-07-14T15:54:44.894Z"},{"version":"6.0.4","date":"2022-07-20T10:14:29.633Z"},{"version":"6.1.0","date":"2022-08-11T09:42:40.051Z"},{"version":"6.1.1","date":"2022-08-25T14:40:34.204Z"},{"version":"6.1.2","date":"2022-09-05T15:05:12.791Z"},{"version":"6.1.3","date":"2022-09-13T13:49:37.486Z"},{"version":"6.2.1","date":"2022-10-10T09:16:19.538Z"},{"version":"6.2.2","date":"2022-10-14T09:22:46.869Z"},{"version":"6.2.3","date":"2022-10-21T11:33:14.904Z"},{"version":"6.3.0","date":"2022-11-02T08:46:17.231Z"},{"version":"6.3.1","date":"2022-11-04T13:47:41.820Z"},{"version":"6.2.4","date":"2022-11-04T15:12:55.232Z"},{"version":"6.3.2","date":"2022-11-21T16:17:37.618Z"},{"version":"6.4.0","date":"2022-12-15T18:29:53.204Z"},{"version":"6.4.1","date":"2023-01-16T16:22:40.729Z"},{"version":"6.5.0","date":"2023-01-30T08:51:22.487Z"},{"version":"6.6.0","date":"2023-02-28T14:27:02.436Z"},{"version":"6.6.1","date":"2023-03-09T13:54:46.013Z"},{"version":"6.6.2","date":"2023-03-17T14:34:37.458Z"},{"version":"6.7.0","date":"2023-03-29T12:14:48.443Z"},{"version":"6.7.1","date":"2023-04-14T11:50:20.028Z"},{"version":"6.7.2","date":"2023-04-24T16:57:56.401Z"},{"version":"6.8.1","date":"2023-05-04T09:50:05.127Z"},{"version":"6.8.2","date":"2023-05-30T07:22:39.767Z"},{"version":"6.8.3","date":"2023-06-14T07:14:19.465Z"},{"version":"6.8.4","date":"2023-06-15T07:34:43.141Z"},{"version":"7.0.0","date":"2023-06-22T21:39:56.852Z"},{"version":"7.0.1","date":"2023-07-03T18:40:41.975Z"},{"version":"7.0.2","date":"2023-07-06T11:00:07.586Z"},{"version":"7.0.3","date":"2023-07-20T07:08:40.674Z"},{"version":"7.1.0","date":"2023-07-31T08:03:28.299Z"},{"version":"7.1.1","date":"2023-08-01T13:59:40.024Z"},{"version":"7.1.2","date":"2023-08-16T07:08:10.546Z"},{"version":"7.2.0","date":"2023-09-04T14:21:56.730Z"},{"version":"7.2.1","date":"2023-09-22T08:29:26.112Z"},{"version":"7.3.0","date":"2023-10-05T13:05:28.832Z"},{"version":"7.3.1","date":"2023-10-24T11:33:44.316Z"},{"version":"1.17.0","date":"2023-11-08T08:52:44.884Z"},{"version":"1.18.2","date":"2023-11-08T14:30:05.199Z"},{"version":"7.4.0","date":"2023-11-14T13:36:03.060Z"},{"version":"7.4.1","date":"2023-11-23T15:44:17.873Z"},{"version":"7.4.2","date":"2023-11-30T14:28:54.132Z"},{"version":"7.5.0","date":"2023-12-18T13:34:53.409Z"},{"version":"7.5.1","date":"2023-12-21T16:05:10.970Z"},{"version":"7.5.2","date":"2024-01-05T15:13:27.496Z"},{"version":"7.5.3","date":"2024-01-23T09:03:19.248Z"},{"version":"7.6.1","date":"2024-01-31T13:30:24.147Z"},{"version":"7.6.2","date":"2024-02-09T13:09:25.629Z"},{"version":"7.6.3","date":"2024-02-13T15:28:15.952Z"},{"version":"7.6.4","date":"2024-02-21T13:54:57.137Z"},{"version":"7.7.0","date":"2024-02-27T14:04:40.621Z"},{"version":"7.7.1","date":"2024-03-06T15:57:43.807Z"},{"version":"7.7.2","date":"2024-03-11T16:20:35.152Z"},{"version":"7.7.3","date":"2024-03-18T16:50:57.907Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cds"},{"name":"cf-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"Apache-2.0","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-08-16T14:52:10.218Z","updatedAt":"2023-02-15T12:34:32.164Z","readme":"![GitHub package.json version](https://img.shields.io/github/package-json/v/SAP/cloud-foundry-tools-api)\n[![CircleCI](https://circleci.com/gh/SAP/cloud-foundry-tools-api.svg?style=svg)](https://circleci.com/gh/SAP/cloud-foundry-tools-api)\n[![Coverage Status](https://coveralls.io/repos/github/SAP/cloud-foundry-tools-api/badge.svg?branch=master)](https://coveralls.io/github/SAP/cloud-foundry-tools-api?branch=master)\n[![Language grade: JavaScript](https://img.shields.io/lgtm/grade/javascript/g/SAP/cloud-foundry-tools-api.svg?logo=lgtm&logoWidth=18)](https://lgtm.com/projects/g/SAP/cloud-foundry-tools-api/context:javascript)\n[![Commitizen friendly](https://img.shields.io/badge/commitizen-friendly-brightgreen.svg)](http://commitizen.github.io/cz-cli/)\n[![REUSE status](https://api.reuse.software/badge/github.com/SAP/cloud-foundry-tools-api)](https://api.reuse.software/info/github.com/SAP/cloud-foundry-tools-api)\n[![dependentbot](https://api.dependabot.com/badges/status?host=github&repo=SAP/cloud-foundry-tools-api)](https://dependabot.com/)\n\n# Overview\n\nThis package provides a set of APIs to help you develop applications in Cloud Foundry. You can use these APIs to manage apps, service instances, orgs, spaces, and users in your environment. Mostly, this is a wrapper of the CF command line client, which runs a particular command and parses the output to the suitable JSON file. If an error or failure occurs, the runtime exception throws with relevant problem information.\n\n## API Reference Guide\n\n[API guide](https://sap.github.io/cloud-foundry-tools-api)\n\n## Prerequisite\n\n_from version_ `v1.0.0` _and above_:\n\nMake sure you have installed the CF CLI [v7](https://github.com/cloudfoundry/cli/blob/master/doc/installation-instructions/installation-instructions-v7.md#installers-and-compressed-binaries) tool in your environment.\n\n_below version_ `v1.0.0`:\n\nMake sure you have installed the CF CLI [v6](https://github.com/cloudfoundry/cli/blob/master/doc/installation-instructions/installation-instructions-v6.md#installers-and-compressed-binaries) tool in your environment.\n\n## Examples of usage\n\nExample 1\n\n```\ntry {\n\tconst result = await cfLogin(\"https://api.cf.....com\", \"user\", \"password\");\n\tif (result === \"OK\") {\n\t\t// successful\n\t}\n} catch (e) {\n\t// display or/and log error\n}\n```\n\nExample 2\n\n```\ntry {\n\tconst spaces = await cfGetAvailableSpaces(\"myOrg\");\n\tfor (const space of spaces) {\n\t\tconsole.log(\"Space label is \" + space.label + \" guid is \" + space.guid);\n\t}\n} catch (e) {\n\t// display or/and log error\n}\n```\n\n## Contributing\n\nContributing information can be found in the [CONTRIBUTING.md](CONTRIBUTING.md) file.\n","downloadsCurrentMonth":143381,"downloadsCurrentFortnight":79060,"downloads365":6371878,"downloadsFortnightGrowth":32.92,"downloadsHistory":[{"yearMonth":"2023-04","downloads":520511},{"yearMonth":"2023-05","downloads":597917},{"yearMonth":"2023-06","downloads":592299},{"yearMonth":"2023-07","downloads":591610},{"yearMonth":"2023-08","downloads":617085},{"yearMonth":"2023-09","downloads":625444},{"yearMonth":"2023-10","downloads":658098},{"yearMonth":"2023-11","downloads":640137},{"yearMonth":"2023-12","downloads":604765},{"yearMonth":"2024-01","downloads":540642},{"yearMonth":"2024-02","downloads":112476}],"versions":[{"version":"created","date":"2020-08-16T14:52:10.218Z"},{"version":"0.5.0","date":"2020-08-16T14:52:10.532Z"},{"version":"modified","date":"2023-02-15T12:34:32.164Z"},{"version":"0.6.1","date":"2020-08-23T09:00:57.798Z"},{"version":"0.6.2","date":"2020-08-23T16:29:42.051Z"},{"version":"0.6.3","date":"2020-09-23T15:16:50.978Z"},{"version":"0.6.4","date":"2020-09-29T14:01:12.132Z"},{"version":"0.6.5","date":"2020-10-08T08:31:16.685Z"},{"version":"0.6.6","date":"2020-10-12T08:22:04.316Z"},{"version":"0.6.7","date":"2020-10-19T14:18:11.732Z"},{"version":"0.6.8","date":"2020-11-04T15:10:36.548Z"},{"version":"0.7.0","date":"2020-12-30T06:25:33.561Z"},{"version":"0.8.0","date":"2021-01-03T14:27:25.884Z"},{"version":"0.8.1","date":"2021-02-22T11:14:48.775Z"},{"version":"1.0.0","date":"2021-03-02T12:48:26.156Z"},{"version":"1.0.1","date":"2021-03-04T12:36:11.610Z"},{"version":"1.0.2","date":"2021-03-07T09:44:13.503Z"},{"version":"1.1.0","date":"2021-04-05T08:38:12.691Z"},{"version":"1.1.1","date":"2021-05-25T11:22:40.009Z"},{"version":"1.2.0","date":"2021-06-09T10:13:31.302Z"},{"version":"2.0.0","date":"2021-06-23T06:49:55.676Z"},{"version":"2.0.1","date":"2021-07-01T04:17:52.094Z"},{"version":"2.0.4","date":"2021-11-22T09:52:42.303Z"},{"version":"2.1.1","date":"2021-12-07T06:52:15.559Z"},{"version":"2.2.0","date":"2022-02-10T12:18:16.618Z"},{"version":"3.0.0","date":"2022-04-18T05:41:48.348Z"},{"version":"3.0.1","date":"2022-04-25T07:23:20.911Z"},{"version":"3.0.3","date":"2022-06-08T12:00:41.150Z"},{"version":"3.2.0","date":"2023-02-15T12:34:32.060Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cf-tools"},{"name":"cli-core","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-15T06:17:24.317Z","updatedAt":"2024-03-14T12:09:10.047Z","readme":"# @sap/cli-core\n\nCommand-Line Interface (CLI) Core Module.\n\n[![Node Version](https://img.shields.io/badge/node-18.xx.x-brightgreen)](https://nodejs.org/dist/latest-v18.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-19.xx.x-brightgreen)](https://nodejs.org/dist/latest-v19.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-20.xx.x-brightgreen)](https://nodejs.org/dist/latest-v20.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-21.xx.x-brightgreen)](https://nodejs.org/dist/latest-v21.x/docs/api/#) [![npm version](https://badge.fury.io/js/@sap%2Fcli-core.svg)](https://badge.fury.io/js/@sap%2Fcli-core)\n\n## Content\n\n1. [License](#license)\n\n## License\n\nThis package is provided under the terms of the [SAP Freeware License Agreement](https://tools.hana.ondemand.com/sap-freeware-license.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## 2024.5.0\n\n### Fixed\n\n- Fixed an issue with parsing the discovery document if more than 52 distinct options are defined. Now, the short flags are calculated per command. This allows for having up to 52 options per command. However, the same option used across different commands might not share the same short flag depending on other available options for the commands. It is recommended to always use the option's long name as the long name remains stable.\n\n## 2024.4.0\n\n### Added\n\n- Support for Node versions `18`, `19`, `20`, `21`.\n\n- When using the CLI as a [As a Node.js module dependency](README.md#as-a-nodejs-module-dependency) and running a command which creates an entity where the CLI would print the command to retrieve the result when running the command to create the entity in the terminal, for example:\n\n  ```bash\n  <cli> spaces create -H https://mytenant.eu10.hcs.cloud.sap/ -f ./MY_SPACE.json\n  Use <cli> spaces read --space-id MY_SPACE to retrieve the entity you just created\n  ```\n\n  the CLI now returns the command to execute as an object:\n\n  ```bash\n  const retrieveCommand = await commands[\"spaces create\"]({\n    \"--file-path\": \"MY_SPACE.json\",\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  console.log(retrieveCommand);\n  // {\n  //   command: \"spaces read\",\n  //   options: {\n  //     \"--space-id\": \"MY_SPACE\"\n  //   },\n  // }\n  ```\n\n  You can use the returned response to immediately issue the command to read the entity:\n\n  ```bash\n  const retrieveCommand = await commands[\"spaces create\"]({\n    \"--file-path\": \"MY_SPACE.json\",\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  const response = await commands[retrieveCommand.command]({\n    ...retrieveCommand.options,\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  console.log(response);\n  // {\n  //   MY_SPACE: {\n  //     version: \"1.0.4\",\n  //     ...\n  //   }\n  // }\n  ```\n\n- The CLI core module now supports retrieving the discovery documents from multiple endpoints for the same tenant. This allows you to define a list of endpoints from which the discovery documents should be retrieved. Multiple services, reachable through the same tenant, can expose their own, distinct discovery documents. There is no need to have a single service expose the full document for the tenant. The retrieved discovery documents are merged into a single document. All commands are shown to the user, not distinguished by endpoint or service. Only OAuth authentication is supported when specifying multiple endpoints.\n\n### Fixed\n\n- When the host is globally configured via the command `<cli> config host set <host>`, any other host specified via option `-H, --host` was ignored when running a command. This often led to confusion when users specify the host explicitly via option `-H, --host`, but are not aware that the host was globally configured, too. Now, option `-H, --host` always takes precedence over the globally configured host.\n\n## 2024.2.0\n\n### Changed\n\n- The required version of `npm` changes from `^9` to `^10`.\n\n## 2024.1.0\n\n### Fixed\n\n- The `--browser` option introduced with version `2023.25.0` did not apply the default correctly in case the option `--browser` was not explicitly specified.\n\n## 2023.25.0\n\n### Added\n\n- A check for the correct node version environment when using the CLI. In case the node version does not satisfy the minimum node version required by the CLI to function correctly, a warning is printed to the console.\n\n- When printing the help information for the `login` command, the list of options now includes the login-specific options such as `--authorization-url` and `--token-url`. Previously the help showed the following options:\n\n  ```bash\n  <CLI> login --help\n  Usage: <CLI> login [options]\n  log in to your account using interactive OAuth authentication\n  Options:\n    -H, --host <host>  specifies the url where the tenant is hosted (optional)\n    -h, --help         display help for command\n  ```\n\n  With this version, the help looks like this:\n\n  ```bash\n  <CLI> login --help\n  Usage: <CLI> login [options]\n  log in to your account using interactive OAuth authentication\n  Options:\n    -H, --host <host>              specifies the url where the tenant is hosted (optional)\n    -A, --authorization-url <url>  authorization url for interactive oauth session authentication (optional)\n    -t, --token-url <url>          token url for interactive oauth session authentication (optional)\n    -c, --client-id <id>           client id for interactive oauth session authentication (optional)\n    -C, --client-secret <secret>   client secret for interactive oauth session authentication (optional)\n    -a, --access-token <token>     access token for interactive oauth session authentication (optional)\n    -b, --code <code>              code for oauth token retrieval (optional)\n    -r, --refresh-token <token>    refresh token for interactive oauth session authentication (optional)\n    -s, --secrets-file <file>      path to secrets file (optional)\n    -h, --help                     display help for command\n  Only command-specific options are listed here. To learn more about available generic options, visit https://tinyurl.com/yck8vv4w\n  ```\n\n- Added the option `--browser <browser>` to the login command. Users can now choose explicitly which browser to open when logging in to a tenant. By default the system's default browser is used.\n\n### Fixed\n\n- The HTTPS proxy support introduced with `2023.24.0` did not respect the underlying `axios` module configuration need to disable the native proxy handling by passing `proxy: false` to the request configuration.\n\n### Changed\n\n- Previously, when running the `logout` command but no secrets existed anymore, the command would fail with exit code 1 and an error message. Now, when running the `logout` command but there are no secrets to logout from, the command fails silently.\n\n## 2023.24.0\n\n### Fixed\n\n- The defined HTTP protocol was not applied to calculated authorization URL and token URL. No matter which HTTP protocol (`http` or `https`) was used, the automatically calculated authorization URL and token URL always used the `https` protocol.\n\n### Added\n\n- HTTPS proxy support via environment variable `https_proxy`. When using an HTTPS proxy to communicate with the public internet, you can configure the environment variable `https_proxy`. The CLI uses the value from the environment variable to establish a correct connection to the HTTPS proxy.\n\n- Support for response header `x-sap-datasphere-cli-file-name`. When the user adds option `--output` and provides a path to a file location, this value is always used to store the response data, no matter whether response header `x-sap-datasphere-cli-file-name` is present. If the user adds option `--output` without providing a path to a file location and the response header `x-sap-datasphere-cli-file-name` is present, the response data is stored in the location mentioned in `x-sap-datasphere-cli-file-name`. In all other cases, the response data is printed to the console.\n\n## 2023.23.0\n\n### Fixed\n\n- Trailing single quotes (`'`) were removed from option values even though there was no leading single quote. This version contains a fix that trailing single quotes are only removed if there is a leading single quote.\n\n  Trailing single quote is not removed: `some 'value'` stays `some 'value'`.\n\n  Trailing single quote is removed: `'some value'` becomes `some value`.\n\n- The help output did not mention the correct CLI name. Instead the output showed the name 'terminal'.\n\n  ```javascript\n  Usage: terminal [options] [command]\n\n  Command-Line Interface for <product name>.\n  ...\n  ```\n\n  Since this version, the name is shown correctly.\n\n  ```javascript\n  Usage: <cli> [options] [command]\n\n  Command-Line Interface for <product name>.\n  ...\n  ```\n\n## 2023.19.0\n\n### Fixed\n\n- Logging in failed if required information such as the client ID or client secret were provided via interactive input prompt. When the information were provided using a secrets file or via options, the login worked as expected.\n\n## 2023.18.0\n\n### Added\n\n- Support for managing multiple logins/secrets for different tenants in parallel. The `<cli> login` and `<cli> logout` commands have been updated, allowing you to login to multiple tenants in parallel. When running a command, the CLI uses the secret matching the currently maintained tenant URL via the `-H, --host` option or set via `<cli> config host set <host>`. You now must specify the host which you are logging in to using option `-H, --host`, or by setting the host globally first by calling `<cli> config host set <host>`, to allow the CLI to store the secret for the defined tenant URL.\n\n  You can list all locally stored secrets by running `<cli> config secrets show`.\n\n  ```javascript\n  $ <cli> config secrets show\n  [\n    {\n      \"id\": 0,\n      \"client_id\": \"sb-0d85e619...\",\n      \"client_secret\": \"1dcc0522-...\",\n      \"tenantUrl\": \"https://somehost.eu10.cloud.sap\",\n      ...\n    },\n    {\n      \"id\": 1,\n      \"client_id\": \"sb-0d85e619...\",\n      \"client_secret\": \"1dcc0522-...\",\n      \"tenantUrl\": \"https://somehost.us10.cloud.sap\",\n      ...\n    }\n  ]\n  ```\n\n  In order to logout again, the `<cli> logout` command allows you to optionally specify the ID of the login/secret to remove using option `-l, --login-id <id>`.\n\n  ```javascript\n  <cli> logout --help\n  Usage: <cli> logout [options]\n\n  log out from your account\n\n  Options:\n    -l, --login-id <id>  specifies the login ID (optional) (choices: \"0\", default: \"0\")\n    -h, --help           display help for command\n  ```\n\n  By default, when you omit option `-l, --login-id <id>`, the login/secret with ID _0_ is removed.\n\n  You cannot login to the same tenant with different _access tokens_ at the same time. There can only be a single login/secret per tenant, but you can login into multiple tenants in parallel. If you need to login with different users into the same tenant, you have to logout first, then login again with a different user.\n\n- Support for predefined OAuth clients where the client ID _does not_ start with the term `sb-`. When using a predefined OAuth client where the client ID _does not_ start with the term `sb-`, the CLI uses a different default port `65000` to retrieve the temporary code to retrieve the access token and refresh token. The port can be changed using the environment variable mentioned in the [README.md](README.md) file.\n\n- Improved OAuth authorization URL and token URL support. You do not have to specify the options for the _OAuth Client Authorization URL_ and _Token URL_ anymore, if you specify the tenant URL using the _-H, --host_ option. The CLI calculates the required authorization and token URLs automatically based on the given _Client ID_, _Client Secret_, and _Tenant URL_. You can still use the respective options to provide values for the authorization URL and token URL to override the calculated values.\n\n### Changed\n\n- Generic options are hidden for all commands. Before, all options where shown, including generic options applicable to any command.\n\n  ```bash\n  $ <cli> spaces read --help\n  Usage: <cli> spaces read [options]\n  fetch space details for a specified space\n  Options:\n    -V, --verbose                    print detailed log information to console (optional)\n    -O, --options-file <file>        path to options file (optional)\n    -H, --host <host>                specifies the url where the tenant is hosted (optional)\n    -c, --client-id <id>             client id for interactive oauth session authentication (optional)\n    -C, --client-secret <secret>     client secret for interactive oauth session authentication (optional)\n    -a, --access-token <token>       access token for interactive oauth session authentication (optional)\n    -r, --refresh-token <token>      refresh token for interactive oauth session authentication (optional)\n    -b, --code <code>                code for oauth token retrieval (optional)\n    -t, --token-url <url>            token url for interactive oauth session authentication (optional)\n    -A, --authorization-url <url>    authorization url for interactive oauth session authentication (optional)\n    -p, --passcode <passcode>        passcode for interactive session authentication (optional)\n    -s, --secrets-file <file>        path to secrets file (optional)\n    -e, --expires-in <expires>       expires in information for interactive oauth session authentication (optional)\n    -o, --output <output>            specifies the file to store the output of the command (optional)\n    -P, --pretty                     pretty-formats JSON responses (optional)\n    -S, --space <space>              space ID (optional)\n    -N, --no-space-definition        do not read space definition (optional)\n    -m, --definitions [definitions]  read definitions (optional)\n    -q, --connections [connections]  read connections (optional)\n    -h, --help                       display help for command\n  ```\n\n  Now, only command-specific options are shown.\n\n  ```bash\n  $ <cli> spaces read --help\n  Usage: <cli> spaces read [options]\n  fetch space details for a specified space\n  Options:\n  -S, --space <space> space ID (optional)\n  -N, --no-space-definition do not read space definition (optional)\n  -m, --definitions [definitions] read definitions (optional)\n  -q, --connections [connections] read connections (optional)\n  -h, --help display help for command\n  Only command-specific options are listed here. To learn more about available generic options, visit https://your.generic.options.help.url\n  ```\n\n- Option `-P, --pretty` changes to `-n, --no-pretty`. You can now supply option `-n, --no-pretty` to not pretty-format the response of a command. By default, the response of a command is pretty-formatted. When adding the option `-h, --help` to any command, the help tells you about the possible uses.\n\n  ```bash\n  $ <cli> spaces read --help\n  Usage: <cli> spaces read [options]\n\n  fetch space details for a specified space\n\n  Options:\n    -n, --no-pretty       do not pretty-format JSON responses (optional)\n    -h, --help            display help for command\n  ```\n\n  When calling a command that supports the `-P, --pretty` option you can explicitly specify to pretty-print the result.\n\n  `$ <cli> spaces read --pretty true`\n\n  To disable pretty-printing, set `-P, --pretty` to `false`.\n\n  `$ <cli> spaces read --pretty false`\n\n  Calling a command without specifying the `-P, --pretty` option explicitly yields the same output as when calling the command with `--pretty true`.\n\n- A new top-level command `config` has been introduced. This command groups all the CLI configuration-related commands such as `cache`, `secrets`, `host`, ...\n\n  **Old Structure**\n\n  ```bash\n  $ <cli>\n  Usage: <cli> [options] [command]\n\n  <Your CLI description>\n\n  Options:\n    -v, --version              output the current version\n    -H, --host <host>          specifies the url where the tenant is hosted (optional)\n    -O, --options-file <file>  path to options file (optional)\n    -h, --help                 display help for command\n\n  Commands:\n    cache                      work with the local CLI cache\n    dbusers [options]          manage and orchestrate database users\n    help [command]             display help for command\n    host                       configure host properties\n    login [options]            log in to your account using interactive OAuth authentication\n    logout                     log out from your account\n    marketplace [options]      manage and orchestrate your SAP Data Marketplace\n    passcode-url [options]     display the passcode url\n    secrets                    work with the locally stored secrets\n    spaces [options]           manage and orchestrate spaces\n    tasks [options]            manage tasks\n  ```\n\n  **New Structure**\n\n  ```bash\n  $ <cli>\n  Usage: <cli> [options] [command]\n\n  <Your CLI description>\n\n  Options:\n    -v, --version              output the current version\n    -H, --host <host>          specifies the url where the tenant is hosted (optional)\n    -O, --options-file <file>  path to options file (optional)\n    -h, --help                 display help for command\n\n  Commands:\n    config                     configure your CLI\n    dbusers [options]          manage and orchestrate database users\n    help [command]             display help for command\n    login [options]            log in to your account using interactive OAuth authentication\n    logout                     log out from your account\n    marketplace [options]      manage and orchestrate your SAP Data Marketplace\n    spaces [options]           manage and orchestrate spaces\n    tasks [options]            manage tasks\n  ```\n\n### Fixed\n\n- Values entered for the _Authorization URL_ and _Token URL_ could be entered including query parameters like `https://some.authorization.url?some.parameter=some.value`. The CLI did not remove the query parameters when using the URLs to retrieve the temporary code. This has been changed, the query parameters are now removed. The CLI changes an URL from `https://some.authorization.url?some.parameter=some.value` to `https://some.authorization.url` to retrieve the temporary code.\n\n## 2023.11.0\n\n### Changed\n\n- When using the CLI as a dependency in your Node.js project, calling a command now returns the result directly, if there's any. You don't need to provide a custom logger function anymore to catch the `output` logs. You can now write the following code to work with the result of a command:\n\n  ```bash\n  import cli from \"@sap/<cli>\";\n\n  const commands = await cli.getCommands(\"https://somehost.eu10.cloud.sap\");\n  const result = await commands[\"some command\"](options);\n  ```\n\n## 2023.9.0\n\n### Added\n\n- Possibility to flag a package as deprecated.\n\n## 2023.7.0\n\n### Fixed\n\n- When the server responds with a redirect, the module again follows the given redirect. The underlying issue with `axios` had been solved, see [github.com/axios](https://github.com/axios/axios/pull/4731).\n\n## 2023.6.0\n\n`@sap/cli-core` has been published.\n\n### Changed\n\n- Environment variable `DWC_CLI_PORT` changed to `CLI_HTTP_PORT`.\n- The local CLI cache was created in the installation directory of the CLI. This can cause issues if the user calling the CLI does not have write permissions on the installation directory. From now on, the CLI creates the local cache in the executing user's home directory by default. The previous behavior to use the installation directory instead, can be enabled by setting environment variable `CLI_LEGACY_CACHE_LOCATION` to `\"true\"`.\n","downloadsCurrentMonth":1567,"downloadsCurrentFortnight":807,"downloads365":7872,"downloadsFortnightGrowth":15.12,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":340},{"yearMonth":"2023-07","downloads":319},{"yearMonth":"2023-08","downloads":597},{"yearMonth":"2023-09","downloads":708},{"yearMonth":"2023-10","downloads":799},{"yearMonth":"2023-11","downloads":994},{"yearMonth":"2023-12","downloads":407},{"yearMonth":"2024-01","downloads":1127},{"yearMonth":"2024-02","downloads":1433}],"versions":[{"version":"created","date":"2023-06-15T06:17:24.317Z"},{"version":"2023.12.0","date":"2023-06-15T06:17:24.613Z"},{"version":"modified","date":"2024-03-14T12:09:10.047Z"},{"version":"2023.13.0","date":"2023-06-15T06:25:03.340Z"},{"version":"2023.14.0","date":"2023-06-28T12:36:48.906Z"},{"version":"2023.17.0","date":"2023-08-23T12:52:08.258Z"},{"version":"2023.18.0","date":"2023-08-23T13:03:40.699Z"},{"version":"2023.19.0","date":"2023-09-07T07:24:13.958Z"},{"version":"2023.23.0","date":"2023-10-31T22:34:48.764Z"},{"version":"2023.22.0","date":"2023-11-01T07:13:24.275Z"},{"version":"2023.24.0","date":"2023-11-15T06:57:37.586Z"},{"version":"2023.25.0","date":"2023-11-29T22:03:33.873Z"},{"version":"2024.1.0","date":"2024-01-19T07:25:48.267Z"},{"version":"2024.2.0","date":"2024-01-19T07:36:48.007Z"},{"version":"2024.3.0","date":"2024-02-01T09:30:54.696Z"},{"version":"2024.4.0","date":"2024-02-19T15:53:21.554Z"},{"version":"2024.5.0","date":"2024-03-14T11:14:01.004Z"},{"version":"2024.6.0","date":"2024-03-14T12:09:09.601Z"}],"npmlink":"https://www.npmjs.com/package/@sap/cli-core"},{"name":"datasphere-cli","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-06-28T12:36:23.098Z","updatedAt":"2024-03-14T12:25:45.955Z","readme":"# @sap/datasphere-cli\n\nCommand-Line Interface (CLI) for SAP Datasphere.\n\n[![Node Version](https://img.shields.io/badge/node-18.xx.x-brightgreen)](https://nodejs.org/dist/latest-v18.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-19.xx.x-brightgreen)](https://nodejs.org/dist/latest-v19.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-20.xx.x-brightgreen)](https://nodejs.org/dist/latest-v20.x/docs/api/#) [![Node Version](https://img.shields.io/badge/node-21.xx.x-brightgreen)](https://nodejs.org/dist/latest-v21.x/docs/api/#) [![npm version](https://badge.fury.io/js/@sap%2Fdatasphere-cli.svg)](https://badge.fury.io/js/@sap%2Fdatasphere-cli) [![Documentation](https://img.shields.io/badge/docs-online-ff69b4.svg)](https://help.sap.com/docs/SAP_DATASPHERE/d0ecd6f297ac40249072a44df0549c1a/3f9a42ccde6b4b6aba121e2aab79c36d.html) [![Command help pages](https://img.shields.io/badge/command-help-lightgrey.svg)](#usage) ![NPM](https://img.shields.io/npm/l/@sap/datasphere-cli?color=%23FFFF00)\n\n## Content\n\n1. [Installation](#installation)\n1. [Update the CLI](#update-the-cli)\n1. [Versioning](#versioning)\n1. [Authentication](#authentication)\n   1. [OAuth Interactive Usage](#oauth-interactive-usage)\n   1. [Passcodes](#passcodes)\n1. [Usage](#usage)\n   1. [From the command line](#from-the-command-line)\n   1. [As a Node.js module dependency](#as-a-nodejs-module-dependency)\n   1. [Options Handling](#options-handling)\n   1. [Environment Variables](#environment-variables)\n1. [Help & Documentation](#help-documentation)\n1. [Community & Feedback](#community--feedback)\n1. [License](#license)\n\n## Installation\n\n```bash\n$ npm install -g @sap/datasphere-cli\n```\n\nor\n\n```bash\n$ yarn global add @sap/datasphere-cli\n```\n\n## Update the CLI\n\nSee [Installation](#installation).\n\nIn case of structural changes applied to the service document (see [Initialize the CLI](#initialize-the-cli)) with a new version of SAP Datasphere you need to update the CLI. In this case, after you executed a command, the CLI issues a warning:\n\n```bash\n$ datasphere <command>\nYour local CLI installation is outdated. Run 'npm install @sap/datasphere-cli [-g]' to update\n```\n\n## Versioning\n\nThe semantic versioning of the CLI is handled according to SAP Datasphere versions and follows the same structure for major and minor versions.\n\n```bash\n$ datasphere -v\n2021.21.0\n```\n\nFor an in-depth explanation see the blog post on [blogs.sap.com](https://blogs.sap.com/2021/09/21/new-command-line-for-sap-data-warehouse-cloud-code-way-to-the-cloud/).\n\n## Authentication\n\n### OAuth Interactive Usage\n\nYou can create an [OAuth Client for Interactive Usage](https://help.sap.com/docs/SAP_DATASPHERE/c8a54ee704e94e15926551293243fd1d/3f92b46fe0314e8ba60720e409c219fc.html) and authenticate using the provided _Client ID_ and _Client Secret_. After you created an OAuth Client for Interactive Usage, you can log in once and run multiple commands without the need to authenticate again for the next 720 hours.\n\nTo log in, run the `login` command and provide the _Client ID_, _Client Secret_, _Authentication URL_, and _Token URL_, available from your SAP Datasphere tenant ([SAP Help](https://help.sap.com/docs/SAP_DATASPHERE/c8a54ee704e94e15926551293243fd1d/3f92b46fe0314e8ba60720e409c219fc.html)).\n\n```bash\n$ datasphere login\n✔ Please enter your client ID: … <Client ID>\n✔ Please enter your client secret: … ****\n✔ Please enter your authorization URL: … <Authorization URL>\n✔ Please enter your token URL: … <Token URL>\n```\n\nTo remove any data stored by running the `login` command, log out again:\n\n```bash\n$ datasphere logout\n```\n\nTo display the locally stored secrets, run the `secrets show` command:\n\n```bash\n$ datasphere secrets show\n{\n  \"client_id\": \"...\",\n  \"client_secret\": \"...\",\n  \"authorization_url\": \"...\",\n  \"token_url\": \"...\",\n  \"access_token\": \"...\",\n  \"token_type\": \"...\",\n  \"id_token\": \"...\",\n  \"refresh_token\": \"...\",\n  \"expires_in\": ...,\n  \"scope\": \"...\",\n  \"jti\": \"...\",\n  \"expires_after\": ...\n}\n```\n\nIf you do not want to log in and have the CLI store the secrets in the CLI cache locally, you can also provide the _access_token_ directly on the command line:\n\n```bash\n$ datasphere config cache init --host <my host> --access-token <access token>\n```\n\nAlternatively, you can provide the _access_token_ through a `secrets.json` file:\n\n```bash\n$ datasphere config cache init --host <my host> -secrets-file /path/to/secrets.json\n```\n\nThe `secrets.json` file must at least contain a property called `access_token`:\n\n```json\n// secrets.json\n\n{\n  \"access_token\": \"<access token>\"\n}\n```\n\n### Passcodes\n\nPasscodes are used for authenticating commands sent from the CLI to your SAP Datasphere tenant. Passcodes can be provided explicitly using the `-p, --passcode` option in case the URL to retrieve a passcode is known, or implictly using an interactive session by omitting the `-p, --passcode` option.\n\nWhen omitting the `-p, --passcode` option the CLI prompts you to provide a passcode by navigating to the passcode authentication URL for your tenant. The URL is calculated based on the provided `-H, --host` value.\n\n```bash\n$ datasphere config cache init -H https://mytenant.eu10.hcs.cloud.sap/\n✔ Do you want to retrieve a passcode from https://mytenant.authentication.eu10.hana.ondemand.com/passcode? … yes\n✔ Enter your temporary authentication code: … **********\n...\n```\n\nThe displayed URL can be used for retrieving more passcodes by refreshing the page when sending multiple commands which can then be fed to the `-p, --passcode` option.\n\nYou can retrieve the URL directly by running the `passcode-url` command:\n\n```bash\n$ datasphere passcode-url -H https://mytenant.eu10.hcs.cloud.sap/\nhttps://mytenant.authentication.eu10.hana.ondemand.com/passcode\n```\n\n## Usage\n\nYou can either use the CLI from the terminal or command line, or use the module as a regular dependency in your code of your Node.js project.\n\n### From the command line\n\n#### Initialize the CLI\n\nBefore you can list and run commands against your SAP Datasphere tenant you need to initialize the CLI first. When initializing the CLI a service document is downloaded from your SAP Datasphere tenant which describes the commands your tenant is able to understand. To initialize the CLI run\n\n```bash\n$ datasphere config cache init -H https://mytenant.eu10.hcs.cloud.sap/ -p somepasscode\n```\n\nYou can refresh the local copy of the service document by running the `config cache init` command again.\n\nAfter you executed a command the CLI issues a warning in case the local version of the service document is outdated. In that case, run the `config cache init` command again.\n\n```bash\n$ datasphere <command>\nYour local CLI cache is outdated. Run 'datasphere config cache init' to update\n```\n\n#### List available commands\n\nTo list available commands and required or optional options attach the `-h, --help` to the top-level `datasphere` command or any subcommand of `datasphere`:\n\n```bash\n$ datasphere -h\nUsage: datasphere [options] [command]\n\nCommand-Line Interface for SAP Datasphere.\n\nOptions:\n  -v, --version           output the current version\n  -H, --host <host>       specifies the urlspecifies the url host where the tenant is hosted where the tenant is hosted\n  -h, --help              display help for command\n\nCommands:\n  cache clean             clean the local CLI cache\n  config cache init [options]    initialize the local CLI cache\n  passcode-url [options]  print the passcode url\n  help [command]          display help for command\n```\n\nTo list commands for a tenant for which the CLI was initialized, add the `-H, --host` option (notice the additional command `spaces`):\n\n```bash\n$ datasphere -H https://mytenant.eu10.hcs.cloud.sap/ -h\nUsage: datasphere [options] [command]\n\nCommand-Line Interface for SAP Datasphere.\n\nOptions:\n  -v, --version           output the current version\n  -H, --host <host>       specifies the url where the tenant is hosted\n  -h, --help              display help for command\n\nCommands:\n  cache clean             clean the local CLI cache\n  config cache init [options]    initialize the local CLI cache\n  spaces                  manage and orchestrate spaces\n  passcode-url [options]  print the passcode url\n  help [command]          display help for command\n```\n\nTo show available subcommands for a top-level command, run eg:\n\n```bash\n$ datasphere spaces -H https://mytenant.eu10.hcs.cloud.sap/ -h\nUsage: datasphere spaces [options] [command]\n\nmanage and orchestrate spaces\n\nOptions:\n  -H, --host <host> specifies the url where the tenant is hosted\n  -h, --help        display help for command\n\nCommands:\n  create [options]  creates or updates space details based on an import file\n  read [options]    fetches space details for a specified space\n  delete [options]  delete an existing space\n  help [command]    display help for command\n```\n\n```bash\n$ datasphere spaces create -H https://mytenant.eu10.hcs.cloud.sap/ -h\nUsage: datasphere spaces create [options]\n\ncreates or updates space details based on an import file\n\nOptions:\n  -f, --filePath <filePath>  specifies the file to use as input for the command\n  -V, --verbose              print detailed log information to console (optional)\n  -H, --host <host>          specifies the url where the tenant is hosted\n  -p, --passcode <passcode>  passcode for interactive session authentication (optional)\n  -h, --help                 display help for command\n```\n\nThe list of available commands differs based on the content of the service document you downloaded when running `config cache init`.\n\n### As a Node.js module dependency\n\nRequire the module as usual. You can also use it in your TypeScript project using the `import` syntax.\n\n```javascript\nconst datasphere = require(\"@sap/datasphere-cli\");\n```\n\n#### Work with commands\n\nThe module exports a `getCommands` function which returns a map of available commands. Make sure to always specify the `host` to receive `host`-specific commands. Otherwise, when omitting the `host` information, you will only get the list of general commands like `cache clean`, `config cache init`, ...\n\n```javascript\nconst MY_HOST = \"https://mytenant.eu10.hcs.cloud.sap/\";\n\nconst commands = await datasphere.getCommands(MY_HOST);\n\nconsole.log(commands);\n// {\n//   datasphere: [AsyncFunction],\n//   'cache clean': [AsyncFunction],\n//   'config cache init': [AsyncFunction],\n//   'passcode-url': [AsyncFunction],\n//   'cache show': [AsyncFunction]\n//   'spaces create': [AsyncFunction]\n//   'spaces read': [AsyncFunction]\n//   'spaces delete': [AsyncFunction]\n// }\n```\n\nYou can call any available command and provide required options as follows:\n\n```javascript\nconst MY_HOST = \"https://mytenant.eu10.hcs.cloud.sap/\";\n\nconst options = {\n  \"--host\": MY_HOST,\n  \"--passcode\": \"somepasscode\",\n};\n\nawait commands[\"config cache init\"](options);\n```\n\n`options` is a map of available options for the respective command. You have to supply either the short flag or long name of the option, including `-` or `--` for the short flag or long name.\n\nWhen running a command which creates an entity where the CLI would print the command to retrieve the result when running the command to create the entity in the terminal, for example:\n\n```bash\ndatasphere spaces create -H https://mytenant.eu10.hcs.cloud.sap/ -f ./MY_SPACE.json\nUse datasphere spaces read --space-id MY_SPACE to retrieve the entity you just created\n```\n\nthe CLI now returns the command to execute as an object:\n\n```bash\nconst retrieveCommand = await commands[\"spaces create\"]({\n  \"--file-path\": \"MY_SPACE.json\",\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n});\n\nconsole.log(retrieveCommand);\n// {\n//   command: \"spaces read\",\n//   options: {\n//     \"--space-id\": \"MY_SPACE\"\n//   },\n// }\n```\n\nYou can use the returned response to immediately issue the command to read the entity:\n\n```bash\nconst retrieveCommand = await commands[\"spaces create\"]({\n  \"--file-path\": \"MY_SPACE.json\",\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n});\n\nconst response = await commands[retrieveCommand.command]({\n  ...retrieveCommand.options,\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n});\n\nconsole.log(response);\n// {\n//   MY_SPACE: {\n//     version: \"1.0.4\",\n//     ...\n//   }\n// }\n```\n\n#### Handle errors during command execution\n\nIf the command fails, an error is thrown you can catch and process as usual:\n\n```javascript\ntry {\n  await commands[\"cache show\"]();\n} catch (err) {\n  // ops, the command failed!\n  console.log(err);\n}\n```\n\n#### Work with command results\n\nThe result of executing a command is returned from the function call.\n\n```javascript\nconst result = await commands[\"spaces read\"]({\n  \"--space\": \"MYSPACE\",\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  \"--passcode\": \"mypasscode\",\n});\n\nconsole.log(result);\n// [\n//   [\n//     '{\\n' +\n//       '  \"MYSPACE\": {\\n' +\n//       '    \"spaceDefinition\": {\\n' +\n//       '      \"version\": \"1.0.4\",\\n' +\n// ...\n//       '    }\\n' +\n//       '  }\\n' +\n//       '}'\n//   ]\n// ]\n```\n\n#### Provide custom logger function\n\nAny output of a command you execute is forwarded to the `logger.output` function. To handle the result yourself, you can provide a custom `logger.output` function implementation:\n\n```javascript\nlet result = [];\nconst output = (...args) => result.push(args);\ndatasphere.configure({ customLogger: { output } });\n\nawait commands[\"spaces read\"]({\n  \"--space\": \"MYSPACE\",\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  \"--passcode\": \"mypasscode\",\n});\n\nconsole.log(result);\n// [\n//   [\n//     '{\\n' +\n//       '  \"MYSPACE\": {\\n' +\n//       '    \"spaceDefinition\": {\\n' +\n//       '      \"version\": \"1.0.4\",\\n' +\n// ...\n//       '    }\\n' +\n//       '  }\\n' +\n//       '}'\n//   ]\n// ]\n```\n\n#### Provide custom passcode retrieval function\n\nYou can also provide a custom passcode retrieval function which is called every time before a command is executed. The function is expected to return a promise resolving into a string, the passcode. This way you can, for example, make use of programmatic passcode retrieval as described in [this blog](https://blogs.sap.com/2021/09/27/automatically-add-members-to-spaces-in-sap-data-warehouse-cloud-using-sap-datasphere-cli/) using a headless browser and can omit the `--passcode` option when executing commands. The function needs to be configured only once before executing the first command.\n\n```javascript\nconst logger = {\n  customLogger: { output: console.log },\n};\n\nconst passcodeFunction = () => {\n  // instantiate headless browser, retrieve passcode, return it\n};\n\ndatasphere.configure(logger, passcodeFunction);\n\n// no --passcode option required\nawait commands[\"spaces read\"]({\n  \"--space\": \"MYSPACE\",\n  \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n});\n```\n\n### Options Handling\n\nNo matter how you use the CLI ([from the command-line](#from-the-command-line) or [as a Node.js module dependency](#as-a-nodejs-module-dependency)), you can supply values for options in different ways. To get an overview of the existing options per command, run `datasphere <command> --help`:\n\n```bash\n$ datasphere config cache init --help\n\nUsage: datasphere config cache init [options]\n\ninitialize the local CLI cache\n\nOptions:\n  -V, --verbose                  print detailed log information to console (optional)\n  -O, --options-file <file>      path to options file (optional)\n  -H, --host <host>              specifies the url where the tenant is hosted (optional)\n  -p, --passcode <passcode>      passcode for interactive session authentication (optional)\n  -s, --secrets-file <file>      path to secrets file (optional)\n  -c, --client-id <id>           client id for interactive oauth session authentication (optional)\n  -C, --client-secret <secret>   client secret for interactive oauth session authentication (optional)\n  -a, --authorization-url <url>  authorization url for interactive oauth session authentication (optional)\n  -t, --token-url <url>          token url for interactive oauth session authentication (optional)\n  -A, --access-token <token>     access token for interactive oauth session authentication (optional)\n  -r, --refresh-token <token>    refresh token for interactive oauth session authentication (optional)\n  -e, --expires-in <expires>     expires in information for interactive oauth session authentication (optional)\n  -h, --help                     display help for command\n```\n\n#### On the command-line\n\nYou can use the short flag or long name to supply an option value on the command-line:\n\n```bash\n$ datasphere config cache init --host <host>\n```\n\n#### Using environment variables\n\nTo provide an option value, the option's long name is translated to CONSTANT_CASE. For example, the option `client-id` can also be provided as follows:\n\n```bash\n$ CLIENT_ID='<my client id>' HOST='my-host' datasphere config cache init\n```\n\n#### Provide options file\n\nYou can provide a JSON file with a map of options, using the option's long names, and point the CLI to it using the [On the command-line](#on-the-command-line) or [Using environment variables](#using-environment-variables) way. Define the file as follows:\n\n```json\n// options-file.json\n\n{\n  \"host\": \"my-host\",\n  \"client-id\": \"my client id\"\n}\n```\n\nThen, supply it to the CLI:\n\n```bash\n$ datasphere config cache init --options-file /path/to/options-file.json\n```\n\n### Environment Variables\n\nThe CLI supports the following environment variables. You can set the environment variables when calling the CLI according to the local environment. In addition, the CLI supports the [`dotenv`](https://www.npmjs.com/package/dotenv#usage) module, allowing you to place a `.env` file in the CLI working directory.\n\n#### `CLI_HTTP_PORT`\n\nDefines the port the CLI starts the HTTP server at when logging in when using OAuth clients for authentication.\n\n| Type   | Required | Default |\n| ------ | -------- | ------- |\n| number | no       | 8080    |\n\n## Help Documentation\n\nFind the full documentation on [help.sap.com](https://help.sap.com/docs/SAP_DATASPHERE/d0ecd6f297ac40249072a44df0549c1a/3f9a42ccde6b4b6aba121e2aab79c36d.html), check out the blog post on [blogs.sap.com](https://blogs.sap.com/2021/09/21/new-command-line-for-sap-data-warehouse-cloud-code-way-to-the-cloud/) or use option `-h, --help`:\n\n```bash\n$ datasphere <command> -h\n```\n\n## Community & Feedback\n\nSAP Community provides a forum where you can ask and answer questions, and comment and vote on the questions of others and their answers.\n\nSee [SAP Datasphere community](https://community.sap.com/topics/data-warehouse-cloud) for more details and use the tag _datasphere-cli_ for questions concerning the CLI.\n\n## License\n\nThis package is provided under the terms of the [SAP Freeware License Agreement](https://tools.hana.ondemand.com/sap-freeware-license.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project SAP Datasphere Command-Line Interface (DS CLI) will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## 2024.5.0\n\n### Added\n\n- Support for Node versions `18`, `19`, `20`, `21`.\n\n- When using the CLI as a [As a Node.js module dependency](README.md#as-a-nodejs-module-dependency) and running a command which creates an entity where the CLI would print the command to retrieve the result when running the command to create the entity in the terminal, for example:\n\n  ```bash\n  datasphere spaces create -H https://mytenant.eu10.hcs.cloud.sap/ -f ./MY_SPACE.json\n  Use datasphere spaces read --space-id MY_SPACE to retrieve the entity you just created\n  ```\n\n  the CLI now returns the command to execute as an object:\n\n  ```bash\n  const retrieveCommand = await commands[\"spaces create\"]({\n    \"--file-path\": \"MY_SPACE.json\",\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  console.log(retrieveCommand);\n  // {\n  //   command: \"spaces read\",\n  //   options: {\n  //     \"--space-id\": \"MY_SPACE\"\n  //   },\n  // }\n  ```\n\n  You can use the returned response to immediately issue the command to read the entity:\n\n  ```bash\n  const retrieveCommand = await commands[\"spaces create\"]({\n    \"--file-path\": \"MY_SPACE.json\",\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  const response = await commands[retrieveCommand.command]({\n    ...retrieveCommand.options,\n    \"--host\": \"https://mytenant.eu10.hcs.cloud.sap/\",\n  });\n\n  console.log(response);\n  // {\n  //   MY_SPACE: {\n  //     version: \"1.0.4\",\n  //     ...\n  //   }\n  // }\n  ```\n\n### Fixed\n\n- When the host is globally configured via the command `datasphere config host set <host>`, any other host specified via option `-H, --host` was ignored when running a command. This often led to confusion when users specify the host explicitly via option `-H, --host`, but are not aware that the host was globally configured, too. Now, option `-H, --host` always takes precedence over the globally configured host.\n\n## 2024.3.0\n\n### Changed\n\n- The required version of `npm` changes from `^9` to `^10`.\n\n## 2024.2.0\n\n### Fixed\n\n- The `--browser` option introduced with version `2024.1.0` did not apply the default correctly in case the option `--browser` was not explicitly specified.\n\n## 2024.1.0\n\n### Added\n\n- A check for the correct node version environment when using the CLI. In case the node version does not satisfy the minimum node version required by the CLI to function correctly, a warning is printed to the console.\n\n- When printing the help information for the `login` command, the list of options now includes the login-specific options such as `--authorization-url` and `--token-url`. Previously the help showed the following options:\n\n  ```bash\n  datasphere login --help\n  Usage: datasphere login [options]\n  log in to your account using interactive OAuth authentication\n  Options:\n    -H, --host <host>  specifies the url where the tenant is hosted (optional)\n    -h, --help         display help for command\n  ```\n\n  With this version, the help looks like this:\n\n  ```bash\n  datasphere login --help\n  Usage: datasphere login [options]\n  log in to your account using interactive OAuth authentication\n  Options:\n    -H, --host <host>              specifies the url where the tenant is hosted (optional)\n    -A, --authorization-url <url>  authorization url for interactive oauth session authentication (optional)\n    -t, --token-url <url>          token url for interactive oauth session authentication (optional)\n    -c, --client-id <id>           client id for interactive oauth session authentication (optional)\n    -C, --client-secret <secret>   client secret for interactive oauth session authentication (optional)\n    -a, --access-token <token>     access token for interactive oauth session authentication (optional)\n    -b, --code <code>              code for oauth token retrieval (optional)\n    -r, --refresh-token <token>    refresh token for interactive oauth session authentication (optional)\n    -s, --secrets-file <file>      path to secrets file (optional)\n    -h, --help                     display help for command\n  Only command-specific options are listed here. To learn more about available generic options, visit https://tinyurl.com/yck8vv4w\n  ```\n\n- Added the option `--browser <browser>` to the login command. Users can now choose explicitly which browser to open when logging in to a tenant. By default the system's default browser is used.\n\n### Fixed\n\n- The HTTPS proxy support introduced with `2023.24.0` did not respect the underlying `axios` module configuration need to disable the native proxy handling by passing `proxy: false` to the request configuration.\n\n### Changed\n\n- Previously, when running the `logout` command but no secrets existed anymore, the command would fail with exit code 1 and an error message. Now, when running the `logout` command but there are no secrets to logout from, the command fails silently.\n\n## 2023.25.0\n\n### Fixed\n\n- The defined HTTP protocol was not applied to calculated authorization URL and token URL. No matter which HTTP protocol (`http` or `https`) was used, the automatically calculated authorization URL and token URL always used the `https` protocol.\n\n### Added\n\n- HTTPS proxy support via environment variable `https_proxy`. When using an HTTPS proxy to communicate with the public internet, you can configure the environment variable `https_proxy`. The CLI uses the value from the environment variable to establish a correct connection to the HTTPS proxy.\n\n- Support for response header `x-sap-datasphere-cli-file-name`. When the user adds option `--output` and provides a path to a file location, this value is always used to store the response data, no matter whether response header `x-sap-datasphere-cli-file-name` is present. If the user adds option `--output` without providing a path to a file location and the response header `x-sap-datasphere-cli-file-name` is present, the response data is stored in the location mentioned in `x-sap-datasphere-cli-file-name`. In all other cases, the response data is printed to the console.\n\n## 2023.24.0\n\n### Fixed\n\n- Trailing single quotes (`'`) were removed from option values even though there was no leading single quote. This version contains a fix that trailing single quotes are only removed if there is a leading single quote.\n\n  Trailing single quote is not removed: `some 'value'` stays `some 'value'`.\n\n  Trailing single quote is removed: `'some value'` becomes `some value`.\n\n- The help output did not mention the correct CLI name. Instead the output showed the name 'terminal'.\n\n  ```javascript\n  Usage: terminal [options] [command]\n\n  Command-Line Interface for SAP Datasphere.\n  ...\n  ```\n\n  Since this version, the name is shown correctly.\n\n  ```javascript\n  Usage: datasphere [options] [command]\n\n  Command-Line Interface for SAP Datasphere.\n  ...\n  ```\n\n## 2023.19.0\n\n### Added\n\n- Support for managing multiple logins/secrets for different tenants in parallel. The `datasphere login` and `datasphere logout` commands have been updated, allowing you to login to multiple tenants in parallel. When running a command, the CLI uses the secret matching the currently maintained tenant URL via the `-H, --host` option or set via `datasphere config host set <host>`. You now must specify the host which you are logging in to using option `-H, --host`, or by setting the host globally first by calling `datasphere config host set <host>`, to allow the CLI to store the secret for the defined tenant URL.\n\n  You can list all locally stored secrets by running `datasphere config secrets show`.\n\n  ```javascript\n  $ datasphere config secrets show\n  [\n    {\n      \"id\": 0,\n      \"client_id\": \"sb-0d85e619...\",\n      \"client_secret\": \"1dcc0522-...\",\n      \"tenantUrl\": \"https://somehost.eu10.cloud.sap\",\n      ...\n    },\n    {\n      \"id\": 1,\n      \"client_id\": \"sb-0d85e619...\",\n      \"client_secret\": \"1dcc0522-...\",\n      \"tenantUrl\": \"https://somehost.us10.cloud.sap\",\n      ...\n    }\n  ]\n  ```\n\n  In order to logout again, the `datasphere logout` command allows you to optionally specify the ID of the login/secret to remove using option `-l, --login-id <id>`.\n\n  ```javascript\n  datasphere logout --help\n  Usage: datasphere logout [options]\n\n  log out from your account\n\n  Options:\n    -l, --login-id <id>  specifies the login ID (optional) (choices: \"0\", default: \"0\")\n    -h, --help           display help for command\n  ```\n\n  By default, when you omit option `-l, --login-id <id>`, the login/secret with ID _0_ is removed.\n\n  You cannot login to the same tenant with different _access tokens_ at the same time. There can only be a single login/secret per tenant, but you can login into multiple tenants in parallel. If you need to login with different users into the same tenant, you have to logout first, then login again with a different user.\n\n- Support for predefined OAuth clients where the client ID _does not_ start with the term `sb-`. When using a predefined OAuth client where the client ID _does not_ start with the term `sb-`, the CLI uses a different default port `65000` to retrieve the temporary code to retrieve the access token and refresh token. The port can be changed using the environment variable mentioned in the [README.md](README.md) file.\n\n- Improved OAuth authorization URL and token URL support. You do not have to specify the options for the _OAuth Client Authorization URL_ and _Token URL_ anymore, if you specify the tenant URL using the _-H, --host_ option. The CLI calculates the required authorization and token URLs automatically based on the given _Client ID_, _Client Secret_, and _Tenant URL_. You can still use the respective options to provide values for the authorization URL and token URL to override the calculated values.\n\n### Changed\n\n- Generic options are hidden for all commands. Before, all options where shown, including generic options applicable to any command.\n\n  ```bash\n  $ datasphere spaces read --help\n  Usage: datasphere spaces read [options]\n  fetch space details for a specified space\n  Options:\n    -V, --verbose                    print detailed log information to console (optional)\n    -O, --options-file <file>        path to options file (optional)\n    -H, --host <host>                specifies the url where the tenant is hosted (optional)\n    -c, --client-id <id>             client id for interactive oauth session authentication (optional)\n    -C, --client-secret <secret>     client secret for interactive oauth session authentication (optional)\n    -a, --access-token <token>       access token for interactive oauth session authentication (optional)\n    -r, --refresh-token <token>      refresh token for interactive oauth session authentication (optional)\n    -b, --code <code>                code for oauth token retrieval (optional)\n    -t, --token-url <url>            token url for interactive oauth session authentication (optional)\n    -A, --authorization-url <url>    authorization url for interactive oauth session authentication (optional)\n    -p, --passcode <passcode>        passcode for interactive session authentication (optional)\n    -s, --secrets-file <file>        path to secrets file (optional)\n    -e, --expires-in <expires>       expires in information for interactive oauth session authentication (optional)\n    -o, --output <output>            specifies the file to store the output of the command (optional)\n    -P, --pretty                     pretty-formats JSON responses (optional)\n    -S, --space <space>              space ID (optional)\n    -N, --no-space-definition        do not read space definition (optional)\n    -m, --definitions [definitions]  read definitions (optional)\n    -q, --connections [connections]  read connections (optional)\n    -h, --help                       display help for command\n  ```\n\n  Now, only command-specific options are shown.\n\n  ```bash\n  $ datasphere spaces read --help\n  Usage: datasphere spaces read [options]\n  fetch space details for a specified space\n  Options:\n  -S, --space <space> space ID (optional)\n  -N, --no-space-definition do not read space definition (optional)\n  -m, --definitions [definitions] read definitions (optional)\n  -q, --connections [connections] read connections (optional)\n  -h, --help display help for command\n  Only command-specific options are listed here. To learn more about available generic options, visit https://your.generic.options.help.url\n  ```\n\n- Option `-P, --pretty` changes to `-n, --no-pretty`. You can now supply option `-n, --no-pretty` to not pretty-format the response of a command. By default, the response of a command is pretty-formatted. When adding the option `-h, --help` to any command, the help tells you about the possible uses.\n\n  ```bash\n  $ datasphere spaces read --help\n  Usage: datasphere spaces read [options]\n\n  fetch space details for a specified space\n\n  Options:\n    -n, --no-pretty       do not pretty-format JSON responses (optional)\n    -h, --help            display help for command\n  ```\n\n  When calling a command that supports the `-P, --pretty` option you can explicitly specify to pretty-print the result.\n\n  `$ datasphere spaces read --pretty true`\n\n  To disable pretty-printing, set `-P, --pretty` to `false`.\n\n  `$ datasphere spaces read --pretty false`\n\n  Calling a command without specifying the `-P, --pretty` option explicitly yields the same output as when calling the command with `--pretty true`.\n\n- A new top-level command `config` has been introduced. This command groups all the CLI configuration-related commands such as `cache`, `secrets`, `host`, ...\n\n  **Old Structure**\n\n  ```bash\n  $ datasphere\n  Usage: datasphere [options] [command]\n\n  Command-Line Interface for SAP Datasphere.\n\n  Options:\n    -v, --version              output the current version\n    -H, --host <host>          specifies the url where the tenant is hosted (optional)\n    -O, --options-file <file>  path to options file (optional)\n    -h, --help                 display help for command\n\n  Commands:\n    cache                      work with the local CLI cache\n    dbusers [options]          manage and orchestrate database users\n    help [command]             display help for command\n    host                       configure host properties\n    login [options]            log in to your account using interactive OAuth authentication\n    logout                     log out from your account\n    marketplace [options]      manage and orchestrate your SAP Data Marketplace\n    passcode-url [options]     display the passcode url\n    secrets                    work with the locally stored secrets\n    spaces [options]           manage and orchestrate spaces\n    tasks [options]            manage tasks\n  ```\n\n  **New Structure**\n\n  ```bash\n  $ datasphere\n  Usage: datasphere [options] [command]\n\n  Command-Line Interface for SAP Datasphere.\n\n  Options:\n    -v, --version              output the current version\n    -H, --host <host>          specifies the url where the tenant is hosted (optional)\n    -O, --options-file <file>  path to options file (optional)\n    -h, --help                 display help for command\n\n  Commands:\n    config                     configure your CLI\n    dbusers [options]          manage and orchestrate database users\n    help [command]             display help for command\n    login [options]            log in to your account using interactive OAuth authentication\n    logout                     log out from your account\n    marketplace [options]      manage and orchestrate your SAP Data Marketplace\n    spaces [options]           manage and orchestrate spaces\n    tasks [options]            manage tasks\n  ```\n\n- The environment variable `DWC_CLI_PORT` changed to `CLI_HTTP_PORT`.\n\n### Fixed\n\n- Values entered for the _Authorization URL_ and _Token URL_ could be entered including query parameters like `https://some.authorization.url?some.parameter=some.value`. The CLI did not remove the query parameters when using the URLs to retrieve the temporary code. This has been changed, the query parameters are now removed. The CLI changes an URL from `https://some.authorization.url?some.parameter=some.value` to `https://some.authorization.url` to retrieve the temporary code.\n\n## 2023.10.0\n\nPackage `@sap/datasphere-cli` was released.\n","downloadsCurrentMonth":1199,"downloadsCurrentFortnight":630,"downloads365":5864,"downloadsFortnightGrowth":20.92,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":68},{"yearMonth":"2023-07","downloads":272},{"yearMonth":"2023-08","downloads":373},{"yearMonth":"2023-09","downloads":600},{"yearMonth":"2023-10","downloads":731},{"yearMonth":"2023-11","downloads":741},{"yearMonth":"2023-12","downloads":401},{"yearMonth":"2024-01","downloads":768},{"yearMonth":"2024-02","downloads":1036}],"versions":[{"version":"created","date":"2023-06-28T12:36:23.098Z"},{"version":"2023.14.0","date":"2023-06-28T12:36:23.332Z"},{"version":"modified","date":"2024-03-14T12:25:45.955Z"},{"version":"2023.18.0","date":"2023-08-23T12:52:36.999Z"},{"version":"2023.19.0","date":"2023-09-07T07:25:09.187Z"},{"version":"2023.24.0","date":"2023-11-15T06:57:21.150Z"},{"version":"2023.25.0","date":"2023-11-29T22:01:22.983Z"},{"version":"2024.2.0","date":"2024-01-19T07:36:34.070Z"},{"version":"2024.3.0","date":"2024-02-01T09:29:56.871Z"},{"version":"2024.4.0","date":"2024-02-19T15:53:13.869Z"},{"version":"2024.5.0","date":"2024-03-14T12:09:57.530Z"},{"version":"2024.6.0","date":"2024-03-14T12:25:45.482Z"}],"npmlink":"https://www.npmjs.com/package/@sap/datasphere-cli"},{"name":"destination-instance-service-provider","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-02-25T13:54:31.860Z","updatedAt":"2023-11-13T11:29:30.155Z","readme":"# @sap/destination-instance-service-provider\n\n## Overview\n\n**destination-instance-service-provider** is an npm package that provides the APIs necessary for exposing destination service instance systems and services.\n\n## Usage\n\nTo add this package as a dependency in your **package.json** file, under the \"dependencies\" section, add the following dependency: `\"@sap/destination-instance-service-provider\": [Version]`\n\n## APIs\n\nThis repository exposes APIs for the exploration of SAP systems and services that are consumed from Cloud Foundry destination service instances.\n\n### init\n\nThis API initializes a provider repository representing a given destination instance.  \n&nbsp;&nbsp;&nbsp;&nbsp; If cfTarget is not provided, there is an assumption that the user is already logged in to a Cloud Foundry space. The destination instance will be retrieved from this Cloud Foundry space.\n\n`async init(destinationInstanceName: string, cfTarget?: cfTools.ITarget): Promise<void>`\n\n**destinationInstanceName**: Defines the name of the destination service instance from which the systems will be retrieved.  \n**cfTarget (this is optional)**: Defines the Cloud Foundry configuration that can be used as a parameter to access the service instance.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _CF_CONFIGURATION_: This error is displayed if the user is not properly logged in to the Cloud Foundry space.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if the system cannot retrieve information from Cloud Foundry.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getSystems\n\nThis API retrieves systems exposed by the service instance that initialized the provider..\n\n`async getSystems(filter?: Filter): Promise<ProviderSystem[]>`\n\n**filter (this is optional)**: Only retrieves systems that comply with the given filter.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if data cannot be retrieved from the system.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getServices\n\nThis API retrieves services exposed by a specific system.\n\n`async getServices(options?: Record<string, any>): Promise<Service[]>`\n\n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; _filter (this is optional)_: used to filter for relevant services.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if data cannot be retrieved from the system.\n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getMetadata\n\nThis API retrieves metadata exposed by a specific system.\n\n`async getMetadata( service: Service, encoding: EncodingMode, options?: Record<string, any> ): Promise<ServiceMetadata>`\n\n**service**: Defines the service from which the metadata will be retrieved.  \n**encoding**: Defines the required encoding requested by the consumer.  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; _filter (this is optional)_: used to filter for relevant services.  \n&nbsp;&nbsp;&nbsp;&nbsp; _relativeUrl_ (this is optional)*: for a non-full URL - provides the relative URL to the service.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; *RETRIEVE_DATA*: This error is displayed if metadata cannot be retrieved from the service.  \n&nbsp;&nbsp;&nbsp;&nbsp; *INTERNAL_ERROR\\*: This error is displayed for any other exception.\n\n### getAnnotations\n\nThis API retrieves an array of annotations exposed by a specific system.\n\n`async getAnnotations(service: Service, options?: Record<string, any>): Promise<Annotation[]`\n\n**service**: Defines the service from which the annotations will be retrieved.  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if annotations cannot be retrieved from the service.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n## Examples\n\n_Initialize repository - Provides the destination service instance name._  \n`await destInstRepo.init(\"SAP-IT-destination\");`\n\n_List the destination instance systems (destinations)._  \n`const instSystems = await destInstRepo.getSystems();`\n\n_Create credentials object - Used to access a system or service that requires authentication._  \n`const credentials = getCredentialsObject(\"username\", \"password\");`\n\n_Select a system and list the services it provides (catalog services)._  \n_Note: Add credentials since the system needs authentication._  \n`const instSelectedSystem = findByName(instSystems, \"U1Y010_BASIC\");`  \n`const instServices = await instSelectedSystem.getServices({credentials: credentials});`\n\n_Create a filter object - Used to filter for required services._  \n`const filter = getNewFilter(\"protocol\", [\"odatav2\"]);`\n\n_Select a service and consume the metadata and annotations that the service provides._  \n_Note: Add credentials since the system needs authentication._  \n`const instSelectedService = findByName(instServices, \"ZPAGE_BUILDER_CUST\");`  \n`const instMetadata = await instSelectedSystem.getMetadata(instSelectedService, instProvider.EncodingMode.XML, {credentials: credentials, filter: filter});`  \n`const instAnnotations = await instSelectedSystem.getAnnotations(instSelectedService, {credentials: credentials});`\n\n- **credentials**: An object that enables you to add credentials to your system request.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _USER_: system username  \n   &nbsp;&nbsp;&nbsp;&nbsp; _PSW_: system password  \n   Credentials can be built as follows:\\*  \n   credentials = new Authentication(<USR>, <PSW>);\n\n- **filter**: An object that enables you to filter for systems that you want to receive.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _FILTER_KEY_: (string) A key used to filter the list of systems.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _FILTER_VALUES_: (array of strings) accepted values of the filter key, separated by commas.  \n   Filters can be built as follows:  \n   filter = new Filter(new Map([[<FILTER_KEY>, <FILTER_VALUES>]]));\n\n### Git and GitHub\n\n1. Open Git Bash, go to the local repository directory, and sync with the remote repository.\n\n2. Develop in a **Local** branch.\n\n- Create a new descriptive branch `git checkout -b my-local-branch-name` <br>**OR** rename the previous one `git branch -m my-local-branch-name`.\n- Make sure _my-local-branch-name_ is **NOT master** and that there is **no existing** branch with this name.\n\n3. Sync with the remote repository.\n\n- Fetch the code from the master branch by running `git fetch; git merge`.\n\n4. Make your local changes.\n\n- Run `npm install` to install dependencies.\n- Run `npm run test` to compile the TypeScript code to JavaScript and run tests.\n\n5. Commit and push.\n\n- **Do not push directly to master!!!**\n- Commit your changes and push to create a new branch on GitHub by running `git push origin my-local-branch-name`\n- For consecutive commits, **DO NOT** use `commit amend`. You should create a new commit and push to the same feature branch again. This will add an extra commit to your pull request and retrigger the voters.\n\n6. Open a pull request.\n\n- Click 'New pull request' next to your branch.\n- Edit the pull request name with BLI or BCP. For example: _\"BLI DEVXCORE-123: my new feature\"_ or _\"BCP 1670451810: Fix my bug\"_.\n- A new branch _(my-local-branch-name)_ is created in the GitHub repository.\n- The new code should enable all voters and code review to pass successfully.\n\n7. Update the existing pull request.\n\n- Stage your changes and create a new commit.\n- Perform Git fetch.\n- Perform Git merge on origin/master - Merge your changes with the most updated master branch.\n- Push your changes to your _my-local-branch-name_ (Git push origin _my-local-branch-name_).\n\n8. Merge the pull request.\n\n- If all voters passed (XMake + JaaS Voter), click 'Merge pull request'.\n- If your pull request contains several commits, you combine them in one commit from GitHub by selecting the 'Confirm squash and merge' option from the Merge dropdown list.\n\n9. Delete your branch.\n\n- After the merge is complete, go to **Code > Branches**.\n- Look for your merged pull request and click the delete branch icon.\n\n### Tests and Coverage\n\n- Run `npm run test` to run the unit tests written in Mocha and the coverage test.\n\n## Release\n\nBump the version in the \"package.json\" GitHub file.\n\n**_Notes:_**\nMake sure to follow this versioning concept:\n\n- When providing new features (when releasing at the end of the sprint or when a new feature is ready), bump a major version (for example, from 1.1.0 to 1.2.0).\n- When providing a bug fix to an existing version (\"hotfix\"), bump a minor version (for example, from 1.1.0 to 1.1.1)..\n","downloadsCurrentMonth":374,"downloadsCurrentFortnight":177,"downloads365":1354,"downloadsFortnightGrowth":-4.32,"downloadsHistory":[{"yearMonth":"2023-04","downloads":24},{"yearMonth":"2023-05","downloads":11},{"yearMonth":"2023-06","downloads":17},{"yearMonth":"2023-07","downloads":18},{"yearMonth":"2023-08","downloads":15},{"yearMonth":"2023-09","downloads":13},{"yearMonth":"2023-10","downloads":75},{"yearMonth":"2023-11","downloads":206},{"yearMonth":"2023-12","downloads":24},{"yearMonth":"2024-01","downloads":295},{"yearMonth":"2024-02","downloads":364}],"versions":[{"version":"created","date":"2021-02-25T13:54:31.860Z"},{"version":"1.2.0","date":"2021-02-25T13:54:32.284Z"},{"version":"modified","date":"2023-11-13T11:29:30.155Z"},{"version":"1.2.3","date":"2021-05-20T15:16:54.835Z"},{"version":"1.2.5","date":"2021-07-07T15:14:30.141Z"},{"version":"1.2.6","date":"2022-11-14T16:25:33.897Z"},{"version":"1.2.7","date":"2023-02-14T09:30:31.526Z"},{"version":"1.2.35","date":"2023-11-13T11:29:29.954Z"}],"npmlink":"https://www.npmjs.com/package/@sap/destination-instance-service-provider"},{"name":"dev-cap-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2024-02-07T08:13:06.830Z","updatedAt":"2024-03-06T10:43:44.284Z","readme":"# Introduction\nThe library provides CLI `dev-cap-tools` which can be used to visualise the outputs of APIs as shown in the following section.\n\n```\ndev-cap-tools <cmd> [path] [types..]\n\nCommands:\n  dev-cap-tools gen-entrypoint [path]       prepare files for runing application\n  [options..]                               locally\n  dev-cap-tools build [path]                Generate an mta.yaml file and build\n  [useHeadlessGenerator] [ui5version]       an mtar file\n  [ui5theme] [terminal]\n  dev-cap-tools update-xsuaa-service        update XSUAA service for local run\n  [path]                                    with roles defined in the project\n\nOptions:\n  --version  Show version number                                       [boolean]\n  --help     Show help                                                 [boolean]\n  \n```","downloadsCurrentMonth":1298,"downloadsCurrentFortnight":709,"downloads365":1592,"downloadsFortnightGrowth":25.49,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":0},{"yearMonth":"2023-09","downloads":0},{"yearMonth":"2023-10","downloads":0},{"yearMonth":"2023-11","downloads":0},{"yearMonth":"2023-12","downloads":0},{"yearMonth":"2024-01","downloads":0},{"yearMonth":"2024-02","downloads":461}],"versions":[{"version":"created","date":"2024-02-07T08:13:06.830Z"},{"version":"1.31.0","date":"2024-02-07T08:13:07.221Z"},{"version":"modified","date":"2024-03-06T10:43:44.284Z"},{"version":"1.32.0","date":"2024-03-06T10:43:43.641Z"}],"npmlink":"https://www.npmjs.com/package/@sap/dev-cap-tools"},{"name":"e2e-trace","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T22:45:45.104Z","updatedAt":"2024-02-14T10:48:40.038Z","readme":"# @sap/e2e-trace\n\nNode.js package with end to end tracing capabilities.\n\n\n## Overview\n\n### SAP Passport\n\nSAP Passports allow to identify a specific request in an end-to-end scenario involving several components communicating with each other.\nThis is especially helpful in the task of following the state of a business transaction across different systems.\nTo achieve that, the client should send a special header ('sap-passport') containing the SAP Passport to the first component.\nThe SAP Passport is a hex string with a special structure. The client can send one via a browser plugin or via SAPUI5 application frontend.\nWhenever an SAP Passport comes into a component, this component should also include the unique identifiers of the SAP Passport in its logs/traces,\nupdate it with component specific data and then forward it to the next system.\n\nSee the diagram below:\n\n![SAP Passport overview diagram](diagram.png \"Overview diagram\")\n\nAn application receives an SAP Passport in the 'sap-passport' header. The same header is used when the SAP Passport is getting forwarded over the HTTP protocol to another system.\nIf it is being sent to HANA, the SAP Passport should be set as the 'SAP_PASSPORT' session variable of the database connection.\n\n#### API\n\n- Loading the package:\n\n```js\nvar SAPPassport = require('@sap/e2e-trace').Passport;\n```\n\n- Creating an SAP Passport instance\n\n```js\nfunction requestHandler(req, res) {\n  var encodedPassport = req.headers[SAPPassport.HEADER_NAME];\n  if (encodedPassport) {\n    var passport = new SAPPassport(encodedPassport);\n  }\n}\n```\n\nThe library provides a constant for the 'sap-passport' header: `SAPPassport.HEADER_NAME`.\n\nThe `passport` variable is an instance with which you may read/modify the SAP Passport in your component.\n\n- Reading the unique identifiers of an SAP Passport\n\n```js\nvar identifiers = passport.readUniqueIdentifiers();\n```\n\nThe returned value (assigned to the `identifiers` variable) is an object that has the following properties: `transactionID`, `rootContextID`, `connectionID`, `connectionCounter`.\nThese SAP Passport fields got to be present in the logs/traces of the component.\nIf you are using the `sap-logging` library, refer to its documentation to check whether the specific version is capable of handling SAP Passports or not.\n\n\n- Updating the SAP Passport - this is done right before forwarding it to the next component.\n\n```js\npassport.update({\n  previousComponent: 'my-application',\n  connectionID: '00112233445566778899AABBCCDDEEFF',\n  connectionCounter: 36\n});\n```\n\nThis method takes an object with the following properties:\n\nProperty      | Value      | Mandatory | Semantics\n------------- | ---------- | --------- | --------------------------\n`previousComponent` | ASCII string. Up to 32 characters. | | This is the name of the current component which is about to make an outbound connection to another component. Defaults to _XSA Node.js_.\n`connectionID` | GUID, 16-byte hex | yes | Every connection between the current component and the next component should have an ID which is passed as that property.\n`connectionCounter`| Positive integer, up to 4 bytes | yes | States for which time the connection with the given `connectionID` is being reused.\n\n- Compacting the SAP Passport - HANA DB has a limitation over the SAP Passport size.\nThis is why it is recommended to call the method `compact` before forwarding an SAP Passport to HANA.\n\n```js\npassport.compact();\n```\n\n- Generating a hex string out of the updated SAP Passport - the SAP Passport can be send to other components in this format.\n\n```js\nvar http = require('http');\nvar url = require('url');\n\nvar encodedPassport = passport.serialize();\n\nvar options = url.parse('http://my-host:1234/my/path');\noptions.headers = {};\noptions.headers[SAPPassport.HEADER_NAME] = encodedPassport;\n\nvar request = http.request(options);\nrequest.on('error', function (err) { /* ... */ });\nrequest.on('response', function (response) { /* ... */ });\nrequest.end();\n```\n\n\n### DSR records\n\nDistributed Statistics Records contain statistical information regarding an incoming request.\nThe library writes every record on the standard output in a JSON format.\nGathering DSR statistics is triggered when a request containing an SAP passport is received.\n\n#### API\n\n```js\nvar connect = require('connect');\nvar createDsrMiddleware = require('@sap/e2e-trace').createDsrMiddleware;\n\nvar app = connect();\n\napp.use(createDsrMiddleware());\napp.use('/path', function (req, res, next) {\n  // ...\n});\n```\n\nThe DSR middleware (can be used with frameworks like `connect` and `express`) should be the first middleware in the request processing flow.\n\nExample DSR record:\n\n```json\n{\"action\":\"https://host:5555/path?a=1&b=2\",\"receivedBytes\":1230,\"sentBytes\":110,\"respTime\":18,\"transId\":\"104A7DB661D31EE69DE912281546ED81\",\"userId\":\"n.a.\",\"startTime\":1473506434377}\n```\n\nProperties in a DSR record:\n\nProperty      | Description\n------------- | -----------\nstartTime     | Time at which request processing starts (milliseconds elapsed since 1 January 1970 00:00:00 UTC).\naction        | The requested URL.\nreceivedBytes | Number of bytes the incoming HTTP request contains (lengths of request line, headers section and body included). **Note**: due to a bug in Node.js, this field might be 0 in some runtime versions. Refer to the `engines/node` property in _package.json_ for recommended Node.js versions.\nsentBytes     | Number of bytes the outgoing HTTP response contains (lengths of status line, headers section and body included).\nrespTime      | Number of milliseconds spent in request processing (until the whole outgoing HTTP response has been handed off to the operating system for transmission over the network).\ntransId       | The Transaction ID field of the SAP Passport that has triggered the DSR record.\nuserId        | User ID of the current user taken from the request object. Defaults to `n.a.`.\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 5.0.0 - 2024-02-14\n\n### Removed\n- Support for Node.js 12.x, Node.js 14.x and Node.js 16.x\n- updated dependencies \n\n## 4.1.0 - 2023-11-07\n\n### Added\n- Added node 20.x support and tests\n\n### Updated\n- filter-node-package to 3.2.0\n\n## 4.0.0 - 2023-09-12\n\n### Removed\n- Support for Node.js 8.x and Node.js 10.x\n\n## 3.2.0 - 2022-10-27\n\n### Added\n- Support for Node.js 18.x\n\n## 3.1.0 - 2022-01-12\n\n### Added\n- Support for Node.js 16.x\n\n## 3.0.0 - 2020-12-01\n\n### Added\n- Support for Node.js 14.x\n\n### Removed\n- Support for Node.js 6.x\n\n## 2.1.0 - 2019-12-06\n\n### Added\n- Support for Node.js 12.x\n\n## 2.0.0 - 2019-04-25\n\n### Removed\n- Support for Node.js v0.12 and v4\n\n<a name=\"1.4.1\"></a>\n## 1.4.1 - 2019-01-15\n\n### Fixed\n- Update shrinkwrap\n\n<a name=\"1.4.0\"></a>\n## 1.4.0 - 2019-01-15\n\n### Added\n- Node.js version 10 support\n\n## 1.3.0 - 2018-01-19\n\n### Added\n- npm-shrinkwrap.json\n\n## 1.2.0 - 2018-01-08\n\n### Added\n- CHANGELOG.md\n- Node.js version 8 support\n\n## 1.1.3 - 2017-07-04\n\n### Removed\n- Remove lodash as a productive dependency.\n\n## 1.1.2 - 2017-01-24\n\n### Changed\n- Rename package to use *sap* scope.\n","downloadsCurrentMonth":212642,"downloadsCurrentFortnight":98992,"downloads365":2590516,"downloadsFortnightGrowth":-5.53,"downloadsHistory":[{"yearMonth":"2023-04","downloads":224051},{"yearMonth":"2023-05","downloads":255175},{"yearMonth":"2023-06","downloads":279649},{"yearMonth":"2023-07","downloads":224551},{"yearMonth":"2023-08","downloads":204573},{"yearMonth":"2023-09","downloads":195997},{"yearMonth":"2023-10","downloads":210379},{"yearMonth":"2023-11","downloads":198927},{"yearMonth":"2023-12","downloads":185459},{"yearMonth":"2024-01","downloads":198411},{"yearMonth":"2024-02","downloads":191877}],"versions":[{"version":"created","date":"2020-06-11T22:45:45.104Z"},{"version":"2.1.0","date":"2020-06-11T22:45:45.507Z"},{"version":"modified","date":"2024-02-14T10:48:40.038Z"},{"version":"2.0.0","date":"2020-06-11T22:45:52.204Z"},{"version":"1.1.3","date":"2020-06-11T22:45:58.119Z"},{"version":"1.1.2","date":"2020-06-11T22:46:04.654Z"},{"version":"1.3.0","date":"2020-06-11T22:46:10.940Z"},{"version":"1.4.1","date":"2020-06-11T22:46:17.240Z"},{"version":"1.2.0","date":"2020-06-11T22:46:23.222Z"},{"version":"3.0.0","date":"2020-12-01T14:49:12.563Z"},{"version":"3.1.0","date":"2022-01-27T08:00:25.846Z"},{"version":"3.2.0","date":"2022-10-31T15:14:28.579Z"},{"version":"4.0.0","date":"2023-09-20T07:47:49.768Z"},{"version":"4.1.0","date":"2023-11-15T11:27:17.507Z"},{"version":"5.0.0","date":"2024-02-14T10:48:39.834Z"}],"npmlink":"https://www.npmjs.com/package/@sap/e2e-trace"},{"name":"eslint-plugin-cds","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-04-07T14:22:55.478Z","updatedAt":"2024-03-12T09:57:49.150Z","readme":"# @sap/eslint-plugin-cds\n\n\nThe [ESLint](https://eslint.org) plugin includes a set of recommended [SAP Cloud Application Programming Model (CAP)](https://cap.cloud.sap) model and environment rules.\tThe aim of CDS linting is to catch issues with CDS models and with the environment early. To use this module we recommend to install [@sap/cds-dk](https://www.npmjs.com/package/@sap/cds-dk) globally.\n\nSee the [CDS Linting documentation](https://cap.cloud.sap/docs/tools/#cds-lint) for more details, or jump directly to a complete [list of rules](https://cap.cloud.sap/docs/tools/#cds-lint-rules). CAP provides a set of recommended rules. On top, you can create your own, application-specific rules.\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [2.6.7] - 2024-03-11\n\n### Fixed\n\n- Removed loading of previously removed rule.\n\n## [2.6.6] - 2024-03-11\n\n### Changed\n\n- Removed `require-2many-oncond` rule, as it is now covered by the compiler.\n\n## [2.6.5] - 2024-01-31\n\n### Fixed\n\n- Performance got improved significantly for projects with many non `.cds` files (like `.js` files)\n\n## [2.6.4] - 2023-10-31\n\n### Added\n\n- New `auth-restrict-grant-service` rule that validates events on restricted services.\n\n### Fixed\n\n- In _no-join-on-draft_, do not run check if there is no valid query.\n- In _auth-valid-restrict-where_, do not consider when missing expression references.\n\n## [2.6.3] - 2023-02-13\n\n### Changed\n\n- Filter rule reports using *inferred* models on $location.\n\n## [2.6.2] - 2023-02-13\n\n### Changed\n\n- Fixed rule reports using *inferred* models to always receive valid _file_ $locations.\n\n## [2.6.1] - 2023-01-26\n\n### Changed\n\n- Fixed rule name in ESLint config:all to `@sap/cds/start-elements-lowercase`.\n- Allow expensive rules to be reported when running from ESLint Cli.\n- In _auth-valid-restrict-grant_, only suggest closely related user roles.\n- In _auth-valid-restrict-to_, only suggest `*` if other entries apart from `*` exist.\n\n## [2.6.0] - 2022-09-29\n\n### Changed\n\n- Renamed rule `no-join-on-draft-enabled-entities` to `no-join-on-draft`.\n- Expanded list of reserved keywords to check for in rule `no-db-keywords`.\n\n### Added\n\n- New `extension-restrictions` rule that validates extension projects' models against restrictions set by the extended SaaS app.\n\n### Fixed\n\n- Errors from rules are shown again in the console output\n\n## [2.5.0] - 2022-08-04\n\n### Changed\n\n- Model Validation rules use `parsed` flavor by default (`meta.model` property)\n- Environment rules have { model: \"none\" }\n\n### Added\n\n- Flavor in `model` property on `meta` object of rule\n- Context function `getNode()` returns Node with proper location\n\n## [2.4.1] - 2022-06-17\n\n### Added\n\n- Authorization rules 'auth-*'.\n\n### Changed\n\n- Node.js 14 is now the minimum required Node.js version.  Version 12 is no longer supported.\n- Default CSN flavor in rules is `parsed`.\n\n## [2.4.0] - 2022-04-14\n\n### Added\n\n- Rule report recycling ensures that rules are created/run only once for the root model\n### Changed\n\n- Rule `no-dollar-prefixed-names` no longer acts on compiler warning messages\n\n### Changed\n## [2.3.5] - 2022-04-05\n\n### Changed\n\n- Catch root model compilation errors and do not try again on every file (-> long lint times for broken models)\n- Add to lint reports with rules marked with '!'\n\n## [2.3.4] - 2022-03-31\n\n### Changed\n\n- Only deduplicate model error messages when working within VS Code Editor\n- Hide `no-dollar-prefixed-names` compiler warning message in VS Code Editor (already passed by lsp)\n\n## [2.3.3] - 2022-03-24\n\n### Added\n\n- Added new rule `no-dollar-prefixed-names`\n- Lint reports with rules marked with '!' notify of rule compile errors\n- Lint reports of any thrown errors can be exposed by `--debug` (includes stack)\n\n## [2.3.2] - 2022-01-24\n\n### Changed\n\n- Rule `require-2many-oncond` now also detect navigations of aaspects for flavor 'parsed'\n- Removed duplicates from rule results of category 'Environment'\n\n## [2.3.1] - 2021-12-10\n\n### Changed\n\n- Removed custom formatter as it is no longer used by `cds lint`.\n- Deduplicate lint results from from rules of category environment.\n- Removed 'unpeploy.json' from files as no lint rule requires it\n- Fixed redundant triggers of model recompilations for non-model files and model files without changes\n\n## [2.3.0] - 2021-12-03\n\n### Added\n\n- Added new rule 'valid-csv-header'\n\n### Changed\n\n- Fixed suggestion messages in editor option (and disabled auto-fix)\n- Added rule properties 'docs.recommended', 'severity'\n\n## [2.2.2] - 2021-11-08\n### Added\n\n- Added new rule 'no-join-on-draft-enabled-entities'\n\n### Changed\n\n- Compile 'model' files based on CSN flavor 'inferred'\n- Compile 'outsider' files based on CSN flavor 'parsed'\n\n## [2.2.1] - 2021-11-01\n### Changed\n\n- Optimized model loading and fixed bug in loading of 'outsider' files\n\n## [2.2.0] - 2021-10-29\n### Added\n\n- Added typings to javascript for all exposed apis\n\n### Changed\n\n- Aligned rule creation and tester api with ESLint\n\n## [2.1.2] - 2021-10-05\n### Changed\n\n- Allow not only *.js but also other file types (i.e. *.ts, etc) to bypass plugin rules\n\n## [2.1.1] - 2021-10-04\n### Changed\n\n- Added preprocessor to avoid (other plugins) parsing errors on cds files\n\n## [2.1.0] - 2021-09-23\n### Changed\n\n- Source code is now Javascript only\n- Rule API simplified to only include report and cds\n- Added new rules `no-db-keywords` and `require-2many-oncond`\n- Filter out lint messages when run from command line with custom formatter\n\n## [2.0.5] - 2021-07-18\n### Added\n\n- When used from within VS Code ESLint exnteion, do not show environment rules\n### Changed\n\n-  Rule 'min-node-version' reverted to use cds.resolve not cds.home\n\n## [2.0.4] - 2021-07-12\n### Added\n\n- Plugin also considers 'outsider' files which are not part of a model\n### Changed\n\n- Custom formatter now prints projectPath for triggered env rule checks\n\n## [2.0.3] - 20210-07-09\n### Changed\n\n- Removed `npm-shrinkwrap.json` file from package\n\n## [2.0.2] - 2021-07-07\n### Changed\n\n- Fixed bug that always triggers csn-compile-err on type\n\n## [2.0.1] - 2021-07-06\n### Added\n\n- Re-added model rule 'csn-compile-err' to pass csn compile errors to eslint for readability\n\n### Changed\n\n- Formatter ignores all lint reports for other file extensions except for those in plugin overrides files\n\n## [2.0.0] - 2021-07-02\n### Added\n\n- New API: split exports into 'impl' (for eslint) and 'api' (for user)\n- CDS parser now ingests eslint-disable comments to turn off rules\n\n### Changed\n\n- API: getRuleTester now erquires relative path from ruleTester location to project root\n\n## [1.1.7] - 2021-06-22\n### Changed\n\n- Load/Update model must be in sync with every 'on-type' event\n\n## [1.1.6] - 2021-06-21\n### Changed\n\n- Formatter no longer has explicit dependencies, only reslies on 'stylish' output\n- Formatter behaves like eslint and does not print anything on success (no warning/error messages)\n- Formatter prints warnings/errors of 'uncategorized' rules separately\n- On glob file expressions, gets multiple models in series and reports on all warnings/errors\n\n## [1.1.5] - 2021-05-26\n### Changed\n\n- Naming convention rules changed to severity 'warning'\n- Rules of type 'suggestion' must return 'fix' for appliable multipass fixes\n- Split model generation into load and update to be able to work on all files\n\n## [1.1.4] - 2021-05-20\n### Changed\n\n- Formatter does not show any (env/other) lint messages on model error\n- Rule lower-camelcase-elements reverted to also check type keys\n- Rule lower-camelcase-elements is not triggered by element 'ID' (see Bookshop in CAP samples)\n\n## [1.1.3] - 2021-05-12\n### Changed\n\n- Changed rule type for naming convention rules to \"suggestion\"\n- Do not rely on namespaces/contexts to extract entity names\n- Added extra layer to also support ruleTester \"environment\" checks\n\n## [1.1.2] - 2021-05-05\n### Changed\n\n- Updated all rules to ingest args: (cds, context)\n- Use context's sourcecode to get correct range indices for fixers\n\n## [1.1.1] - 2021-05-04\n### Changed\n\n- Removed bulky headers from custom formatter\n- Removed latest-cds-version rule from recommended rules\n- Fixed min-node-version rule to always find cds.home\n- If no model files are found, do not fail but only do env checks\n- Fixed formatter to also print any other ESLint messages received\n\n## [1.1.0] - 2021-04-29\n### Added\n\n- Custom cds formatter for separate reporting of env and model checks\n\n### Changed\n\n- Fixed version of model rule 'sql-cast-suggestion'\n\n## [1.0.8] - 2021-04-12\n### Added\n\n- Proxy for cds object replaces fragile object clone from before\n- Added proper typings and ignore where options should remain invisible to the (cds) api\n- Added docstrings and header to each file to explain ESLint context\n- Added model rule 'sql-cast-suggestion'\n## [1.0.7] - 2021-04-01\n### Changed\n\n- Do not crash if `parserServices.cds` is not available\n\n## [1.0.6] - 2021-04-01\n### Added\n\n- peer dependency to `eslint`\n- error handling without throw to avoid editor pop-up hell\n- simplified api, cds instead of parserServices\n\n## [1.0.4] - 2021-03-24\n### Changed\n\n- Added sync model load from cds to generate fully resolved models\n- Simplified model rules with cds.reflect\n- Added model rules 'lower-camelcase-elements', 'upper-camelcase-entities'\n- Removed model rule 'no-entity-moo' and use as sample custom rule in docs\n- Refactored and added more parserServices\n\n## [1.0.3] - 2021-01-22\n### Changed\n\n- Fixed rule min-node-version to check if cds dependency is installed\n- Updated README glob statement to double asterisk for check nested dirs\n\n## [1.0.2] - 2021-01-21\n### Changed\n\n- Fixed rules to work in concert and allow for globs\n- Improved README for better readability\n\n## [1.0.1] - 2021-01-19\n### Added\n\n- Rule `assocs-card-flaw` in category *Model validation*\n\n### Changed\n\n- Refactoring of ruleFactory and parser code\n\n## [1.0.0] - 2020-12-07\n### Added\n- Initial release 1.0.0\n","downloadsCurrentMonth":175231,"downloadsCurrentFortnight":84118,"downloads365":3280710,"downloadsFortnightGrowth":0.41,"downloadsHistory":[{"yearMonth":"2023-04","downloads":276355},{"yearMonth":"2023-05","downloads":307934},{"yearMonth":"2023-06","downloads":312783},{"yearMonth":"2023-07","downloads":315823},{"yearMonth":"2023-08","downloads":300815},{"yearMonth":"2023-09","downloads":291869},{"yearMonth":"2023-10","downloads":294283},{"yearMonth":"2023-11","downloads":282765},{"yearMonth":"2023-12","downloads":269318},{"yearMonth":"2024-01","downloads":257399},{"yearMonth":"2024-02","downloads":158755}],"versions":[{"version":"created","date":"2021-04-07T14:22:55.478Z"},{"version":"1.0.7","date":"2021-04-07T14:22:55.862Z"},{"version":"modified","date":"2024-03-12T09:57:49.150Z"},{"version":"1.0.8","date":"2021-04-16T11:49:04.568Z"},{"version":"1.1.2","date":"2021-05-10T15:22:05.945Z"},{"version":"1.1.3","date":"2021-05-12T16:27:00.244Z"},{"version":"1.1.4","date":"2021-05-25T09:03:11.864Z"},{"version":"2.0.4","date":"2021-07-12T07:19:56.722Z"},{"version":"2.0.5","date":"2021-08-03T08:33:27.396Z"},{"version":"2.1.0","date":"2021-09-27T12:37:44.252Z"},{"version":"2.1.1","date":"2021-10-04T13:21:59.849Z"},{"version":"2.2.1","date":"2021-11-02T12:29:29.070Z"},{"version":"2.2.2","date":"2021-11-08T15:45:35.954Z"},{"version":"2.3.0","date":"2021-12-06T13:19:47.357Z"},{"version":"2.3.2","date":"2022-01-31T08:54:26.078Z"},{"version":"2.3.3","date":"2022-03-28T08:28:04.105Z"},{"version":"2.3.4","date":"2022-03-31T13:45:00.190Z"},{"version":"2.3.5","date":"2022-04-05T12:41:11.373Z"},{"version":"2.4.1","date":"2022-07-05T10:59:20.643Z"},{"version":"2.5.0","date":"2022-08-11T08:03:14.880Z"},{"version":"2.6.0","date":"2022-10-10T10:43:24.834Z"},{"version":"2.6.1","date":"2023-01-30T09:05:17.613Z"},{"version":"2.6.3","date":"2023-02-28T09:35:22.576Z"},{"version":"2.6.4","date":"2023-11-09T12:45:35.182Z"},{"version":"2.6.5","date":"2024-01-31T09:14:29.444Z"},{"version":"2.6.7","date":"2024-03-12T09:57:48.671Z"}],"npmlink":"https://www.npmjs.com/package/@sap/eslint-plugin-cds"},{"name":"external-service-mashup","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-05-24T08:35:52.731Z","updatedAt":"2023-03-14T06:28:48.895Z","readme":"# @sap/external-service-mashup\nThe git repository for external service mashup.\n\n## Introduction\nThe external services are able to be imported into LCAP / CAP application, and it's possible to query remote data from external OData services.\n\nSo far, it's read-only support, no update or delete to external db.\n\nBoth navigation scenarios as below are supported:\n- association from local entity to external entity\n- association from external entity to local entity\n\n## Usage\nIt could be used within LCAP / CAP event handler.","downloadsCurrentMonth":3104,"downloadsCurrentFortnight":1420,"downloads365":30519,"downloadsFortnightGrowth":-8.8,"downloadsHistory":[{"yearMonth":"2023-04","downloads":1671},{"yearMonth":"2023-05","downloads":2060},{"yearMonth":"2023-06","downloads":1454},{"yearMonth":"2023-07","downloads":1658},{"yearMonth":"2023-08","downloads":2052},{"yearMonth":"2023-09","downloads":2014},{"yearMonth":"2023-10","downloads":2906},{"yearMonth":"2023-11","downloads":3270},{"yearMonth":"2023-12","downloads":4851},{"yearMonth":"2024-01","downloads":2974},{"yearMonth":"2024-02","downloads":2926}],"versions":[{"version":"created","date":"2022-05-24T08:35:52.731Z"},{"version":"1.0.0","date":"2022-05-24T08:35:52.992Z"},{"version":"modified","date":"2023-03-14T06:28:48.895Z"},{"version":"1.1.0","date":"2022-06-23T07:24:40.471Z"},{"version":"1.1.1","date":"2022-07-05T07:06:38.978Z"},{"version":"1.1.2","date":"2022-08-19T06:14:56.011Z"},{"version":"1.2.0","date":"2023-01-03T09:52:19.917Z"},{"version":"1.2.1","date":"2023-01-09T09:51:43.651Z"},{"version":"1.2.2","date":"2023-03-14T06:28:48.790Z"}],"npmlink":"https://www.npmjs.com/package/@sap/external-service-mashup"},{"name":"generator-adaptation-project","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-03-01T08:06:10.359Z","updatedAt":"2024-03-15T08:55:42.751Z","readme":"# Adaptation Project Yeoman Sub-Generators\n\nWARNING: This package is intended for usage within SAP Business Application Studio. VSCode usage is in experimental mode.\n\nYeoman Generator for creating an Adaptation Project in the SAP Business Application Studio.\n\nSix sub-generators that are included in the repository under the main generator:\n\n- **Deployment Wizard** (Generator used for deploying Adaptation Projects)\n- **Replace OData Service** (Generator used to create Application descriptor changes by adding an OData Service changes to an Adaptation Project)\n- **Change Inbound** (Generator used to create Application descriptor changes by adding a Change Inbound to an Adaptation Project)\n- **Add Annotation File** (Generator used to create Application descriptor changes by adding an annotation file to the Adaptation Project)\n- **Add New SAPUI5 Model and Add ОData Service** (Generator used to create Application descriptor changes by adding an OData Service and new SAPUI5 model to the Adaptation Project)\n- **Add SAPUI5 Component Usages** (Generator used to create Application descriptor changes by adding SAPUI5 Component Usages change to the Adaptation Project)\n\nAll sub-generators can be started from the context menu by clicking on the `manifest.appdescr_variant`.\n","downloadsCurrentMonth":6375,"downloadsCurrentFortnight":2957,"downloads365":1766728,"downloadsFortnightGrowth":-8.96,"downloadsHistory":[{"yearMonth":"2023-04","downloads":156442},{"yearMonth":"2023-05","downloads":186101},{"yearMonth":"2023-06","downloads":182358},{"yearMonth":"2023-07","downloads":181216},{"yearMonth":"2023-08","downloads":176292},{"yearMonth":"2023-09","downloads":167301},{"yearMonth":"2023-10","downloads":177839},{"yearMonth":"2023-11","downloads":172989},{"yearMonth":"2023-12","downloads":165589},{"yearMonth":"2024-01","downloads":141114},{"yearMonth":"2024-02","downloads":6404}],"versions":[{"version":"created","date":"2022-03-01T08:06:10.359Z"},{"version":"0.2.10","date":"2022-03-01T08:06:10.593Z"},{"version":"modified","date":"2024-03-15T08:55:42.751Z"},{"version":"0.2.14","date":"2022-04-19T08:12:55.654Z"},{"version":"0.2.15","date":"2022-05-26T13:02:07.394Z"},{"version":"0.2.16","date":"2022-06-24T13:14:53.433Z"},{"version":"0.2.17","date":"2022-08-08T08:37:13.459Z"},{"version":"0.2.18","date":"2022-09-02T07:30:55.632Z"},{"version":"0.2.19","date":"2022-10-11T14:14:28.703Z"},{"version":"0.2.21","date":"2023-01-20T13:05:47.988Z"},{"version":"0.2.22","date":"2023-01-26T13:08:42.597Z"},{"version":"0.2.23","date":"2023-02-21T15:41:57.990Z"},{"version":"0.2.24","date":"2023-02-23T08:35:33.346Z"},{"version":"0.2.25","date":"2023-03-15T14:18:21.422Z"},{"version":"0.2.26","date":"2023-05-23T09:20:30.273Z"},{"version":"0.2.27","date":"2023-05-29T13:55:57.638Z"},{"version":"1.1.34","date":"2023-06-14T11:14:53.812Z"},{"version":"1.1.37","date":"2023-06-23T12:06:44.899Z"},{"version":"1.1.38","date":"2023-06-29T14:43:16.720Z"},{"version":"1.1.40","date":"2023-08-14T07:51:48.184Z"},{"version":"1.1.42","date":"2023-09-01T07:29:40.644Z"},{"version":"1.1.43","date":"2023-09-01T13:42:04.543Z"},{"version":"1.1.44","date":"2023-09-29T10:31:01.272Z"},{"version":"1.1.45","date":"2023-10-05T11:34:23.308Z"},{"version":"1.1.46","date":"2023-10-25T10:21:59.059Z"},{"version":"1.1.47","date":"2023-11-23T16:05:48.524Z"},{"version":"1.1.48","date":"2023-12-04T16:11:44.002Z"},{"version":"1.1.49","date":"2023-12-07T14:38:06.164Z"},{"version":"1.1.50","date":"2023-12-18T16:54:32.041Z"},{"version":"1.1.51","date":"2023-12-21T17:20:17.274Z"},{"version":"1.1.52","date":"2024-01-24T14:22:48.052Z"},{"version":"1.1.54","date":"2024-01-31T13:53:18.147Z"},{"version":"1.1.55","date":"2024-02-15T15:30:52.427Z"},{"version":"1.1.56","date":"2024-03-07T14:42:52.705Z"},{"version":"1.1.57","date":"2024-03-15T08:55:42.332Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-adaptation-project"},{"name":"generator-add-hdb-module","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-15T18:12:10.434Z","updatedAt":"2024-03-06T08:51:30.764Z","readme":"# SAP HANA Database Module Generator\nThe SAP HANA Database Module Generator simplifies the process of adding an SAP HANA database module to an SAP HANA database application project by generating the basic structure required by the database module and providing the option to bind the database module to a service in the Cloud Foundry or XS advanced run-time platform. \n## Prerequisites\n* To interact with the Cloud Foundry run-time platform, the SAP HANA Database Module Generator requires the [Cloud Foundry command-line interface](https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/4ef907afb1254e8286882a2bdef0edf4.html) (CF CLI).\n* To interact with SAP HANA XS advanced run-time platform, the SAP HANA Database Module Generator requires the [XS advanced command-Line interface](https://help.sap.com/docs/SAP_HANA_PLATFORM/1ed1948fa0664e138c088dcc61e267e0/addd59069e6f444ca6ccc064d131feec.html) (XS CLI).\n* ## Installation\n`npm install -g @sap/generator-add-hdb-module`\n## Configuration\n* The SAP HANA Database Module Generator works by default with [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/en-US/8f46c6e6f86641cc900871c903761fd4.html), the XS advanced command-line interface,  and the Cloud Foundry command-line interface. No additional configuration is required.\n* To use a graphical UI for the SAP HANA Database Module Generator in Visual Studio Code, install the [Application Wizard](https://marketplace.visualstudio.com/items?itemName=SAPOS.yeoman-ui) extension.\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"## 1.11.0\n\n### New Features\n- Added a hint how to set the database ID in XS Advanced projects\n\n### Fixes\n- Service key creation fails in XS Advanced\n\n## 1.10.0\n\n### New Features\n- A database ID can be entered manually when binding the module to a service instance\n\n### Fixes\n- Renamed the database versions to their official names\n\n## 1.9.0\n\n### New Features\n- The configuration of new projects now includes a mapping for hdbeshconfig\n- Switch to Node 16\n\n## 1.8.0\n\n### New Features\n- Login to Cloud Foundry is delegated to the Cloud Foundry Tools Visual Studio Code extension if available\n\n## 1.7.0\n\n### New Features\n- The configuration of new projects now includes a mapping for hdbschedulerjob\n\n## 1.6.0\n\n### Fixes\n- User-provided services are not shown as binding services\n\n## 1.5.2\n\n### Fixes\n- The correct CF API endpoint is selected in extension landscapes\n\n## 1.5.1\n\n### Fixes\n- Support CF CLI version 8\n- Improved database selection in trial accounts\n\n## 1.5.0\n\n### Fixes\n- The HDI namespace validation has been relaxed\n- Parsing of .env files has been improved\n\n## 1.4.0\n\n### Fixes\n- Generation could fail because the Cloud Foundry space was not set correctly\n\n## 1.3.0\n\n### New Features\n- The configuration of new projects now includes a mapping for hdbcollectionindex\n\n### Fixes\n- Upgrade Yeoman generator version from 4 to 5\n- Use Cloud Foundry API version 3\n- Usability improvements\n\n## 1.2.0\n\n### Fixes\n- Fix generated .hdiconfig file to remove deployment warning\n- Set the correct permissions for generated .env files\n- The home directory is now found correctly on Windows\n- The \"bind-local\" Cloud Foundry CLI plugin is no longer required\n\n## 1.1.0\n\n### New Features\n- A .gitignore file is created on the project level when called from a project generator\n\n### Fixes\n- Update dependencies\n\n## 1.0.1\n\n### Fixes\n- Fixed module .gitignore entry for the node_modules folder\n- Updated version of @sap/hdi-deploy in generated package.json\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":22769,"downloadsCurrentFortnight":20412,"downloads365":895994,"downloadsFortnightGrowth":829.09,"downloadsHistory":[{"yearMonth":"2023-04","downloads":76847},{"yearMonth":"2023-05","downloads":85637},{"yearMonth":"2023-06","downloads":86384},{"yearMonth":"2023-07","downloads":86198},{"yearMonth":"2023-08","downloads":90744},{"yearMonth":"2023-09","downloads":90064},{"yearMonth":"2023-10","downloads":94448},{"yearMonth":"2023-11","downloads":87119},{"yearMonth":"2023-12","downloads":80056},{"yearMonth":"2024-01","downloads":69827},{"yearMonth":"2024-02","downloads":4319}],"versions":[{"version":"created","date":"2020-12-15T18:12:10.434Z"},{"version":"1.0.0","date":"2020-12-15T18:12:10.846Z"},{"version":"modified","date":"2024-03-06T08:51:30.764Z"},{"version":"1.0.1","date":"2021-03-08T14:55:31.527Z"},{"version":"1.1.0","date":"2021-04-13T08:54:40.540Z"},{"version":"1.2.0","date":"2021-06-10T20:11:40.740Z"},{"version":"1.3.0","date":"2021-07-28T09:48:42.854Z"},{"version":"1.4.0","date":"2022-04-04T13:17:41.303Z"},{"version":"1.5.0","date":"2022-09-23T21:22:15.839Z"},{"version":"1.5.1","date":"2022-09-29T14:47:19.036Z"},{"version":"1.5.2","date":"2022-10-14T07:52:34.852Z"},{"version":"1.6.0","date":"2023-01-17T10:36:31.352Z"},{"version":"1.7.0","date":"2023-04-15T13:20:30.070Z"},{"version":"1.7.1","date":"2023-04-18T07:26:10.382Z"},{"version":"1.8.0","date":"2023-05-31T15:19:11.174Z"},{"version":"1.9.0","date":"2023-08-14T09:40:11.101Z"},{"version":"1.10.0","date":"2023-11-13T09:53:09.194Z"},{"version":"1.10.1","date":"2023-12-15T21:55:41.296Z"},{"version":"1.11.0","date":"2024-03-06T08:51:30.322Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-add-hdb-module"},{"name":"generator-aicore","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-08-02T08:23:23.392Z","updatedAt":"2023-08-02T08:23:23.977Z","readme":"\n# How to Use AI Core Template Generator in Visual Studio Code\n\n-  press Command + shift + p for *mac* and Control + shift + p for *Windows* to open control center and choose open template wizard.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen1.png)\n\n- Once the Template generator opens choose AI core and press start.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen2.png)\n\n- If you have your custom code choose Basic Project or if you wanted to use the pre-generated training and serving code use AI core sample project for this demo we are going to use.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen3.png)\n\n- enter the project name and version and press enter\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen4.png)\n\n- fill up the details like scenario ID and Resource plan.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen5.png)\n\n- Similarly fill the details for Serving Plan.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen6.png)\n\n- Choose the demo sample project as Movie Recommendation and click on next.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen7.png)\n\n\n- As a last step add the Docker Details like Docker registry URL and username and click next to create the project.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen8.png)\n\n- It will create all the required folders in the current directory.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/tempelate_gen9.png)\n\n\n### Deploying Template to AI Core\n\nIn the generated tempelate visit Template folder > Pipelines and replace `ai-core_creds.json` and `S3_creds.json` with your actual AI core Creds.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/run_movie1.jpg)\n\nOnce done Under the same pipelines folder open AI-core-skd-notebook and replace the Configure variables with your own Variables and click on run all.\n\n![](02_ai_core/docs/ai-core-template-wizard/img/run_movie2.jpg)\n","downloadsCurrentMonth":407,"downloadsCurrentFortnight":187,"downloads365":1094,"downloadsFortnightGrowth":-10.1,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":3},{"yearMonth":"2023-09","downloads":26},{"yearMonth":"2023-10","downloads":25},{"yearMonth":"2023-11","downloads":31},{"yearMonth":"2023-12","downloads":27},{"yearMonth":"2024-01","downloads":288},{"yearMonth":"2024-02","downloads":395}],"versions":[{"version":"created","date":"2023-08-02T08:23:23.392Z"},{"version":"2.3.6","date":"2023-07-27T08:00:04.725Z"},{"version":"modified","date":"2023-08-02T08:23:23.977Z"},{"version":"2.3.7","date":"2023-07-27T10:51:38.457Z"},{"version":"2.3.8","date":"2023-08-02T08:23:23.818Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-aicore"},{"name":"generator-cap-project","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-12T00:14:30.452Z","updatedAt":"2024-02-14T14:13:28.901Z","readme":"# @sap/generator-cap-project\n\n\n\n\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/c8f199cdcb7b48f2adc1bb3ec44e4dc4/Trial/en-US/8f46c6e6f86641cc900871c903761fd4.html).\n\nSee the [documentation](https://cap.cloud.sap/) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n\n\n\n\n\n## [1.7.9] - 2024-02-14\n### Added\n- create and open generation log file `.gen/generation.log` and open it in `SAP Business Application Studio` after project creation.\n\n### Changed\n- is Node.js project now\n\n## [1.7.8] - 2023-12-13\n### Fixed\n- safeguard `env.error` method\n\n## [1.7.7] - 2023-11-02\n### Changed\n- update yeoman-generator to `5.10.0`\n- update some dev dependencies\n\n## [1.7.6] - 2023-10-24\n### Removed\n- handling for `cds-dk` version 3 or less\n\n## [1.7.5] - 2023-10-13\n### Removed\n- version check for `@sap/cds-dk@1.7.x` version\n\n## [1.7.4] - 2023-09-13\n\n### Fixed\n- improved error message in Application Wizard\n- add missing dependencies to fix bundling\n\n## [1.7.3] - 2023-09-05\n### Added\n- add option `for = 'production'`;\n\n## [1.7.2] - 2023-04-13\n### Changed\n- generator is now bundled into one file\n\n## [1.7.1] - 2023-01-31\n### Fixed\n- remove circular call stack from Application Wizard logging\n\n### Changed\n- project creation logging is less talkative\n\n## [1.7.0] - 2023-01-13\n### Changed\n- Removing file system util - using native fs now\n- logger overrides console log methods for logging of cds-dk inside Application Wizard\n\n## [1.6.8] - 2022-10-26\n### Changed\n- Removing `fs-extra` internally, requiring now node >= `14`\n\n## [1.6.7] - 2022-08-03\n\n### Changed\n- Updated some dependencies.\n\n## [1.6.6] - 2022-05-09\n\n### Fixed\n\n- Call `pathGetter` function using correct `this` context.\n- Using `cds env get` to get cds environment entry.\n\n## [1.6.5] - 2022-04-26\n\n### Fixed\n\n- Removed `Package Manager` error message when running generator.\n- `FsUtil.getTouchedFiles` now uses Yeoman store to print added/changed files.\n\n## [1.6.4] - 2022-03-08\n\n### Fixed\n\n- Add new `FsUtil` api methods.\n\n## [1.6.3] - 2022-02-28\n\n- Technical release.\n\n## [1.6.2] - 2022-02-28\n\n### Changed\n- Update `yeoman-generator` dependency.\n\n## [1.6.1] - 2022-02-04\n\n### Fixed\n- Various bug fixes\n\n## [1.6.0] - 2021-09-20\n\n### Changed\n- Consume latest version of `@sap-devx/yeoman-ui-types`.\n- Consume latest version of `yeoman-generator`.\n\n### Added\n- New log label `[cds]` for log output.\n\n\n## [1.5.4] - 2021-07-19\n\n### Fixed\n- Destination root handling in `SAP Business Application Studio`.\n\n\n## [1.5.2] - 2021-06-28\n\n### Changed\n- Internal refactorings\n\n\n## [1.5.1] - 2021-06-22\n\n### Changed\n- Use `cds env` to determine path to `@sap/cds-dk`.\n\n\n## [1.5.0] - 2021-05-04\n\n### Changed\n- Update dependencies\n\n\n## [1.4.3] - 2021-04-29\n\n### Changed\n- Internal updates for `@sap/cds-dk`support.\n\n\n## [1.4.2] - 2021-01-29\n\n### Changed\n- Consume latest version of `@sap-devx/yeoman-ui-types`.\n- Improved node modules lookup handling in `SAP Business Application Studio`.\n\n\n## [1.4.1] - 2021-01-05\n\n### Fixed\n- Fix look up path bug in `SAP Business Application Studio` for node modules.\n\n\n## [1.4.0] - 2020-10-15\n\n### Changed\n- Better support for `SAP Business Application Studio` via UI enhancements and logging.\n\n\n## [1.3.0] - 2020-10-06\n\n### Changed\n- All file operations (write, copy, ...) commit directly after execution.\n\n\n## [1.2.1] - 2020-09-22\n\n### Fixed\n- For `Java` projects also copy dot files, e.g. `.cdsrc.json`.\n\n### Changed\n- Internal refactorings, now requiring `@sap/cds-dk` version `>=1.7.0`.\n\n\n## [1.2.0] - 2020-09-01\n\n### Changed\n- Update `yeoman-generator` dependency.\n- Project names must not contain an underscore to ensure compatibility with Maven.\n- Added human readable display name.\n\n\n## [1.1.3] - 2020-07-16\n\n### Fixed\n- Internal refactorings.\n- Internal bug fixes.\n\n\n## [1.1.2] - 2020-07-02\n\n### Fixed\n- Internal bug fixes.\n\n\n## [1.1.1] - 2020-06-08\n\n### Fixed\n- Internal refactorings.\n\n\n## [1.1.0]\n\n### Fixed\n- Bug in folder name validation fixed when folder name is not in parameter list on command line.\n\n### Features\n- Using `yeoman-generator` library version `4.10.1`.\n\n## [1.0.7]\n\n### Fixed\n- Only allow word characters, numbers and '-' as folder name characters.\n\n## [1.0.6]\n\n### Fixed\n- Generator sets project folder correctly when finished.\n- Changed initial label to `Project Details` for better readability.\n- Improved error messages.\n\n## [1.0.5]\n\n### Features\n- Add mandatory prompt for project name.\n\n## [1.0.4]\n\n### Features\n- Discovery of `@sap/cds-dk` now also uses `cds -v` to get the home folder of cds.\n\n## [1.0.3]\n\n### Fixed\n- Fix error handling\n\n### Features\n- Add parser for generic generator options.\n","downloadsCurrentMonth":4857,"downloadsCurrentFortnight":2043,"downloads365":1592178,"downloadsFortnightGrowth":-22.85,"downloadsHistory":[{"yearMonth":"2023-04","downloads":139979},{"yearMonth":"2023-05","downloads":165348},{"yearMonth":"2023-06","downloads":168188},{"yearMonth":"2023-07","downloads":177994},{"yearMonth":"2023-08","downloads":170608},{"yearMonth":"2023-09","downloads":165418},{"yearMonth":"2023-10","downloads":149894},{"yearMonth":"2023-11","downloads":142025},{"yearMonth":"2023-12","downloads":142337},{"yearMonth":"2024-01","downloads":117262},{"yearMonth":"2024-02","downloads":6176}],"versions":[{"version":"created","date":"2020-06-12T00:14:30.452Z"},{"version":"1.0.5","date":"2020-06-12T00:14:30.937Z"},{"version":"modified","date":"2024-02-14T14:13:28.901Z"},{"version":"1.0.6","date":"2020-06-12T00:14:39.186Z"},{"version":"1.0.7","date":"2020-06-12T00:14:45.616Z"},{"version":"1.1.3","date":"2020-08-05T15:20:00.280Z"},{"version":"1.2.0","date":"2020-09-03T12:59:24.882Z"},{"version":"1.3.0","date":"2020-10-14T08:05:40.739Z"},{"version":"1.4.0","date":"2020-11-04T14:24:10.529Z"},{"version":"1.4.1","date":"2021-01-27T17:23:02.744Z"},{"version":"1.4.2","date":"2021-02-03T14:33:49.972Z"},{"version":"1.5.2","date":"2021-07-09T11:44:04.374Z"},{"version":"1.5.4","date":"2021-07-19T13:08:14.595Z"},{"version":"1.6.0","date":"2021-09-28T13:11:29.057Z"},{"version":"1.6.4","date":"2022-03-09T13:15:33.620Z"},{"version":"1.6.6","date":"2022-05-09T11:50:09.229Z"},{"version":"1.6.8","date":"2022-11-07T12:12:12.239Z"},{"version":"1.6.9","date":"2023-01-13T15:57:28.455Z"},{"version":"1.7.0","date":"2023-01-30T15:02:23.968Z"},{"version":"1.7.1","date":"2023-02-01T14:36:51.780Z"},{"version":"1.7.2","date":"2023-04-13T12:44:58.709Z"},{"version":"1.7.3","date":"2023-09-05T08:54:08.415Z"},{"version":"1.7.4","date":"2023-09-14T07:26:57.123Z"},{"version":"1.7.6","date":"2023-10-30T09:05:40.723Z"},{"version":"1.7.7","date":"2023-11-22T13:23:12.616Z"},{"version":"1.7.8","date":"2024-01-19T07:46:33.830Z"},{"version":"1.7.9","date":"2024-02-14T14:13:28.701Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-cap-project"},{"name":"generator-cds","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:16:00.155Z","updatedAt":"2024-01-29T14:50:41.626Z","readme":"# @sap/generator-cds\n\n\n\n\nThis module has been deprecated. We recommend to install [@sap/cds-dk](https://www.npmjs.com/package/@sap/cds-dk) globally. See section [Getting Started](https://cap.cloud.sap/docs/get-started/) in the CAP documentation for information about project creation and project structure.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Change Log\n\n- All notable changes to this project are documented in this file.\n- The format is based on [Keep a Changelog](http://keepachangelog.com/).\n- This project adheres to [Semantic Versioning](http://semver.org/).\n\n\n\n## Version 2.18.6 - 2024-01-29\n### Changed\n- use current version for `cds-dk` in generated project's main `package.json`\n\n## Version 2.18.5 - 2023-12-05\n### Changed\n- updating libraries\n- generating `node >=18` into project's `engines` field\n- fixing start script\n\n## Version 2.18.4 - 2023-10-31\n### Fixed\n- some typos, Node.js version in `CHANGELOG.md`\n\n## Version 2.18.3 - 2023-09-08\n### Fixed\n- now handles return value of npm show version command correctly\n\n### Changed\n- Requires `Node.js` version 16 or higher\n- Updated libraries\n\n## Version 2.18.1 - 2022-07-01\n### Fixed\n- Various bug fixes\n\n## Version 2.18.0 - 2022-06-24\n### Changed\n- Supports only `Node.js` 12, 14, 16\n- Removed `fs-extra` dependency\n\n## Version 2.17.9 - 2022-06-20\n### Changed\n- Add `node 14` to generated `package.json` files.\n\n## Version 2.17.8 - 2022-03-22\n\n### Changed\n- Internal refactoring for integration tests.\n- Add `engines` node version `14` and remove `10` in generated project.\n- Update dependencies\n\n\n## Version 2.17.7 - 2021-04-16\n\n### Fixed\n- Use `ping` command to check availability of docu server.\n\n\n## Version 2.17.6 - 2021-04-08\n\n### Fixed\n- Use `@sap/cds-dk` entry in `package.json` with version `^3`.\n\n\n## Version 2.17.4 - 2021-02-03\n\n### Fixed\n- Use `engines` entry in `db/package.json` with version `^10 || ^12`.\n\n\n## Version 2.17.3 - 2020-12-11\n\n### Fixed\n- Use `engines` entry in `package.json` and `db/package.json` with version `>=10`.\n\n\n## Version 2.17.2 - 2020-11-24\n\n### Fixed\n- Legacy support for `Node.js` version 8 or higher.\n\n\n## Version 2.17.1 - 2020-11-03\n\n### Fixed\n- Use Maven Java `Archetype` version `1.40.11`.\n\n\n## Version 2.17.0 - 2020-10-06\n\n### Fixed\n- Move `@sap/cds-dk` to project root dependencies to enable MTA build in SAP Web IDE.\n\n\n## Version 2.16.0 - 2020-09-09\n\n### Changed\n- Updated `fs-extra` library version.\n- Requiring `Node.js` version 10 or higher.\n\n\n## Version 2.15.7 - 2020-09-01\n\n### Changed\n- Updated dependencies.\n\n\n## Version 2.15.6 - 2020-08-04\n\n### Fixed\n- Add `@sap/cds-dk` as dev dependency, so that `cds` commands can be executed in absence of global installation of `cds-dk`.\n\n\n## Version 2.15.5 - 2020-07-16\n\n### Feature\n- Use Maven Java `Archetype` version `1.40.6`.\n\n### Changed\n- Removed `package-lock.json` from generated `.gitignore` file.\n\n## Version 2.15.4 - 2020-07-02\n\n### Changed\n- Small improvements and refactorings.\n\n## Version 2.15.3 - 2020-06-16\n\n### Changed\n- Refactored internal code.\n\n## Version 2.15.2 - 2020-06-15\n\n### Fixed\n- Fixed some minor bugs.\n\n## Version 2.15.1 - 2020-06-15\n\n### Feature\n- Use Maven Java `Archetype` version `1.40.2`.\n\n## Version 2.15.0 - 2020-05-25\n\n### Feature\n- Use Maven Java `Archetype` version `1.40.0`.\n\n## Version 2.14.3\n\n### Feature\n- Use Maven Java `Archetype` version `1.39.3`.\n\n## Version 2.14.2\n\n### Changed\n- Use `@sap/hana-client` instead of `hdb` npm library.\n- Use `512M` as default `disk-quota`.\n\n## Version 2.14.1\n\n### Changed\n- Updated `minimist` and `yaml` npm library versions.\n- Use `cds build` command instead of `cds build/all`.\n\n## Version 2.14.0\n\n### Feature\n- Use Maven Java `Archetype` version `1.39.0`.\n\n## Version 2.13.2\n\n### Changed\n- Engine entry for Nodejs is now `^10 || ^12` in `srv` and `root` package.json.\n\n## Version 2.13.1\n\n### Removed\n- Remove `engines.node` entry in package.json for `db` folder.\n\n## Version 2.13.0\n\n### Feature\n- Use Maven Java `Archetype` version `1.38.0`.\n\n### Fixed\n- Add engine entry for `Nodejs 12.0` to package.json.\n\n## Version 2.12.2\n\n### Feature\n- Use Maven Java `Archetype` version `1.37.1`.\n\n## Version 2.12.1\n\n### Feature\n- Change warning text when used directly on command line.\n\n## Version 2.12.0\n\n### Feature\n- Use Maven Java `Archetype` version `1.37.0`.\n\n## Version 2.11.3\n\n### Feature\n- Use Maven Java `Archetype` version `1.36.2`.\n\n## Version 2.11.2\n\n### Fixed\n- Do not use maven dependency `slf4j` in pom.xml anymore when technology is Java.\n\n## Version 2.11.1\n\n### Feature\n- Use Maven Java `Archetype` version `1.36.1`.\n\n## Version 2.11.0\n\n### Feature\n- Use Maven Java `Archetype` version `1.36.0`.\n\n## Version 2.10.2\n\n### Feature\n- Use Maven Java `Archetype` version `1.35.4`.\n\n### Fixed\n- Improved launch config for VS Code to enable debugging.\n\n## Version 2.10.1\n\n### Feature\n- Use Maven Java `Archetype` version `1.35.2`.\n\n### Fixed\n- Create launch config file with reference to cds.js instead of npx.\n\n## Version 2.10.0\n\n### Feature\n- Add csv sample data for books, authors and orders\n- Use Maven Java `Archetype` version `1.35.0`.\n\n### Fixed\n- Add missing entries to generated `.gitignore` file.\n\n## Version 2.9.0\n\n### Feature\n- Use Maven Java `Archetype` version `1.34.1`.\n\n## Version 2.8.3\n\n### Feature\n- Use cds environment parameter `cds_version` to specify used cds version in semver format.\n\n## Version 2.8.2\n\n### Fixed\n- Add debug profile in srv `pom.xml`.\n\n## Version 2.8.1\n\n### Fixed\n- Clean up pom.xml generation.\n\n## Version 2.8.0\n\n### Fixed\n- Use service plan for uaa configuration based on environment.\n\n## Version 2.7.0\n\n- Fix creation of root level `pom.xml`\n- Fix `integration tests` for `Odata version 4`\n\n## Version 2.6.3\n\n### Feature\n- Use Maven Java `Archetype` version `1.32.5`.\n- No `npm install` is done if project is located in a monorepo, where node modules is managed\n  by e.g. lerna.\n\n### Fixed\n- Improve console output when project creation is done.\n\n## Version 2.6.2\n\n### Fixed\n- Add missing `integration tests` for `OData version 4`.\n\n### Feature\n- Use Maven Java `Archetype` version `1.32.3`.\n\n## Version 2.6.1\n\n### Fixed\n- `Jacoco` support for java based srv modules.\n- Issue warning if user calls `cds init help` instead of `cds help init`\n\n## Version 2.6.0\n\n### Features\n- Use default names for database (`db`) and service (`srv`) folders.\n- Use `v2` and `v4` as OData version values.\n\n### Fixed\n- Add missing prompt descriptions.\n\n## Version 2.5.1\n\n### Fixed\n- Fix support for `theia` based generator.\n- Temp folder deletion via native os call.\n\n### Feature\n- Use Maven Java `Archetype` version `1.32.0`.\n\n## Version 2.5.0\n\n### Features\n- Add parameter `--pipeline` to create pipeline specific files.\n- Add integration tests if user selects db and srv with srv technology java.\n\n## Version 2.4.12\n\n### Feature\n- Use Maven Java `Archetype` version `1.31.3`.\n\n### Fixed\n- Use new maven group id for `ngdbc` driver.\n\n## Version 2.4.11\n\n### Feature\n- Use Maven Java `Archetype` version `1.31.1`.\n\n### Fixed\n- Add logger to API so environment can inject specific loggers.\n\n## Version 2.4.10\n\n### Fixed\n- Add `default-*.json` and `connection.properties` to root level `.gitignore` file.\n\n### Feature\n- Use Maven Java `Archetype` version `1.30.1`.\n\n## Version 2.4.9\n\n### Fixed\n- Stop creation when required npm library cannot be found.\n- Enhance reporting of internal errors.\n\n## Version 2.4.8\n\n### Fixed\n- Create correct `odata` version entry in root package.json.\n\n## Version 2.4.7\n\n### Fixed\n- Add `mta_archives` to .gitignore file.\n- Create `directory` entry in pom.xml to avoid errors when importing project.\n\n## Version 2.4.6\n\n### Fixed\n- Add folder name to created hdi container name.\n- Reuse existing hdi container when creating a srv module.\n- Show npm install output in console by default.\n- Use `ISC`as standard license in generated project.\n\n## Version 2.4.5\n\n### Fixed\n- Only add `disk-quota` when not using java as srv technology.\n- Do not add `logback.xml` to `pom.xml` excludes for java srv.\n- Add `cds.folders` entry to root level package.json.\n- Create `sqlite3` development dependency for db technology sqlite.\n- Add all folders specified in `--modules` to cds.requires section in project root package.json.\n- Add odata.version entry to root level package.json.\n\n## Features\n- Use plugin version `2.0.0.0` in generated .hdiconfig file.\n- Using fix archetype version `1.28.1` for java srv projects.\n\n## Version 2.4.4\n\n### Fixed\n- Using managed service uaa in mta.yaml\n\n## Version 2.4.3\n\n### Fixed\n- Empty mta.yaml was not parsed correctly.\n- Empty package.json prevented correct project setup, cds build problems occurred afterwards.\n\n\n## Version 2.4.2\n\n### Fixed\n- Bug in package.json generation\n\n\n## Version 2.4.1\n\n### Fixed\n- Bug in file overwrite handling\n\n### Features\n- When running init on existing project, generator copies missing files but leaves existing.\n- If parameter --force is present the generator overwrites entries in mta.yaml rather than reuse existing\n\n\n## Version 2.4.0\n\n### Features\n- Deprecate add module (replace with init --modules)\n- Remove command line coloring\n- Simplify internal CLI (CLI will be deprecated in the near future)\n- Do not allow projects outside current working folder, e.g. init ../../some/where/else is not allowed\n- No output at all (not even error messages) when using --quiet\n- Create a module folder even if it is empty based on the supplied options\n- Parameter --modules only supports one folder of each type\n\n### Fixed\n- Bug in mta.yaml creation which resulted in missing/invalid uaa entry\n- Removal of existing tasks in .cdsrc.json during add module\n\n\n## Version 2.3.10\n\n### Features\n- Support named module folders, e.g. --modules myDB:db creates a db folder named myDB, while --modules db creates a db folder named db\n- Enhance output when using --debug flag\n\n\n## Version 2.3.9\n\n### Fixed\n- Use existing UAA instance in mta.yaml, if file exists\n","downloadsCurrentMonth":699,"downloadsCurrentFortnight":313,"downloads365":4327,"downloadsFortnightGrowth":-15.18,"downloadsHistory":[{"yearMonth":"2023-04","downloads":275},{"yearMonth":"2023-05","downloads":165},{"yearMonth":"2023-06","downloads":155},{"yearMonth":"2023-07","downloads":112},{"yearMonth":"2023-08","downloads":143},{"yearMonth":"2023-09","downloads":363},{"yearMonth":"2023-10","downloads":556},{"yearMonth":"2023-11","downloads":234},{"yearMonth":"2023-12","downloads":182},{"yearMonth":"2024-01","downloads":869},{"yearMonth":"2024-02","downloads":653}],"versions":[{"version":"created","date":"2020-06-11T23:16:00.155Z"},{"version":"2.14.2","date":"2020-06-11T23:16:00.545Z"},{"version":"modified","date":"2024-01-29T14:50:41.626Z"},{"version":"1.0.0","date":"2020-06-11T23:16:08.801Z"},{"version":"1.0.10","date":"2020-06-11T23:16:16.978Z"},{"version":"2.14.0","date":"2020-06-11T23:16:23.680Z"},{"version":"2.4.5","date":"2020-06-11T23:16:29.868Z"},{"version":"2.3.9","date":"2020-06-11T23:16:36.052Z"},{"version":"2.13.1","date":"2020-06-11T23:16:42.256Z"},{"version":"2.7.0","date":"2020-06-11T23:16:49.416Z"},{"version":"2.10.2","date":"2020-06-11T23:16:55.648Z"},{"version":"1.0.3","date":"2020-06-11T23:17:02.689Z"},{"version":"2.3.7","date":"2020-06-11T23:17:09.372Z"},{"version":"2.11.1","date":"2020-06-11T23:17:15.649Z"},{"version":"1.0.8","date":"2020-06-11T23:17:22.409Z"},{"version":"2.8.2","date":"2020-06-11T23:17:29.063Z"},{"version":"2.4.11","date":"2020-06-11T23:17:35.249Z"},{"version":"2.3.11","date":"2020-06-11T23:17:42.093Z"},{"version":"2.4.4","date":"2020-06-11T23:17:48.552Z"},{"version":"2.12.2","date":"2020-06-11T23:17:54.826Z"},{"version":"2.2.0","date":"2020-06-11T23:18:01.068Z"},{"version":"2.3.6","date":"2020-06-11T23:18:08.555Z"},{"version":"1.0.13","date":"2020-06-11T23:18:15.291Z"},{"version":"2.4.8","date":"2020-06-11T23:18:22.477Z"},{"version":"2.9.0","date":"2020-06-11T23:18:28.977Z"},{"version":"2.15.6","date":"2020-08-05T15:20:23.762Z"},{"version":"2.15.7","date":"2020-09-03T12:59:39.391Z"},{"version":"2.17.0","date":"2020-10-14T08:05:54.081Z"},{"version":"2.17.2","date":"2020-11-24T15:24:41.790Z"},{"version":"2.17.3","date":"2020-12-14T16:26:35.127Z"},{"version":"2.17.4","date":"2021-02-03T12:44:35.226Z"},{"version":"2.17.6","date":"2021-04-16T11:43:59.332Z"},{"version":"2.17.7","date":"2021-05-10T15:22:19.121Z"},{"version":"2.17.8","date":"2022-03-23T13:43:22.223Z"},{"version":"2.17.9","date":"2022-06-21T07:26:35.494Z"},{"version":"2.18.1","date":"2022-07-05T11:52:51.446Z"},{"version":"2.18.3","date":"2023-09-08T06:40:07.328Z"},{"version":"2.18.5","date":"2023-12-05T10:36:17.996Z"},{"version":"2.18.6","date":"2024-01-29T14:50:41.446Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-cds"},{"name":"generator-fiori","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-02-05T01:32:57.415Z","updatedAt":"2024-03-15T20:34:20.223Z","readme":"# @sap/generator-fiori\n\n## Features\n\nThe **SAP Fiori application generator** provides a single entry point to generate both SAP Fiori elements applications and SAP Fiori freestyle applications. Users can choose the type of template required, along with the relevant data source, and an application will be generated into the specified folder.\n\nThe generated application conforms to the [Fiori Design guidelines](https://experience.sap.com/fiori-design-web/floorplans/floorplan-overview/) and SAP best practices.\n\n## Installation\n\n1. Get [Node.js](https://nodejs.org/en/download/)\n1. Install Yeoman(https://https://yeoman.io/) by executing `npm install -g yo`. Note: `yo` version 4.3.0 or higher required for macOS Monterey.\n1. Install the [MTA](https://www.npmjs.com/package/mta) Node.js package (version 1.0 or higher) by executing `npm install -g mta`.\n\nThe SAP Fiori generator can be installed using either of the following methods:\n\n- **Install the generator from NPM**\n\n  - Execute\n\n    ```sh\n    npm install -g @sap/generator-fiori\n    ```\n\n- **Install the generator from the SAP Fiori Tools extension pack.**\n\n  - Installing the SAP Fiori Tools extension pack will automatically check if the SAP Fiori generator is installed and install it if necessary.\n\nAfter installation, verify your installation to see if Yeoman has been installed correctly with the Fiori generator.\n\n```\nyo\n```\n\n  Make sure you see the `@sap/fiori` generator listed.\n\n## Launch Fiori application generator\n\n### Using Yeoman\n\n- `yo`\n\nOR\n\n### Using the Yeoman Application Wizard\n\n- Additionally you can use the Yeoman Application Wizard for a more feature rich user experience.\n- Download the latest release of the Yeoman Application Wizard from the VSCode marketplace.  Search for 'Application Wizard' in the marketplace.\n- Invoke the Yeoman UI Wizard in VSCode by calling `CMD + Shift + P -> Open Application Wizard`\n- This will show all Yeoman templates that have been installed on the user's machine, and should include an option for the `SAP Fiori application`\n- Alternatively, if you have the SAP Fiori tools pack installed, you can call `CMD + Shift + P -> Fiori: Open Application Generator`.  This will launch the Yeoman UI Wizard but restrict it to just work with with the SAP Fiori Tools Application Generator.\n\n## Usage for Fiori elements application\n\nOnce SAP Fiori application generator is launched successfully, a user is asked to choose the application type. The user can choose between Fiori\nelements and Fiori freestyle applications. The templates (floorplans) of the selected application type are then listed for user to\nchoose.\n\n### Generator Wizard Steps\n\n#### 1. Template selection\n\nSelect the required template type to use when generating your application. The generator currently supports the following templates:\n\n**SAP Fiori elements**\n- List Report Object Page\n- Worklist\n- Analytical List Page\n- Overview Page\n\n**SAP Fiori freestyle**\n- SAP Fiori Worklist Application\n- SAP Fiori Master-Detail Application\n- SAPUI5 Application\n\n#### 2. Select Data Source\n\nCurrently, the generator supports the following methods to provide the Data Source:\n\n- **Connect to a System**\n\n  You can connect to a System in VSCode by selecting one of the following methods:\n\n  1. You can choose to connect to an existing ABAP on premise system by providing the URL and optional SAP Client identifier.  If the URL requires authentication, you will need to provide those details during generation.\n  1. You can connect to an ABAP environment on the SAP Business Technology Platform.  In this case, you must provide a local file that defines the service connection details for the desired ABAP Environment.  Once you provide these details, a browser tab will launch for you to provide authentication details.\n\n  In both cases, if you choose to save the SAP system for future reference, the system details will be stored in the secure storage location of your operating system.\n\n- **Connect to an OData service**\n\n  Enter the OData endpoint URL you wish to use in your generated application. Currently, the generator supports an OData endpoint that is either unauthenticated or authenticated with Basic authentication. For an authenticated OData endpoint, you will be asked to provide a username and password.\n\n- **Connect to SAP Business Accelerator Hub**\n\n  You can use any of the services available in the SAP Business Accelerator Hub by providing your authentication details and choosing the relevant service.\n\n- **Use a Local CAP Project**\n\n  For Odata V4 CAP projects, you can reference an existing project and use the service in that project during generation.\n\n- **Upload a data service metadata file**\n\n  Upload a service metadata file that represents the back end service from the file system. This allows the user to generate the application without relying on a back end service being available.\n\n  **Note:** Uploading a data service metadata file will restrict the generated application to only be available using mock data.\n\n#### 3. Select relevant entities\n\nOnce the data source has been supplied, the **SAP Fiori application generator** will present a list of entities from the OData service to choose.\n\n#### 4. Add project descriptor data\n\nIn the next step, provide the following information:\n\n- **Module name** Required.  Must be alpha-numberic and cannot contain spaces.  The generated NodeJS application will use the module name as its package name.  Will also be used as the folder name of the generated application.\n- **App Title** Required.  This will be the title in the header of the generated application\n- **Namespace** Required.  The UI5 project namespace to be used.  Must start with a letter and contain letters, digits and periods only.\n- **Description** Required. The text description of the application.\n- **Parent Folder** Required.  The parent folder into which the new application will be generated.  The new application will be generated in a new folder with the `Module Name` as detailed above.  If there already exists a folder with the same name, the user must choose a new Module name.\n\n- **Advanced Configuration** Optional.  The user can choose to customise the generated application with the following options:\n\n  - **UI5 CSS Theme**\n  - **UI5 Javascript Library Version**\n\n- **Deployment Configuration** Optional.  If selected, an extra step will be added to the generator for adding deployment configuration using either ABAP or Cloud Foundry\n\n- **FLP Configuration** Optional.  If selected, an extra step will be added to the generator for adding Fiori launchpad configuration to the generated application.\n\n### Running the generated app\n\nAfter the application has been successfully generated, open a terminal and browse to the root folder of the generated application. For a V2 template application, there are two methods available to run the application:\n\n- **Running the application with connection to the live OData endpoint**\n\n  Start the application using `npm start`.  This will make the application available on `localhost:8080`, and will connect to the live OData endpoint.  If the OData endpoint requires authentication, the user will be asked to authenticate in the browser.\n\n- **Running the application using mock data (V2 only)**\n\n  Start the application using `npm run start-mock`.  This will make the application available on `localhost:8080`, but will use a mock server to reflect the OData endpoint.  This ensures that developers can use the application without having to connect to a live OData service.\n\n- **Running the application using context menu**\n\n  Under the `src` folder, find the `app.json` file.  Right click and select **Open Preview in Browser** (launches a browser with your application).\n\n\n## Prerequisites\n\nThe generated application requires the following software to be installed:\n\n- [NodeJS](https://nodejs.org/en/download/) Node version must be >=16.14.2\n- [MTA](https://www.npmjs.com/package/mta) MTA Version must be 1.0.4\n- Windows OS requires [windows-build-tools](https://www.npmjs.com/package/windows-build-tools) NPM module installed globally.\n\n## Support\n\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: _SAP Fiori tools_\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.13.0] - 2024-03-13\n### Changed\n- SAP Fiori applications generated as part of a full stack application in SAP Build Code will now always launch the page map after generation.\n- Updated the default minimum UI5 version used when generating an SAP Fiori application in non-interactive mode when no minimum UI5 version is supplied in the input.\n\n### Fixed\n- Fixed an issue where an SAP Fiori application could have a linting error after migrating to support SAP Fiori tools.\n- Fixed an issue where a selected service chosen during generation could incorrectly warn that it is not suitable for UI development.\n- Fixed an issue where the SAP Fiori generator could crash if an invalid OData V4 service url was provided.\n\n## [1.12.5] - 2024-02-28\n### Changed\n- Updated deploy error response that returns an xml document to now show the content of the error for easier reading.\n\n### Fixed\n- Fixed an issue where deployment could fail with an invalid http 415 response.\n- Fixed an issue where users could select the group separator in a dropdown in the application wizard.\n\n## [1.12.4] - 2024-02-14\n### Added\n- Added a validation message when trying to use a service from the SAP Business Accelerator Hub with an SAP Fiori template that does not support the service OData version.\n- Added a message after successful deployment if the deploy URL needs to be updated with an internal host reference.\n\n### Fixed\n- Fixed an issue when migrating an Extensibility project that did not contain a manifest.json file.\n- Fixed an issue where an invalid deployment yaml file was not being correctly detected as being invalid.\n\n## [1.12.3] - 2024-01-31\n### Added\n- Added a warning message when choosing to use a service from the SAP Business Accelerator Hub, as these services were not intented for use with SAP Fiori UI development.\n- Added the abillity to launch the SAP Fiori generator directly from an SAP saved system.  When viewing an SAP saved system, a new link `Create SAP Fiori applicaton` will launch the generator and use the selected SAP saved system.\n\n### Fixed\n- Fixed an issue where an incorrect error message would be returned to the user if there were no transport requests available when adding deployment configuration. \n\n## [1.12.2] - 2024-01-17\n### Added\n- Added a warning message when choosing a service from an ABAP catalog during generation that was not intended for use with SAP Fiori UI development.\n\n### Changed\n- Removed the deprecated freestyle SAPUI5 templates from the SAP Fiori generator.  Customers are encouraged to use the Custom Page template with flexible programming model support or the Basic freestyle SAPUI5 template.  Please note that existing SAP Fiori projects generated with the deprecated templates do not need to be migrated\n\n### Fixed\n- Fixed an issue where the URL displayed after successful ABAP deployment may not detail the correct endpoint URL if the destination references an internal host.  In such a situation, the user will now be warned that they will need to manually replace the host \n\n## [1.12.1] - 2023-12-18\n### Fixed\n- Fixed an issue where invalid CDS files could be created for SAP Fiori applications generated using a CAP data source upon refresh of their development space in SAP Business Application Studio\n\n## [1.12.0] - 2023-11-29\n### Added\n- Users can now add deployment configuration for Cloud Foundry to an existing application in a non-interactive mode from the command line or as a child process.\n\n### Changed\n- Improved test connection functionality in the Saved Systems view in VSCode to more explicitly detail when services could not be retrieved.\n\n### Fixed\n- Fixed issue with the FLP sandbox test file not loading for generated Fiori applications in a CAP project.\n- Fixed `typeRoots` compilation error for generated Fiori applications with TypeScript in a CAP project.\n- Fixed an issue where the latest version of CDS could cause a compliation failure of the CAP project.\n\n## [1.11.5] - 2023-11-15\n### Changed\n- Improved error message and associated help text when connecting to an SAP saved system in VSCode fails.\n\n### Fixed\n- Fixed an issue where the service annotation file was not downloaded during generation if using service url directly in a destination.\n- Fixed an issue where the parent `mta.yaml` file for a cloud foundry application was sometimes not updated when adding deployment configuration for a Fiori application.\n- Fixed an issue where the `deploy-test` command for validating ABAP deployment could sometimes report the deployment as invalid when it was valid.\n- Fixed an issue where undeployment of an ABAP application would fail if the application contained a namespace.\n\n## [1.11.4] - 2023-11-01\n### Added\n- Choosing to automatically add table columns to a list page during generation of an SAP Fiori elements List Report or Worklist application with a CAP data source will now also add basic value helps. \n\n### Changed\n- The ABAP `deploy-test` function has been updated to now also validate that the defined package name and transport request are available in the backend ABAP system.\n- Updated the error message for ABAP deployment when a longtext message is displayed.\n- The console information logged during generation now includes the time taken to generate the application.\n\n### Fixed\n- Fixed an issue where building an MTA archive in SAP Business Application Studio would fail in some cases when it contained an SAP Fiori application.\n- Fixed an issue where deployment configuration could allow input of an invalid Cloud Foundry destination name.\n- Fixed an issue where the manifest id created during generation in the manifest file could be longer than permitted.\n\n## [1.11.3] - 2023-10-18\n### Changed\n- Updated the generator to automatically select the default value in a dropdown list of options if only one option is available, thereby decreasing the number of clicks the user needs to perform\n- The generator should now warn the user if Node.js is not installed before use\n- Updated the manifest for OData V4 services using UI5 version 1.94 or higher to now use the `contextPath` instead of `entitySet`.\n\n### Fixed\n- The FLP configuration wizard no longer writes out the value `{{flpSubtitle}}` in the launchpad if the optional subtitle for FLP is not provided.\n\n## [1.11.2] - 2023-10-04\n### Changed\n- Changed the Basic template generated to also generate Typescript OPA tests when the user chooses to generate their application with Typescript support\n\n### Fixed\n- Fixed an issue with the latest version of VSCode (1.83) not supporting storing and retrieving credentials from secure storage of the operating system for use with SAP saved systems\n- Fixed an issue with CAP projects not using a valid version of the `cds-ui5-plugin` library when choosing to use npm workspaces during generation\n- Fixed an issue where using uppercase characters for the project namespace during generation would lead to invalid applications that could not be previewed\n\n## [1.11.1] - 2023-09-21\n### Changed\n- Removed the experimental warning that was being displayed when choosing TypeScript during generation\n\n### Fixed\n- Fixed an issue where generating an SAP Fiori app as part of the `Full-Stack Application Using Productivity Tools` Dev Space in SAP Business Application Studio could generate an invalid `manifest.json` file\n- Fixed an issue where some local CAP projects were not being correctly detected as valid data sources during generation\n- Fixed an issue with generating an invalid key in the `manifest.json` file if the data source contained forward slashes\n- Fixed an issue where ABAP deployment was incorrectly requesting authentication details when being deployed in a CI/CD environment\n\n## [1.11.0] - 2023-09-07\n### Added\n- Added the ability to generate a SAP Fiori app in VSCode with a self-signed or untrusted root CA\n\n### Fixed\n- Fixed an issue when running SAP Fiori application resulted in an error due to missing `sap.cloud` property in manifest.json\n- Fixed an issue when Reuse Library Reference generator crashes when reference to a library is added to an exisitng library type project\n- Fixed an issue with generator which was launching app info page instead of page map in Low-Code-Base Full-Stack Cloud Application type dev space\n\n## [1.10.6] - 2023-08-24\n### Added\n- Added ability to retain developer personalization settings for local preview on refresh or restart.\n\n### Changed\n- Updated deprecation message for Fiori freestyle templates to indicate when they will be removed.\n- The Fiori module name suggested during generation will now increment if the default suggested name already exists.  For example, the suggested module name will increment from `project1` to `project2` if  the module `project1` already exists.\n- Changed the data source name `SAP API Business Hub` to be `SAP Business Accelerator Hub` to reflect the branding change in SAP Business Application Studio.\n\n### Fixed\n- Fixed an issue where deploying a TypeScript application to an ABAP system would not include the TypeScript source artifacts in the deployed BSP.\n- Adding deployment configuration after generation using the wizard now correctly displays the already answered questions in the side panel.\n- Fixed an issue where the list of transport requests could not be retrieved during deployment configuration if the repository name or package name contained a namespace.\n\n## [1.10.5] - 2023-08-10\n### Added\n- Added option to create Fiori launchpad configuration after generation using a wizard style approach rather than needing to use the command line.  Users can use the command palette option `Fiori: Add Fiori Launchpad Configuration` to launch the wizard.\n- Added Guided Answers link for deployment failures due to an invalid SSL certificate being used.\n\n### Changed\n- Updated error messages to more clearly detail when you cannot use a V2 catalog service with the choosen SAP Fiori template.\n- Updated `cds-ui5-plugin` library version in generated CAP projects to support CDS V7.\n\n### Fixed\n- Fixed an issue with deployment not using credentials supplied with the command line deploy target.\n- Fixed an issue where the deployment configuration wizard would not launch if the application was configured with managed app router support.\n- Fixed an issue with the un-deploy command not using credentials in local `.env` file.\n- Fixed an invalid URL link in the `readme.md` generated for an SAP Fiori application in a CAP project.\n\n## [1.10.4] - 2023-07-27\n### Added\n- Added abililty for users to create an ABAP transport request during deployment.\n- Added option to generate UI annotations during generation if there are none already available for a Java CAP project.\n- Added a new VS Code command `Fiori: Deploy Application` to allow users to deploy their application from the command palette.  \n\n### Fixed\n- Fixed an issue where deployment could fail even when the correct credentials were passed as command line arguments.\n\n## [1.10.3] - 2023-07-13\n### Added\n- Added support for @sap/cds version 7.\n\n### Fixed\n- Fixed issue where failed ABAP deployment would not exit with an error code.\n- Fixed an issue where the list of transport requests provided during deployment configuration could fail if the package name contains a forward slash.\n\n### Changed\n- The Fiori generator now consumes ABAP deployment logic from open source, which is published [here](https://github.com/SAP/open-ux-tools).\n\n## [1.10.2] - 2023-06-29\n### Fixed\n- Fixed an issue where reference to a local Reuse Library was added as an absolute path rather than relative path to an existing Fiori project.\n\n### Changed\n- SAP Fiori projects generated in dev space type `Full-Stack Application Using Productivity Tools` will now have the `minUI5Version` as 1.108.7.\n\n## [1.10.1] - 2023-06-15\n### Added\n- Added option for generating SAP Fiori applications in a CAP project with TypeScript support.\n- Added ability to create new reusable libraries that can be referenced in SAP Fiori applications.  Users can launch this generator from the command palette entry `Fiori: Open Reusable Library Generator`.\n\n## [1.10.0] - 2023-06-01\n### Added\n- Added a warning when choosing to automatically add table columns during generation if the metadata service is larger than 1Mb, as this can significantly increase the time it takes to generate the application.\n\n### Fixed\n- Fixed an issue where the list of local CAP projects available as the data source in the Fiori generator would sometimes show an invalid CAP project.\n\n## [1.9.7] - 2023-05-18\n### Added\n- Added ability for customers to create a sub-generator that allows them to customize some of the project attributes and add their own steps and writing logic to the generated Fiori application.  For more details, please see https://github.com/SAP-samples/fiori-tools-samples/sample-fiori-gen-ext.\n- Added support for migrating extension projects that were generated with WebIDE personal edition.\n\n### Changed\n- Migrating re-use libraries no longer launches the SAP Fiori application information page, as this was invalid for these type of applications.\n\n### Fixed\n- Fixed an issue with linting failures for applications generated with TypeScript support.\n- Fixed an issue with invalid custom controller TypeScript files being generated for the Custom Page template. \n \n## [1.9.6] - 2023-05-03\n### Added\n- Added the description of the transport request alongside the transport request number when configuring your application for ABAP deployment.\n- Added warning message when choosing to generate an application with TypeScript support (requires version 1.11.1 or higher of the Application Wizard).\n\n### Fixed\n- Fixed an issue where applications deployed using a service from the API Business Hub Enterprise would not be found in the BTP cockpit.\n- Fixed an issue where SAP Fiori freestyle projects being generated for CAP applications were being incorrectly identified as SAP Fiori elements projects.\n\n## [1.9.5] - 2023-04-19\n### Changed\n- When selecting a CAP project using the SAP Fiori generator, if multiple CAP projects with the same name exist in the workspace, these projects will be prefixed with their folder path for easier identification.\n- Deployment long text console output that are clickable links will now have a message to say that the link can be clicked for more information.\n\n### Fixed\n- Fixed an issue with generated SAP Fiori projects having eslint errors.\n- Fixed support for the managed application router with SAP Fiori applications generated using the API Business Hub Enterprise on SAP Business Application Studio.\n\n## [1.9.4] - 2023-04-05\n### Added\n- Adding ABAP deployment configuration can now optionally retrieve the list of packages from the backend ABAP system.  Users can still manually provide a package if the list cannot be fetched from the ABAP system.  Note: This feature requires version 1.10.9 or higher of the Application Wizard, lower versions will require the user to manually provide the package name as currently.\n\n### Changed\n- The `locate-reuse-lib.js` file, used to find any custom reuse libraries referenced in the manifest file, has been moved to the `webapp\\test` folder.\n\n### Fixed\n- Fixed identified security vulnerabilities in the generated `locate-reuse-lib.js` file.\n- Fixed issue when adding Cloud Foundry deployment configuration to a generated project where the destination option of `None` was incorrectly displayed.\n\n## [1.9.3] - 2023-03-23\n### Changed\n- The SAP Fiori freestyle templates `SAP Fiori Worklist Application` and `SAP Fiori List-Detail Application` have been deprecated and are now reorganised into a `Deprecated Templates` section when choosing your template type.  The Basic `SAPUI5 Application` template has been renamed to `Basic` and is the first template available within the SAP Fiori templates.\n\n### Fixed\n- Fixed an issue where adding Cloud Foundry deployment configuration in VS Code to an existing SAP Fiori application could incorrectly display the service URL as the deployment target.\n\n## [1.9.2] - 2023-03-09\n### Added\n- Adding deployment configuration for ABAP targets using the `npm run deploy-config` command line option will now allow you to select the package from the backend instead of having to type it manually.\n\n### Changed\n- Changed deployment configuration for extension projects to only support ABAP targets.\n- Updated the version of `@ui5/cli` to version 3.  Generated projects now require Node.js version 16.18 or higher.\n\n### Fixed\n- Fixed issue with local preview for the SAP Fiori freestyle List-Detail application when generating with TypeScript support.\n\n## [1.9.1] - 2023-02-23\n### Added\n- Added answers to the side panel of the Fiori generator so users can easily see the already answered questions.\n- Added Cloud Foundry support for instance based destinations defined locally in the project `mta.yaml` file.\n\n### Changed\n- Filtered services from the catalog request that are not suitable for generating a Fiori application. \n\n### Fixed\n- Fixed an issue with previewing Fiori freestyle applications that were generated using TypeScript.\n- Fixed Fiori generator crash when handling an OData source with invalid metadata.\n\n## [1.9.0] - 2023-02-09\n### Added\n- Added option to generate SAP Fiori freestyle applications with TypeScript support (experimental).\n\n### Changed\n- Updated the Fiori deployment configuration wizard to support editing existing deployment configuration.\n- Improved the error message for CAP project compilation failure using the generator.\n\n### Fixed\n- Fixed an issue where users could generate their SAP Fiori application with a manifest ID greater than the permitted 70 characters.\n \n## [1.8.6] - 2023-01-26\n### Added\n- Added option to generate SAP Fiori elements applications with TypeScript support (experimental).\n\n### Changed\n- Updated ABAP deployment to support displaying debug log messages when either archiving the project for deployment, or from the backend service during deployment.\n- Updated error message if undeployment of an application fails.  The new message mentions that the application may have already been undeployed.\n- Removed the unneeded `annotation.xml` file generated as part of a Fiori application in a CAP project.\n\n### Fixed\n- Fixed an issue with using the deployment configuration generator for projects previously generated with the API Business Enterprise Hub in Business Application Studio.\n\n## [1.8.5] - 2023-01-12\n### Added\n- Added ability to automatically detect local CAP projects in your workspace when choosing CAP as the data source during Fiori generation.\n- Added an option to create deployment configuration for an existing Fiori application using a wizard style approach rather than needing to use the command line.  Users can use the command palette option `Fiori: Add Deployment Configuration` to launch the wizard.\n- Added links to launch SAP Guided Answers for common issues found during generation to help customers troubleshoot issues.\n\n## [1.8.4] - 2022-12-16\n### Fixed\n- Fixed an issue where project path was incorrectly added to telemetry data.\n\n## [1.8.3] - 2022-12-01\n### Added\n- Generator will now show its name and version at the header level of YUI wizard for easy access of information.\n\n### Fixed\n- Fixed an issue where creation of deployment configuration was incorrectly allowed for steampunk system not configured as Extensibility Development system.\n\n## [1.8.2] - 2022-11-17\n### Added\n- Added an option to create a transport request when adding ABAP deployment configuration to an SAP Fiori project.\n\n### Fixed\n- Fixed an issue where adding a saved system was not available when adding deployment configuration during generation.\n- Adding TypeScript support and Javascript Code Assist support in the same project no longer causes the preview to fail.\n- Fixed issue with launch configuration not being created when adding an SAP Fiori project to a workspace with an existing MTA project.\n- Fixed issue where SAPUI5 ABAP Repository name was being reset when the package name was provided during deployment configuration.\n\n## [1.8.1] - 2022-11-03\n### Added\n- Added ability to directly launch SAP Guided Answers and display the relevant guide for some errors that occur during generation.\n\n### Fixed\n- Fixed an issue where adding deployment configuration to an existing SAP Fiori application from the command line would fail in VS Code.\n\n## [1.8.0] - 2022-10-20\n### Added\n- Added an option `Enable TypeScript` under `Advanced Configuration` to create an SAPUI5 application with TypeScript support.\n- Added ability to choose a saved system in VSCode when selecting a deployment target environment.\n\n### Changed\n- Updated the name and description of templates to improve the presentation of respective project types being generated.\n\n### Fixed\n- Fixed an issue where `$tmp` instead of blank is displayed as default deployment package name for SAP BTP ABAP Environment.\n\n## [1.7.6] - 2022-10-06\n### Added\n- Added a check to determine if the OData source provided during generation uses a self-signed certificate and, if so, we display a more meaningful error message.\n\n### Changed\n- Removed the `generateManifestBundle` task from build scripts created with the SAP Fiori generator, since it's no longer needed.\n- Updated SAP Fiori applications generated using the flexible programming model to incorporate the `sap.fe.macros` namespace. \n\n## [1.7.5] - 2022-09-22\n### Added\n- Added an option to create an SAP Fiori elements application based on the flexible programming model approach.\n- Added support for generating and deploying SAP Fiori applications from the API Business Hub Enterprise in SAP Business Application Studio.\n\n### Changed\n- Updated the local preview of an application to use latest released SAPUI5 version if the choosen version in the project is not available on NPM.\n\n### Fixed\n- Fixed an issue that potentially resulted in the migration tool getting stuck during the migration of SAP Fiori projects.\n- Fixed issue causing the SAP Fiori generator to crash when choosing the Form Entry Object Page floorplan with a data source from a project-specific destination in SAP Business Application Studio.\n\n## [1.7.4] - 2022-09-08\n### Added\n- Added option to choose your transport request during ABAP deployment configuration from a list of available requests when applicable.\n\n### Fixed\n- Fixed issue with ABAP deployment where the deployment description could not include special characters.\n\n### Changed\n- Updated floorplan icons in SAP Fiori generator to reflect latest Horizon theme.\n\n## [1.7.3] - 2022-08-25\n### Fixed\n- Fixed an issue where some CAP Java projects were not being correctly identified as Java projects in the Fiori generator.\n\n## [1.7.1] - 2022-08-10\n### Added\n- Added links to Guided Answers for easier troubleshooting of deployment issues arising due to unavailability of SAPUI5 ABAP Repository service.\n\n### Fixed\n- Fixed an issue where Form Entry Object Page (FEOP) could not be selected from a V4 service in the SAP Business Application Studio Service Centre.\n\n## [1.7.0] - 2022-07-27\n### Added\n- Added two new SAPUI5 themes - `Morning Horizon` and `Evening Horizon` with `Morning Horizon` as a default theme if Minimum SAPUI5 version selected is 1.102 and above.\n- Added links to Guided Answers for easier troubleshooting of generator issues arising due to misconfiguration of SAP BTP destinations.\n\n### Fixed\n- Fixed issue where generator crashed without internet connection.\n- Fixed issue where invalid input was allowed for SAPUI5 ABAP Repository field during deployment config generation.\n\n## [1.6.7] - 2022-07-21\n### Changed\n- Generating an SAP Fiori application with Cloud Foundry deployment configuration into a NodeJS or JAVA CAP project will now add Cloud Foundry build and deploy commands to the root `package.json` if not already present.\n\n## [1.6.6] - 2022-07-07\n### Added\n- Added ability to import and export saved ABAP On-premise SAP Systems when using VSCode. Credential information is not exported and users therefore need to re-authenticate when importing.\n\n### Fixed\n- Fixed issue where saving an SAP System in VSCode would crash if the system name was not provided.\n- Fixed issue with back navigation when adding deployment configuration in SAP Business Application Studio.\n \n## [1.6.4] - 2022-06-23\n### Added\n- Added a check when using a destination in SAP Business Application Studio with the Fiori generator to ensure that the destination catalog service(s) can be found.\n\n#### Changed\n- Changed deployment configuration with clear text and hints whilst enforcing transport request validation where applicable.\n\n### Fixed\n- Fixed issue where an invalid saved SAP System in Windows was not displaying the correct error message.\n- Fixed ABAP deployment issue where user could be asked to re-authenticate against backend even if they had already authenticated successfully.\n\n## [1.6.3] - 2022-06-09\n### Added\n- The list of minimum SAPUI5 versions available during project generation are now grouped into `maintained versions` and `out of maintenance versions` for easy reference.\n- Added a check when deploying to an existing SAPUI5 ABAP repository with a new SAP App ID.  Previously the deployment would overwrite the existing one, now the user is asked to confirm the overwrite.\n\n### Fixed\n- Fixed an issue where the CDS watch script for an SAP Fiori application in a Node.js CAP project was not getting created.\n- Fixed an issue where the previews are failing for a Fiori Freestyle application when created with Data Source as `None`.\n- Fixed an issue where the reuse library referenced in an existing project was not being loaded from the local workspace.\n\n## [1.6.1] - 2022-05-26\n### Added\n- Added unique non-identifable `toolsId` identifer to the manifest.json file for generated projects to support telemetry.\n\n#### Changed\n- Updated validation of Node.js CAP data sources to detail if the compilation of the services failed.\n- Improved the error message when an OData service URL provided does not reference an OData service.\n\n### Fixed\n- Fixed issue when using API Business Hub in SAP Business Application Studio with local preview.\n- Fixed issue where the Generator would not follow http redirects for an OData service URL.\n\n## [1.6.0] - 2022-05-12\n### Added\n- Added support for the SAP Fiori elements Overview Page floorplan with an OData V4 data source.\n- Added Ability to generate Cloud Foundry deployment configuration for an existing SAP Fiori project in a non-interactive mode.\n\n#### Changed\n- Updated the launch targets generated for a SAP Fiori application in VSCode to remove those allowing you to specify an SAPUI5 version at runtime.  Please use the Fiori Run Configurations tool to change the version of SAPUI5 needed.\n \n### Fixed\n- Fixed issue where adding an SAP Fiori application to a JAVA Cap Project may fail to start if the relevant plugins and configuration were not already present in the project. These updates are now added as part of generation if needed.\n- Fixed the Form Entry Object Page floorplan to only accept OData V4 services.\n\n## [1.5.5] - 2022-04-28\n### Added\n- Added support for the SAP Fiori elements Worklist floorplan with an OData V4 data source.\n\n#### Changed\n- Adding a new system during generation will now display the username of the user after authentication to the system.\n- The deployment name is no longer automatically populated from the module name when adding deployment configuration.\n\n### Fixed\n- Fixed CAP services retrieval to support services defined in nested folders in CAP projects.\n\n## [1.5.4] - 2022-04-14\n### Added\n- Added support for instance based destinations in deployment configuration for local Node.js CAP projects in SAP Business Application Studio.\n\n#### Changed\n- Fiori generator for application type `SAP Fiori elements` now consumes the open source SAP Fiori elements templates published [here](https://github.com/SAP/open-ux-tools).\n\n### Fixed\n- Fixed bug where VSCode launch configuration would not start the project correctly in certain situations.\n- Fixed issue where the Fiori generator would allow the user to continue if the mandatory navigation entity was not selected.\n\n## [1.5.3] - 2022-03-31\n### Added\n- Added support for creating new saved SAP systems in VSCode.  Users can click on the '+' icon and select to create an ABAP on Premise or ABAP Environment on SAP Business Technology Platform saved system.  Users must test the connection to validate it connects before saving.\n\n#### Changed\n- Determining if telemetry data is to be captured during generation is now determined from the global SAP Fiori tools setting in the command palette: `Fiori: Change Telemetry Settings`.\n\n### Fixed\n- Fixed bug where message longtexts were not displayed in the console for ABAP deployment errors.  These can be copied and pasted into the browser for more details.\n- Fixed bug where the SAP Fiori generator could crash if the project folder location was read-only.\n- Fixed error where SAP Fiori freestyle projects with an uploaded metadata file were not being validated correctly.\n\n## [1.5.2] - 2022-03-17\n### Fixed\n- Fixed invalid xs-security.json file location when using generator in non-interactive mode for CAP projects.\n- Fixed launch configurations in VSCode when the Fiori project is generated inside an MTA subfolder.\n- Fixed bug where App Router configuration needed to be added to an MTA.yaml file before Fiori deployment configuration.\n- Fixed issue with deployment errors containing longtext messages that did not have the associated URL clickable.\n\n## [1.5.1] - 2022-03-03\n#### Added\n- Added warning during deployment if deploying to an ABAP system that uses a lower version of SAPUI5 than that specified as the minimum SAPUI5 version in the SAP Fiori project being deployed.\n\n#### Changed\n- Added entity selection details to the `README.md` file for a generated SAP Fiori application.\n\n### Fixed\n- Fixed issue with generated applications not working with SAPUI5 versions greater than or equal to 1.100.0\n- The `start-variants-management` script will not be available if the SAP Fiori project was generated by uploading a metadata document rather than using a live service.\n\n## [1.5.0] - 2022-02-17\n#### Added\n- Added support for editing saved SAP systems in VSCode by selecting the saved system from the SAP Systems list and updating as needed.  Users must test the connection to validate it connects before saving.\n- Added support for matching the suggested minimum SAPUI5 version with the backend ABAP system, where applicable.  The SAPUI5 version dropdown will now default to the same version of SAPUI5 if the data source provided is an ABAP backend and the SAPUI5 version can be determined. \n\n#### Changed\n- Removed the `Latest` label from the list of minimum SAPUI5 versions.  The version of SAPUI5 choosen during generation will now be a fixed version from that selected.\n- Generated applications with a OData V2 data source now use an external mockserver for mock support, rather than the SAPUI5 client side mock.\n\n### Fixed\n- The generated `README.md` file now correctly details if the application was generated with the Fiori elements or Fiori freestlye generator.\n\n## [1.4.7] - 2022-02-03\n#### Changed\n- Updated the `Analytical List Page` floorplan, when used with an V4 OData service, to now only support version 1.90 and above of SAPUI5.  This enables the generated project to adhere to the latest recommended configuration.\n- Updated the local preview `npm` targets to not use the browser cache to ensure the latest updates are being reflected in the browser.\n- Removed unneeded i18n references from the generated manifest file.\n\n### Fixed\n- Fixed an issue where the Fiori generator would crash if attempting to connect to an on-premise system using SAML in VSCode.\n\n## [1.4.6] - 2022-01-20\n#### Added\n- Generating an SAP Fiori freestyle application will launch the `Application Info` page for that application after generation completes. \n\n#### Changed\n- The SAP Fiori freestyle template `SAP Fiori Master-Detail Application` has been renamed `SAP Fiori List-Detail Application`.\n\n### Fixed\n- Starting your SAP Fiori application from the launch/debug configuration with a specified version of UI5 will now use that specific version of UI5.\n- Fixed linting errors displayed after application is deployed.\n- SAP Fiori freestyle applications generated with a CAP project no longer identify as SAP Fiori elements applications within the SAP Fiori tools suite.\n\n## [1.4.4] - 2021-12-09\n#### Added\n- Added support for the experimental SAP Horizon theme, as long as a supported version of UI5 is selected during generation.\n\n#### Changed\n- Choosing the UI5 version for your application is no longer under `Advanced Options` and is now directly on the `Project Attributes` step for better visibility.\n\n### Fixed\n- Selecting a Fiori freestyle SAPUI5 template with no datasource no longer crashes the generator.\n- Performing a test deployment no longer reports the result as an error unless the test deployment fails.\n\n## [1.4.3] - 2021-11-25\n#### Added\n- A new SAP Fiori elements floor plan is now available.  The `Form Entry Object Page` floor plan for V4 OData sources allows you to create an SAP Fiori application with an object page for data entry.\n- The `List Report Object Page` floor plan and the new `Form Entry Object Page` floor plan can now optionally generate UI annotations during generation if there are none already available in the supplied data source.  **Note:** This is an experimental feature and can be switched off by disabling the `Sap › Ux › Application Modeler: Enable Experimental Features` option in the settings.\n\n#### Changed\n- Generated applications now use the Fiori CLI in the generated launch configuration to start the application.\n\n### Fixed\n- Fixed crash in the `CF Application Router` generator if an MTA ID with invalid characters is provided.\n- Using the SAP Fiori generator from the command line in Business Application Studio now supports data sources using the API Business Hub.\n- Generating a SAP Fiori freestyle application into a CAP project with an `mta.yaml` file should now launch successfully.\n- Using a Java CAP project with the SAP Fiori generator no longer requires a `package.json` file in the root folder.\n\n## [1.4.1] - 2021-11-11\n#### Added\n- Generating an Analytical List Page application with an OData V4 data source will now default to a table type of `AnalyticalTable`, and the user will no longer be asked to choose a table type.  The user can change this table type after generation using the Page Editor tool.\n\n#### Changed\n- Fiori generator for application type `SAPUI5 freestyle` now consumes the open source Freestyle templates published [here](https://github.com/SAP/open-ux-tools).\n\n### Fixed\n- Saved SAP systems should not ask the user to re-authenticate when being used with the Fiori generator in VSCode, unless needed.\n\n## [1.4.0] - 2021-10-28\n#### Added\n- UUA Authentication is now supported during deployment without launching a browser, as long as the relevant authentication parameters are supplied. See the SAP Fiori tools help portal for full details.\n\n### Fixed\n- Generating an application into a CAP project no longer adds unnecessary npm dependencies.\n- Destinations in SAP Business Application Studio are now filtered to show only those that can be used in the generator.\n\n## [1.3.7] - 2021-10-14\n#### Added\n- A new npm script for ABAP deployment configuration has been added, `deploy-test`.  Using this target will allow you to validate your deployment configuration without actually deploying.\n\n## [1.3.6] - 2021-10-07\n### Fixed\n- OData services that require a querystring parameter in the URL are now supported.\n\n## [1.3.5] - 2021-09-30\n#### Added\n- The Fiori command line tools now has help context information available.  Typing `npx fiori help` will give the user a list of commands that the Fiori command line tools support.  Help text for individual Fiori commands can also be displayed, e.g. `npx fiori add help`.\n\n### Fixed\n- Adding deployment configuration to a Fiori application with an existng MTA project should now successfully update the `mta.yaml` and `package.json` files in the parent folder.\n- Fixed standalone deployment configuration for Cloud Foundry destinations.\n- The Fiori generator no longer crashes if the Cloud Foundry account does not match that configured in SAP Business Application Studio.\n\n## [1.3.3] - 2021-09-16\n#### Added\n- The generator now supports optionally adding eslint validation to the generated project.  Choosing this option from the advanced options of the generator will add the eslint libraries and a new target `npm run lint` to perform the validation.\n- ABAP deployment now allows the user to provide a project ZIP file from either the local filesystem or from a remote URL.\n- Successful deployment to Cloud Foundry will provide instructions on how to retreive the URL of the deployed application.\n- Using the `CF Application Router Generator` for generating a multi-targeted application no longer asks for the version of the MTA, but will default to `0.0.1` in the generated `mta.yaml` file.\n\n### Fixed\n- Better handling for destinations with SAML authentication.\n- Deployment logic updated to ensure only files in the `dist` folder are uploaded.\n- Better support for long MTA identifier names during Cloud Foundry deployment.\n- Improved support for project folders with spaces with the generator.\n\n## [1.3.2] - 2021-09-02\n#### Added\n- Added ability to optionally include UI5 code assistance libraries to the generated application by choosing it in the advanced options of the generator.\n- Using a Saved System in VSCode will now ask the user to re-authenticate if the saved credentials are no longer valid.\n\n### Fixed\n- Fixed an issue which caused the Fiori generator to crash when connecting to a Cloud Foundry service if the SAP Business Application Studio subaccount is not the same as the Cloud Foundry organisation.\n\n## [1.3.1] - 2021-08-19\n#### Added\n- Added support for generating Fiori applications using the SAP API Business Hub from the Service Center in Business Application Studio.\n- Non identifiable and optional telemetry data has been added for deployment.\n\n### Fixed\n- The `minUI5Version` version in the generated `manifest.json` file now details the UI5 version used during generation.\n- Improved support for detecting Reuse libraries in the local workspace.\n\n## [1.3.0] - 2021-07-28\n### Fixed\n- Fixed an issue which caused the Fiori generator to crash due to presence of multiple schemas in the metadata file\n- Fixed an issue where generated project was missing undeploy script when deploy config was created for Cloud Foundry environment\n- Fixed an issue where the cloned reuse library with missing description in i18 file was not being listed for being added as a reference\n\n\n## [1.2.5] - 2021-07-22\n#### Added\n- Added support for Cloud Foundry deployment configuration during non-interactive generation.\n\n### Fixed\n- Better support for determining if pre-requisite `mta` library is installed before attempting to add Cloud Foundry deployment configuration.\n- Removed erroneous telemetry error messages when using the generator from the command line.\n- Fixed the deployment name character restrictions for ABAP deployment. \n\n## [1.2.4] - 2021-07-08\n#### Added\n- Destinations configured with a service URL endpoint, or a hostname, can now be used with the Fiori generator in Business Application Studio.\n- Reuse components and libraries in the local workspace can now be added to your project.  Use the command palette entry `Fiori: Add Reference to SAP Fiori Reusable Libraries` to invoke this functionality.\n\n### Fixed\n- In Business Application Studio, the Cloud Foundry Destination dropdown in the Deployment Configuration step of the Generator should now successfully return all available destinations.\n\n## [1.2.3] - 2021-06-24\n#### Added\n- Deploying to a system that requires authentication will now prompt for a username and password if a local `.env` file with the credentials is not present.\n- Installing the generator in a custom location is now supported.\n\n### Fixed\n- Freestyle applications generated for a CAP project will no longer contain invalid test artefacts.\n- The `start-local` npm target now works with the SAP Belize theme.\n- Deleting a saved SAP system from VSCode now also deletes the authentication token from the secure storage.\n- Deployed Fiori elements applications now correctly display the application title.\n\n## [1.2.1] - 2021-06-10\n#### Added\n- Added support for the Service Center in Business Application Studio.  Services selected in the Service Center can now be used with the Fiori generator and the user will not be asked to provide a data source during generation, the selected service from the Service Center will be used instead.\n- Added support for Destinations in Business Application Studio that have been configured with a service endpoint URL rather than a catalog service.\n\n### Fixed\n- Requesting authentication for a saved system in VSCode no longer launches multiple browsers to authenticate. Only one browser should now open.\n- Browser title for deployed applications now correctly displays the application title.\n- Upgraded UI5 libraries to resolve security vulnerabilities.\n\n## [1.2.0] - 2021-05-28\n### Fixed\n- The Fiori generator will be automatically installed if it is invoked from the command palette in VSCode and not already installed.\n- Projects migrated from WebIDE to Business Application Studio can now be deployed.\n- Migrated projects now include an OPA test script where applicable.\n\n## [1.1.11] - 2021-05-14\n#### Added\n- Added support to include undeployment script (check `undeploy` script in package.json) when deployment configuration is generated for ABAP systems.\n\n#### Fixed\n- To ensure consistency, all generated V2, V4 or CAP applications will now have a header bar and preview will launch the application in a browser directly without showing Fiori launchpad first\n\n## [1.1.10] - 2021-04-29\n#### Added\n- Improved the destination catalog service request to ensure the list of services returned is filtered to those suitable for Fiori applications.  Note: the catalog service needs to also be updated to accommodate this change, if not, the existing list is returned.\n\n#### Fixed\n- The Fiori migration wizard on Business Application Studio no longer asks for the client field.\n\n## [1.1.9] - 2021-04-15\n#### Added\n- Fiori elements applications generated with the following floor plans now have simple OPA automated tests generated with the project:\n\t- List Report Object Page (with either a V2 or V4 OData service)\n\t- Analytical List Page (with an V4 OData service)\n- Added Ability to generate a Fiori freestyle application from the command line in a non-interactive mode.\n- Floor plan icons in the generator have been updated.\n- The deployment configuration questions have been reduced where system information can already be determined.\n- The generator now requires [MTA](https://www.npmjs.com/package/mta) Node.js package (version 1.0 or higher) to be installed globally.  Please ensure you have updated by executing `npm install -g mta`.\n\n#### Fixed\n- Navigating back and forwards within the wizard should not lose previously completed steps.\n- The generator will no longer suggest the first folder in a workspace to generate the application into.\n- Better handling of long module names for deployment\n- The generator README.MD file now correctly details the floor plan used.\n\n## [1.1.7] - 2021-04-01\n#### Added\n- Uploading a metadata document for V4 OData services is now supported.\n- Better error messaging when the destination in Business Application Studio is not available.\n\n#### Fixed\n- The freestyle floor plans now correctly generate for a CAP project.\n- Going back from deployment to the project attributes step in the wizard now retains the data between steps.\n- Adding launchpad config on the command line can now overwrite existing configuration if desired.\n\n## [1.1.6] - 2021-03-26\n#### Fixed\n- Adding Cloud Foundry deployment configuration in Business Application Studio during generation no longer results in an error.\n\n## [1.1.5] - 2021-03-18\n#### Added\n- Freestyle SAPUI5 floor plan now supports OData V4 services.\n- The analytical list page floor plan with OData V4 service now supports navigation entities.\n- Adding deployment configuration for Cloud Foundry now supports the managed application router.\n- Using the `CF Application Router Generator` for generating a multi-targeted application now supports the managed application router.\n\n#### Fixed\n- Applications deployed to the managed application router cannot resolve the ui5 destination.\n- In some cases, validation messages for invalid OData service URLs were not being displayed.\n\n## [1.1.4] - 2021-03-04\n#### Added\n- Added support for the central Fiori Launchpad for managed app router configurations.\n- Generated projects no longer contain a `.npmrc` file and use the global settings.\n- Project generation time has been improved.\n\n#### Fixed\n- The Fiori generator no longer has a conflict with the SAP Mobile Development Kit VSCode extension.\n- Fixed invalid 401 error for OData service URL endpoints.\n- Project folder is no longer created before generation starts.\n- Deployment to Cloud Foundry now supports Org name with spaces.\n- Updating an existing MTA file with deployment configuration on Windows is now supported.\n\n## [1.1.2] - 2021-02-19\n#### Added\n- Support for adding project deployment configuration to an existing managed app router.\n- Project paths in generated launch configuration are now relative.\n- Migrating an existing application now prompts for system client.\n- In SAP Business Application Studio, the destination name for MTA deployment configuration is now a dropdown of available destinations rather than a free text field.\n- For ABAP deployment configuration, the user can now optionally provide a deployment description.\n\n#### Fixed\n- Standalone deployment to Cloud Foundry no longer returns an error.\n\n## [1.1.0] - 2021-02-05\n#### Added\n- Initial Version\n- Consolidated the existing `Fiori elements` and `Fiori freestyle` generators into one. The first step of the combined generator will ask you to choose which type of application you would like to generate.\n- Added support for deployment configuration as part of generation. Users can now choose to add either Cloud Foundry or ABAP deployment configuration using the generator if they wish.\n- Added support for Fiori launch pad (FLP) configuration as part of generation.  \n- Added a new `Cloud Foundry Application Router Generator` that allows the user to generate generic Cloud Foundry configuration which can then be used with subsequent Fiori projects.\n- Added support for custom paths for folder locations in CDS projects.\n- The authenticated username is now displayed alongside the saved system name when using VSCode.\n","downloadsCurrentMonth":18273,"downloadsCurrentFortnight":7416,"downloads365":3423073,"downloadsFortnightGrowth":-27.72,"downloadsHistory":[{"yearMonth":"2023-04","downloads":313985},{"yearMonth":"2023-05","downloads":364845},{"yearMonth":"2023-06","downloads":385313},{"yearMonth":"2023-07","downloads":363571},{"yearMonth":"2023-08","downloads":343457},{"yearMonth":"2023-09","downloads":327843},{"yearMonth":"2023-10","downloads":324011},{"yearMonth":"2023-11","downloads":313298},{"yearMonth":"2023-12","downloads":302500},{"yearMonth":"2024-01","downloads":252963},{"yearMonth":"2024-02","downloads":22701}],"versions":[{"version":"created","date":"2021-02-05T01:32:57.415Z"},{"version":"1.1.0","date":"2021-02-05T01:32:58.186Z"},{"version":"modified","date":"2024-03-15T20:34:20.223Z"},{"version":"1.1.1","date":"2021-02-11T19:22:06.595Z"},{"version":"1.1.2","date":"2021-02-19T17:42:48.000Z"},{"version":"1.1.3","date":"2021-02-23T19:39:03.558Z"},{"version":"1.1.4","date":"2021-03-04T18:18:01.433Z"},{"version":"1.1.5","date":"2021-03-18T18:28:16.202Z"},{"version":"1.1.6","date":"2021-03-24T23:53:46.287Z"},{"version":"1.1.7","date":"2021-04-01T16:42:30.817Z"},{"version":"1.1.9","date":"2021-04-20T15:34:20.907Z"},{"version":"1.1.10","date":"2021-04-29T17:26:33.892Z"},{"version":"1.1.11","date":"2021-05-20T16:08:40.294Z"},{"version":"1.2.0","date":"2021-05-27T18:14:40.323Z"},{"version":"1.2.1","date":"2021-06-10T19:38:07.789Z"},{"version":"1.2.3","date":"2021-06-25T16:28:04.215Z"},{"version":"1.2.4","date":"2021-07-09T16:43:49.884Z"},{"version":"1.2.5","date":"2021-07-22T21:48:20.403Z"},{"version":"1.3.0","date":"2021-08-05T22:13:06.713Z"},{"version":"1.3.1","date":"2021-08-20T07:56:52.426Z"},{"version":"1.3.2","date":"2021-09-02T16:47:29.629Z"},{"version":"1.3.3","date":"2021-09-16T16:17:23.525Z"},{"version":"1.3.4","date":"2021-09-21T05:39:08.038Z"},{"version":"1.3.5","date":"2021-09-30T19:32:04.325Z"},{"version":"1.3.6","date":"2021-10-07T21:10:34.473Z"},{"version":"1.3.7","date":"2021-10-14T17:28:41.235Z"},{"version":"1.4.0","date":"2021-10-28T16:38:37.503Z"},{"version":"1.4.1","date":"2021-11-12T11:58:08.029Z"},{"version":"1.4.3","date":"2021-11-25T11:41:22.906Z"},{"version":"1.4.4","date":"2021-12-09T12:37:16.033Z"},{"version":"1.4.5","date":"2021-12-16T19:12:21.144Z"},{"version":"1.4.6","date":"2022-01-20T17:59:27.376Z"},{"version":"1.4.7","date":"2022-02-04T15:37:23.221Z"},{"version":"1.5.0","date":"2022-02-17T10:32:20.127Z"},{"version":"1.5.1","date":"2022-03-04T10:10:05.314Z"},{"version":"1.5.2","date":"2022-03-17T20:29:13.336Z"},{"version":"1.5.3","date":"2022-04-01T11:22:42.728Z"},{"version":"1.5.4","date":"2022-04-14T13:39:37.463Z"},{"version":"1.5.5","date":"2022-04-28T16:49:24.706Z"},{"version":"1.6.0","date":"2022-05-11T18:21:52.891Z"},{"version":"1.6.1","date":"2022-05-25T20:22:10.233Z"},{"version":"1.6.3","date":"2022-06-08T21:14:53.484Z"},{"version":"1.6.4","date":"2022-06-24T16:06:31.570Z"},{"version":"1.6.6","date":"2022-07-08T21:59:23.460Z"},{"version":"1.6.7","date":"2022-07-22T11:07:09.329Z"},{"version":"1.7.0","date":"2022-08-09T12:08:03.306Z"},{"version":"1.7.1","date":"2022-08-18T16:46:27.170Z"},{"version":"1.7.3","date":"2022-09-02T17:16:09.848Z"},{"version":"1.7.4","date":"2022-09-15T17:41:43.316Z"},{"version":"1.7.5","date":"2022-09-30T11:43:04.309Z"},{"version":"1.7.6","date":"2022-10-17T17:25:11.501Z"},{"version":"1.8.0","date":"2022-10-31T17:42:54.662Z"},{"version":"1.8.1","date":"2022-11-10T18:02:35.742Z"},{"version":"1.8.2","date":"2022-11-24T12:58:49.721Z"},{"version":"1.8.3","date":"2022-12-08T19:05:07.678Z"},{"version":"1.8.4","date":"2022-12-16T21:56:36.335Z"},{"version":"1.8.5","date":"2023-01-20T18:18:40.205Z"},{"version":"1.8.6","date":"2023-02-02T16:53:14.404Z"},{"version":"1.9.0","date":"2023-02-16T12:23:46.119Z"},{"version":"1.9.1","date":"2023-03-03T10:09:58.971Z"},{"version":"1.9.2","date":"2023-03-16T12:42:58.323Z"},{"version":"1.9.3","date":"2023-04-02T21:03:37.762Z"},{"version":"1.9.4","date":"2023-04-17T10:20:23.136Z"},{"version":"1.9.5","date":"2023-05-03T10:58:22.180Z"},{"version":"1.9.6","date":"2023-05-11T10:34:38.831Z"},{"version":"1.9.7","date":"2023-05-25T16:04:58.239Z"},{"version":"1.10.0","date":"2023-06-08T16:13:18.940Z"},{"version":"1.10.1","date":"2023-06-28T08:06:10.048Z"},{"version":"1.10.2","date":"2023-07-11T10:47:15.031Z"},{"version":"1.10.3","date":"2023-07-21T12:00:38.834Z"},{"version":"1.10.4","date":"2023-08-03T15:48:45.634Z"},{"version":"1.10.5","date":"2023-08-17T15:15:11.596Z"},{"version":"1.10.6","date":"2023-08-31T19:54:07.438Z"},{"version":"1.11.0","date":"2023-09-15T09:27:48.331Z"},{"version":"1.11.1","date":"2023-09-29T08:25:34.863Z"},{"version":"1.11.2","date":"2023-10-12T15:25:04.593Z"},{"version":"1.11.3","date":"2023-10-26T15:12:18.721Z"},{"version":"1.11.4","date":"2023-11-09T17:21:20.051Z"},{"version":"1.11.5","date":"2023-11-24T08:15:38.698Z"},{"version":"1.12.0","date":"2023-12-13T11:00:04.510Z"},{"version":"1.12.1","date":"2023-12-20T11:30:33.173Z"},{"version":"1.12.2","date":"2024-01-19T14:31:31.063Z"},{"version":"1.12.3","date":"2024-02-02T09:19:26.930Z"},{"version":"1.12.4","date":"2024-02-15T16:15:43.604Z"},{"version":"1.12.5","date":"2024-03-01T16:17:53.746Z"},{"version":"1.13.0","date":"2024-03-15T20:34:19.791Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-fiori"},{"name":"generator-hdb-project","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-16T16:39:33.633Z","updatedAt":"2024-03-06T10:30:13.242Z","changelog":"## 1.11.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.11.0\n\n## 1.10.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.10.0\n\n## 1.9.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.9.0\n\n## 1.8.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.8.0\n\n## 1.7.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.7.0\n\n## 1.6.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.6.0\n\n## 1.5.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.5.0\n\n## 1.4.0\n\n### Fixes\n- Allow periods ('.') in project names\n- Update @sap/generator-add-hdb-module to version 1.4.0\n\n## 1.3.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.3.0\n\n## 1.2.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.2.0\n\n## 1.1.0\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.1.0\n\n## 1.0.1\n\n### Fixes\n- Update @sap/generator-add-hdb-module to version 1.0.1\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":22713,"downloadsCurrentFortnight":20405,"downloads365":895303,"downloadsFortnightGrowth":848.19,"downloadsHistory":[{"yearMonth":"2023-04","downloads":76778},{"yearMonth":"2023-05","downloads":85637},{"yearMonth":"2023-06","downloads":86344},{"yearMonth":"2023-07","downloads":86181},{"yearMonth":"2023-08","downloads":90553},{"yearMonth":"2023-09","downloads":90057},{"yearMonth":"2023-10","downloads":94420},{"yearMonth":"2023-11","downloads":87052},{"yearMonth":"2023-12","downloads":80015},{"yearMonth":"2024-01","downloads":69705},{"yearMonth":"2024-02","downloads":4252}],"versions":[{"version":"created","date":"2020-12-16T16:39:33.633Z"},{"version":"1.0.0","date":"2020-12-16T16:39:34.061Z"},{"version":"modified","date":"2024-03-06T10:30:13.242Z"},{"version":"1.0.1","date":"2021-03-08T22:13:36.044Z"},{"version":"1.1.0","date":"2021-04-15T09:51:07.853Z"},{"version":"1.2.0","date":"2021-06-11T13:47:56.268Z"},{"version":"1.3.0","date":"2021-07-28T21:29:11.560Z"},{"version":"1.4.0","date":"2022-04-04T14:08:05.508Z"},{"version":"1.5.0","date":"2022-09-25T19:38:38.396Z"},{"version":"1.5.1","date":"2022-09-29T15:02:08.289Z"},{"version":"1.5.2","date":"2022-10-14T09:35:09.856Z"},{"version":"1.6.0","date":"2023-01-17T14:42:16.308Z"},{"version":"1.7.0","date":"2023-04-17T15:12:10.513Z"},{"version":"1.7.1","date":"2023-04-18T12:00:26.702Z"},{"version":"1.8.0","date":"2023-05-31T15:38:42.997Z"},{"version":"1.9.0","date":"2023-08-14T13:11:55.947Z"},{"version":"1.10.0","date":"2023-11-13T10:51:12.670Z"},{"version":"1.10.1","date":"2023-12-16T20:57:33.893Z"},{"version":"1.11.0","date":"2024-03-06T10:30:12.788Z"}],"npmlink":"https://www.npmjs.com/package/@sap/generator-hdb-project"},{"name":"hana-client","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN developer-license-3_1.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-01-05T15:14:15.084Z","updatedAt":"2024-03-19T17:13:44.028Z","readme":"# @sap/hana-client\n\nFully-featured Node.js driver for [SAP HANA](https://www.sap.com/products/hana.html). It is used to connect, issue SQL queries, and obtain result sets.\n\n## Install\n\n```bash\nnpm install @sap/hana-client\n```\n\n## Prerequisites\n\nThis driver communicates with the native HANA libraries, and thus requires\nplatform-specific native binaries. The official hosted version includes\nprecompiled libraries for Linux, Windows and Mac OS X.\n\nThe @sap/hana-client driver supports versions of Node.js 10 and higher.\n\n## Community\n\nSAP Community provides a forum where you can ask and answer questions, and\ncomment and vote on the questions of others and their answers.\n\nSee [SAP HANA Community Questions](https://answers.sap.com/tags/73554900100700000996) for details.\n\n## Help Guide\n\nThe SAP HANA Node.js Driver help guide and API reference can be found on [help.sap.com](https://help.sap.com/viewer/f1b440ded6144a54ada97ff95dac7adf/latest/en-US/a5c332936d9f47d8b820a4ecc427352c.html).\n\n## Getting Started\n\n```js\nvar hana = require('@sap/hana-client');\n\nvar conn = hana.createConnection();\n\nvar conn_params = {\n  serverNode  : 'myserver:30015',\n  uid         : 'system',\n  pwd         : 'Password123'\n};\n\nconn.connect(conn_params, function(err) {\n  if (err) throw err;\n  conn.exec('SELECT Name, Description FROM Products WHERE id = ?', [301], function (err, result) {\n    if (err) throw err;\n\n    console.log('Name: ', result[0].Name, ', Description: ', result[0].Description);\n    // output --> Name: Tee Shirt, Description: V-neck\n    conn.disconnect();\n  })\n});\n```\n\n## Establish a database connection\n\n### Connecting\n\nA database connection object is created by calling `createConnection`.  The\nconnection is established by calling the connection object's `connect` method,\nand passing in an object representing connection parameters.\n\n#### Example: Connecting over TCP/IP\n\n```js\nconn.connect({\n  host    : 'myserver',\n  port    : '30015',\n  uid     : 'system',\n  pwd     : 'Password123'\n});\n```\n\n### Disconnecting\n\n```js\nconn.disconnect(function(err) {\n  if (err) throw err;\n  console.log('Disconnected');\n});\n```\n\n## Direct Statement Execution\n\nDirect statement execution is the simplest way to execute SQL statements. The\ninputs are the SQL command to be executed, and an optional array of positional\narguments. The result is returned using callbacks. The type of returned result\ndepends on the kind of statement.\n\n### DDL Statement\n\nIn the case of a successful DDL Statement, nothing is returned.\n\n```js\nconn.exec('CREATE TABLE Test (id INTEGER PRIMARY KEY, msg VARCHAR(128))', function (err, result) {\n  if (err) throw err;\n  console.log('Table Test created!');\n});\n```\n\n### DML Statement\n\nIn the case of a DML Statement the number of `affectedRows` is returned.\n\n```js\nconn.exec(\"INSERT INTO Test VALUES(1, 'Hello')\", function (err, affectedRows) {\n  if (err) throw err;\n  console.log('Number of affected rows:', affectedRows);\n});\n```\n\n### Query\n\nThe `exec` function is a convenient way to completely retrieve the result of a\nquery. In this case all selected rows are fetched and returned in the callback.\n\n```js\nconn.exec(\"SELECT * FROM Test WHERE id < 5\", function (err, rows) {\n  if (err) throw err;\n  console.log('Rows:', rows);\n});\n```\n\nValues in the query can be substitued with JavaScript variables by using `?`\nplaceholders in the query, and passing an array of positional arguments.\n\n```js\nconn.exec(\"SELECT * FROM Test WHERE id BETWEEN ? AND ?\", [5, 8], function (err, rows) {\n  if (err) throw err;\n  console.log('Rows:', rows);\n});\n```\n\n## Prepared Statement Execution\n\n### Prepare a Statement\n\nThe connection returns a `statement` object which can be executed multiple times.\n\n```js\nconn.prepare('SELECT * FROM Test WHERE id = ?', function (err, stmt){\n  if (err) throw err;\n  // do something with the statement\n});\n```\n\n### Execute a Statement\n\nThe execution of a prepared statement is similar to the direct statement execution.\nThe first parameter of `exec` function is an array with positional parameters.\n\n```js\nstmt.exec([16], function(err, rows) {\n  if (err) throw err;\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Execute a Batch Statement\n\nThe execution of a prepared batch statement is similar to the direct statement execution.\nThe first parameter of `execBatch` function is an array with positional parameters.\n\n```js\nvar stmt=conn.prepare(\"INSERT INTO Customers(ID, NAME) VALUES(?, ?)\");\nstmt.execBatch([[1, 'Company 1'], [2, 'Company 2']], function(err, rows) {\n  if (err) throw err;\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Execute a Query\n\nThe execution of a prepared query is similar to the direct statement execution.\nThe first parameter of `execQuery` function is an array with positional parameters.\n\n```js\nvar stmt=conn.prepare(\"SELECT * FROM Customers WHERE ID >= ? AND ID < ?\");\nstmt.execQuery([100, 200], function(err, rs) {\n  if (err) throw err;\n    var rows = [];\n    while (rs.next()) {\n      rows.push(rs.getValues());\n    }\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Drop Statement\n\n```js\nstmt.drop(function(err) {\n  if (err) throw err;\n});\n```\n\n## Transaction Handling\n\n__Transactions are automatically commited.__ Setting autocommit to false implicitly\nstarts a new transaction that must be explicitly committed, or rolled back.\n\n### Commit a Transaction\n\n```js\nconn.setAutoCommit(false);\n// Execute some statements\nconn.commit(function(err) {\n  if (err) throw err;\n  console.log('Transaction commited.');\n});\n```\n\n### Rollback a Transaction\n\n```js\nconn.setAutoCommit(false);\n// Execute some statements\nconn.rollback(function(err) {\n  if (err) throw err;\n  console.log('Transaction rolled back.');\n});\n```\n\n## Resources\n\n+ [SAP HANA Documentation](https://help.sap.com/viewer/f1b440ded6144a54ada97ff95dac7adf/latest/en-US/a5c332936d9f47d8b820a4ecc427352c.html)\n\n## License\n\nThe HANA Node.js Driver is provided via the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n\nBy using this software, you agree that the following text is incorporated into the terms of the Developer Agreement:\n\n> If you are an existing SAP customer for On Premise software, your use of this current software is also covered by the terms of your software license agreement with SAP, including the Use Rights, the current version of which can be found at: https://www.sap.com/about/agreements/product-use-and-support-terms.html?tag=agreements:product-use-support-terms/on-premise-software/software-use-rights\n","changelog":"# Hana Client 2.19.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.19 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.19/en-US\n\nFor the latest updates please see SAP Note 3393980 - SAP HANA Client 2.19 Release Notes\n\nhttps://me.sap.com/notes/3393980\n\n## Version 2.19.21\n\n### Changes:\n\n - Issue Number 317176: ResultSet.getValue[s] now uses less memory.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 317535: SQLDBC could have had incorrect behaviour with data containing unpaired surrogate characters.\n - Issue Number 316861: Unclear cause when a cloud redirection failed.\n - Issue Number 316837: Node.js, Go, and Ruby used more memory than was required.\n - Issue Number 313240: The hdbuserstore LIST command could have unnecessarily created the store directory.\n\n## Version 2.19.20\n\n### Changes:\n\n - Issue Number 317473: Result sets which were not explicitly closed could have caused a crash during garbage collection.\n - Issue Number 316580: Calling getClientInfo() for automatically-set session variables could have returned an incorrect value.\n - Issue Number 316439: Incorrect client info values could have been returned after calling exec() after being unset.\n\n## Version 2.19.18\n\n### Underlying SQLDBC changes:\n\n - Issue Number 314098: Access to the user store may not have operated correctly on Apple macOS ARM machines.\n - Issue Number 312321: GetData could have hung in rare cases when NCLOB contained non-BMP characters.\n - Issue Number 310229: Some drivers could have reported an empty string for SQL state.\n - Issue Number 309098: hdbsqldbc_cons and hdbodbc_cons did not notify running clients when the trace file name was changed.\n\n# Hana Client 2.18.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.18 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.18/en-US\n\nFor the latest updates please see SAP Note 3362072 - SAP HANA Client 2.18 Release Notes\n\nhttps://me.sap.com/notes/3362072\n\n## Version 2.18.27\n\n### Changes:\n\n - Issue Number 315554: Memory could have been leaked if setClientInfo() was called.\n - Issue Number 305267: Statement.exec[ute](null | undefined) would have caused an error in TypeScript.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 314283: SQLDBC performance could have been negatively affected in some situations.\n - Issue Number 316010: When the SECUDIR environment variable was not needed, the driver still required it to be set to a dummy value in order to connect using SAP’s Common Crypto Library (CCL).\n\n## Version 2.18.24\n\n### Changes:\n\n - Issue Number 312829: The poolKey parameter may not have been parsed correctly.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 313362: An error message involving a getpwuid failure may have been incomplete.\n - Issue Number 310723: SQLDBC could have crashed when working with distributed transactions.\n\n## Version 2.18.22\n\n### Changes:\n\n - Issue Number 301770: Calling status functions on Connection, Statement, or ResultSet objects could have caused the application to block temporarily.\n - Issue Number 310411: The driver could have crashed with a malformed connection string.\n - Issue Number 312275: The Node.js driver included in the HANA Client install for Mac on ARM64 could have failed to install.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 307786: The client could have crashed when the Transaction Isolation Level was changed.\n - Issue Number 307701: Incorrect results could have been returned after running out of memory.\n - Issue Number 296003: The index server could have exited during out-of-memory situations when SQLDBC tracing was enabled.\n - Issue Number 291672: High CPU usage could have been observed in a multi-threaded SQLDBC application.\n - Issue Number 308137: SQLDBC could have crashed when accessed by a new user or technical user.\n\n# Hana Client 2.17.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.17 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.17/en-US\n\nFor the latest updates please see SAP Note 3329999 - SAP HANA Client 2.17 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3329999\n\n## Version 2.17.22\n\n### Changes:\n\n - Issue Number 310216: Memory used for statement output parameters could have been temporarily higher than necessary.\n - Issue Number 309655: Node.js could have crashed while executing a stored procedure with ST_Geometry out parameters.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 309136: CCL error \"No user exists with SNC name ...\" could have occurred.\n\n## Version 2.17.21\n\n### Changes:\n\n - Issue Number 305266: Added missing return type annotation for connect method in index.d.ts.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 309326: The error \"Internal Error: No LOB locator id found for index\" could have occurred.\n - Issue Number 309037: SQLDBC could have crashed when the trace file size was limited using the SIZE trace option.\n\n## Version 2.17.14\n\n### Changes:\n\n - Issue Number 305853: Connection.getWarnings could have failed to return warnings.\n - Issue Number 300259: The Node.js driver could have crashed with certain concurrent Statement operations.\n - Issue Number 259321: Pooled connections may not be reused due to session variables.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 305857: Added reply compression information to PACKET=0 tracing.\n - Issue Number 304108: The client could have returned incorrect CLOB data.\n - Issue Number 303665: Getting VARBINARY column in multiple chunks could have returned incorrect data.\n - Issue Number 300317: Client statement caching may have not reused a cached prepared statement.\n - Issue Number 291233: Getting NVARCHAR column in multiple chunks could have returned incorrect data.\n - Issue Number 288540: There were several issues fetching NCLOB and BLOB values depending on the destination type used.\n - Issue Number 304109: Additional information is now shown in the error message when a network-related exception occurs.\n - Issue Number 282033: Some error messages in SQLDBC-based drivers indicated an issue with a parameter/column value and referenced the parameter/column by number alone.\n\n# Hana Client 2.16.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.16 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.16/en-US\n\nFor the latest updates please see SAP Note 3304880 - SAP HANA Client 2.16 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3304880\n\n## Version 2.16.26\n\n### Changes:\n\n - Issue Number 296115: getParameterValue() could have returned a string value when a numeric value was expected.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 302885: Statement routed queries could have decreased performance if system replication was enabled.\n - Issue Number 303662: Data fetched from ALPHANUM columns could have been truncated.\n - Issue Number 305945: A spurious -10821 (Session not connected) error could have been traced when a connection was closed.\n\n## Version 2.16.21\n\n### Changes:\n\n - Issue Number 303589: The Node.js driver could have crashed with a \"Cannot create a handle without a HandleScope\" error.\n - Issue Number 303504: Calling Connection's setAutoCommit and setClientInfo methods leaked a small amount of memory with every invocation.\n\n## Version 2.16.19\n\n### Changes:\n\n - Issue Number 300270: Error text was unclear when mixing implicit and explicit API connection pooling.\n - Issue Number 298102: The driver would have crashed when used with Node.js version 14.x (x <= 16).\n - Issue Number 298057: Concurrent ResultSet methods could have crashed Node.js or caused wrong results.\n - Issue Number 297706: Node.js could have crashed if dropping a statement while disconnecting its connection.\n - Issue Number 294362: The value returned by Connection.getOpenConnectionCount could have been wrong when using explicit connection pooling.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 301841: A connection failed receive timeout could have given a misleading error message.\n - Issue Number 299587: An NCLOB to BLOB conversion could have omitted some non-ASCII characters.\n - Issue Number 298056: Getting a LOB data value after fetching past the end of a result set could have crashed.\n - Issue Number 266106: NCLOB to BLOB conversion could have caused a heap buffer overflow.\n - Issue Number 196676: Errors could have occurred when using very large ClientInfos.\n\n# Hana Client 2.15.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.15 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.15/en-US\n\nFor the latest updates please see SAP Note 3279537 - SAP HANA Client 2.15 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3279537\n\n## Version 2.15.22\n\n### Underlying SQLDBC changes:\n\n - Issue Number 301023: SQLDBC could have sent an invalid request when closing a connection.\n - Issue Number 300738: The client could have sent an incorrect request after a send or receive error.\n - Issue Number 300067: Concurrent Compact or ChangeKey operations may have affected the result of user store key reads.\n\n## Version 2.15.19\n\n### Changes:\n\n - Issue Number 297250: Fetched NVARCHAR values containing UTF-8 data could have been truncated.\n - Issue Number 295532: A sporadic crash could have occurred when execQuery() and execute() were run concurrently on the same Statement object.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 298152: An application server on AIX may have failed to read a user key.\n - Issue Number 299139: The hdbuserstore list command may have reported incorrect database names.\n - Issue Number 298872: Errors related to the user store did not include the invalid path in the message.\n - Issue Number 298823: Key list did not provide AUTHENTICATIONX509 details.\n\n## Version 2.15.17\n\n### Changes:\n\n - Issue Number 296621: Calling ResultSet.isNull() before next() could have crashed.\n - Issue Number 295974: Using connections obtained from a garbage-collected connection pool could have caused the application to crash.\n - Issue Number 298260: Calling setAutoCommit or setClientInfo could have caused the application to block temporarily.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 294772: SQLDBC could have crashed due to isolated memory allocation failures.\n\n# Hana Client 2.14.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.14 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.14/en-US\n\nFor the latest updates please see SAP Note 3236425 - SAP HANA Client 2.14 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3236425\n\n## Version 2.14.24\n\n### Underlying SQLDBC changes:\n\n - Issue Number 297398: hdbuserstore List command could have run slowly, new Compact command added.\n\n## Version 2.14.23\n\n### Changes:\n\n - Issue Number 296580: Using execQuery and then exec on same statement could have left that result set in a bad state.\n - Issue Number 296574: Calling a Statement method while doing an execute could have crashed.\n - Issue Number 295880: Simultaneously connecting, disconnecting, or other operations could have crashed.\n - Issue Number 295530: Asynchronous calls to Statement methods could have incorrectly thrown an exception.\n - Issue Number 295528: Node.js could have crashed if the statement was accessed after/while it was dropped.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 297231: Executing a VALIDATE USER statement could have disabled reconnect.\n - Issue Number 295472: The abort or cancel APIs could have crashed in rare cases.\n\n## Version 2.14.22\n\n### Changes:\n\n - Issue Number 295471: Node.js trace callback messages could have contained null characters.\n - Issue Number 294990: Node.js could have crashed if API tracing was enabled.\n - Issue Number 294918: A concurrent disconnect and prepare on same connection could have crashed Node.js.\n - Issue Number 294720: Calling Connection.connect could have caused a Node.js app to crash.\n - Issue Number 293757: Using explicit connection pools with the pingCheck property set to true could have performed poorly.\n - Issue Number 285504: Statement.getParameterValue could have returned incorrect results for INOUT LOB parameters.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 295290: The Linux ARM64 client could not have been run on amazonlinux images.\n - Issue Number 294430: The database name in a user key when using the AddFromDir command could have been incorrect.\n - Issue Number 292659: Automatic reconnect was allowed after the user was switched.\n - Issue Number 292357: Certain socket trace messages could have been missing from tracing.\n\n## Version 2.14.18\n\n### Changes:\n\n - Issue Number 285695: Providing a non-integer value to an integer parameter could have thrown an error.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 292909: The client could have thrown an unhandled exception in some out-of-memory scenarios.\n - Issue Number 292804: Memory may have been leaked if the SQLDBC prepared statement nextParameterByIndex function had failed.\n - Issue Number 292659: Automatic reconnect was allowed after the user was switched.\n - Issue Number 292355: Connecting multiple times with an x509 key from the user store could have failed to authenticate.\n - Issue Number 292319: GetData of an NCLOB value with 0 size buffer could have returned an incorrect indicator value.\n - Issue Number 291547: Statement may not have been routed to the expected node.\n - Issue Number 291292: Enhanced DISTRIBUTION=WARNING tracing.\n - Issue Number 291228: SQLDBC might have reported the error \"Connection failed\".\n - Issue Number 291123: SQLDBC might have incorrectly reconnected when it received a bad packet.\n - Issue Number 290096: The connection ID was not shown in the network error message.\n - Issue Number 288540: There were several issues fetching NCLOB and BLOB values depending on the destination type used.\n - Issue Number 234063: Connection property values starting with ' or \" were interpreted incorrectly.\n\n# Hana Client 2.13.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.13 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.13/en-US\n\nFor the latest updates please see SAP Note 3210156 - SAP HANA Client 2.13 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3210156\n\n# Hana Client 2.12.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.12 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.12/en-US\n\nFor the latest updates please see SAP Note 3165198 - SAP HANA Client 2.12 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3165198\n\n# Hana Client 2.11.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.11 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.11/en-US\n\nFor the latest updates please see SAP Note 3119522 - SAP HANA Client 2.11 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3119522\n\n# Hana Client 2.10.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.10 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.10/en-US\n\nFor the latest updates please see SAP Note 3087732 - SAP HANA Client 2.10 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3087732\n\n# Hana Client 2.9.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.9 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.9/en-US\n\nFor the latest updates please see SAP Note 3063974 - SAP HANA Client 2.9 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3063974\n\n# Hana Client 2.8.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.8 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.8/en-US\n\nFor the latest updates please see SAP Note 3033179 - SAP HANA Client 2.8 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3033179\n\n# Hana Client 2.7.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.7 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.7/en-US\n\nFor the latest updates please see SAP Note 3000693 - SAP HANA Client 2.7 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/3000693\n\n# Hana Client 2.6.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.6 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.6/en-US\n\nFor the latest updates please see SAP Note 2973943 - SAP HANA Client 2.6 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/2973943\n\n# Hana Client 2.5.x Drivers\n\nPlease see the \"What’s new in the SAP HANA Client\" section in the official HANA client 2.5 documentation:\n\nhttps://help.sap.com/viewer/product/SAP_HANA_CLIENT/2.5/en-US\n\nFor the latest updates please see SAP Note 2937532 - SAP HANA Client 2.5 Release Notes\n\nhttps://launchpad.support.sap.com/#/notes/2937532\n\n# Hana Client 2.4.x Drivers\n\n## Version 2.4.202\n\n### Underlying SQLDBC changes:\n\n - Issue Number 247255: Some rows of a query could have been incorrectly missing if the server returned a fetch warning.\n - Issue Number 246397: SQLDBC/ODBC tracing output could have been incorrect in several cases.\n - Issue Number 242465: When fallback routing happened in executing hint routed FDA select, the application server could have received an un-initialized ITAB result and produced an ABAP dump.\n\n## Version 2.4.196\n\n### Changes:\n\n - Issue Number 246837: node.js process crashes while executing a statement created by Stream.createProcStatement() when connection is closed.\n - Issue Number 245618: Application crashes with 'Check failed: IsGlobalEmpty()'.\n - Issue Number 244631: Fix Memory leaks caused by warnings.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 244599: Long-running plan execution cannot be canceled.\n\n## Version 2.4.194\n\n### Changes:\n\n - Issue Number 239769: Using HanaLobStream produced an incorrect streaming result of NULL value.\n\n### Underlying SQLDBC changes:\n\n - Issue Number 244509: The wrong error message was displayed when the cseKeyStorePassword property was missing\n - Issue Number 237977: When bulk fetching rows into buffers from a ResultSet, the driver may have returned success when an error occurred while fetching data.\n - Issue Number 236457: There were several SQLDBC tracing issues with flushing disabled and trace only on error\n - Issue Number 241887: VARCHARMODE session variable was not visible using the ClientInfo interface when connecting with ABAPVARCHARMODE=1\n\n## Version 2.4.191\n\n### Changes:\n\n - Issue Number 242230: Possible crash on queries with TEXT columns\n\n### Underlying SQLDBC changes:\n\n - Issue Number 243053: When specifying HOSTNAME environment variable and\n   using both JDBC and SQLDBC-based drivers to connect with SecureStore\n   entries, or Client Side Encryption operations, the JDBC operations could\n   have failed\n - Issue Number 240995: Reading BLOB longer than SQLDBC packet size limit\n   resulted in silent truncation\n - Issue Number 238492: There was no way for S/4 HANA to check if all internal\n   connections for routing were valid on a distributed system\n\n## Version 2.4.186\n\n### Underlying SQLDBC changes:\n\n - Issue Number 243922: WebSockets would have only reported 'HTTP Exception' from HTTP errors\n - Issue Number 236729: HANA Client for Linux x86_64 was not backwards compatible with Red Hat Enterprise Linux 5\n\n## Version 2.4.182\n\n### Changes:\n\n - Bug 236802: SQLDBC 2.4.132 and later may infinitely loop on reading finished NCLOB into a more than large enough UCS2 destination buffer if the payload contains non-BMP characters\n\n## Version 2.4.177\n\n### Changes:\n\n - Bug: 233849 - [node] The ResultSet object could be prematurely freed by node.js GC\n\n## Version 2.4.171\n\n### Changes:\n\n - Bug: 233849 - [node] fix heap-use-after-free\n\n### Underlying SQLDBC changes:\n\n - Bug: 233843 - [SQLDBC] SNI is not set correctly when sslValidateCertificate is false\n - Bug: 231977 - [SQLDBC] ALTER CLIENTSIDE ENCRYPTION COLUMN KEY <column key name> ADD KEYCOPY ENCRYPTED WITH KEYPAIR <keypair name> fails with error -10429: Encryption of Column Encryption Key failed: Failed to create temporary Key ID table\n - Bug: 231823 - [SQLDBC] Corrupted debug trace\n\n## Version 2.4.167\n\n### Underlying SQLDBC changes:\n\n - Bug: 233843 - [SQLDBC] SNI is not set correctly when sslValidateCertificate is false\n - Bug: 228317 - [SQLDBC] Audit log APPLICATION_USER_NAME column is single character on slave node and it works fine on master node\n\n## Version 2.4.162\n\n### Underlying SQLDBC changes:\n\n - Bug: 230135 - [SQLDBC] SQLDBC will now trace the initial connection reply packet\n - Bug: 229397 - [SQLDBC] Fixed incorrect reporting of rows-affected for LOB datatype\n - Bug: 228712 - [SQLDBC] DBSL could have given a Secure store error: Timeout waiting for the secure store access lock\n\n## Version 2.4.155\n\n### Underlying SQLDBC changes:\n\n - Bug: 228735 - [SQLDBC] Unintialized scalar value in Connection\n - Bug: 226661 - [SQLDBC] Client not work well with deferred_lob_writing ON\n\n## Version 2.4.154\n\n### Changes:\n\n - Bug: 225625 - [node] \"stderr maxBuffer length exceeded\" error when deploying an mtar to CF\n\n### Underlying SQLDBC changes:\n\n - Bug: 220794 - [SQLDBC] Enable frequent TCP keepalive probes\n\n## Version 2.4.153\n\n### Changes:\n\n - Bug: 221808 - [node] mdx get_axisinfo return garbage data\n\n### Underlying SQLDBC changes:\n\n - Bug: 225784 - [SQLDBC] Crash when OOM during error reporting\n - Bug: 224703 - [SQLDBC] Send networkGroup in DBConnectInfo\n\n## Version 2.4.151\n\n### Underlying SQLDBC changes:\n\n - Bug: 225299 - [SQLDBC] Show tracing category & level at start of restarted trace files\n - Bug: 224855 - [SQLDBC] Windows trace file archiving stop at first copy\n - Bug: 224764 - [SQLDBC] crash at: time::Transaction::xa_remote_rollback - Assertion failed: is_global_coordinator_\n - Bug: 223866 - [SQLDBC] Include original value in conversion failure situations\n - Bug: 223751 - [SQLDBC] Remove RANGE_RESTRICTION test against CE server\n - Bug: 192870 - [SQLDBC] Support returning TIMESTAMP with 'T' seperator instead of space (like ISO 8601)\n\n## Version 2.4.144 (HANA 2.0 SPS03 Rev 37.02)\n\n### Changes:\n\n - Bug: 217819 - [node] getColumnInfo on stored procedure result: accumulates column infos after multiple executions\n\n### Underlying SQLDBC changes:\n\n - Bug: 223345 - [SQLDBC] Adjust/remove SQLDBC tests on master due to XSEngine removal\n - Bug: 218913 - [SQLDBC] Support HTTP CONNECT Proxy connections\n - Bug: 218677 - [SQLDBC] Server-side WebSocket pings disconnect client\n\n## Version 2.4.142 (HANA 2.0 SPS04 Rev 41)\n\n### Changes:\n\n - Bug: 221035 - [node] Wrong results for Node.js client with option rowsAsArray\n\n### Underlying SQLDBC changes:\n\n - Bug: 221067 - [SQLDBC] Detect when connected to a cloud edition server\n - Bug: 220794 - [SQLDBC] Enable frequent TCP keepalive probes\n - Bug: 218956 - [SQLDBC] SQLDBC pass to a null value to hana server\n - Bug: 218917 - [SQLDBC] Error -10333 when SAPR3 prepare call with IN ITAB\n - Bug: 196975 - [SQLDBC] UCS-2 non-BMP (U+10000) conversions to UTF-8 are incorrect\n - Bug: 177745 - [SQLDBC] improve SQLDBC handling of exceptions and OOM\n\n## Version 2.4.139 (HANA 2.0 SPS03 Rev037.01)\n\n### Changes\n\n - Bug: 219118 - [node] Improve performance of fetching data from date, time, timestamp columns\n - Bug: 217395 - [node] need a way to check if output parameter is null and get its length\n\n### Underlying SQLDBC changes\n\n - Bug: 215654 - [SQLDBC] Invalid number of row counts returned (0, expected 4)\n - Bug: 213867 - [SQLDBC] Columns which appear after the encrypted column in the SELECT list do not have the correct length\n - Bug: 117546 - [SQLDBC] DBACOCKPIT SQLDBC trace integration issue\n\n## Version 2.4.126 (SP04 Takt 12, Rev 40)\n\n### Changes\n\n - Bug: 210467 - [node] Value of inout clob procedure parameter lost\n - Bug: 210265 - [node] HanaProcStatement does not close result sets\n - Bug: 208719 - [node] Batch inserts with null value leading to data corruption\n\n### Underlying SQLDBC changes\n\n - Bug: 212792 - [SQLDBC] Unexpected numeric overflow\n - Bug: 212269 - [SQLDBC] Support 0x80 Proxy Authentication for Cloud Connector\n - Bug: 210821 - [SQLDBC] Client crashes during connect after self-assignment of SQLDBC_ConnectProperties object\n - Bug: 210818 - [SQLDBC] Access violation while inserting empty string\n - Bug: 210341 - [SQLDBC] The SP04 converter for INTEGRAL to ASCII conversion is almost 2 times slower than the SP03 one\n - Bug: 210340 - [SQLDBC] The SP04 converter for REAL to ASCII conversion is 3 times slower than the SP03 one\n - Bug: 208245 - [SQLDBC] FDA partition-aware routing ignored partition information update\n - Bug: 201548 - [SQLDBC] secondary connections need to send SessionContext - required for workload replay\n - Bug: 177745 - [SQLDBC] improve SQLDBC handling of exceptions and OOM\n\n\n# Hana Client 2.3.x Drivers\n\n\n## Version 2.3.152\n\n### Changes\n\n - Bug: 214413 - [node] NVARCHAR columns truncated by Connection.exec\n - Bug: 210467 - [node] Value of inout clob procedure parameter lost\n - Bug: 210265 - [node] HanaProcStatement does not close result sets\n - Bug: 200139 - [node] Segmentation fault errors in Node.js client\n - Bug: 193735 - [node] executeBatch incorrectly inserting invalid data\n\n### Underlying SQLDBC changes\n\n - Bug: 212269 - [SQLDBC] Support 0x80 Proxy Authentication for Cloud Connector\n - Bug: 210818 - [SQLDBC] Access violation while inserting empty string\n - Bug: 208370 - [SQLDBC] SP03/04 is 10 times slower than SP02 on fetching data from numeric columns when the data is bound with CHAR\n - Bug: 208245 - [SQLDBC] FDA partition-aware routing ignored partition information update\n\n## Version 2.3.144\n\n### Changes\n\n - Bug: 170890 - [node] Feature request: Introduce a way to configure query timeout\n - Bug: 208719 - [node] Batch inserts with null value leading to data corruption\n - Bug: 207730 - [node] Data corruption (decimal data type) with execBatch\n - Bug: 202061 - [node] nodejs is killed by @sap/hana-client\n\n### Underlying SQLDBC changes:\n\n - Bug: 212269 - [SQLDBC] Support 0x80 Proxy Authentication for Cloud Connector\n - Bug: 209416 - [SQLDBC] Much slower to fetch a value from a bool column than from a tinyint column\n - Bug: 207692 - [SQLDBC] [dbcapi] SQL strings are always assumed to be ASCII encoding\n - Bug: 205486 - [SQLDBC] Implicit XA join at prepare time\n - Bug: 204378 - [SQLDBC] Big endian client or server corruption during range partitioning\n - Bug: 180821 - [SQLDBC] improve sqldbc tracing\n\n## Version 2.3.134\n\nNote: This version includes node 10 support.\n\n### Changes\n\n - Bug: 207088 - [node] hana-client throws error when inserting UTF8 value into NCLOB column\n - Bug: 203323 - [node] crash in ~executeBaton\n - Bug: 202025 - [node] crash in hana-client master snapshot during HRTT-service component tests\n - Bug: 201692 - [node] GetParameterValues() may return different values for queries executed using exec and execQuery\n - Bug: 200139 - [node] Segmentation fault errors in Node.js client\n - Bug: 197590 - [node] AddressSanitizer: heap-buffer-overflow in statement.cpp:644\n\n### Underlying SQLDBC changes\n\n - Bug: 206695 - [SQLDBC] Always send ClientInfo APPLICATION / APPLICATIONUSER in ClientInfo\n - Bug: 205558 - [SQLDBC] Cannot set isolation level as described in docs\n - Bug: 205486 - [SQLDBC] Implicit XA join at prepare time\n - Bug: 205420 - [SQLDBC] SQL code: -10923 occurred while accessing table USR01\n - Bug: 202117 - [SQLDBC] Websocket connection to port with no listener hangs on Windows\n - Bug: 201991 - [SQLDBC] Change limit of READLOBREQUEST requested chunk size to be at most packet size - 1KB instead of 1KB*124\n - Bug: 201333 - [SQLDBC] Always cache cookies for all authentication methods\n - Bug: 201180 - [SQLDBC] Coverity failure - CID 175085 - dereference after null check\n - Bug: 199762 - [SQLDBC] result set and parameters incorrect after prepare, alter, routed execute\n - Bug: 197565 - [SQLDBC] Support 32bit fetchsize\n - Bug: 188197 - [SQLDBC] specifying hosts for multiple unrelated systems can cause issues for multiple connections\n\n## Version 2.3.130\n\n### Changes\n\n - Bug: 201050 - [node] HANA client crashes if ResultSet is closed while async next is running\n - Bug: 198780 - [node] Prepare happens twice for same statement execution (non distributed), impacts performance\n - Bug: 198599 - [node] empty DATE & TIMESTAMP causes crash/memory leak with prepared statements\n - Bug: 198300 - [node] executeQuery crashes if no parameters passed in\n - Bug: 197989 - [node] Node crashes with core dumps were found\n - Bug: 197914 - [node] nodejs application server memory increases even after drop and disconnect\n - Bug: 196801 - [node] Node driver crashes in getParameterValue\n - Bug: 186681 - [node] Fatal error when fetching a CLOB value of ~500MB\n\n### Underlying SQLDBC changes\n\n - Bug: 199481 - [SQLDBC] Cursor holdability not correctly sent to the server\n - Bug: 199218 - [SQLDBC] Certain years cause DATE values to be incorrectly returned as NULL with DFV=1\n - Bug: 197444 - [SQLDBC] CSE test failures report misleading error messages\n - Bug: 197279 - [SQLDBC] Unable to lock newly created table with active distributed statement routing\n - Bug: 188197 - [SQLDBC] specifying hosts for multiple unrelated systems can cause issues for multiple connections\n - Bug: 184551 - [SQLDBC] fix Performance regression\n - Bug: 183778 - [SQLDBC] CESU-8 -> UTF-8 conversions don't work, CESU-8 isn't used in the SQLDBC protocol\n - Bug: 163009 - [SQLDBC] SQLDBC client can send out-of-date StatementContext resulting in server internal errors or incorrect transaction behaviour\n\n## Version 2.3.123\n\n### Changes\n\n - Bug: 196993 - [node] - Segmentation fault in stmt.getRowStatus()\n - Bug: 196811 - [node] - AddressSanitizer: heap-use-after-free in getResultSet()\n\n### Underlying SQLDBC changes\n\n - Bug: 196981 - [SQLDBC] - Remove <CURRENT WRITE POSITION> at the end of trace file\n - Bug: 196540 - [SQLDBC] - SystemReplicationIntegrationTest testReconnectBehaviour, testBackOffTimerRetry sporadic failures\n - Bug: 195187 - [SQLDBC] - enabling autocommit with write txn \"Invalid transaction state\" error\n - Bug: 197118 - [SQLDBC] - Crash in SQLDBC::Connection::updateTopology\n - Bug: 189159 - [SQLDBC] - Fix \"-10429: Failed to open the key store file. Opening of the Keystore failed.\"\n\n## Version 2.3.122\n\n### Changes\n\n - Bug: 179616 - [node] - Stream.createStatement does not support parameter bindings with an array of arrays\n - Bug: 194801 - [node] - NCLOB output parameter truncated\n - Bug: 191764 - [node] - crash in hana Node driver\n - Bug: 178638 - [node] - Expose named constants for Isolation Level\n - Bug: 186986 - [node] - HanaProcStatement: add possibility to have ColumnInfo on output tables (both output table parameters and SELECT results)\n - Bug: 183202 - [node] - Column info does not distinguish between column name and alias\n\n## Version 2.3.121\n\n### Changes\n\n - Bug: 185046 - [node] - Batch insert: specify which group has been inserted successfully and which not\n\n### Underlying SQLDBC changes\n\n - Bug: 182656 - [SQLDBC] - [Decimal38, DFV=8] Performance regression (30%) in benchCppPsaloadBarrier.py (elapsed time)\n\n## Version 2.3.120\n\n### Changes\n\n - Bug: 194578 - [node] - @sap/hana-client could not be installed on Mac OS X 10.13.6 - node-gyp build fatal error: 'thread' file not found\n\n## Version 2.3.119 (Rev 33)\n\n### Underlying SQLDBC changes\n\n - Bug: 189502 - [SQLDBC] - core file produced if the OS400 version of R3trans connects to the database using the HDB client\n\n## Version 2.3.118-ms\n\n### Changes\n\n - Bug: 190151 - [node] - node driver returns incorrect values for large DECIMAL and SMALLDECIMAL types\n\n### Underlying SQLDBC changes\n\n - Bug: 194315 - [SQLDBC] - Crash at PreparedStatement::getObject() if passed negative param-index\n - Bug: 191790 - [SQLDBC] - Wrong function name when using TO_VARCHAR function in GENERATED ALWAYS AS clause\n - Bug: 193427 - [SQLDBC] - Non terminated input string access overflow\n\n## Version 2.3.117 (Rev 33 RC3)\n\n### Underlying SQLDBC changes\n\n - Bug: 189511 - [SQLDBC] - Hierarchy Warning as error\n\n## Version 2.3.115 (Rev 33 RC2)\n\n### Changes\n\n - Bug: 187823 - [node] - Error message from query is truncated\n - Bug: 186963 - [node] - Procedures, output parameters with unicode characters not readable\n - Bug: 186399 - [node] - Error when using DDL Statement in dynamic SQL\n - Bug: 184557 - [node] - node driver memory leak\n - Bug: 186462 - [node] - executeBatch doesn't return error if callback function isn't provided \n\n### Underlying SQLDBC changes\n\n - Bug: 184711 - [SQLDBC] Vulnerabilities in trace files\n - Bug: 186830 - [SQLDBC] Coverity 33397, 171110\n\n## Version 2.3.112\n\nNote: This version contains the dependent module debug@3.1.0 and ms@2.0.0 to address security issues in those modules.\n\n### Changes\n\n - Bug 184286 - Coverity CID 169674 - Resource leak in object\n - Bug 182045 - Preparing SQL statement returns error \"Unhandled SQLDBC type '32'\"\n\n### Underlying SQLDBC changes\n\n - Bug 189083 - FDA fetch next after warning\n - Bug 189856 - error when AA hint based routing to down secondary or bad VolumeIds\n - Bug 184710 - [hdbkeystore] Imported key pairs are not validated\n - Bug 172302 - conversion error on bulk execute should fail all rows to match server behavior\n - Bug 184128 - [SQLDBC] Decrypted data and keys are not wiped\n - Bug 186707 - HE2E:H2SP4:Trying to encrypt a decimal column gets error\n\n## Version 2.3.108\n\n### Changes\n\n - Bug: 183789 - hana_client crashes when single sign-on attempted\n - Bug: 186603 - Crash in hana_node driver when using ResultSet.prototype.getData() for a NULL value\n\n### Underlying SQLDBC changes\n\n - Bug: 185978 - Invalid numeric value for parameter/column (3) source type DECIMAL, target type FIXED16\n - Bug: 184670 - Batch insert with decimals does not work\n - Bug: 186968 - SQLDBC-based clients on Windows and 32-bit Linux platforms use an invalid value for a Randomly encrypted NULL for a TIMESTAMP column\n - Bug: 172302 - conversion error on bulk execute should fail all rows to match server behavior\n - Bug: 183982 - [SQLDBC] Allow override of APPLICATION / APPLICATIONUSER\n - Bug: 185435 - SQL Error \"-10901 No space left in request packet\" during FOR ALL ENTRIES FDA\n - Bug: 182050 - large clientinfo that fills packet causes client crash or failures\n - Bug: 184700 - node.js driver ignored databasename connect parameter\n - Bug: 184107 - [SQLDBC] WebSockets does not have a thread to return responses for ping/pong\n - Bug: 165561 - Netweaver workprocess crashes from SQLDBC\n\n## Version 2.3.106\n\n### Changes\n\n - Bug: 184700 - node.js driver ignored databasename connect parameter\n\n## Version 2.3.102\n\n### Changes\n\n - Bug: 184700 [nodejs] - Replace SQLDBC connection parameter serverDb with databasename\n - Bug: 184409 [nodejs] - HXE: SQL error while accessing data base explorer from cockpit UI\n - Bug: 182956 [SQLDBC] - SQLDBC should clear all write lobs before silent re-execution for stale metadata\n - Bug: 183012 [SQLDBC] - Support siteType connection property in the SQLDBC driver.\n - Bug: 183521 [SQLDBC] - StatementContext FlagSet now tests appropriate bit for A/A fallback\n - Bug: 180790 [SQLDBC] - Add socket timeout support\n - Bug: 182950 [SQLDBC] - Implement support for Client-side Encrypted Decimal38\n - Bug: 182230 [SQLDBC] - dfv8 error source expectation change\n - Bug: 182476 [SQLDBC] - Fetching a BOOLEAN value as string Host Type returns \"TRUE\" or \"FALSE\" instead of \"1\" or \"0\"\n - Bug: 181236 [nodejs] - Executing a DELETE statement returns undefined if the data doesn't exist, and make default CharSet=UTF-8 for node driver\n\nThe above bug fix also fixes the following bug reports:\n - Bug: 183239 - Unicode problem - HANA node.js client return wrong results \"???\"\n - Bug: 183364 - Error: result set has not been fetched yet when selecting an NCHAR column\n - Bug: 183368 - Unicode characters not readable when using a stream\n\n## Version 2.3.99\n\n### Changes\n\n - Bug: 172007 - WebSockets cannot reliably detect socket failures for reconnect logic \n - Bug: 180692 - enable TLS 1.2 in openssl versions pre 1.1.0\n - Bug: 181793 - [SQLDBC] WebSockets do not support ping/pong for DBaaS\n\n## Version 2.3.92-rel\n\n### Changes\n\n - Bug: 179911 - Array type returned by Connection.execute is truncated\n - Bug: 179717 - node.js client crashes the app if a JS error happens in parallel\n - Bug: 179718  - a procedure call via createProcStatement doesn't include the object for scalar results\n - Bug: 178819 - Cannot fetch spatial types using stream\n\n## Version 2.3.78\n\n### Changes\n\n - Bug: 178841  - Resultset.getValues returns incorrect data for double/real/float\n\n## Version 2.3.75\n\n### Changes\n\n - Bug: 178226 - MDX SELECT returns no results\n\n## Version 2.3.67\n\nNote: This version contains HappyMake-built binaries for Linux x64.\n\n### Changes\n\n - Bug: 176354 - prepared-statement.exec doesn't support parameter bindings with an array of arrays\n - Bug: 176359 - result objects of procedure calls are different in node-hdb vs. hana-client\n - Bug: 176361 - node-hdb treats undefined in parameters bindings as null, hana-client reports an error\n - Bug: 176397 - Process exits unexpectedly when 'setWarningCallback' is used\n - Bug: 174396 - DVF8 SQLDBC_SQLTypes for ODBC and DBCAPI\n\n## Version 2.3.65-ms\n\n### Changes\n\n - Bug: 175368 - Authentication fails if password contains a semicolon (;)\n - Bug: 176053 - instanceNumber connection property not supported\n - Bug: 175381 - [DBCAPI] Lob data could be truncated\n - Bug: 174309 - [SQLDBC] detect ResultSetPart overrun (DEV_ASSERTS in ResultDataIterator needed to be converted to runtime errors to prevent undefined behavior due to incorrect RESULTSET parts)\n\n## Version 2.3.63-ms\n\n### Changes\n\n - Bug: 175602 - Error when inserting zero-length stream into HANA through node client\n - Bug: 175368 - Authentication fails if password contains a semicolon\n - Bug: 175712 - Intermittent failures when inserting blobs into HANA through streams\n\n## Version 2.3.59-ms\n\n### Changes\n\n - Bug: 170723 - crash in dbcapi_get_function_code\n - Bug: 170934 - Failed Client Conti: node.js giving regex_error\n - Bug: 174161 - [DBCAPI] - DBCAPI reuses previous ResultSet bindings when fetching more results for a multi-resultset query\n - Bug: 173705 - garbage collector causes sporadic crashes\n - Enhancement: PPC BE support\n - Enhancement: Node 8 support\n\n## Version 2.3.41\n\n### Changes\n\n - Bug: 169885 - Connection pooling\n\n## Version 2.3.40\n\n### Changes\n\n - Bug: 169668 - wrong value returned from ResultSet.getValue(N)\n - Bug: 169674 - Main thread blocks when destroying a statement through garbage collector\n - Bug: 168663 - Cannot unset client info\n\n## Version 2.3.39 (Nexus Release, Takt5)\n\n### Changes\n\n - Bug: 160073 - Cannot create TLS-encrypted connection using certificate string\n\n## Version 2.3.38\n\n### Changes\n\n - Bug: 167516 - Crash if integer input parameter is given an empty string\n - Bug: 167524 - Crash when iterating an empty result set or a result set is not fully consumed\n - Bug: 167504 - No way to specify multiple hosts for connection\n - Bug: 167517 - Data type 53 incorrect in TypeCode.js\n - Bug: 167531 - Cannot determine if a Connection is connected\n - Bug: 167112 - Streaming API -- insert statement returns \"undefined\" result\n\n## Version 2.3.31\n\n### Changes\n\n - Bug: 162268 - statement options are not supported in statement.exec\n - Bug: 165051 - Coverity CID 140729 - Dereference before null check\n\n## Version 2.3.28\n\n### Changes\n\n - Bug: 163582 - MDX SELECT is not handled properly\n\n## Version 2.3.27\n\n### Changes\n\n - Bug: 163070 - clientsBarrier.seq fails - node4 test crashes\n - Bug: 163236 - Failed Client Conti: NodeJS crashing on master\n - Bug: 163374 - node driver returns incorrect numbers for large BIGINT\n - Bug: 163375 - node driver returns incorrect unicode strings for NCLOB\n\n## Version 2.3.23\n\n### Changes\n\n - Bug: 162924 - dbcapi crashes when fetching multiple resultsets\n\n## Version 2.3.21 (Nexus Release, Takt 3, npm.sap.com)\n\n### Changes\n\n - Bug: 162265 - end() is not available out-of-the-box\n\n\n\n# Hana 2 SP02 Drivers\n\n\n## Version 2.2.64\n\n### Underling SQLDBC changes\n\n - Bug: 181384 - [SQLDBC] - LOB data got lost in batch mode if the lob data length greater than a network packet size\n - Bug: 182139 - [SQLDBC] - Error -10922 (200501) Write transaction already started on other connection in ABAP report\n - Bug: 180790 - [SQLDBC] - SDA query failure due to connection timeout error -10807 (Add socket timeout support)\n - Bug: 155895 - [SQLDBC] - Insert of timestamps as strings behaves different between cursor.execute() and cursor.executemany()\n - Bug: 182476 - [SQLDBC] - Fetching a BOOLEAN value as string Host Type returns \\\"TRUE\\\" or \\\"FALSE\\\" instead of \\\"1\\\" or \\\"0\\\"\n\n## Version 2.2.62\n\n### Changes\n\n - Bug: 178226 - [node] - MDX SELECT returns no results\n - Bug: 179911 - [node] - Array type returned by Connection.execute is truncated\n - Bug: 176397 - [node] - Process exits unexpectedly when 'setWarningCallback' is used\n - Bug: 175459 - [SQLDBC] - error message improvement for numeric overflow\n - Bug: 178841 - [node] - Resultset.getValues returns incorrect data for double/real/float\n - Bug: 178680 - [SQLDBC] - Access violation while batch-inserting BLOB-placeholder in expression\n - Bug: 180561 - [SQLDBC] - BasisClient lacks CRASH_ASSERT_* macros\n - Bug: 178819 - [node] - Cannot fetch spatial types using stream\n\n### Underling SQLDBC changes\n\n - Bug: 175459 - [SQLDBC] - error message improvement for numeric overflow\n - Bug: 178680 - [SQLDBC] - Access violation while batch-inserting BLOB-placeholder in expression\n - Bug: 180561 - [SQLDBC] - BasisClient lacks CRASH_ASSERT_* macros\n\n## Version 2.2.57\n\n### Changes\n\n - Bug: 175712 - [node] - Intermittent failures when inserting blobs into HANA through streams\n - Bug: 173705 - [node] - garbage collector causes sporadic crashes\n - Bug: 175368 - [node] - Authentication fails if password contains a semicolon (;)\n - Bug: 176053 - [node] - instanceNumber connection property not supported\n - Bug: 169885 - [node] - Connection pooling\n\n### Underling SQLDBC changes\n\n - Bug: 174651 - [SQLDBC] - Network compression assertions on non-rel builds on distributed system\n - Bug: 168750 - [SQLDBC] - Many transactions were blocked by record locks right after secondary replication was registered, and record locks were never released\n - Bug: 176544 - [SQLDBC] - testJtClientsDistributed table placement should be default\n\n## Version 2.2.53\n\n### Changes\n\n - Bug: 170723 - [node] - crash in dbcapi_get_function_code\n - Bug: 169885 - [node] - Connection pooling\n\n### Underling SQLDBC changes\n\n - Bug: 170954 - [SQLDBC] - The second part can be off by a second for the timestamp output param in a procedure call\n - Bug: 171387 - [SQLDBC] - Trace content removal too aggressive\n - Bug: 174788 - [SQLDBC] - Statement routing not working for batch updates if 1-level part. key in the set-clause\n - Bug: 168697 - [SQLDBC] - DLL Autocommit setting will get lost on reconnect\n - Bug: 163336 - [SQLDBC] - General error;600 failed routed execution: anchor is switched in runtime: line 0 col 0 (at pos 0) after topology changed on SDA source site\n - Bug: 171093 - [SQLDBC] - SQL level tracing should imply DISTRIBUTION tracing but does not\n - Bug: 174161 - [SQLDBC] - DBCAPI reuses previous ResultSet bindings when fetching more results for a multi-resultset query\n\n## Version 2.2.39 (included in Rev 24 ; 2.00.024)\n\n### Changes\n\n - Bug: 169668 - wrong value returned from ResultSet.getValue(N)\n - Bug: 169674 - Main thread blocks when destroying a statement through garbage collector\n - Bug: 168663 - Cannot unset client info\n\n## Version 2.2.37\n\n### Changes\n\n - Bug: 160073 - Cannot create TLS-encrypted connection using certificate string\n - Bug: 167516 - Crash if integer input parameter is given an empty string\n - Bug: 167524 - Crash when iterating an empty result set or a result set is not fully consumed\n - Bug: 167504 - No way to specify multiple hosts for connection\n - Bug: 167517 - Data type 53 incorrect in TypeCode.js\n - Bug: 167531 - Cannot determine if a Connection is connected\n - Bug: 160073 - Cannot create TLS-encrypted connection using certificate string\n - Bug: 167112 - Streaming API -- insert statement returns \"undefined\" result\n\n## Version 2.2.35 (included in Rev 23 ; 2.00.023)\n\n### Changes\n\n - Bug: 162268 - statement options are not supported in statement.exec\n - Bug: 165051 - Coverity CID 140729 - Dereference before null check\n - Bug: 163582 - MDX SELECT is not handled properly\n - Bug: 163070 - clientsBarrier.seq fails - node4 test crashes\n - Bug: 163236 - Failed Client Conti: NodeJS crashing on master\n\n## Version 2.2.34\n\n### Changes\n\n - Bug: 163374 - node driver returns incorrect numbers for large BIGINT\n - Bug: 163375 - node driver returns incorrect unicode strings for NCLOB\n - Bug: 160968 - Failed Client Conti: ADO.NET - ColumnMapping tests fail sporadically but often\n\n## Version 2.2.31\n\n### Changes\n\n - Bug: 162924 - dbcapi crashes when fetching multiple resultsets\n\n## Version 2.2.28 (included in 2.00.022)\n\n### Changes\n\n - Bug: 162265 - end() is not available out-of-the-box\n - Bug: 160083 - Writing a stream from an HTTP IncomingMessage hangs\n - Bug: 160422 - Writing a stream that is not an instance of Readable crashes\n - Bug: 156392 - crash in ResultSet.getValues()\n - Bug: 159735 - Need to know total number of rows returned without fetching each one\n - Bug: 159649 - crash in getInputParameters\n - Bug: 160416 - Need a way to close a stream early\n\n## Version 2.2.27\n\n### Changes\n\n - Bug: 154982 - clients.seq fails - node tests on Windows fail with RC = 65280\n - Bug: 156105 - executing procedure call with CLOB output parameter very slow\n - Bug: 156119 - How to insert data from a stream\n - Bug: 150587 - cannot call stored procedures with named parameters\n\n## Version 2.2.25 (included in 2.00.021)\n\n### Changes\n\n - Bug: 156388 - Readable streams are not implemented correctly\n - Bug: 156389 - ResultSet.close() is not available as an async method\n - Bug: 156133 - Cannot determine if a statement was dropped\n - Bug: 156146 - INOUT parameter gets wrong value and type, depending on input parameter type\n - Bug: 155535 - If no parameters passed to stmt.execQuery, cannot get output parameter values\n - Bug: 156386 - ResultSet.getValues() crashes if connection was closed\n - Bug: 153647 - wrong number of arguments in callback from exec for DDL\n - Bug: 153657 - passing too many parameters should return an error\n - Bug: 153674 - getParameterValue for boolean type returns invalid value\n\n## Version 2.2.24\n\n### Changes\n\n - Bug: 153503 - params for statement.exec (and connection.exec) should not include output parameters\n - Bug: 153506 - Cannot get value for output parameter if no input param provided\n - Bug: 153656 - cannot get value from inout parameter\n - Bug: 153683 - setClientInfo() doesn't work as expected\n\n## Version 2.2.22 (included in 2.00.020)\n\n### Changes\n\n - Bug: 152564 -  Error doesn't have stack trace\n\n## Version 2.2.20 (initial version)\n\n### Changes\n\n - Bug: 152218 - wrong number of arguments in callback of connect\n - Bug: 150564 - \"No more result\" error\n - Bug: 150561 - wrong number of arguments in callback from commit and rollback\n - Bug: 150546 - crash in Connection::setClientInfo()\n - Bug: 150165 - getParameterValue doesn't work\n - Bug: 148776 - node.js client crashes when used in generic-pool with connections in parallel\n - Bug: 148128 - Exception from ExecuteReader when executing select with long case block\n - Bug: 145975 - warnings are (sometimes) fatal\n - Bug: 145953 - APIs are too picky\n - Bug: 145974 - Column metadata unavailable outside of the streaming interface\n - Bug: 145971 - Need isClosed() function on a streaming ResultSet\n - Bug: 145970 - need access to parameter metadata\n - Bug: 145976 - data type codes do not align with protocol/node-hdb\n","downloadsCurrentMonth":460705,"downloadsCurrentFortnight":215276,"downloads365":6246167,"downloadsFortnightGrowth":-4.38,"downloadsHistory":[{"yearMonth":"2023-04","downloads":441729},{"yearMonth":"2023-05","downloads":542402},{"yearMonth":"2023-06","downloads":546466},{"yearMonth":"2023-07","downloads":556121},{"yearMonth":"2023-08","downloads":544610},{"yearMonth":"2023-09","downloads":520064},{"yearMonth":"2023-10","downloads":580141},{"yearMonth":"2023-11","downloads":547099},{"yearMonth":"2023-12","downloads":518976},{"yearMonth":"2024-01","downloads":551116},{"yearMonth":"2024-02","downloads":423181}],"versions":[{"version":"created","date":"2020-01-05T15:14:15.084Z"},{"version":"2.4.171","date":"2020-01-05T15:14:16.128Z"},{"version":"modified","date":"2024-03-19T17:13:44.028Z"},{"version":"2.4.177","date":"2020-01-14T22:39:33.666Z"},{"version":"2.4.182","date":"2020-03-05T14:28:47.224Z"},{"version":"2.4.191","date":"2020-04-01T18:16:08.552Z"},{"version":"2.4.194","date":"2020-04-21T20:01:59.398Z"},{"version":"2.4.162","date":"2020-06-10T17:52:43.409Z"},{"version":"2.4.142","date":"2020-06-10T17:54:00.136Z"},{"version":"2.4.126","date":"2020-06-10T17:54:36.734Z"},{"version":"2.3.130","date":"2020-06-10T17:55:09.228Z"},{"version":"2.4.196","date":"2020-06-10T17:55:46.309Z"},{"version":"2.3.134","date":"2020-06-10T17:56:25.139Z"},{"version":"2.3.123","date":"2020-06-10T17:57:30.074Z"},{"version":"2.4.167","date":"2020-06-10T17:58:02.696Z"},{"version":"2.4.151","date":"2020-06-10T17:59:15.974Z"},{"version":"2.3.21","date":"2020-06-10T17:59:45.274Z"},{"version":"2.3.112","date":"2020-06-10T18:00:12.761Z"},{"version":"2.3.106","date":"2020-06-10T18:00:42.499Z"},{"version":"2.4.144","date":"2020-06-10T18:01:13.610Z"},{"version":"2.3.119","date":"2020-06-10T18:01:46.440Z"},{"version":"2.4.155","date":"2020-06-10T18:02:20.282Z"},{"version":"2.3.144","date":"2020-06-10T18:02:57.131Z"},{"version":"2.4.139","date":"2020-06-10T18:04:11.701Z"},{"version":"2.4.202","date":"2020-06-17T18:37:05.945Z"},{"version":"2.5.86","date":"2020-06-26T13:20:01.902Z"},{"version":"2.5.101","date":"2020-07-10T21:06:37.952Z"},{"version":"2.5.104","date":"2020-07-30T20:45:31.058Z"},{"version":"2.5.105","date":"2020-08-10T21:29:16.809Z"},{"version":"2.5.109","date":"2020-09-03T21:45:33.061Z"},{"version":"2.5.111","date":"2020-09-30T20:12:29.620Z"},{"version":"2.6.54","date":"2020-10-01T20:47:41.923Z"},{"version":"2.6.58","date":"2020-10-20T22:12:26.146Z"},{"version":"2.6.61","date":"2020-11-05T16:52:11.069Z"},{"version":"2.6.64","date":"2020-12-09T16:58:32.439Z"},{"version":"2.7.16","date":"2020-12-17T19:00:27.684Z"},{"version":"2.7.21","date":"2021-01-27T15:18:28.209Z"},{"version":"2.7.23","date":"2021-02-18T16:43:01.923Z"},{"version":"2.7.26","date":"2021-03-15T21:24:52.567Z"},{"version":"2.8.16","date":"2021-04-20T15:11:37.214Z"},{"version":"2.8.20","date":"2021-05-05T14:53:23.259Z"},{"version":"2.8.22","date":"2021-06-07T10:27:33.890Z"},{"version":"2.9.19","date":"2021-07-09T13:35:43.007Z"},{"version":"2.9.23","date":"2021-07-09T16:29:54.607Z"},{"version":"2.9.28","date":"2021-08-04T21:48:52.736Z"},{"version":"2.10.9","date":"2021-09-17T13:48:00.209Z"},{"version":"2.10.13","date":"2021-09-23T14:29:28.098Z"},{"version":"2.10.15","date":"2021-10-15T14:33:55.287Z"},{"version":"2.10.20","date":"2021-11-16T15:15:23.459Z"},{"version":"2.11.14","date":"2021-12-09T16:56:17.413Z"},{"version":"2.11.20","date":"2022-02-17T16:17:55.504Z"},{"version":"2.12.13","date":"2022-03-18T14:49:25.685Z"},{"version":"2.12.20","date":"2022-03-24T19:14:56.321Z"},{"version":"2.12.22","date":"2022-04-20T13:47:01.030Z"},{"version":"2.12.25","date":"2022-05-12T14:45:16.617Z"},{"version":"2.13.13","date":"2022-06-17T15:31:34.056Z"},{"version":"2.13.21","date":"2022-07-05T20:20:50.052Z"},{"version":"2.13.22","date":"2022-07-15T15:18:40.773Z"},{"version":"2.14.18","date":"2022-09-21T07:20:43.560Z"},{"version":"2.14.22","date":"2022-10-18T06:43:18.558Z"},{"version":"2.14.23","date":"2022-11-15T21:23:33.474Z"},{"version":"2.14.24","date":"2022-12-06T15:22:32.380Z"},{"version":"2.15.17","date":"2022-12-15T19:39:21.160Z"},{"version":"2.15.19","date":"2023-01-05T21:20:54.893Z"},{"version":"2.15.22","date":"2023-02-21T16:38:13.411Z"},{"version":"2.16.21","date":"2023-03-17T14:36:26.010Z"},{"version":"2.16.26","date":"2023-04-28T12:40:05.240Z"},{"version":"2.17.14","date":"2023-06-15T17:21:29.160Z"},{"version":"2.17.21","date":"2023-07-07T17:05:03.386Z"},{"version":"2.17.22","date":"2023-07-24T14:03:52.467Z"},{"version":"2.18.22","date":"2023-09-08T13:44:55.145Z"},{"version":"2.18.24","date":"2023-10-05T18:00:34.387Z"},{"version":"2.18.27","date":"2023-11-16T21:07:37.268Z"},{"version":"2.19.18","date":"2023-12-06T15:45:19.037Z"},{"version":"2.19.20","date":"2023-12-13T18:17:38.115Z"},{"version":"2.19.21","date":"2024-01-03T16:10:28.971Z"},{"version":"2.20.15","date":"2024-03-19T17:13:43.557Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-client"},{"name":"hana-database-explorer","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-15T21:55:02.837Z","updatedAt":"2024-03-13T17:12:51.243Z","readme":"# SAP HANA Database Explorer Integration for Visual Studio Code\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"# SAP HANA Database Explorer Change Log\n\n## 1.21.0\n\n### New Features\n- The maximum graph depth can be set for the dependency viewer.\n- The dependency viewer indicates how many objects are shown based on settings like filters and graph depth.\n- The dependency viewer allows saving graph snapshots as an SVG image.\n\n### Fixes\n- The mini map was not showing after graph size is changed in the dependency viewer.\n- User name and password can be saved after entering the credentials for a SQL console or database connection.\n- User name and password will be read from the settings if present and stored in the secure store.\n- The statement execution time was calculated incorrectly in some situations.\n- Improved error messages when loading SAP HANA Database Explorer connections.\n- Empty query parameters were handled incorrectly in some situations.\n\n## 1.20.0\n\n### New Features\n- Object metadata can be displayed from the dependency viewer.\n\n## 1.19.0\n\n### New Features\n- When executing multiple statements in the SQL console, failed executions can be handled individually per statement.\n- Objects in the dependency viewer are grouped by schema. Schemas can be collapsed or expanded to make the graph easier to view.\n- Objects in the dependency viewer can be filtered by object type.\n- HDI containers can be added as local database connections.\n- The metadata of views can be visualized graphically by clicking on a view in the catalog browser.\n- An INSERT statement can be generated for tables via the context menu of the database objects in the catalog browser. The INSERT statement will be opened in a new SQL console.\n- Local database connections can be added by providing the connection information in a JSON format, for example, from a Cloud Foundry service key.\n- Local database connections can be configured to use Kerberos authentication.\n\n### Fixes\n- Scheduler jobs were not loaded correctly.\n\n## 1.18.0\n\n### Fixes\n- Several minor SQL console fixes.\n- Updated SAP HANA clients.\n\n## 1.17.0\n\n### New Features\n- Database objects can be visualized via a dependency viewer.\n- The metadata of procedures and functions can be visualized graphically by clicking on a procedure or function in the catalog browser.\n- The size of large object (LOB) column data in a result set can be configured via the setting \"SAP HANA Database Explorer.LargeObjectSizeLimit\".\n\n### Fixes\n- Opening the data of a table could fail in some scenarios.\n- Opening a SQL console as admin did not work correctly.\n- Fixed a misleading error message when downloading SQL plan files.\n- SQL plan files were not downloaded correctly.\n- The cursor in a SQL console could jump to the end of the text editor in some circumstances.\n- CALL statements generated via the UI are not executed automatically.\n\n## 1.16.0\n\n### New Features\n- This change log is shown after each upgrade.\n\n### Fixes\n- An error could occur if no workspace folder was opened.\n- Significantly reduced the size of the extension.\n\n## 1.15.0\n\n### New Features\n- Database connections can be filtered by name via a dedicated filter functionality in the database list.\n- Database objects can be filtered by name via a dedicated filter functionality in the catalog browser.\n- The database list and the catalog browser support SAP HANA job scheduler objects.\n\n### Fixes\n- SQL plan graphs can directly be opened in the SAP HANA SQL Analyzer extension without needing to save them first.\n- Loading SAP HANA Database Explorer Connections does not require a Cloud Foundry org or space to be set.\n- Available SAP HANA userstore entries are listed correctly when adding a database connection.\n- Long-running SQL statements can be canceled in the SQL console.\n- SAP HANA Database Explorer connections are not shown in the database selection list if they have been disabled via the settings.\n\n## 1.14.0\n\n### Fixes\n- The database list in the SQL console does not show connections in subfolders.\n- Application-managed database connections were not shown in the database tree.\n- Opening a SQL console with an admin connection did not work correctly.\n\n## 1.13.0\n\n### New Features\n- The SQL console is now a custom editor.\n\n### Fixes\n- A hint was added to the catalog browser to indicate if a schema filter is active.\n- Virtual tables are shown with a dedicated icon in the catalog browser to distinguish them from standard tables.\n- When adding a new database connection the \"schema\" parameter is supported in addition to \"currentSchema\" as an advanced option to set the connection's default schema.\n- The SQL console considers the auto save delay.\n\n## 1.12.0\n\n### New Features\n- Data from a result set can be viewed in detail by double-clicking a cell in the result set view.\n\n### Fixes\n- When executing a parameterized statement the value input box could stay enabled even if the NULL value checkbox was checked.\n\n## 1.11.0\n\n### Fixes\n- Generating SELECT statements for tables with ARRAY type columns could fail in some circumstances\n- The option of generating CREATE statements has been removed from database artifact types that do not support generating CREATE statements\n\n## 1.10.0\n\n### Fixes\n- An error could occur when browsing database objects without a schema filter.\n- Large CREATE statements are displayed correctly.\n- The SAP HANA SQL Analyzer extension wasn't found in some circumstances.\n\n## 1.9.0\n\n### New Features\n- A SELECT or CALL statement can be generated for database objects via the context menu of the database objects in the catalog browser. By default the statement will be opened in a new SQL console. As an additional option the statement can be immediately executed via the \"Open Data\" option.\n\n### Fixes\n- CREATE statements are generated correctly for objects with lower-case or mixed-case names.\n\n## 1.8.0\n\n### New Features\n- A SQL console can be opened in administrator mode for SAP HANA Database Explorer HDI container connections.\n\n### Fixes\n- Icons in the database tree could be displayed incorrectly.\n- Database switching was not possible when not logged in to Cloud Foundry.\n- Database objects are now grouped by schema in the catalog browser.\n- The list of schemas in the catalog browser's schema filter is now sorted.\n\n## 1.7.0\n\n### New Features\n- Database selection in the SQL console is now possible across database connection types (local connections, SAP HANA Database Explorer connections).\n- SQL files can be opened directly in the SQL console via \"Open in SAP HANA SQL Console\" from the context menu.\n\n### Fixes\n- Auto-save was not working correctly in the SQL console under certain circumstances.\n- When editing a local database connection the database information could be incomplete.\n- Connections to SAP HANA Database Explorer databases are kept open to reduce the number of reconnects.\n- SAP HANA Data Lake Files connections are displayed correctly in the database list.\n\n## 1.6.0\n\n### New Features\n- The SQL console can execute statements with parameters. When a statement with parameters is encountered, a new tab is shown that allows the user to enter the parameter values and then execute the parameterized statement.\n- The current connection's auto-commit state can be set from the SQL console via an icon in the menu bar.\n- The name and full name (schema + object name) of database objects can be copied to the clipboard via the context menu of the database objects in the catalog browser.\n- A CREATE statement can be generated for database objects via the context menu of the database objects in the catalog browser. By default the CREATE statement will be opened in a new SQL console. As an additional option the CREATE statement can also be copied to the clipboard.\n\n### Fixes\n- The font size of the SQL console can be set via the setting \"editor.fontSize\"\n- Scalar results were not displayed if a statement returned additional result sets\n- The database list displays folders defined for SAP HANA Database Explorer connections\n- The database list displays SAP HANA Data Lake connections in the SAP HANA Database Explorer connection list\n- Performance optimizations for creating database connections\n\n## 1.5.0\n\n### New Features\n- The extension can now be used with local database connections on ARM platforms. Note that the limitations of the SAP HANA \"hdb\" Node.js client apply, i.e. SAP HANA User Store connections are not available\n\n### Fixes\n- Queries that return multiple result sets are displayed correctly\n- The SQL console asks whether to save the current content before opening a file\n- The SQL console auto-save behavior can be controlled via the Visual Studio Code setting \"files.autoSave\". Supported modes are \"off\" and \"afterDelay\". All other values default to \"afterDelay\".\n- The list of SAP HANA Database Explorer connections more closely reflects the list shown in SAP HANA Database Explorer\n- Removed a superflous button in the file overwrite confirmation dialog\n- The SQL console respects the setting \"SAP HANA Database Explorer\" > \"Max Sql Result Size\" for local connections\n\n## 1.4.0\n\n### New Features\n- The catalog browser shows the list of objects. The objects can be filtered by schema. The (filtered) list of objects can be further searched via the standard Visual Studio Code functionality for tree views\n- The SAP HANA Database Explorer on the SAP Business Technology Platform can be opened from each SAP HANA Database Explorer connection\n- The SQL console can open content from and save content to files\n- The list of SAP HANA Database Explorer connections can be hidden via the setting \"SAP HANA Database Explorer\" > \"Show Database Explorer Connections\"\n- Local connections can be added using credentials from the SAP HANA User Store, if installed\n\n### Fixes\n- Fixed a warning that could occur when adding a new local database connection\n- Fixed an issue that could cause local encrypted connection to fail if no certificate was provided\n- The deletion of local database connections has to be confirmed\n- The extension loads correctly on ARM platforms including Apple M1; note that local database connections will not be available on these platforms\n\n## 1.3.4\n\n### Fixes\n- Better error handling if the command \"cf.login\" does not exist\n\n## 1.3.0\n\n### New Features\n- The extension now provides an SQL console that can be used to execute SQL directly from the IDE\n\n## 1.2.0\n\n### Fixes\n- Update dependencies\n\n## 1.1.0\n\n### Fixes\n- Update dependencies\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":4265,"downloadsCurrentFortnight":2363,"downloads365":1461445,"downloadsFortnightGrowth":34.64,"downloadsHistory":[{"yearMonth":"2023-04","downloads":130112},{"yearMonth":"2023-05","downloads":149695},{"yearMonth":"2023-06","downloads":148063},{"yearMonth":"2023-07","downloads":155850},{"yearMonth":"2023-08","downloads":148161},{"yearMonth":"2023-09","downloads":138377},{"yearMonth":"2023-10","downloads":152265},{"yearMonth":"2023-11","downloads":142129},{"yearMonth":"2023-12","downloads":136730},{"yearMonth":"2024-01","downloads":114406},{"yearMonth":"2024-02","downloads":3608}],"versions":[{"version":"created","date":"2020-12-15T21:55:02.837Z"},{"version":"1.0.0","date":"2020-12-15T21:55:03.217Z"},{"version":"modified","date":"2024-03-13T17:12:51.243Z"},{"version":"1.1.0","date":"2021-04-15T09:19:30.677Z"},{"version":"1.2.0","date":"2021-06-11T13:48:07.666Z"},{"version":"1.3.2","date":"2021-12-20T21:16:17.284Z"},{"version":"1.4.1","date":"2022-03-09T20:45:23.652Z"},{"version":"1.5.0","date":"2022-04-04T13:18:05.829Z"},{"version":"1.6.0","date":"2022-06-03T15:04:56.663Z"},{"version":"1.7.0","date":"2022-07-04T14:52:09.680Z"},{"version":"1.8.1","date":"2022-09-13T06:58:42.059Z"},{"version":"1.9.0","date":"2022-10-14T09:45:08.387Z"},{"version":"1.10.1","date":"2022-11-14T08:32:26.676Z"},{"version":"1.11.0","date":"2022-12-07T14:57:32.958Z"},{"version":"1.11.1","date":"2022-12-15T09:56:12.770Z"},{"version":"1.12.0","date":"2023-01-17T10:44:30.665Z"},{"version":"1.13.0","date":"2023-03-09T08:51:43.618Z"},{"version":"1.14.0","date":"2023-04-12T10:58:00.737Z"},{"version":"1.15.0","date":"2023-05-31T15:19:31.601Z"},{"version":"1.16.0","date":"2023-06-30T15:29:13.871Z"},{"version":"1.17.0","date":"2023-08-15T20:13:28.269Z"},{"version":"1.18.1","date":"2023-09-27T20:05:23.960Z"},{"version":"1.19.0","date":"2023-11-13T12:27:32.774Z"},{"version":"1.20.0","date":"2023-12-16T20:57:51.326Z"},{"version":"1.21.0","date":"2024-03-13T17:12:50.773Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-database-explorer"},{"name":"hana-eim-sditools-vscode","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-07-28T23:20:34.576Z","updatedAt":"2023-12-05T19:28:46.369Z","readme":"# SAP HANA Smart Data Integration Editor\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/cc7ebd3f344a4cdda20966a7617f52d8/latest/en-US) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"## 1.1.2\n\n### Fixes\n- feat(JIRA-2137): BAS on-premise dev support for SDI plugin eimtools\n- feat(BUG-312684): Recommend user to use single source per reptask\n- fix(Bug-311262): Realtime checkbox not shown when API call fails\n- feature(HANAEIM20PT-2135): Enable Match transform in HANA Cloud\n- Bug 310429 - reptask partition validation error\n\n## 1.1.1\n\n### Fixes\n- make the virtual table file format editor optional (not default)\n- Fix the message shown upon execution of Flowgraph and Reptask\n- Show the error message in the console when execution was not triggered\n\n## 1.0.8\n\n### Fixes\n- Adaptations for running in VS Code\n- Disable Reorder columns in Realtime Flowgraph Data Source\n\n## 1.0.7\n\n### New Features\n- Add option to Format the content(XML) for Flowgraph\n- Add option to Format the content(XML) for Reptask\n\n### Fixes\n- Partitioning Custom Range does not accept expression\n- Realtime Replication Behavior with restricted structure\n- Expression Editor column name missing double quotes\n\n## 1.0.6\n\n### Fixes\n- Prevent loading galilei libaries multiple times. Remove exposed urls\n- Task execution cancelled after closing browser\n- custom parameter fail to open with single option\n\n## 1.0.5\n\n### Fixes\n- Change open editor priority for File Format Editor\n\n## 1.0.4\n\n- Initial release\n","downloadsCurrentMonth":506,"downloadsCurrentFortnight":213,"downloads365":1564,"downloadsFortnightGrowth":-24.2,"downloadsHistory":[{"yearMonth":"2023-04","downloads":34},{"yearMonth":"2023-05","downloads":4},{"yearMonth":"2023-06","downloads":19},{"yearMonth":"2023-07","downloads":20},{"yearMonth":"2023-08","downloads":28},{"yearMonth":"2023-09","downloads":19},{"yearMonth":"2023-10","downloads":115},{"yearMonth":"2023-11","downloads":23},{"yearMonth":"2023-12","downloads":139},{"yearMonth":"2024-01","downloads":339},{"yearMonth":"2024-02","downloads":443}],"versions":[{"version":"created","date":"2021-07-28T23:20:34.576Z"},{"version":"1.0.5-1","date":"2021-07-28T23:20:35.043Z"},{"version":"modified","date":"2023-12-05T19:28:46.369Z"},{"version":"1.0.6","date":"2021-12-07T20:01:43.995Z"},{"version":"1.0.6-rc02","date":"2021-12-09T18:46:37.494Z"},{"version":"1.0.6-2","date":"2021-12-09T21:30:07.327Z"},{"version":"1.0.6-3","date":"2021-12-10T16:45:09.520Z"},{"version":"1.0.7","date":"2022-07-01T07:35:29.719Z"},{"version":"1.0.7-2","date":"2022-07-18T18:35:27.451Z"},{"version":"1.0.8-2","date":"2022-09-30T22:00:19.603Z"},{"version":"1.0.8-3","date":"2022-10-24T19:06:17.787Z"},{"version":"1.1.2","date":"2023-12-05T19:28:46.165Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-eim-sditools-vscode"},{"name":"hana-performance-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-01-06T09:42:12.726Z","updatedAt":"2023-10-10T12:41:06.670Z","readme":"# SAP HANA SQL Analyzer for Visual Studio Code\n\n[![code style: prettier](https://img.shields.io/badge/code_style-prettier-ff69b4.svg?style=flat-square)](https://github.com/prettier/prettier)\n[![tested with jest](https://img.shields.io/badge/tested_with-jest-99424f.svg?logo=jest)](https://github.com/facebook/jest)\n\nHANA SQL Analyzer for Visual Studio Code is a brand new software that we are developing from the scratch to help users analyze the performance of HANA SQL queries. This repository will be the only single source for the development plan, code, development status, release information, downloadable package, analysis know-hows, and bug reporting.\n\n## Why Another SQL Analysis Tool?\n\nFirst of all, you might have a question why we are developing another tool in addtion to the existing PlanViz in Studio and SQL Analyzer in HANA Cockpit. Some answers are:\n\n- Bascially it is to make developers happier (developer experience).\n- With the deprecation of Studio, we couldn't bring new features anymore to PlanViz in Studio.\n- New WebIDE (official name: [SAP Business Application Studio](https://help.sap.com/viewer/p/SAP%20Business%20Application%20Studio)) is built on [Eclipse Theia](https://theia-ide.org/), which is based on [Visual Studio Code](https://code.visualstudio.com/), which is based on [Electron.js](https://electronjs.org/) new cross platform to build web-based desktop apps, which is based on Google Chrome(actually [Chromium](https://www.chromium.org/)) browser and [Node.js](https://nodejs.org/). So, VSCode extension app can be plugged into new WebIDE, which is aligned with new developer tooling strategy for both cloud and on-prem.\n- PlanViz has been built in 2011, and it required big refactoring to accomodate multiple SQL engines. We decided to build from the scratch for this major change.\n\n## Features\n\nSQL Analyzer for Visual Studio Code is still under heavy development. Here are some highlighted features:\n\n- Live connection support (Note: connection details will be stored in [SecretStorage](https://code.visualstudio.com/updates/v1_53#_secrets-api).)\n- Load multiple PLV files and keep the history\n- Visualize query plans in PLV into plan graph\n- Quick analysis support\n- Critical path visualization\n- Bookmark and sharing (Note: Personal data can be anonymized and the comments can be deleted by users.)\n- Recommendations\n- SQL Plan Execution Monitor for real-time analysis\n- Advanced UX\n\n## How To Install\n\n1. Install [Visual Studio Code](https://code.visualstudio.com) if not installed already (>= 1.53.0 is required because the extension is relying on the APIs from that version).\n1. Open VSCode and click Extensions tab (puzzle icon) from the left side menu bar\n1. Search for 'SAP HANA SQL Analyzer' and install Visual Studio Code Extension file (vsc-extension-sa-<ver>.vsix) of this new SQL Analyzer from [VSCode Marketplace](https://marketplace.visualstudio.com/items?itemName=SAPSE.vsc-extension-sa).\n1. Once the installation is completed, the new SQL Analyzer icon will be added in the left side menu.\n\n## How To Use\n\n1. Go to SQL Analyzer extension (by clicking the last extension icon from the left side menu)\n1. Click (+) icon from the top PLAN GRAPHS section in the left side panel.\n1. Select a PLV file from the file open dialog to show the visualized plan.\n\n## Documentation\n\n[SQL Analyzer Extension](https://help.sap.com/docs/HANA_SQL_ANALYZER) - SAP Help Portal\n\n## Feedbacks\n\nPlease provide your feedback through [ServiceNow](https://itsm.services.sap/now/workspace/agent/record/u_sap_component/b1b0603e1bb3d4d0ddab74049b4bcbda/params/selected-tab-index/3) using the component HAN-BAS-SA.","changelog":"## 1.3.18\n### Overview Tab (Enhanced)\n- Removed the bar graph that previously visualized \"Compilation Time\", \"Execution Time\", or \"CPU Time\" in the Execution Summary card. Instead, these time values are now presented as numerical values under the titles: \"Compilation Time\", \"Execution Time (Elapsed)\", and \"Execution Time (CPU)\", respectively. This enhancement improves the clarity of time-related information in the Execution Summary card.\n- Added tooltips to the “Execution Time (Elapsed)” and “Execution Time (CPU)” entries in the Execution Summary card. These tooltips offer additional explanations upon clicking, ensuring that users can access detailed information within the tool.\n- Enhanced the display of bar graph color in the Dominant Plan Operators card. Previously, the color remained consistent regardless of the selected time mode. However, it's now dynamically presented based on the chosen time mode. In Inclusive Wall Time mode, the self-execution time is represented in red, while in CPU Time mode, it appears in yellow. This alignment also mirrors the way execution time is depicted on the Plan Graph.\n- Updated the system response when the thread limit is exceeded during query execution. A more relevant explanation is now displayed in the “SQL Performance Recommendations” card of the Overview tab. The original message has been revised, and distinct messages are now shown depending on whether the peak thread limit is associated with the workload class setting or the default_statement_concurrency_limit, along with relevant SAP Note link.\n\n### Plan Graph Tab (Enhanced)\n- Adjusted the CPU time bar chart size in the Plan Graph to be based on the total query execution CPU time rather than the physical container CPU time. This makes it easier to compare time values across different nodes.\n- Enhanced the time bar in our node interface and sidebar for HEX plans, offering comprehensive insights into query execution times. The time bar now includes both the operator's CPU time (yellow) and the physical operator group CPU time (light blue), making it easier for you to identify the most time-consuming aspects of your queries.\n\n### Timeline Tab (Enhanced)\n- In the HEX query plan, the timeline tab now displays “Pop” instead of “Open” for executed operations in CPU Time mode, enhancing consistency and clarity in representing operations.\n\n### Bug Fixes\n- Fixed an issue where the Re-Execute feature in the SQL Tab wasn't functioning properly. Furthermore, you'll soon be able to use the re-execute feature with the HRTT connection once the new version of the SAP HANA database explorer is released.\n\n## 1.3.16\n- The node colors in the Plan Graph have been changed to improve readability.\n- Fixed an issue where the session context information of the inner plan was not being displayed in the SQL tab.\n- The following improvements and bug fixes have been made in the Timeline view:\n  - Enhanced hover pop-up design for improved readability.\n  - Fixed an issue where navigating to the operator tree column was not functioning when selecting an operator from the Top 5 Dominant Operators or Top 10 Critical Path Operators in the Sidebar.\n  - Fixed an issue where the width of the operator tree column was not adjustable, allowing users to change the column width as needed.\n\n## 1.3.14\n- The Plan Graph remains accessible for files that are too large to open because of an excessive number of operators. However, the critical path and timeline information will not be displayed.\n- \"Not Started\" operators are now displayed in the Plan Graph and offer more visibility into the execution plan.\n- The exclusive time in the Plan Graph now precisely reflects the execution plan’s time values with no recalculation.\n- This release features the following enhancements and bug fixes for the Timeline view:\n  - The Timeline view now shows a yellow-highlighted line to easily distinguish the selected row/operator.\n  - Fixed an issue where the operator tree table and the timeline chart were not properly displayed.\n  - Fixed an issue with expanding and scrolling through the operator tree table.\n  - Fixed an issue with navigating to an operator in the Plan Graph from the Timeline view.\n\n## 1.3.12\n\n### New Features\n\n- The design of the plan graph side panel has been enhanced.\n- The property of an operator is now displayed in the side panel.\n- The color used for CPU time has changed.\n- The operator color used for real-time running statements has changed.\n- The HANA DB Connections extension has been deprecated. The SQL Analyzer now integrates with the SAP HANA Database Explorer extension (https://marketplace.visualstudio.com/items?itemName=SAPSE.hana-database-explorer).\n\n### Fixes\n\n- The SQL Analyzer was not activated on M1 MacBook.\n\n## 1.3.10\n\n### New Features\n\n- A progress bar has been added for post-processing.\n- All tabs are now shown on the property pane by default.\n- A new SQL Analyzer view is shown when a PLV file is opened through the file menu or by dragging.\n- More information is provided for inner plans of SQLScript (for example, compilation summary, peak memory, and so on).\n\n### Fixes\n\n- Logical inner plan of column search did not open.\n- Several PLV files were hanging and did not open.\n\n## 1.3.8\n\n### Fixes\n\n- Fixed a SQL Comparison issue of Plan Comparison Report\n- Stop/Start automatic data refresh works depends on the status of tab(select/hide/close)\n\n### 1.3.6\n\n- Support SQL Plan execution monitor\n- Improve planGraph layout\n- Enable skipping timeline in configuration\n\n### 1.3.4\n\n- Support real-time analysis\n- Support plan comparison report\n\n### 1.3.0\n\n- Improve layout algorithm\n- Upgrade timeline chart library to prevent vulnerability\n\n### 1.2.20\n\n- Fix plv parsing pausing issue when it has jeReduction plan\n\n### 1.2.16\n\n- Restore badge displaying, file exporting feature\n- Fix config panel option selection issue\n\n### 1.2.12\n\n- Replace parser from node-expat to sax\n- Enable column filter and search feature in operator list\n\n### 1.2.10\n\n- Supprot electron v13 for Mac\n\n### 1.2.8\n\n- Recover lost edges in specific cases\n\n### 1.2.4\n\n- Support electron v13 which is enabled from vscode 1.59\n\n### 1.2.2\n\n- Provide CPU Time based analysis for HEX Plan.\n- Support side panel to describe node/edge properties. Callout is deprecated\n- Auto expanding initial nodes when opening plv file.\n- Allow plv extension to export plangraph.\n- Support SessionVariable tag parsing. It will be shown in SQL pane.\n\n### 1.1.9\n\n- For VScode market place\n- -Update TimelineChart to handle multiple compile time that each innper plan has.\n- -Support file export of inner plan with communication data.\n- -Filter access table which shows outmost operator among same table name\n\n### 1.0.3\n\n- First official release\n","downloadsCurrentMonth":2830,"downloadsCurrentFortnight":1324,"downloads365":536467,"downloadsFortnightGrowth":-5.36,"downloadsHistory":[{"yearMonth":"2023-04","downloads":45715},{"yearMonth":"2023-05","downloads":51654},{"yearMonth":"2023-06","downloads":51768},{"yearMonth":"2023-07","downloads":51664},{"yearMonth":"2023-08","downloads":56289},{"yearMonth":"2023-09","downloads":56066},{"yearMonth":"2023-10","downloads":59082},{"yearMonth":"2023-11","downloads":54088},{"yearMonth":"2023-12","downloads":48603},{"yearMonth":"2024-01","downloads":43048},{"yearMonth":"2024-02","downloads":3214}],"versions":[{"version":"created","date":"2021-01-06T09:42:12.726Z"},{"version":"0.1.5","date":"2021-01-06T09:42:14.700Z"},{"version":"modified","date":"2023-10-10T12:41:06.670Z"},{"version":"1.0.10","date":"2021-02-22T13:29:08.371Z"},{"version":"1.0.12","date":"2021-03-18T08:49:54.247Z"},{"version":"1.1.6","date":"2021-04-09T07:40:05.549Z"},{"version":"1.1.8","date":"2021-05-10T07:30:48.049Z"},{"version":"1.1.14","date":"2021-05-15T03:45:14.360Z"},{"version":"1.2.4","date":"2021-08-02T07:16:25.587Z"},{"version":"1.2.3","date":"2021-08-03T00:27:05.966Z"},{"version":"1.2.6","date":"2021-08-03T05:32:53.017Z"},{"version":"1.2.25","date":"2021-10-18T02:21:02.504Z"},{"version":"1.2.26","date":"2021-10-19T01:57:39.949Z"},{"version":"1.3.0","date":"2021-12-10T06:49:18.283Z"},{"version":"1.3.4","date":"2022-01-19T08:41:25.157Z"},{"version":"1.3.6","date":"2022-04-07T05:43:35.356Z"},{"version":"1.3.8","date":"2022-05-17T04:37:57.252Z"},{"version":"1.3.10","date":"2022-09-26T15:43:57.474Z"},{"version":"1.3.12","date":"2022-10-21T06:52:15.807Z"},{"version":"1.3.14","date":"2023-02-06T13:22:43.231Z"},{"version":"1.3.16","date":"2023-05-23T10:54:53.916Z"},{"version":"1.3.18","date":"2023-10-10T12:41:06.462Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-performance-tools"},{"name":"hana-project-explorer","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-03-10T13:17:45.496Z","updatedAt":"2024-03-13T17:12:32.405Z","readme":"# SAP HANA Project Explorer for Visual Studio Code\n\n## Installation\n\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"## 1.20.0\n\n### New Features\n\n- A SQL console can be opened for database modules\n- Roles on a bound HDI container can be granted via a graphical wizard\n- An SAP HANA-specific welcome page with useful information about SAP HANA development is displayed on startup\n\n### Fixes\n\n- Changes saved during deployment are not considered\n\n## 1.19.0\n\n### New Features\n\n- Schema privileges on a bound HDI container can be granted via a graphical wizard\n\n### Fixes\n\n- The location ID for XSA connections was determined incorrectly\n- The artifact recovery wizard works with XSA projects\n- Track which application has originally generated the calculation view XML\n- A confirmation message is shown after creating an HDI container service instance\n- The cloud foundry login screen may incorrectly be opened for an XSA project\n\n## 1.18.0\n\n### New Features\n\n- HDI service instances can be created via a wizard.\n\n### Fixes\n\n- The deployment status of files changed during a deployment is set correctly\n\n## 1.17.0\n\n### New Features\n\n- Bound modules in an XS Advanced development scenario can be opened in the Database Explorer\n\n### Fixes\n\n- Fixed the names of the available database versions\n- Artifact recovery works when bound to a schema service\n- The deployment status of files changed during a deployment is set correctly\n\n## 1.16.0\n\n### New Features\n\n- New database connections can be bound to application-managed service instances\n- The artifact creation wizard supports enterprise search configurations (hdbeshconfig)\n- Database connections can be deleted from the SAP HANA PROJECTS tab\n\n### Fixes\n\n- The list of HDI containers in a service manager instance could be empty in BAS\n- Binding a target container to a schema service should not be possible\n- Fixed a bug in the HDI deployer version check\n\n## 1.15.0\n\n### New Features\n\n- A warning is issued if a project is using an outdated HDI deployer version\n- The artifact creation wizard supports application-time and system versioned tables\n\n### Fixes\n\n- CAP projects without CDS files are displayed correctly\n- The SAP HANA Database Explorer URL is calculated correctly if a custom URL is configured\n\n## 1.14.0\n\n### New Features\n\n- The deployment sets the \"stop_on_error\" parameter to collect as many errors as possible\n- The \"Add database connection\" wizard allows binding to a \"schema\" service\n- Database modules can be bound to application-managed services\n\n### Fixes\n\n- CAP project improvements\n- The deployment state is set correctly for CAP projects\n\n## 1.13.0\n\n### New Features\n\n- Deployment traces can be configured via a setting\n- Scheduler jobs (hdbschedulerjob) can be created by the artifact creation wizard\n- Schema service instances can be bound to non-target modules\n\n### Fixes\n\n- Supported file suffixes are considered case-insensitive\n- Unable to create virtual table using virtual table editor in BAS for RMS remote source\n\n## 1.12.0\n\n### Fixes\n\n- An error could occur if a virtual table file was opened after it was created via the artifact creation wizard\n- Artifact creation wizard doesn't detect project if hidden folders are present\n- The getting started scenario doesn't open\n- The .env file variable expansion incorrectly expands simple variables\n\n## 1.11.0\n\n### Fixes\n\n- Disable tracking via SAP Web Analytics\n- Resolve placeholders in .env files\n- Virtual Table Editor with setting Auto save: afterDalay - causes text to be deleted while typing\n- Support Mode Export hits an error \"NO REMOTE DATA option\"\n\n## 1.10.0\n\n### New Features\n\n- The virtual table editor was renamed from \"Advanced Virtual Table Editor\" to \"Virtual Table Editor\"\n\n### Fixes\n\n- Fixed a typo in the guided development scenario\n- The virtual table editor did not work correctly with the SDI HanaAdapter\n- The virtual table editor did not escape identifiers correctly\n- The virtual table editor did not use the correct database connection in some scenarios\n\n## 1.9.0\n\n### New Features\n\n- When working with migration tables the project explorer can automatically set the development mode\n\n### Fixes\n\n- Files from tree are opened in text the graphical editor in VS Code\n- Adjustments for the Cloud Foundry CLI version 8\n- The advanced virtual table editor did not show the data correctly in some scenarios\n\n## 1.8.0\n\n### New Features\n\n- Resources of type \"org.cloudfoundry.managed-service\" are supported as database modules\n- The SAP HANA Cloud, SAP HANA Database Deployment Infrastructure (HDI) Reference guide can be opened from each HDI artifact editor\n\n### Fixes\n\n- The getting started wizard creates the calculation view of the correct type\n- The new virtual table editor can edit virtual table files specifying advanced options\n- The images of the getting started wizard are shown correctly\n\n## 1.7.0\n\n### New Features\n\n- Artifacts can be reverse-engineered into the workspace from the deployed artifacts of an HDI container exposed as a user-provided service.\n- New editor for virtual tables\n- A procedure grantor can be created when adding a new database connection\n\n### Fixes\n\n- The extension description was not shown correctly\n- The database ID can be entered manually when running a support-mode import\n\n## 1.6.0\n\n### New Features\n\n- A warning is displayed if services bound to a database modules do not match the database ID defined in the mta.yaml file.\n- Artifacts can be reverse-engineered into the workspace from the deployed artifacts of an HDI container.\n- Multiple files can be deployed at the same time.\n- The deployment state of a database module can be synchronized with the deployment state from the database\n- The database artifact creation and guided development are now part of the project explorer extension.\n\n## 1.5.0\n\n### New Features\n\n- A database module can be bound to a user-provided service\n- A warning is displayed if services bound to a database modules do not match the current Cloud Foundry space. Users can choose to automatically unbind these services via a setting.\n\n### Fixes\n\n- Improved the UI for creating a new database connection\n- Improved validation of service instance names when creating a new database connection\n- Don't show services that are already bound when creating a new database connection\n\n## 1.4.0\n\n### New Features\n\n- Support Mode Export: for troubleshooting purposes database artifacts can be selectively exported to be analyzed individually\n- Create an hdbgrants file when adding a user provided service as a new database connection\n\n### Fixes\n\n- Show more information in the warning message when binding a module to a service\n- Fix an issue where the SAP HANA Database Explorer could not be opened\n\n## 1.3.0\n\n### New Features\n\n- The bind operation considers the schema name of the service to be bound to determine whether to show the confirmation dialogs\n\n### Fixes\n\n- An error message is shown if a service can't be bound because of an invalid MTA configuration\n\n## 1.2.0\n\n### New Features\n\n- Multiple services can be bound or unbound via a single button\n- A warning is displayed if .env files are not included in a module's .gitignore file\n\n## 1.1.0\n\n### New Features\n\n- A new option for binding to the default service is shown when binding a module to a service\n\n### Fixes\n\n- Binding a module works if the module name is different from the module path\n\n## 1.0.0\n\n### New Features\n\n- Warn when binding a module to an existing service\n- Add a setting for clearing the deployment log when a new deployment is started\n- The database connection details can be validated when adding a new database connection to a project\n- Confirm if auto-undeploy should be disabled when binding to an existing container\n- HDI configuration files are shown in the file tree\n\n### Fixes\n\n- Improved error message if a service already exists\n","downloadsCurrentMonth":3251,"downloadsCurrentFortnight":1751,"downloads365":873906,"downloadsFortnightGrowth":26.7,"downloadsHistory":[{"yearMonth":"2023-04","downloads":76637},{"yearMonth":"2023-05","downloads":86513},{"yearMonth":"2023-06","downloads":86037},{"yearMonth":"2023-07","downloads":86682},{"yearMonth":"2023-08","downloads":90911},{"yearMonth":"2023-09","downloads":89359},{"yearMonth":"2023-10","downloads":94969},{"yearMonth":"2023-11","downloads":87328},{"yearMonth":"2023-12","downloads":79298},{"yearMonth":"2024-01","downloads":68268},{"yearMonth":"2024-02","downloads":2935}],"versions":[{"version":"created","date":"2022-03-10T13:17:45.496Z"},{"version":"1.1.1","date":"2022-03-10T13:17:46.595Z"},{"version":"modified","date":"2024-03-13T17:12:32.405Z"},{"version":"1.2.0","date":"2022-04-05T08:39:10.249Z"},{"version":"1.3.0","date":"2022-05-10T07:26:21.229Z"},{"version":"1.4.0","date":"2022-06-03T14:45:47.265Z"},{"version":"1.5.0","date":"2022-07-04T14:49:37.669Z"},{"version":"1.6.0","date":"2022-09-08T07:07:26.311Z"},{"version":"1.7.0","date":"2022-09-25T19:32:57.451Z"},{"version":"1.8.0","date":"2022-10-14T11:24:13.386Z"},{"version":"1.9.1","date":"2022-11-14T08:27:52.002Z"},{"version":"1.10.0","date":"2022-12-08T09:07:05.374Z"},{"version":"1.10.1","date":"2022-12-21T12:26:53.445Z"},{"version":"1.11.0","date":"2023-01-17T14:24:48.522Z"},{"version":"1.12.0","date":"2023-03-09T08:51:39.915Z"},{"version":"1.12.1","date":"2023-03-14T16:42:17.601Z"},{"version":"1.12.2","date":"2023-03-22T15:50:59.446Z"},{"version":"1.13.0","date":"2023-04-12T10:58:13.605Z"},{"version":"1.14.0","date":"2023-06-01T08:33:38.407Z"},{"version":"1.15.0","date":"2023-07-03T08:05:32.284Z"},{"version":"1.16.0","date":"2023-08-14T20:16:12.519Z"},{"version":"1.17.1","date":"2023-09-27T20:06:15.189Z"},{"version":"1.18.0","date":"2023-11-13T12:27:18.053Z"},{"version":"1.19.0","date":"2023-12-16T20:57:49.238Z"},{"version":"1.20.0","date":"2024-03-13T17:12:31.887Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-project-explorer"},{"name":"hana-sqlscript-lsp","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-16T19:13:15.349Z","updatedAt":"2024-03-13T17:13:17.093Z","readme":"# HANA SQLScript - Language Services\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"## 1.13.0\n\n### Fixes\n- Fixed an incorrect warning about the \"target_table\" property in hdbtabledata files\n\n## 1.12.0\n\n### Fixes\n- Minor bug fixes\n\n## 1.11.0\n\n### Fixes\n- Fixed some inaccuracies in error messages\n\n## 1.10.0\n\n### Fixes\n- Add syntax highlighting for Scheduler Jobs (hdbschedulerjob)\n\n## 1.9.0\n\n### Fixes\n- Update language server and client libraries\n\n## 1.8.0\n\n### Fixes\n- Quoted values in .env files are parsed correctly\n\n## 1.7.0\n\n### Fixes\n- Validation for hdbgrants files allows multiple grantor services\n\n## 1.6.0\n\n### New Features\n- JSON artifacts provide tag descriptions\n- JSON syntax validation for hdbtabledata and hdblogicalschemaconfig files\n\n### Fixes\n- Adjustments for the changed publisher of the SAP HANA Database Explorer extension\n\n## 1.5.0\n\n### Fixes\n- Add global object privileges to hdbrole JSON validation\n\n## 1.4.0\n\n### Fixes\n- Fix JSON validation of hdbgrants files\n- Always use the target container for code suggestions and validation if multiple containers are configured\n\n## 1.3.0\n\n### Fixes\n- Ignore control characters in SQLScript auto-completion\n- Improve auto-completion suggestions\n\n## 1.2.0\n\n### Fixes\n- Change settings section from \"SapHanaSqlScriptLsp\" to \"SAP HANA SQLScript LSP\"\n- Fix syntax validation and auto-completion for several JSON-based database artifacts\n- Add syntax highlighting for Document Store Collections (hdbcollection)\n\n## 1.1.0\n\n### New Features\n- JSON schema validation for JSON-based database artifacts\n\n### Fixes\n- Fixed SQLScript auto-completion when using SQLScript variables\n- Fix formatting of non-keyword literals\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":3544,"downloadsCurrentFortnight":1780,"downloads365":878530,"downloadsFortnightGrowth":8.94,"downloadsHistory":[{"yearMonth":"2023-04","downloads":76486},{"yearMonth":"2023-05","downloads":87779},{"yearMonth":"2023-06","downloads":87268},{"yearMonth":"2023-07","downloads":86674},{"yearMonth":"2023-08","downloads":90885},{"yearMonth":"2023-09","downloads":90499},{"yearMonth":"2023-10","downloads":94814},{"yearMonth":"2023-11","downloads":87920},{"yearMonth":"2023-12","downloads":79278},{"yearMonth":"2024-01","downloads":68258},{"yearMonth":"2024-02","downloads":3679}],"versions":[{"version":"created","date":"2020-12-16T19:13:15.349Z"},{"version":"1.0.1","date":"2020-12-16T19:13:15.824Z"},{"version":"modified","date":"2024-03-13T17:13:17.093Z"},{"version":"1.1.0","date":"2021-03-15T10:06:15.761Z"},{"version":"1.2.0","date":"2021-06-11T13:48:49.649Z"},{"version":"1.3.0","date":"2021-07-28T21:29:31.897Z"},{"version":"1.4.0","date":"2021-09-10T11:41:57.116Z"},{"version":"1.5.0","date":"2021-10-18T15:39:04.813Z"},{"version":"1.6.0","date":"2022-03-09T20:41:36.065Z"},{"version":"1.7.0","date":"2022-06-03T14:45:30.851Z"},{"version":"1.8.0","date":"2022-09-08T07:08:28.023Z"},{"version":"1.9.0","date":"2023-03-09T08:53:25.581Z"},{"version":"1.10.0","date":"2023-04-12T10:58:56.868Z"},{"version":"1.11.0","date":"2023-08-14T09:40:14.658Z"},{"version":"1.12.0","date":"2023-12-16T20:57:26.127Z"},{"version":"1.13.0","date":"2024-03-13T17:13:16.632Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-sqlscript-lsp"},{"name":"hana-tooling-feature-toggles","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-14T09:11:12.920Z","updatedAt":"2023-08-14T21:37:05.006Z","readme":"# @sap/hana-tooling-feature-toggles\nA node library for checking feature toggles. It gives you the option to create standard feature toggles and also feature toggles for Visual Studio Code commands.\n\n## Usage\n\n### Instantiation\n\nCreate an instance managing your feature toggles. The first parameter has to be either a JSON object or a string. The second parameter is the name of your Visual Studio Code extension (optional) if you want to enable / disable Visual Studio Code commands. The third parameter is a Visual Studio Code API object (optional).\nDepending on the type of your first parameter the module will\na) directly use the provided feature toggles.\nb) check if the string is stringified JSON.\nc) try to read the file at the provided path.\n\nPure Node.js:\n\n```javascript\n    // With JSON parameter.\n    import FeatureToggles = require(\"@sap/hana-tooling-feature-toggles\");\n    const myFeatures = {\n        \"featureToggles\": [\n            {\n                \"name\": \"helloworld\",\n                \"status\": \"released\"\n            }\n        ]\n    };\n    const FeatureToggleInstance = new FeatureToggles(myFeatures);\n```\n```javascript\n    // With string parameter.\n    import FeatureToggles = require(\"@sap/hana-tooling-feature-toggles\");\n    const FeatureToggleInstance = new FeatureToggles(__dirname + \"/../features.json\");\n```\n```javascript\n    // With stringified JSON parameter.\n    import FeatureToggles = require(\"@sap/hana-tooling-feature-toggles\");\n    const myFeatures = {\n        \"featureToggles\": [\n            {\n                \"name\": \"helloworld\",\n                \"status\": \"released\"\n            }\n        ]\n    };\n    const featureString = JSON.stringify(myFeatures);\n    const FeatureToggleInstance = new FeatureToggles(featureString);\n```\n\n\nVisual Studio Code:\n\n```javascript\n    const vscode = require( 'vscode' );\n    import FeatureToggles = require(\"@sap/hana-tooling-feature-toggles\");\n    const FeatureToggleInstance = new FeatureToggles(__dirname + \"/../features.json\", \"featuretoggletest\", vscode);\n```\n\nThe structure of your JSON object / file (first parameter) should be:\n\n```json\n{\n    \"featureToggles\": [\n        {\n            \"name\": \"helloworld\",\n            \"status\": \"released\"\n        },\n        {\n            \"name\": \"helloworlddisabled\",\n            \"status\": \"dev\"\n        },\n        {\n            \"name\": \"helloworldqa\",\n            \"status\": \"candidate\"\n        }\n    ]\n}\n```\n\nThe name is the unique identifier of your feature and the status determines whether it is in development, a candidate for release or a released feature.\n\n### API\n\n```javascript\n    FeatureToggles.isFeatureEnabled(\"featureToggleName\")\n```\n\nThis function checks if the feature 'featureToggleName' is enabled inside your specified .json file for feature toggles:\n- If the feature is enabled (for example 'helloworld' in the code above), it will return true.\n- If the feature is disabled (for example 'helloworlddisabled' in the code above), it will call _isFeatureQaEnabled(\"featureToggleName\") and return the internal result.\n\n```javascript\n    FeatureToggles.isCommandEnabled(\"featureToggleName\")\n```\n\nThis function should only be used if you are developing a Visual Studio Code extension and want to set feature toggles for commands. It will work like '.isFeatureEnabled(\"featureToggleName\")' with the difference that it will set a Visual Studio Code context variable which makes the command visible to the user.\n\nThe set Visual Studio Code context variable will be:\n```javascript\n    \"extensionName:featureToggleName\"\n```\n\nSo the package.json file of your extension should contain the following structure:\n\n```javascript\n\t\"contributes\": {\n\t\t\"commands\": [\n\t\t\t{\n\t\t\t\t\"command\": \"extensionName.commandName\",\n\t\t\t\t\"title\": \"Hello World (enabled)\"\n\t\t\t}\n\t\t],\n\t\t\"menus\": {\n\t\t\t\"commandPalette\": [\n\t\t\t\t{\n\t\t\t\t\t\"command\": \"extensionName.commandName\",\n\t\t\t\t\t\"when\": \"extensionName:featureToggleName1\"\n                }\n            ],\n            \"editor/context\": [\n                {\n\t\t\t\t\t\"command\": \"extensionName.commandName\",\n\t\t\t\t\t\"when\": \"extensionName:featureToggleName2\"\n\t\t\t\t}\n            ]\n        }\n    }\n```\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"## 1.3.0\n\n### New Features\n-  Add fallback to Node.js fs module if available\n\n### Fixes\n- Feature toggle checks could fail if the QA extension is not active\n\n## 1.2.0\n\n### New Features\n-  Add an explicit parameter for controlling the feature level\n\n## 1.1.0\n\n### New Features\n-  Support passing feature toggles as an object\n\n## 1.0.1\n\n### Fixes\n- Add type declarations\n\n## 1.0.0\n\nInitial release\n","downloadsCurrentMonth":23669,"downloadsCurrentFortnight":20875,"downloads365":1545563,"downloadsFortnightGrowth":701.04,"downloadsHistory":[{"yearMonth":"2023-04","downloads":137599},{"yearMonth":"2023-05","downloads":157510},{"yearMonth":"2023-06","downloads":172572},{"yearMonth":"2023-07","downloads":172326},{"yearMonth":"2023-08","downloads":183143},{"yearMonth":"2023-09","downloads":180208},{"yearMonth":"2023-10","downloads":188779},{"yearMonth":"2023-11","downloads":134669},{"yearMonth":"2023-12","downloads":80320},{"yearMonth":"2024-01","downloads":70391},{"yearMonth":"2024-02","downloads":5095}],"versions":[{"version":"created","date":"2020-12-14T09:11:12.920Z"},{"version":"1.0.0","date":"2020-12-14T09:11:13.321Z"},{"version":"modified","date":"2023-08-14T21:37:05.006Z"},{"version":"1.0.1","date":"2022-01-27T08:19:39.448Z"},{"version":"1.1.0","date":"2022-06-27T09:34:40.694Z"},{"version":"1.3.0","date":"2023-08-14T21:37:04.817Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-tooling-feature-toggles"},{"name":"hana-xs-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-08-16T11:18:15.687Z","updatedAt":"2023-11-13T09:52:25.110Z","readme":"# XS Tools for Visual Studio Code\n\n## Installation\n\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\n\n\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"## 1.1.0\n\n### New Features\n\n- The current status of the XSA connectivity is shown in the status bar\n\n## 1.0.0\n\n### New Features\n\n- Initial release\n","downloadsCurrentMonth":2620,"downloadsCurrentFortnight":1224,"downloads365":120765,"downloadsFortnightGrowth":-5.77,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":3854},{"yearMonth":"2023-09","downloads":15707},{"yearMonth":"2023-10","downloads":22826},{"yearMonth":"2023-11","downloads":25474},{"yearMonth":"2023-12","downloads":26021},{"yearMonth":"2024-01","downloads":22366},{"yearMonth":"2024-02","downloads":2621}],"versions":[{"version":"created","date":"2023-08-16T11:18:15.687Z"},{"version":"1.0.0","date":"2023-08-16T11:18:16.128Z"},{"version":"modified","date":"2023-11-13T09:52:25.110Z"},{"version":"1.1.0","date":"2023-11-13T09:52:24.886Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hana-xs-tools"},{"name":"hdbext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:20:18.164Z","updatedAt":"2024-01-24T10:34:30.114Z","readme":"@sap/hdbext\n============\n\nThis package provides convenient functions on top of the *@sap/hana-client* module.\n\nThe [change log](CHANGELOG.md) describes notable changes in this package.\n\n## Usage\n\n```js\nvar hdbext = require('@sap/hdbext');\n```\n\n## API\n\n### createConnection(hanaConfig, callback)\n\nCreates a connection to a HANA database:\n\n```js\nvar hanaConfig = {\n  host     : 'hostname',\n  port     : 30015,\n  user     : 'user',\n  password : 'secret'\n};\nhdbext.createConnection(hanaConfig, function(error, client) {\n  if (error) {\n    return console.error(error);\n  }\n\n  client.exec(...);\n});\n```\n\nThe `hanaConfig` argument contains [database connection options](#database-connection-options) and [additional options](#additional-options).\nThe callback provides a connected `client` object.\n\nIf the application will be deployed on Cloud Foundry or XS Advanced, you can use _@sap/xsenv_ package to\nlookup the bound HANA service, like this:\n```js\nvar xsenv = require('@sap/xsenv');\n\nvar hanaConfig = xsenv.cfServiceCredentials({ tag: 'hana' });\nhdbext.createConnection(hanaConfig, function(error, client) {\n  //...\n});\n```\n\n#### Database connection options\n\nThe HANA options provided to *@sap/hdbext* should be in the same format as expected by the *@sap/hana-client* package.\n\nFor convenience these properties set by the HANA service broker are also accepted:\n* `schema` - can be used instead of the `currentSchema` property of *@sap/hana-client*.\n* `db_hosts` - can be used instead of the `hosts` property of *@sap/hana-client*.\n* `certificate` - can be used instead of `ca` property of *@sap/hana-client*.\n__Note:__ `certificate` is a string containing one certificate, while `ca` is an array of certificates.\n* `hostname_in_certificate` - can be used instead of `sslHostNameInCertificate` property of *@sap/hana-client*.\n* `validate_certificate ` - can be used instead of `sslValidateCertificate` property of *@sap/hana-client*. The default value is `true`.\n* `client_authentication_certificate` - can be used instead of `cert` property of *@sap/hana-client*.\n* `client_authentication_private_key` - can be used instead of `key` property of *@sap/hana-client*. \n\n#### Additional options\n\nA connection created with *@sap/hdbext* can be further configured with the following options:\n\nOption   | Type | Description\n-------- | ---- | -----------\n`autoCommit` | boolean | Sets the autoCommit flag. If no option is specified it defaults to `true`.\n\n**Note**: the *@sap/hana-client* package also accepts other configurations like `isolationLevel` (one can use the isolation level constants in `require('@sap/hana-client/extension/Enums')`), `locale` and `sessionVariable:<name-of-the-session-variable>`.\n\n##### Special session variables\n\nSome session variables are handled in a special way.\n\n* `XS_APPLICATIONUSER` - can be set to a user token (SAML/JWT) to associate the application user with the database connection\n* `SAP_PASSPORT` - used to propagate SAP passport to SAP HANA, used for end-to-end tracing\n* `APPLICATION` - the name of the application initiating the database connection\n\n**Note**: If providing the `SAP_PASSPORT` session variable, the SAP Passport in\nit should have already been updated with data, specific to the component that consumes *@sap/hdbext*.\nFor more information, see the documentation of the *@sap/e2e-trace* package.\n\n#### Example\n\nSample configuration with both [database connection options](#database-connection-options) and [additional options](#additional-options):\n\n```js\nvar enums = require('@sap/hana-client/extension/Enums');\n\n{\n  host: 'my.host',\n  port: 30015,\n  user: 'my_user',\n  password: 'secret',\n  schema: 'name_of_the_schema',\n  isolationLevel: enums.SERIALIZABLE,\n  locale: 'en_US',\n  autoCommit: false,\n  'sessionVariable:APPLICATION': 'myapp',\n  'sessionVariable:SAP_PASSPORT': 'passport'\n}\n```\n\n### connectionOptions.getGlobalOptions()\n\nReturns an object with the following properties:\n* `sessionVariable:APPLICATION` - extracted from VCAP_APPLICATION, fallbacks to process's pid and machine's hostname.\n* `sessionVariable:APPLICATIONVERSION` - extracted from package.json in current directory. May not be present if the file is not present or not in valid JSON format.\n\n### connectionOptions.getRequestOptions(req)\n\nReturns an object with the following properties, based on the given HTTP request (_req_):\n* `sessionVariable:SAP_PASSPORT` - may not be present if the SAP Passport header is not present. The passport is updated with default component data.\n* `sessionVariable:XS_APPLICATIONUSER` - only present for authenticated requests that do not use client credentials token.\n* `locale` - only present if _req_ has either a `x-sap-request-language` or `accept-language` header.\n\n### loadProcedure(client, schemaName, procedureName, callback)\n\n*@sap/hdbext* provides functionalities to simplify stored procedure calls.\n\nFor example, if you have the following stored procedure:\n\n```sql\ncreate procedure PROC_DUMMY (in a int, in b int, out c int, out d DUMMY, out e TABLES)\n  language sqlscript\n  reads sql data as\n  begin\n    c := :a + :b;\n    d = select * from DUMMY;\n    e = select TOP 3 * from TABLES;\n  end\n```\n\nyou can call it via the *@sap/hana-client* package in the following way:\n\n```js\nvar dbStream = require('@sap/hana-client/extension/Stream');\ndbStream.createProcStatement(client, 'CALL PROC_DUMMY (?, ?, ?, ?, ?)', function (err, stmt) {\n  if (err) {\n    return console.error('createProcStatement error:', err);\n  }\n\n  stmt.exec({ A: 3, B: 4 }, function (err, params, dummyRows, tablesRows) {\n    if (err) {\n      return console.error('exec error:', err);\n    }\n\n    stmt.drop(function (err) {\n      if (err) {\n        return console.error('drop error:', err);\n      }\n\n      console.log('C:', params.C);\n      console.log('Dummy rows:', dummyRows);\n      console.log('Tables rows:', tablesRows);\n    });\n  });\n});\n```\n\nWith *@sap/hdbext* you don't need to construct a `CALL` statement. The procedure can be loaded by its name.\nThe code can look like this:\n\n```js\nhdbext.loadProcedure(client, null, 'PROC_DUMMY', function(err, sp) {\n  sp({ A: 3, B: 4 }, function(err, parameters, dummyRows, tablesRows) {\n    if (err) {\n      return console.error(err);\n    }\n\n    console.log('C:', parameters.C);\n    console.log('Dummy rows:', dummyRows);\n    console.log('Tables rows:', tablesRows);\n  });\n});\n```\n\nTo use the current schema, pass an empty string `''`, `null` or `undefined` for schema.\n\n`loadProcedure(client, schemaName, procedureName, callback)` returns a JavaScript function which you can call directly.\nThe function has the `paramsMetadata` property containing metadata for all parameters of the stored procedure.\nThis could be useful if you need to implement generic stored procedures calling.\n\nYou can also pass the input parameters directly in the proper order:\n\n```js\nsp(3, 4, function(err, parameters, dummyRows, tableRows) {\n  // ...\n});\n```\n\nor as an array:\n\n```js\nsp([3, 4], function(err, parameters, dummyRows, tableRows) {\n  // ...\n});\n```\n\nWhere the big advantage comes in is with table parameters.\nYou can pass an array of objects and *@sap/hdbext* will automatically convert it into a table parameter.\nSay we have a `customer` table with `ID` and `NAME` columns and a procedure:\n\n```sql\ncreate table \"customer\" (ID integer, NAME VARCHAR(100), primary key (ID));\n\ncreate procedure \"getCustomers\" (in in_table_1 \"customer\")\nlanguage sqlscript reads sql data as begin\nselect * from :in_table_1;\nend;\n```\n\nYou can call it like this:\n\n```js\nhdbext.loadProcedure(client, null, 'getCustomers', function (err, sp) {\n  if (err) {\n    return console.error(err);\n  }\n\n  sp([\n    { ID: 1, NAME: 'Alex' },\n    { ID: 2, NAME: 'Peter' }\n  ], function (err, parameters, tableRows) {\n    if (err) {\n      return console.error(err);\n    }\n\n    console.log(parameters);\n    console.log(tableRows);\n  });\n});\n```\n\nIn this example each array element represents a table row. Property names should case-sensitively match the corresponding column names.\n\nInternally *@sap/hdbext* creates a local temporary table in the current schema for each table parameter.\nThus, the current user needs the respective permissions.\n\nIt is also possible to explicitly state an existing table to be used as input table parameter:\n\n```js\n  sp({ schema: 'my-schema', table: 'my-table' }, function (err, parameters, tableRows) {\n    // ...\n  });\n```\n\nThe `schema` property is optional.\n\nEvery output table has a `columnInfo` property which contains info about each of the table's columns.\n\nInput arguments for parameters that have default values can be skipped in order to use the defined defaults.\nIt is recommended to pass the input as an object in those cases. In this way the application code would be independent\nfrom the order in which parameters with default values are defined in the procedure.\nWhen the parameters are passed in a sequence (i.e. as an array or are passed directly in the proper order),\ninput arguments can be skipped only for the parameters which are after the last mandatory parameter in the procedure's list.\n\n### Middleware\n\n*@sap/hdbext* provides a middleware which allows easy database connection creation in a middleware-based application.\nThe `close` method of the database client is invoked when the request is closed or finished.\n\n```js\nvar hdbext = require('@sap/hdbext');\nvar express = require('express');\n\nvar app = express();\napp.use(hdbext.middleware(hanaConfig));\n\napp.get('/execute-query', function (req, res) {\n  var client = req.db;\n\n  client.exec('SELECT * FROM DUMMY', function (err, rs) {\n    if (err) {\n      return res.end('Error: ' + err.message);\n    }\n\n    res.end(JSON.stringify(rs));\n  });\n});\n```\n\nThe argument `hanaConfig` may contain both [database connection options](#database-connection-options) and [additional options](#additional-options).\n\nThe middleware uses [connectionOptions.getGlobalOptions()](#connectionoptionsgetglobaloptions) and [connectionOptions.getRequestOptions(req)](#connectionoptionsgetrequestoptionsreq) for extracting options. It is possible for applications to override the default global options by setting them explicitly in `hanaConfig`.\n\n### SQL Parameter Utilities\n\nThe `hdbext.sqlInjectionUtils` object contains several synchronous utility functions that can be used to prevent SQL injections.\n\n#### isAcceptableParameter(value, maxToken)\n\nReturns true if `value` can be used to construct SQL statements.\nThe number of tokens a value is allowed to contain is set via the optional `maxToken` argument. Defaults to 1.\n\n#### isAcceptableQuotedParameter(value)\n\nReturns true if the provided `value` is quoted correctly and can be used in an SQL statement.\n\n#### escapeDoubleQuotes(value)\n\nReturns the `value` parameter with all double quotation marks escaped (i. e. doubled).\n\n#### escapeSingleQuotes(value)\n\nReturns the `value` parameter with all single quotation marks escaped (i. e. doubled).\n\n## Troubleshooting\n\nTo enable tracing, you should set the environment variable `DEBUG` to `hdbext:*`.\n\n## Migration guide\n\nGuide on how to adopt new major versions of the library can be found [here](./migration.md).\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n<a name=\"8.0.3\"></a>\n## 8.0.3 - 2024-01-23\n\n### Updated\n- Update *@sap/hana-client* to v2.19.21\n\n<a name=\"8.0.2\"></a>\n## 8.0.2 - 2023-11-28\n\n### Added\n- Added Node.js 20.x support.\n\n### Updated\n- Update *@sap/hana-client* to v2.18.27\n- Update *@sap/e2e-trace* to v4.1.0\n- Updated versions of dev dependencies node modules\n- Replaced *options.hasOwnProperty(prop)* by *Object.prototype.hasOwnProperty.call(obj, prop)*\n- Replaced *istanbul* with *nyc* for test script as *istanbul* is deprecated\n- Replaced Buffer() with Buffer.from() and Buffer.alloc() as Buffer() is deprecated\n\n### Fixed\n- Replaced deprecated function of *@sap/hana-client* library - createClient and close with createConnection and disconnect respectively.\n\n<a name=\"8.0.1\"></a>\n## 8.0.1 - 2023-11-14\n\n### Updated\n- Update *@sap/hana-client* to v2.18.24\n\n<a name=\"8.0.0\"></a>\n## 8.0.0 - 2023-08-30\n\n### Removed\n- Removed support node.js 10 \n\n<a name=\"7.7.6\"></a>\n## 7.7.6 - 2023-07-18\n\n### Updated\n- Update *@sap/hana-client* to v2.17.21\n  \n<a name=\"7.7.5\"></a>\n## 7.7.5 - 2023-06-20\n\n### Updated\n- Update *@sap/hana-client* to v2.17.14\n\n<a name=\"7.7.4\"></a>\n## 7.7.4 - 2023-05-03\n\n### Updated\n- Update *@sap/hana-client* to v2.16.26\n\n<a name=\"7.7.3\"></a>\n## 7.7.3 - 2023-03-27\n\n### Updated\n- Update *@sap/hana-client* to v2.16.21\n\n### Removed \n- Removed support node.js\n\n<a name=\"7.7.2\"></a>\n## 7.7.2 - 2023-01-24\n\n### Fixed\n- Fixed `hdbext.createConnectionPromise` add connection as first param\n\n<a name=\"7.7.1\"></a>\n## 7.7.1 - 2023-01-10\n\n### Updated\n- Update *@sap/hana-client* to v2.15.19\n\n### Fixed\n- `checkSynonymsPromise` now returns in case result is not a synonym\n\n<a name=\"7.7.0\"></a>\n## 7.7.0 - 2022-11-01\n\n### Added\n- Node.js 18.x support.\n\n<a name=\"7.6.9\"></a>\n## 7.6.9 - 2022-10-28\n\n### Added\n- `hdbext.loadProcedurePromise` promise-based behavior which supports async / await syntax. \n\n<a name=\"7.6.8\"></a>\n## 7.6.8 - 2022-10-19\n\n### Fixed\n- `hdbext.createConnectionPromise` now returns connection\n\n<a name=\"7.6.7\"></a>\n## 7.6.7 - 2022-10-17\n\n### Added\n- `hdbext.createConnectionPromise` promise-based behavior which supports async / await syntax.\n\n### Updated\n- Update *@sap/hana-client* to v2.14.22\n\n<a name=\"7.6.6\"></a>\n## 7.6.6 - 2022-09-23\n\n### Updated\n- Update *@sap/hana-client* to v2.14.18\n\n<a name=\"7.6.5\"></a>\n## 7.6.5 - 2022-07-20\n\n### Fixed\n- Update *@sap/hana-client* to v2.13.22\n\n<a name=\"7.6.4\"></a>\n## 7.6.4 - 2022-05-03\n\n### Fixed\n- Update *@sap/hana-client* to v2.12.20\n\n<a name=\"7.6.3\"></a>\n## 7.6.3 - 2022-04-13\n\n### Fixed\n- Update async to v3.2.2\n\n<a name=\"7.6.2\"></a>\n## 7.6.2 - 2022-02-24\n\n### Fixed\n- Update update package.json version\n\n<a name=\"7.6.1\"></a>\n## 7.6.1 - 2022-02-23\n\n### Fixed\n- Update *@sap/hana-client* to v2.11.20\n\n<a name=\"7.6.0\"></a>\n## 7.6.0 - 2022-27-01\n\n### Added\n- Node.js 16.x support.\n\n<a name=\"7.5.0\"></a>\n## 7.5.0 - 2021-12-16\n\n### Fixed\n- Update *@sap/hana-client* to v2.11.14\n\n<a name=\"7.4.1\"></a>\n## 7.4.1 - 2021-11-23\n\n### Fixed\n- Update *@sap/hana-client* to v2.10.20\n\n<a name=\"7.4.0\"></a>\n## 7.4.0 - 2021-10-04\n\n### Fixed\n- Update *@sap/hana-client* to v2.10.13\n\n<a name=\"7.3.1\"></a>\n## 7.3.1 - 2021-08-06\n\n### Fixed\n- Update *@sap/hana-client* to v2.9.28\n\n<a name=\"7.3.0\"></a>\n## 7.3.0 - 2021-07-19\n\n### Fixed\n- Update *@sap/hana-client* to v2.9.23\n- Update *debug* to v4.3.1\n\n<a name=\"7.2.0\"></a>\n## 7.2.0 - 2021-05-07\n\n### Fixed\n- Update *@sap/hana-client* to v2.8.20\n\n<a name=\"7.1.4\"></a>\n## 7.1.4 - 2021-03-16\n\n### Fixed\n- Update *@sap/hana-client* to v2.7.26\n\n<a name=\"7.1.3\"></a>\n## 7.1.3 - 2021-02-22\n\n### Fixed\n- Update *lodash* to v4.17.21\n\n<a name=\"7.1.2\"></a>\n## 7.1.2 - 2021-02-19\n\n### Fixed\n- Update *@sap/hana-client* to v2.7.23\n\n<a name=\"7.1.1\"></a>\n## 7.1.1 - 2021-01-28\n\n### Fixed\n- Update *@sap/hana-client* to v2.7.21\n- In StoredProcedure.js createTempTables, use async.eachLimit to avoid races\n\n<a name=\"7.1.0\"></a>\n## 7.1.0 - 2021-01-05\n\n### Fixed\n- Update *@sap/hana-client* to v2.7.16, debug to 4.2.0 and *@sap/e2e-trace* to 3.0.0\n\n### Added\n- Node.js 14.x support.\n\n<a name=\"7.0.1\"></a>\n## 7.0.1 - 2020-10-21\n\n### Fixed\n- Update *@sap/hana-client* to v2.6.58, debug to 4.1.1 and lodash to 4.17.20\n\n<a name=\"7.0.0\"></a>\n## 7.0.0 - 2020-07-13\n\n### Fixed\n- Update *@sap/hana-client* to v2.5.104, async to 3.2.0 and lodash to 4.17.19\n\n### Removed\n- Node.js 6 support\n\n<a name=\"6.2.2\"></a>\n## 6.2.2 - 2020-04-29\n\n### Fixed\n- Update *@sap/hana-client* to v2.4.196\n\n<a name=\"6.2.1\"></a>\n## 6.2.1 - 2020-04-15\n\n### Fixed\n- Do not drop statement objects in the background in order to prevent IsGlobalEmpty crash\n\n<a name=\"6.2.0\"></a>\n## 6.2.0 - 2020-03-06\n\n### Added\n- Node.js 12.x support.\n\n<a name=\"6.1.1\"></a>\n## 6.1.1 - 2019-11-19\n\n### Fixed\n- Update *@sap/hana-client* to v2.4.167\n\n<a name=\"6.1.0\"></a>\n## 6.1.0 - 2019-10-25\n\n### Added\n- Support for synonyms as table parameters in procedures\n\n<a name=\"6.0.1\"></a>\n## 6.0.1 - 2019-07-10\n\n### Fixed\n- Update `lodash` package to 4.17.13\n\n<a name=\"6.0.0\"></a>\n## 6.0.0 - 2019-05-20\n\n### Removed\n- Node 4 support\n- Stored procedures: caching of prepared CALL statements for simple procedures\n\n### Fixed\n- Statement leak due to caching of prepared CALL statements for simple procedures\n- Update *@sap/hana-client* to v2.4.139\n\n### Added\n- Node.js 10 support\n\n## 5.1.0 - 2019-01-11\n\n### Added\n- Support for `hostname_in_certificate`, `validate_certificate`, `client_authentication_certificate`, `client_authentication_private_key` properties from HANA service binding\n\n### Fixed\n- Check for non-existing procedure\n\n## 5.0.0 - 2018-09-27\n\n### Removed\n- Node 0.12 support.\n- The `constants` property.\n- The `getPool` property.\n- The `createPool` property.\n- The `updateConnectionOptions` property.\n- The `session` property is no longer considered for setting session variables.\n\n### Changed\n- Now the package provides convenient functions on top of the *@sap/hana-client* package instead of the *hdb* package.\n- The package expects schema and table names to be provided unescaped everywhere, e.g. `my\"TABLE` instead of `\"my\"\"Table\"`.\n- A string containing a table name and optionally a schema name is no longer accepted for input table parameters. An object with `table` property (mandatory) and `schema` property (optional) should be provided instead, e.g. `{ schema: 'my\"Schema', table: 'my\"Table' }`\n- `hdbext.createConnection` throws if the input is not an object.\n- `hdbext.createConnection` throws if provided value for `autoCommit` is not a boolean.\n- Format of the object returned from `hdbext.connectionOptions.getGlobalOptions`, from `{ session: { APPLICATION: '', APPLICATIONVERSION: '' } }` to `{ 'sessionVariable:APPLICATION': '', 'sessionVariable:APPLICATIONVERSION': '' }`\n- `hdbext.connectionOptions.getGlobalOptions` may return an object without a `'sessionVariable:APPLICATIONVERSION'` property if an appropriate value cannot be determined.\n- Format of the object returned from `hdbext.connectionOptions.getRequestOptions` from `{ session: { XS_APPLICATIONUSER: '', SAP_PASSPORT: '', locale: '' } }` to `{ 'sessionVariable:XS_APPLICATIONUSER': '', 'sessionVariable:SAP_PASSPORT': '', locale: '' }`\n- `hdbext.connectionOptions.getRequestOptions` may return an object without a `locale` property if an appropriate value cannot be determined.\n- `hdbext.middleware` no longer takes pool options as second argument.\n- `hdbext.middleware` does not work with pooled connections by default.\n\n## 4.7.5 - 2018-09-18\n\n### Fixed\n- Update `lodash` package to 4.17.11\n\n## 4.7.4 - 2018-07-27\n\n### Fixed\n- Passing a Buffer as a single input argument for a procedure\n\n## 4.7.3 - 2018-06-29\n\n### Fixed\n- Updated `hdb` package to 0.16.0\n\n## 4.7.2 - 2018-04-03\n\n### Fixed\n- Do not call `setImmediate` when invoking stored procedures\n\n## 4.7.1 - 2018-03-30\n\n### Fixed\n- Update dependencies\n- Implicit commit when procedure with input table parameters is executed\n- Cleanup of global temporary tables when a connection is returned to a pool\n- Local temporary tables are now dropped without CASCADE\n- Names of temporary tables are now properly escaped during cleanup of connections returned to a pool\n- Prepared statement leak when calling a procedure without input table parameters and without parameters having a default value\n\n## 4.7.0 - 2018-01-19\n\n### Added\n- npm-shrinkwrap.json\n\n## 4.6.0 - 2018-01-12\n\n### Added\n- Support for `servername` option on connect\n\n### Fixed\n- Error when `authInfo` is missing `getGrantType` property\n- Minimum idle connections is now 0\n\n## 4.5.0 - 2017-11-23\n\n### Added\n- Stored procedures: support for default parameters\n\n### Fixed\n- Update dependencies\n\n## 4.4.3 - 2017-10-12\n\n### Added\n- Support for Node.js 8\n\n### Fixed\n- Prevent using a client object that has been returned to the pool\n- Update dependencies\n\n## 4.4.2 - 2017-07-17\n\n### Fixed\n - Client credentials token now doesn't throw error\n\n## 4.4.1 - 2017-07-04\n\n### Fixed\n - Allow pool release to be called only once\n\n## 4.4.0 - 2017-06-30\n\n### Added\n - Support for synonyms for procedures\n - Expose generic-pool object\n\n### Fixed\n - Return only non-busy connections to pool\n - Additional options leaks in getPool\n - Fixes in passing input arguments as Array\n - Fixed passing `null` as single input argument\n\n## 4.3.4 - 2017-05-02\n\n### Fixed\n - Close connection if authentication fails\n - Handle `null` for procedures with input table parameters\n\n## 4.3.3 - 2017-04-04\n\n### Fixed\n - Support for INOUT parameters in stored procedures\n\n## 4.3.2 - 2017-03-10\n\n### Fixed\n - Report error if temp table delete fails\n - Updated hdb module to 0.12.1\n\n## 4.3.1 - 2017-02-23\n\n### Fixed\n- The `locale` property in the object returned by `connOptions.getRequestOptions` now defaults to undefined instead of to an empty string when there is no language info in the provided request\n\n## 4.3.0 - 2017-01-26\n\n### Added\n- Introduce pool.drain - a function to dispose of idle connections\n\n### Fixed\n- Log on level 'debug' in case of 'insufficient privilege' error during clean-up of temporary tables\n\n## 4.2.3 - 2017-01-24\n\n### Changed\n- Rename package to use @sap scope\n\n## 4.2.2 - 2017-01-24\n\n### Fixed\n- Clean-up temporary tables on connection release\n- Fixes in procedures and inplace table parameters\n\n## 4.2.1 - 2016-12-07\n\n### Fixed\n- `middleware` and `connOptions.getRequestOptions` now update SAP-Passports automatically with default component data\n\n## 4.2.0 - 2016-11-16\n\n### Added\n- Make options optional in `pool.acquire`\n\n### Fixed\n- Quote name in set schema statement\n- Rollback transaction before isolation level restore\n- Support for multiple middlewares\n- Allow calling a procedure with inplace table parameter\n- Fix crash on connect\n\n## 4.1.3 - 2016-10-14\n\n### Fixed\n- Fixes in database connectivity\n\n## 4.1.2 - 2016-09-28\n\n### Fixed\n- Handle websocket connection end.\n- Set DB connection locale from HTTP request in middleware.\n\n## 4.1.1 - 2016-09-15\n\n### Added\n- Rollback of uncommitted changes when a connection is returned to a connection pool.\n\n## 4.1.0 - 2016-09-14\n\n### Added\n- `autoCommit` connection option\n- Set APPLICATION and APPLICATIONVERSION session variables in the middleware\n- `connectionOptions.getGlobalOptions()` and `connectionOptions.getRequestOptions(req)` functions\n\n## 4.0.0 - 2016-09-09\n\n### Added\n- `session` property in database connection options\n- `certificate` property in database connection options\n\n### Removed\n- `sapPassport` property in database connection options, use `session.SAP_PASSPORT` instead.\n- `userTokens` property in database connection options, use `session.XS_APPLICATIONUSER` instead.\nNow a single token is expected.\n\n## 3.0.0 - 2016-08-05\n\n### Changed\n- Removed additional functions attached to the returned HDB connection object (incompatible change).\n  In previous versions the returned connection object was enriched with the following functions:\n    - setSchema\n    - setApplicationUser\n    - unsetApplicationUser\n\n  Those functions have been removed and we have provided a new function `updateConnectionOptions` instead,\n  to be used as utility for setting the supported connection options.\n\n- Read HANA service properties from environment as fallback if no HANA config provided has been removed.\n\n- HANA config object no longer supports setting `userTokens` as string, it must be an object.\n\n- Connection pooling API was changed incompatibly to fix issues with connection cleanup.\n\n","downloadsCurrentMonth":83792,"downloadsCurrentFortnight":38447,"downloads365":905316,"downloadsFortnightGrowth":-8.47,"downloadsHistory":[{"yearMonth":"2023-04","downloads":72467},{"yearMonth":"2023-05","downloads":88064},{"yearMonth":"2023-06","downloads":89315},{"yearMonth":"2023-07","downloads":76408},{"yearMonth":"2023-08","downloads":72585},{"yearMonth":"2023-09","downloads":69223},{"yearMonth":"2023-10","downloads":76787},{"yearMonth":"2023-11","downloads":68584},{"yearMonth":"2023-12","downloads":66323},{"yearMonth":"2024-01","downloads":72312},{"yearMonth":"2024-02","downloads":71701}],"versions":[{"version":"created","date":"2020-06-11T23:20:18.164Z"},{"version":"4.7.5","date":"2020-06-11T23:20:18.561Z"},{"version":"modified","date":"2024-01-24T10:34:30.114Z"},{"version":"4.3.3","date":"2020-06-11T23:20:26.818Z"},{"version":"4.3.0","date":"2020-06-11T23:20:33.118Z"},{"version":"4.7.4","date":"2020-06-11T23:20:40.912Z"},{"version":"4.7.2","date":"2020-06-11T23:20:47.103Z"},{"version":"4.4.3","date":"2020-06-11T23:20:53.592Z"},{"version":"5.1.0","date":"2020-06-11T23:21:00.044Z"},{"version":"4.6.0","date":"2020-06-11T23:21:07.151Z"},{"version":"6.2.0","date":"2020-06-11T23:21:13.606Z"},{"version":"5.0.0","date":"2020-06-11T23:21:19.853Z"},{"version":"4.3.1","date":"2020-06-11T23:21:26.108Z"},{"version":"6.1.0","date":"2020-06-11T23:21:32.272Z"},{"version":"4.7.0","date":"2020-06-11T23:21:38.782Z"},{"version":"6.2.1","date":"2020-06-11T23:21:46.699Z"},{"version":"6.0.0","date":"2020-06-11T23:21:53.709Z"},{"version":"4.4.1","date":"2020-06-11T23:22:05.292Z"},{"version":"4.3.2","date":"2020-06-11T23:22:11.591Z"},{"version":"4.3.4","date":"2020-06-11T23:22:18.899Z"},{"version":"4.4.2","date":"2020-06-11T23:22:25.633Z"},{"version":"6.2.2","date":"2020-06-11T23:22:33.805Z"},{"version":"6.0.1","date":"2020-06-11T23:22:40.728Z"},{"version":"6.1.1","date":"2020-06-11T23:22:48.465Z"},{"version":"7.0.0","date":"2020-08-12T16:16:59.733Z"},{"version":"7.0.1","date":"2020-10-23T08:40:50.027Z"},{"version":"7.1.0","date":"2021-01-05T13:41:13.114Z"},{"version":"7.1.1","date":"2021-01-29T11:56:06.022Z"},{"version":"7.1.3","date":"2021-02-22T16:20:26.088Z"},{"version":"7.1.4","date":"2021-03-16T09:43:35.362Z"},{"version":"7.2.0","date":"2021-05-07T13:14:26.358Z"},{"version":"7.3.0","date":"2021-07-21T13:40:43.057Z"},{"version":"7.3.1","date":"2021-08-10T13:34:49.214Z"},{"version":"7.4.0","date":"2021-10-08T12:30:39.694Z"},{"version":"7.4.1","date":"2021-11-29T10:29:44.969Z"},{"version":"7.5.0","date":"2021-12-17T07:17:33.119Z"},{"version":"7.6.0","date":"2022-01-27T16:10:44.571Z"},{"version":"7.6.2","date":"2022-02-25T09:22:36.963Z"},{"version":"7.6.3","date":"2022-04-13T13:58:14.766Z"},{"version":"7.6.4","date":"2022-05-03T12:59:36.486Z"},{"version":"7.6.5","date":"2022-07-21T17:03:41.262Z"},{"version":"7.6.6","date":"2022-09-23T07:05:47.206Z"},{"version":"7.6.7","date":"2022-10-18T08:53:18.217Z"},{"version":"7.6.8","date":"2022-10-19T13:26:24.340Z"},{"version":"7.6.9","date":"2022-10-31T08:36:57.214Z"},{"version":"7.7.0","date":"2022-11-01T08:43:21.292Z"},{"version":"7.7.1","date":"2023-01-10T08:40:26.790Z"},{"version":"7.7.2","date":"2023-01-24T08:53:03.045Z"},{"version":"7.7.3","date":"2023-03-27T11:44:21.393Z"},{"version":"7.7.4","date":"2023-05-03T12:21:25.185Z"},{"version":"7.7.5","date":"2023-06-21T07:32:02.417Z"},{"version":"7.7.6","date":"2023-07-18T10:12:29.038Z"},{"version":"8.0.0","date":"2023-08-31T12:09:57.430Z"},{"version":"8.0.1","date":"2023-11-24T06:24:12.671Z"},{"version":"8.0.2","date":"2023-12-01T06:48:01.694Z"},{"version":"8.0.3","date":"2024-01-24T10:34:29.919Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hdbext"},{"name":"hdi-deploy","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:36:05.788Z","updatedAt":"2024-02-21T10:09:51.305Z","readme":"@sap/hdi-deploy\n===============\n\n`@sap/hdi-deploy` is a [Node.js](https://nodejs.org)-based deployment module for SAP HANA DI (HDI)-based persistence models, HDI Deployer for short. The HDI Deployer can be used in XS Advanced (XSA) and in SAP Business Technology Platform (SAP BTP)/Cloud Foundry (CF), and it is also used by the SAP Web IDE for interactive development scenarios. It can also be used in scenarios without XSA (or SAP BTP), e.g. for deploying HDI persistence models into a SAP HANA database where no XSA is installed.\n\nFor more information about SAP HANA DI, please check the [SAP HANA Developer Guide](https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/eaa4e37394ea4efba8148d595d025261.html) and the [SAP HANA Administration Guide](https://help.sap.com/viewer/6b94445c94ae495c83a19646e7c3fd56/2.0.03/en-US/3ef0ee9da11440e4b01708455b8497a9.html).\n\nUsually, the HDI Deployer is packaged into a database module, a `db` module, as part of a Multi-Target Application (MTA) and is used to deploy HDI design-time artifacts of the `db` module to the respective HDI container. When an MTA is deployed via the Deploy Service, the `db` module is pushed first so that it can \"prepare\" the SAP HANA persistence; by the time defined services are started, the HDI container is ready for use.\n\nThe HDI Deployer can also be used without the Deploy Service and MTAs, without XSA, and also for interactive scenarios or automation scripts.\n\nFor an MTA with different modules, e.g. a `db` module, a Node.js module, etc., this looks as follows:\n\n```\n  +-----------------+    +-----------------+    +-----------------+\n  | db module       |    | Node.js module  |    | ... module      |\n  | w/ HDI Deployer |    |                 |    |                 |\n  +-----------------+    +-----------------+    +-----------------+\n\n           |                      |                      |\n           |                      |                      |\n \\/ deploy persistence       \\/ read/write/extend persistence      \n           |                      |                      |\n           |                      |                      |\n\n  +---------------------------------------------------------------+\n  | HDI container                                                 |\n  |                                                               |\n  +---------------------------------------------------------------+\n```\n\nIn an SAP HANA-Service-Broker-based HDI setup, each module of the MTA is equipped with it's own technical database user for accessing the runtime schema of the HDI container.\n\nThe following diagram illustrates the different users who are involved in this setup with regard to privileges: the application users user1 and user2 who are bound to one of the modules each, and the HDI container's object owner (the #OO user) who is the owner of the objects in the database persistence of the MTA which are managed by HDI:\n\n```\n  +-----------------+    +-----------------+    +-----------------+\n  | db module       |    | Node.js module  |    | ... module      |\n  | w/ HDI Deployer |    |                 |    |                 |\n  +-----------------+    +-----------------+    +-----------------+\n\n                                  |                      |            o\n                                  | --------------------------------- X application user user1\n                                  |                      |       o\n                                  |                      | ----- X application user user2\n                                  |                      |\n\n  +---------------------------------------------------------------+\n  | HDI container                                                 |\n  |                              db object 1      db object 2     |\n  +-------------------------------------\\-------------/-----------+\n                                         \\           /\n                                      o   \\         /\n                                      X object owner (#OO user)\n```\n\nThe HDI Deployer is packaged into the `db` module of the MTA. So, in order to use a new HDI Deployer, you need to reference a new version of the HDI Deployer in the `db` module's `package.json` file.\n\nThe HDI Deployer supports SAP HANA 1 SPS11/SPS12 and SAP HANA 2. The HDI Deployer assumes that for newer versions of SAP HANA, a corresponding version of the SAP HANA Service Broker is used to create the CF/XSA service bindings.\n\nNote: The HDI Deployer assumes ownership of the `src/`, `cfg/`, and `lib/` folders in the bound target HDI container. Binding more than 1 instance of the HDI Deployer to the same HDI container as the target container, e.g. the `db` modules of 2 MTAs or 2 applications are bound to the same HDI container as the target container, is not supported and results in undefined behavior.\n\n## README.md\n\n**Installation**:\n- [Integration into a Database Module](#integration-into-a-database-module)\n- [SAP HANA Client](#sap-hana-client)\n- [Database Connection Details](#database-connection-details)\n- [Deployment via Push and Tasks](#deployment-via-push-and-tasks)\n- [Deployment via Local Run](#deployment-via-local-run)\n\n**The Database Module**:\n- [A Database Module's File System Structure](#a-database-modules-file-system-structure)\n- [Delta Deployment and Undeploy Allowlist](#delta-deployment-and-undeploy-allowlist)\n- [The default_access_role Role](#the-default_access_role-role)\n- [The development_debug_role Role](#the-development_debug_role-role)\n- [Reusable Database Modules](#reusable-database-modules)\n- [Configuration File Templating](#configuration-file-templating)\n- [Permissions to Container-External Objects](#permissions-to-container-external-objects)\n\n**Configuration and Reconfiguration**:\n- [Environment Variables for Applications](#environment-variables-for-applications)\n- [Environment Variables for Infrastructure / Development Tools](#environment-variables-for-infrastructure--development-tools)\n- [Options for Interactive Scenarios](#options-for-interactive-scenarios)\n- [Ignore List](#ignore-list)\n- [Supported Features](#supported-features)\n\n**Dynamic Deployment**:\n - [Deployment via hdi-dynamic-deploy](#deployment-via-hdi-dynamic-deploy)\n \n**Library Usage**:\n - [Using hdi-deploy as a Node.js library](#using-hdi-deploy-as-a-nodejs-library)\n\n\n## Integration into a Database Module\n\nUsually, `@sap/hdi-deploy` gets installed via a `package.json`-based dependency inside your application's `db` module:\n\n`db/package.json`:\n\n```\n{\n  \"name\": \"deploy\",\n  \"dependencies\": {\n    \"@sap/hdi-deploy\": \"5.0.1\",\n    \"@sap/hana-client\": \"2.19.20\",\n    \"hdb\": \"0.19.3\"\n  },\n  \"scripts\": {\n    \"start\": \"node node_modules/@sap/hdi-deploy/\"\n  }\n}\n```\n## SAP HANA Client\n\nAs of version 5.0.0 `@sap/hdi-deploy` does not contain `@sap/hana-client` and `hdb` as dependencies. This was done due to the large size of in some cases unnecessary '@sap/hana-client' dependency. To use `@sap/hdi-deploy` 5.0.0 and higher you must install `@sap/hana-client` and/or `hdb` peer dependencies yourself.\n\nTo use `@sap/hana-client` you just need to install it. Where as to use `hdb` you need to install `hdb` and either use --use-hdb option in package.json file or set `use_hdb` to `true` in `HDI_DEPLOY_OPTIONS`. You can find detailed information on how to set --use-hdb option here (#options-for-interactive-scenarios).\n\n## Database Connection Details\n\nConnection details for the database, e.g. host, port, credentials, certificates, hostname_in_certificate, encrypt and validate_certificate, are looked up by the HDI Deployer from the standard CF/XSA `VCAP_SERVICES` environment variable which contains the bound services.\n\nSince version 4.3.1 of hdi-deploy supports reading credentials from a secret volume for Kubernetes.\n\nIn order to use mutual authentication, `client_authentication_private_key` and `client_authentication_certificate` can be supplied via the service binding.\n\nFor local testing, the HDI Deployer supports default configurations via the following configuration files:\n\n- `default-env.json`: a JSON file which contains a set of environment variables and their values\n- `.env`: a dot env file which contains a set of environment variables and their values. This file is used in the absence of `default-env.json`.   \n- `default-services.json`: a JSON file which contains a set of service bindings\n\nDetails of a bound service from an SAP HANA-Service-Broker-based service binding in CF/XSA usually look as follows:\n\n``` JSON\n{\n  \"name\" : \"foo\",\n  \"label\" : \"hana\",\n  \"tags\" : [ \"hana\", \"database\", \"relational\" ],\n  \"plan\" : \"hdi-shared\",\n  \"credentials\" : {\n    \"schema\" : \"FOO\",\n    \"user\" : \"FOO_345999596729_RT\",\n    \"password\" : \"<password>\",\n    \"hdi_user\" : \"FOO_645927945801_DT\",\n    \"hdi_password\" : \"<password>\",\n    \"host\" : \"srv1234567.host.name\",\n    \"port\" : \"30115\",\n    \"db_hosts\" : [ {\n      \"port\" : 30115,\n      \"host\" : \"srv1234567.host.name\"\n    } ],\n    \"url\" : \"jdbc:sap://srv1234567.host.name:30115/?currentschema=FOO\",\n    \"driver\" : \"com.sap.db.jdbc.Driver\"\n  }\n}\n```\n\nHere, the credentials section contains all the data which is needed by the HDI Deployer for connecting to the database. The HDI Deployer uses the `hdi_user`/`hdi_password` credentials from a direct service binding. The `hdi_user` should be minimal, i.e. only have the privileges required to fulfill the deployment. In most cases, access to a container FOO's API in the FOO#DI schema is sufficient.\n\n### Splitting passwords across services\n\nThe `password` property and the `hdi_password` property can also be specified as a combination of passwords from other bound services. Consider the following service binding:\n\n``` JSON\n{\n    \"hana\" : [],\n    \"user-provided\" : [ \n      {\n      \"name\" : \"split_password_service\",\n      \"label\" : \"user-provided\",\n      \"tags\" : [],\n      \"credentials\" : {\n        \"user\" : \"user\",\n        \"schema\": \"schema\",\n        \"password\": [\"password_and_hdi_password_service\", \"password_only_service\"],\n        \"hdi_password\": [\"password_and_hdi_password_service\", \"hdi_password_only_service\"],\n        \"tags\" : [ \"hana\" ]\n      }\n    },\n    {\n      \"name\" : \"password_and_hdi_password_service\",\n      \"label\" : \"user-provided\",\n      \"tags\" : [],\n      \"credentials\" : {\n        \"password\" : \"PASSWORD\",\n        \"hdi_password\": \"HDI_PASSWORD\",\n        \"tags\" : [ \"password\" ]\n      }\n    },\n    {\n      \"name\" : \"hdi_password_only_service\",\n      \"label\" : \"user-provided\",\n      \"tags\" : [],\n      \"credentials\" : {\n        \"hdi_password\": \"123\",\n        \"tags\" : [ \"password\" ]\n      }\n    },\n    {\n      \"name\" : \"password_only_service\",\n      \"label\" : \"user-provided\",\n      \"tags\" : [],\n      \"credentials\" : {\n        \"password\" : \"456\",\n        \"tags\" : [ \"password\" ]\n      }\n    } ]\n  }\n```\n\nWhen the service `shared_password_service` is used, the services specified in `password` and/or `hdi_password` will be checked and their `password` and/or `hdi_password` will be concatenated. The services will be accessed in the order they are defined. The resulting `shared_password_service` would have the `password` \"PASSWORD456\" and the `hdi_password` \"HDI_PASSWORD123\".\n\n0 to n services can be specified, specifying 0 services results in the `password`/`hdi_password` ''.\n\n### VCAP_SERVICES\n\nConnection details for the database are stored in the following format in the [`VCAP_SERVICES`](http://docs.cloudfoundry.org/devguide/deploy-apps/environment-variable.html#VCAP-SERVICES) environment variable:\n\n`VCAP_SERVICES`:\n```\n{\n  \"hana\" : [\n    <hana-service-binding-1>,\n    <hana-service-binding-2>,\n    ...\n    <hana-service-binding-n>\n  ],\n  \"user-provided\" : [\n    <user-provided-service-binding-1>,\n    <user-provided-service-binding-2>,\n    ...\n    <user-provided-service-binding-m>\n  ]\n}\n'\n```\n\n### default-env.json\n\nA `default-env.json` file can contain a set of environment variables and their values. The HDI Deployer will pick up these settings on startup:\n\n`default-env.json:`\n```\n{\n  \"TARGET_CONTAINER\" : \"<name-of-the-service-instance-to-use-as-deployment-target>\",\n  \"VCAP_SERVICES\" : {\n    \"hana\" : [\n      <hana-service-binding-1>,\n      <hana-service-binding-2>,\n      ...\n      <hana-service-binding-n>\n    ],\n    \"user-provided\" : [\n      <user-provided-service-binding-1>,\n      <user-provided-service-binding-2>,\n      ...\n      <user-provided-service-binding-m>\n    ]\n  }\n}\n```\n\n`default-env.json` example file with a target container binding and a user-provided service:\n\n```\n{\n  \"TARGET_CONTAINER\" : \"target-service\",\n  \"VCAP_SERVICES\" : {\n    \"hana\" : [ {\n     \"name\" : \"target-service\",\n      \"label\" : \"hana\",\n      \"tags\" : [ \"hana\", \"database\", \"relational\" ],\n      \"plan\" : \"hdi-shared\",\n      \"credentials\" : {\n        \"schema\" : \"SCHEMA\",\n        \"hdi_user\" : \"USER_DT\",\n        \"hdi_password\" : \"PASSWORD_DT\",\n        \"certificate\" : \"-----BEGIN CERTIFICATE-----\\nABCD...1234\\n-----END CERTIFICATE-----\\n\",\n        \"host\" : \"host\",\n        \"port\" : \"30015\"\n      }\n    } ],\n    \"user-provided\" : [ {\n      \"name\" : \"GRANTING_SERVICE\",\n      \"label\" : \"user-provided\",\n      \"tags\" : [ ],\n      \"credentials\" : {\n        \"schema\" : \"SYS\",\n        \"user\" : \"GRANT_USER\",\n        \"password\" : \"PASSWORD\",\n        \"procedure_schema\" : \"PRIVILEGE_PROCEDURE_GRANTOR_DEFINER\",\n        \"procedure\" : \"GRANT\",\n        \"type\" : \"procedure\",\n        \"tags\" : [ \"hana\" ]\n      }\n    } ]\n  }\n}\n```\n### .env\n\nA `.env` file can contain a set of environment variables and their values. The HDI Deployer will pick up these settings on startup:\n\n\n`.env` example file:\n\n```\n\n  VCAP_SERVICES={\"hana\" : [ { \"name\" : \"target-service\", \"label\" : \"hana\", \"tags\" : [ \"hana\", \"database\", \"relational\" ], \"plan\" : \"hdi-shared\", \"credentials\" : { \"schema\" : \"SCHEMA\", \"hdi_user\" : \"USER_DT\", \"hdi_password\" : \"PASSWORD_DT\", \"certificate\" : \"-----BEGIN CERTIFICATE-----\\nABCD...1234\\n-----END CERTIFICATE-----\\n\", \"host\" : \"host\", \"port\" : \"30015\" } } ] }\n  \n```\n## Deployment via Push and Tasks\n\nThere are two ways of using the HDI Deployer as an application:\n\n- Push the application with one instance. The application will then start and do the HDI deployment of the data model. After a successful deployment, the application will enter an idle loop and can be stopped.\n- Push the application with zero instances and then trigger a task on the application which does the HDI deployment of the data model. After deployment of the data model, the task will be completed. An instance of the application is only running while the task is being executed.\n\nFor both scenarios, ensure that the `health-check-type` in the manifest is set to `process`, instead of the default, `port`-based health check.\n\nIn order to push the application with zero instances, the application can either be pushed with the `--no-start` option or the number of instances can be set to zero in the `manifest.yml` file via `instances: 0`.\n\nThe deployment task can be started via `xs run-task <app> deployment-task \"npm run start -- --exit\" --wait-for-completion` on XSA. The task will run and the call will propagate the success/failure of the deployment task. On CF, the `--wait-for-completion` option is not available and the status of the task needs to be checked periodically.\n\n## Deployment via Local Run\n\nAn HDI deployment can also be triggered without using an application. In this case, the HDI Deployer will be run locally and directly connects to the database. This is possible in the following scenarios: the database is accessible locally from a network point of view or a network tunnel with a local endpoint was established, e.g. a `cf ssh`-based tunnel is set up in CF.\n\nApply the following steps to run the HDI Deployer locally: run `npm install` in the db module's folder to install the HDI Deployer module, then create a `default-env.json` file in the db module's folder which contains the required service bindings and the `TARGET_CONTAINER` setting, then run `npm run start -- --exit` in the db module's folder to trigger the deployment of the data model.\n\nIf the database uses SSL/TLS encryption, please ensure that the `hostname_in_certificate` value is set up correctly in the service bindings, because the network tunnel's local endpoint (e.g. localhost:9000) doesn't match the hostname in the SSL/TLS certificate.\n\n## A Database Module's File System Structure\n\nThe HDI Deployer expects the following file system structure for the HDI content in your `db` module:\n\n- `src/`: folder which contains your HDI source artifacts\n- `cfg/`: optional folder with HDI configuration artifacts\n- `package.json`: this file is used by npm (the Node.js package manager) to bootstrap and start the application\n\nOther files in the root directory will be ignored by `@sap/hdi-deploy`.\n\nPlease note that the `cfg/` folder also might need a `.hdiconfig` file, e.g. in case `.hdbsynonymconfig` files are placed there.\n\nIn combination with reusable database modules, the HDI Deployer will also consider database modules which are located in the `node_modules/` folder and which will be mapped to a corresponding sub-folder hierarchy in the container's `lib/` folder.\n\nNote: The design-time files should be protected against unauthorized modifications to guard against unwanted undeployments or deployment of foreign objects. For applications running on XSA or Cloud Foundry, this is taken care of by the platform.\n\n## Delta Deployment and Undeploy Allowlist\n\nThe HDI Deployer implements a delta-based deployment strategy:\n\nOn startup, the HDI Deployer recursively scans the local `src/` and `cfg/` folders, processes config templates, looks at the HDI container at the server-side and calculates the set of added, modified, and deleted files based on the difference between the local file system state and the deployed file system state of the server-side HDI container.\n\nIn normal operation, the HDI Deployer will schedule only the set of added and modified files for deployment. The set of deleted files is not scheduled for undeployment.\n\nIn order to undeploy deleted files, an application needs to include an undeploy allowlist via an `undeploy.json` file in the root directory of the `db` module (right beside the `src/` and `cfg/` folders). The undeploy allowlist `undeploy.json` file is a JSON document with a top-level array of file names. \n\"real\" paths, path patterns and path negations are supported.\n\n`undeploy.json`:\n\n    [\n        \"src/Table.hdbcds\",\n        \"src/Procedure.hdbprocedure\",\n        \"src/*.hdbtable\",\n        \"**/*.hdbtable\",\n        \"!**/temp/*.hdbtable\"\n    ]\n\nThe file must list all artifacts which should be undeployed. The file path of the artifacts must be relative to the root directory of the `db` module, must use the HDI file path delimiter '/', and must be based on the HDI server-side folder structure. In case of reusable database modules, the server-side top-level folder `lib/` needs to be used instead of the local folder `node_modules/`.\n\nFor interactive scenarios, it's possible to pass the `auto-undeploy` option to the HDI Deployer, e.g.\n\n    node deploy --auto-undeploy\n\nIn this case, the HDI Deployer will ignore the undeploy allowlist `undeploy.json` file and will schedule all deleted files in the `src/` and `cfg/` folders for undeployment.\n\n## The default_access_role Role\n\nWhen an HDI container service instance is created by the SAP HANA Service Broker, for example, service instance `foo` with schema name `FOO`, the broker creates an HDI container named `FOO` (consisting of the run-time schema `FOO` , the HDI metadata and API schema `FOO#DI` , and the object owner `FOO#OO`) and, in addition, the following roles, which are assigned to the application user:\n\n- FOO::access_role\n  A global access role that equips the application user with privileges on the run-time schema 'FOO'. This access role is assigned a set of default permissions for the run-time schema: SELECT, INSERT, UPDATE, DELETE, EXECUTE, CREATE TEMPORARY TABLE, and SELECT CDS METADATA on the run-time schema `FOO`.\n\n- FOO::external_privileges_role\n  A role that grants the application user the privileges required to enable access to schemas and objects outside the HDI container, for example, the run-time container `BAR`. By default, external_privileges_role has no privileges assigned. If the application user requires access to external objects, a user with grant-option privileges on those external objects must first explicitly grant the required privileges to the external_privileges_role. Similarly, any explicitly assigned privileges must also be explicitly revoked.\n\nNote : The roles exist as long as the HDI container exists; they are not lost when the application binding user changes. New binding users are automatically assigned these roles by the broker.\n\nEvery time the service instance is bound to an application, the service broker creates two new users that are specific to this binding. The first user is the application user who is named user in the instance's credentials. This user is used by the application to access the HDI container's run-time schema `FOO`. This user is assigned the service instance's global access role `FOO::access_role` and the role `FOO::external_privileges_role`. The second user is the HDI API user - named `hdi_user` in the credentials. This user is equipped with privileges for the container's APIs in the `FOO#DI` schema.\n\nThe following diagram illustrates the binding-specific application users and the role of the global access role (the HDI API users and the bindings for the HDI Deployer are not shown for simplicity):\n\n```\n  +-----------------+    +-----------------+    +-----------------+\n  | db module       |    | Node.js module  |    | ... module      |\n  | w/ HDI Deployer |    |                 |    |                 |\n  +-----------------+    +-----------------+    +-----------------+\n\n                                  |                      |            o\n                                  | --------------------------------- X application user user1\n                                  |                      |       o                        \\\n                                  |                      | ----- X application user user2  \\\n                                  |                      |                           \\      \\\n                                                                                      \\      \\\n  +---------------------------------------------------------------+           role FOO::access_role\n  | HDI container FOO                                             |                   /\n  |                                                               | SELECT/INSERT/... on schema FOO\n  +---------------------------------------------------------------+\n```\n\nExemplary service binding:\n\n```\n{\n   \"hana\" : [ {\n     \"name\" : \"foo\",\n     \"label\" : \"hana\",\n     \"tags\" : [ \"hana\", \"database\", \"relational\" ],\n     \"plan\" : \"hdi-shared\",\n     \"credentials\" : {\n       \"schema\" : \"FOO\",\n       \"user\" : \"FOO_345999596729_RT\",\n       \"password\" : \"<password>\",\n       \"hdi_user\" : \"FOO_645927945801_DT,\n       \"hdi_password\" : \"<password>\",\n       \"host\" : \"srv1234567.host.name\",\n       \"port\" : \"30115\",\n       \"db_hosts\" : [ {\n         \"port\" : 30115,\n         \"host\" : \"srv1234567.host.name\"\n       } ],\n       \"url\" : \"jdbc:sap://srv1234567.host.name:30115/?currentschema=FOO\",\n       \"driver\" : \"com.sap.db.jdbc.Driver\"\n     }\n   } ]\n}\n```\n\nIn order to assign roles from the HDI content to the application binding users (the `user` users), the HDI Deployer implements an automatic assignment of the `default_access_role` role if it is present in the deployed content:\n\nIf a role definition file exists at the path `src/defaults/default_access_role.hdbrole`, and this file defines a role named `default_access_role`, and this file is included in the deployment (e.g. not excluded via `include-filter`), then the HDI Deployer grants the deployed `default_access_role` role to the service instance's global access role (e.g. `FOO::access_role`). In addition, the HDI Deployer revokes all default permissions (e.g. `SELECT`, `INSERT`, `UPDATE`, `DELETE`, `EXECUTE`, `CREATE TEMPORARY TABLE`, and `SELECT CDS METADATA` (not on SAP HANA Cloud) on the runtime schema `FOO`) from the global access role. If the `default_access_role` is undeployed, the default permission set for the runtime schema will be restored.\n\nNote:  If you use a `.hdinamespace` file in `src/` which defines a real namespace prefix for subfolders, then you need to put a `.hdinamespace` file with the empty namespace `\"name\" : \"\"` at `src/defaults/` to ensure that the role can be named `default_access_role`.\n\nThe following diagram illustrates the binding-specific application users, the role of the global access role, and the container-specific default access role:\n\n```\n  +-----------------+    +-----------------+    +-----------------+\n  | db module       |    | Node.js module  |    | ... module      |\n  | w/ HDI Deployer |    |                 |    |                 |\n  +-----------------+    +-----------------+    +-----------------+\n\n                                  |                      |            o\n                                  | --------------------------------- X application user user1\n                                  |                      |       o                        \\\n                                  |                      | ----- X application user user2  \\\n                                  |                      |                           \\      \\\n                                                                                      \\      \\\n  +---------------------------------------------------------------+           role FOO::access_role\n  | HDI container FOO                                             |                      /\n  |                                role default_access_role ----------------------------+\n  |                                       /         \\             |\n  |                                role role1     role role2      |\n  |                                   /              /   \\        |\n  |                 structured privileges       DCL role 1 / 2    |   \n  +---------------------------------------------------------------+\n```\n\nNote: The `default_access_role` is assumed to be an \"umbrella\" role which aggregates other roles.\n\nA role with the default permission set which is granted by the SAP HANA Service Broker on container creation looks as follows:\n\n`default_permissions_role.hdbrole`:\n\n```\n{\n   \"role\":{\n      \"name\":\"default_permissions_role\",\n      \"schema_privileges\":[\n         {\n            \"privileges\":[\n               \"SELECT\",\n               \"INSERT\",\n               \"UPDATE\",\n               \"DELETE\",\n               \"EXECUTE\",\n               \"CREATE TEMPORARY TABLE\",\n               \"SELECT CDS METADATA\"\n            ]\n         }\n      ]\n   }\n}\n```\n\nOn SAP HANA Cloud, \"SELECT CDS METADATA\" is not granted.\n\n## The development_debug_role Role\n\nSimilarly to the default_access_role, a development_debug_role can be used to add additional privileges to the access role. This is only intended for development and debugging, not for productive use!\n\nIf a role definition file exists at the path `src/defaults/development_debug_role.hdbrole`, and this file defines a role named `development_debug_role`, and this file is explicitly included in the deployment via the `--deploy` option, then the HDI Deployer grants the deployed `development_debug_role` role to the service instance's global access role (e.g. `FOO::access_role`).\n\nIn order to remove the privileges granted this way, the file has to be undeployed.\n\n## Reusable Database Modules\n\nIn order to allow that an application uses (parts of) the database persistence of a reusable component inside its own persistence model, the HDI Deployer allows to link/include the design-time files of reusable components in a consuming application in an automated way. This mechanism is based on the Node.js package management mechanism for defining, publishing, and consuming reusable database modules which also supports versioning based on the semantic versioning concepts (cf. http://semver.org).\n\nA reusable database module is considered to have the same `src/` and `cfg/` folder structure as a normal database module. The `src/.hdiconfig` file is mandatory and used by the module mechanism as an indicator that the `src/` and `cfg/` folders belong to a consumable, reusable database module. In addition, the reusable database module needs to have a `package.json` file which defines the module's name, the module's version, etc.\n\nA complete reusable database module looks as follows:\n\n```\n/\n+-- src/\n|   +-- .hdiconfig\n|   +-- <source files ...>\n+-- cfg/\n|   +-- <optional configuration files ...>\n+-- package.json\n```\n\nThe `package.json` file contains the module’s name, description, version, repository URL, and the set of files which belong to the module:\n\n`package.json`:\n\n```\n{\n  \"name\": \"module1\",\n  \"description\": \"A set of reusable database objects\",\n  \"version\": \"1.3.1\",\n  \"repository\": {\n    \"url\": \"git@your.gitserver:modules/module1.git\"\n  },\n  \"files\": [\n    \"src\",\n    \"cfg\",\n    \"package.json\"\n  ]\n}\n```\n\nThe reusable database module should be published to a Node.js package management compliant object repository.\n\nConsumption of a reusable database module is done by adding a dependency in the consuming module's `package.json` file, right beside the dependency to `@sap/hdi-deploy`:\n\n```\n{\n  \"name\": \"deploy\",\n  \"dependencies\": {\n    \"@sap/hdi-deploy\": \"5.0.1\",\n    \"module1\": \"1.3.1\",\n    \"module2\": \"1.7.0\"\n  },\n  \"scripts\": {\n    \"start\": \"node node_modules/@sap/hdi-deploy/\"\n  }\n}\n```\n\nHere, the consuming module requires `module1` in version `1.3.1` and `module2` in version `1.7.0`.\n\nWhen running `npm install` to download and install the dependencies which are listed in the dependencies section of the `package.json` file, `npm` will also download the reusable database modules and places them into the `node_modules/` folder of the consuming module. For each module a separate subfolder is created with the name of the module.\n\nWhen the HDI Deployer is triggered to do the actual deployment of the (consuming) database module, it scans the `node_modules/` folder and virtually integrates the `src/` and `cfg/` folders of found reusable database modules into the (consuming) database module’s `lib/` folder. Reusable database modules are identified by the mandatory `src/.hdiconfig` file.\n\nOn successful deployment, the HDI container will contain the consumed modules below the root-level `lib/` folder, e.g.\n\n```\n/\n+-- src/\n+-- cfg/\n+-- lib/\n|   +-- module1/\n|   |   +-- src/\n|   |   +-- cfg/\n|   +-- module2/\n|       +-- src/\n|       +-- cfg/\n```\n\nFor the time being, it’s not allowed to recursively include reusable database modules.\n\nThe `cfg/` folders of reusable database modules are also subject to configuration file templating.\n\n## Configuration File Templating\n\nThe HDI Deployer implements a templating mechanism for HDI configuration files, e.g. configuration files for synonyms, projection views, etc., based on services which are bound to the `db` module application. By means of this templating mechanism, it is possible to configure synonyms, projection views, etc. to point to the right database schema without knowing the schema name at development time.\n\nOn startup, the HDI Deployer recursively scans the local `cfg/` folder and picks up all files with a `.*config` suffix, e.g. all `.hdbsynonymconfig`, `.hdbvirtualtableconfig`, etc. files. For all collected files which contain `.configure` markers in their content, it applies the configuration templating and creates transient configuration files which are then deployed to the HDI container.\n\nFor a synonym configuration file `cfg/LOCAL_TARGET.hdbsynonymconfig`\n\n    {\n        \"LOCAL_TARGET\" : {\n            \"target\" : {\n                \"schema.configure\"    : \"logical-external-service/schema\",\n                \"database.configure\"  : \"logical-external-service/database\",\n                \"object\"              : \"TARGET\"\n            }\n        }\n    }\n\nthe section\n\n                \"schema.configure\"    : \"logical-external-service/schema\",\n                \"database.configure\"  : \"logical-external-service/database\",\n                \"object\"              : \"TARGET\"\n\nwill be transformed by the templating mechanism into\n\n                \"schema\"              : \"THE_SCHEMA\",\n                \"database\"            : \"THE_DATABASE\",\n                \"object\"              : \"TARGET\"\n\nwhere `THE_SCHEMA` and `THE_DATABASE` are the values for the `schema` and `database` fields of the bound service `logical-external-service`, which are denoted by the path expressions`logical-external-service/schema` and `logical-external-service/database`.\n\nIf a field in the service is missing, it will not be configured and will be removed instead, e.g. `database` might be optional.\n\nThe names of the services are subject to the service replacements mechanism, which can be used to map a real service, e.g. `real-external-service`, to a logical service name which is used in the configuration files, e.g. `logical-external-service`.\n\nIt's not always applicable to use `schema.configure`, `database.configure`, etc. in the configuration template files. Therefore, the HDI Deployer provides a generic way of copying a set of properties from the bound service, e.g. schema, database, remote source, etc. if they are present, although the template file doesn't mention them.\n\nFor the configuration file `cfg/LOCAL_TARGET.hdbsynonymconfig` this could looks as follows:\n\n    {\n        \"LOCAL_TARGET\" : {\n            \"target\" : {\n                \"*.configure\"         : \"logical-external-service\",\n                \"object\"              : \"TARGET\"\n            }\n        }\n    }\n\nWhen the HDI Deployer encounters a `*.configure` entry, it simply copies all well-known fields which are present in the bound service into the configuration file. The well-known fields are currently `remote`, `database`, and `schema`.\n\nThe HDI Deployer also supports old-style `.hdbsynonymtemplate` template files: If a `.hdbsynonymtemplate` file is found in the `cfg/` or `src/` folder, then it is processed as a configuration template file and a transient file with the suffix  `.hdbsynonymconfig` is created. A field `grantor` is replaced with the `schema` value from the referenced service; so, a `grantor` field is equivalent to a `\"schema.configure\" : \"the-service/schema\"` entry in a configuration template file.\n\n## Permissions to Container-External Objects\n\nAn HDI container is by default equipped with nearly zero database privileges, e.g. the object owner (`#OO` user) is mainly equipped with the `CREATE ANY` privilege on the container's runtime schema (e.g. schema `FOO` for an HDI container `FOO`). Since SAP HANA 2 SPS00, the object owner is equipped with an additional restricted set of privileges for system views in the database's `SYS` schema, e.g. `SYS.VIEWS` or `SYS.TABLES`. These system views apply an additional row-level filter based on the object owner's other privileges, e.g. the object owner can only see metadata in `SYS.VIEWS` for views he has privileges on. So, without additional privileges, the object owner can only see metadata for the objects in his container schema.\n\nIn order to access database objects inside other database schemata or other HDI containers, and in order to deploy synonyms into the HDI container which point to these container-external objects, at least the object owner needs additional privileges, e.g. for an object `object` in schema `X` `SELECT` privileges on `X.object`:\n\n```\n  +---------------------------------------------------------------+      +------------------------+\n  | HDI container FOO                                             |      | other schema X         |\n  |                                                synonym ------------------------> object       |\n  +---------------------------------------------------/-----------+      +-------------\\----------+\n                                                     /                                  \\\n                                      o             /                                    \\\n                                      X object owner FOO#OO -------------------- SELECT on X.object\n```\n\nPlease also refer to the official [Using Synonyms to Access External Schemas and Objects in XS Advanced](https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.02/en-US/bdc9f7ae66134c279a5f3683bba9b361.html) guide.\n\n#### .hdbrevokes Files\n\nStarting with version 3.8, the deployer now allows revoking rights. Anything that can be granted via .hdbgrants can be revoked via .hdbrevokes. Both files, .hdbgrants and .hdbrevokes use the same structure.\nFor more information on the structure of these files, see the section about [.hdbgrants Files](#hdbgrants-files).\n\nThe .hdbrevokes file will be processed before the .hdbgrants file.\n\n#### .hdbgrants Files\n\nIn order to automatically assign privileges to the object owner and/or the application binding users, the HDI Deployer provides `.hdbgrants` files with a syntax similar to `.hdbrole` files:\n\nAn `.hdbgrants` file has the following structure:\n\n`granting-service.hdbgrants`:\n\n```\n{\n  \"granting-service\": {\n    \"object_owner\": {\n      <privileges>\n    },\n    \"application_user\": {\n      <privileges>\n    }\n  }\n}\n```\n\nThe top-level keys define the names of the bound services which \"grant\" the privileges, these are the \"grantors\", e.g. `granting-service` in the example. The next level defines to which users the privileges will be granted, these are the \"grantees\": `object_owner` is used for the HDI container's object owner, and `application_user` marks the application users which are bound to the application modules, e.g. the Node.js module. The third level defines the set of privileges in a `.hdbrole`-like structure.\n\nOn startup, the HDI Deployer looks for `.hdbgrants` files and processes them as follows: For each grantor in the file, the HDI Deployer looks up a bound service with the name (subject to service replacements), connects to the database with the service's credentials, and grants the specified privileges to the grantees. If the `schema` field is omitted for a privilege, then the grantor's `schema` property is used. If the `name` field in a `global_object_privileges` element of type `REMOTE SOURCE` is omitted, then the grantor's `remote` property is used.\n\nFor backwards compatibility, also the suffix `.hdbsynonymgrantor` is supported.\n\nExample of a `cfg/external-access.hdbgrants` file with some privileges for the object owner:\n\n```\n{\n  \"external-access\": {\n    \"object_owner\": {\n      \"system_privileges\" : [\n        {\n          \"privileges\" : [ \"SYSTEM_PRIVILEGE_1\" ],\n          \"privileges_with_admin_option\" : [ \"SYSTEM_PRIVILEGE_2\", \"SYSTEM_PRIVILEGE_3\" ]\n        }\n      ],\n      \"global_roles\" : [\n        {\n          \"roles\" : [ \"GLOBAL_ROLE_1\", \"GLOBAL_ROLE_2\" ],\n          \"roles_with_admin_option\" : [ \"GLOBAL_ROLE_3\", \"GLOBAL_ROLE_4\" ]\n        }\n      ],\n      \"schema_privileges\" : [\n        {\n          \"privileges\" : [ \"INSERT\", \"UPDATE\" ],\n          \"privileges_with_grant_option\" : [ \"SELECT\" ]\n        }\n      ],\n      \"schema_roles\" : [\n        {\n          \"roles\" : [ \"SCHEMA_ROLE_1\", \"SCHEMA_ROLE_2\" ],\n          \"roles_with_admin_option\" : [ \"SCHEMA_ROLE_3\", \"SCHEMA_ROLE_4\" ]\n        }\n      ],\n      \"object_privileges\" : [\n        {\n          \"name\": \"AN_OBJECT\",\n          \"privileges\": [ \"INSERT\", \"UPDATE\" ],\n          \"privileges_with_grant_option\" : [ \"SELECT\" ]\n        }\n      ],\n      \"global_object_privileges\" : [\n        {\n          \"name\" : \"A_REMOTE_SOURCE\",\n          \"type\" : \"REMOTE SOURCE\",\n          \"privileges\" : [ \"CREATE VIRTUAL TABLE\" ],\n          \"privileges_with_grant_option\" : [ \"CREATE VIRTUAL PROCEDURE\" ]\n        }\n      ]\n    }\n  }\n}\n```\n\nThe following elements and keys are supported for backwards compatibility or for compatibility with `.hdbrole`:\n\n- `container_roles`: grant roles from an HDI container; superseded by `schema_roles` which works for normal schemas and HDI containers\n```\n      \"container_roles\" : [ \"SCHEMA_ROLE_1\", \"SCHEMA_ROLE_2\" ]\n```\n- `roles`: grant global roles; superseded by `global_roles`:\n```\n      \"roles\" : [ \"GLOBAL_ROLE_1\", \"GLOBAL_ROLE_2\" ]\n```\n- string-array-style roles and `names` key (maps to the non-grant/admin-option variant):\n```\n      \"global_roles\" : [\n        \"GLOBAL_ROLE_1\",\n        {\n          \"roles\" : [ \"GLOBAL_ROLE_1\", \"GLOBAL_ROLE_2\" ]\n        },\n        {\n          \"names\" : [ \"GLOBAL_ROLE_1\", \"GLOBAL_ROLE_2\" ]\n        },\n        {\n          \"roles_with_admin_option\" : [ \"GLOBAL_ROLE_3\", \"GLOBAL_ROLE_4\" ]\n        },\n        \"GLOBAL_ROLE_2\"\n      ]\n```\n\nIf any non-container privileges are used, then the object owner (`#OO` user) will need to be given these privileges WITH GRANT option by a user-defined granting-service. Otherwise it won't be able to grant these privileges to e.g. a role in the container.\n\n#### Creating a Granting Service\n\nThe HDI Deployer supports the following types of granting-services:\n\n- `sql`: a technical database user with GRANT privileges for the required object privileges, roles, system privileges, etc.\n- `hdi`: an HDI container with access to the container's GRANT APIs. An HDI container can only grant roles from the container, without admin option.\n- `procedure`: a technical database user with EXECUTE privileges on a stored procedure which has GRANT privileges for the required object privileges, roles, system privileges, etc.\n- `ignore`: grants were already given at the database-level and the HDI Deployer will ignore the content of the `.hdbgrants` file.\n\nFor the HDI container case, the corresponding service can simply be bound to the db module application. The HDI Deployer recognizes the bound service by its `hdi_user` value in the credentials section and calls the container's API procedures to grant the privileges from the `.hdbgrants` file.\n\nIn case a technical database user is used, a 'user-defined service' must be created for this purpose in the same space as the container. The service needs to be set up with the permissions of a specified database user to connect to the database and to grant the privileges specified in the `.hdbgrants` files during application deployment.\n\nSuch a user-provided service can be created as follows:\n\n- Open a command shell and log on to XSA:\n`xs login`\n- Change to the target space where you want to create the user-defined service:\n`xs target -s <SPACE>`\n- Create the user-defined service (e.g. `grantor-service`):\n`xs cups grantor-service -p '{ \"host\": \"host.acme.com\", \"port\": \"30015\", \"certificate\": \"<myCertificate>\", \"user\": \"TARGET_USER\", \"password\": \"Grant_123\", \"schema\": \"TARGET_SCHEMA\", \"tags\": [ \"hana\" ] }'`\n  - `\"host\"/\"port\"`: Required for the connection to the database: port is the SQL port of the index server.\n  - `\"certificate\"`: If the database is configured to only accept secure connections, then the granting-service requires an SSL certificate that must be included in the user-provided service, for example, using the \"certificate\":\"<myCertificate>\" parameter.\n  - `\"user\"/\"password\"`: Connection details for a database user that has grant permissions for the objects in the schema.\n  - `\"schema\"`: The database schema that contains the objects to which access is to be granted.\n  - `\"type\"`: The type of the grantor mechanism; valid values are `\"hdi\"`, `\"sql\"`, or `\"procedure\"`. If the type is not specified, then the type is auto-sensed (see details below).\n- Use the command `xs services` to display a list of services available in the current space; the 'grantor-service' service should be visible.\n\nFor Cloud Foundry, use the corresponding `cf` commands.\n\nNote: Starting with version 3.0.0 of the HDI Deployer, the `\"host\"`, `\"port\"`, and `\"certificate\"` parameters are no longer required since they can be obtained from the target container binding. In this case, you must only specify the `\"user\"`, `\"password\"`, and `\"schema\"` when creating the user-provided service, e.g. `xs cups grantor-service -p '{ \"user\": \"TARGET_USER\", \"password\": \"Grant_123\", \"schema\": \"TARGET_SCHEMA\", \"tags\": [ \"hana\" ] }'`.\n\nIf the `\"type\"` is not specified, then the type is selected based on the following rule: if the field `hdi_user` is present, then the type is auto-sensed as `hdi`; otherwise, the type is set to `sql`.\n\nIf the technical database user does not have GRANT privileges by its own, but only EXECUTE privileges on a stored procedure which can grant the privileges, then the following settings are required:\n\n- At the database, a GRANT procedure must exist (or be visible) in the schema which is used in the user-provided service; an example is shown below.\n- The technical database user must have EXECUTE privileges on the GRANT procedure.\n- The name of the GRANT procedure must be specified in the user-provided service in the `\"procedure\"` field, e.g. `\"procedure\": \"GRANT\"`.\n- The scheme name of the GRANT procedure can be specified in the user-provided service in the `\"procedure_schema\"` field, e.g. `\"procedure_schema\": \"A_SCHEMA\"`.\n- The user-provided service must contain a `\"type\"` field with the value `\"procedure\"`.\n\nFor the different types of privileges, the following fields are passed to the GRANT procedure:\n\n| PRIVILEGE_TYPE | PRIVILEGE_NAME | OBJECT_SCHEMA | OBJECT_NAME | OBJECT_TYPE | GRANTEE_SCHEMA | GRANTEE_NAME | GRANTABLE |\n| --- | --- | --- | --- | --- | --- | --- | --- |\n| SCHEMA_OBJECT_PRIVILEGE | privilege | schema | object | NULL | NULL | grantee | TRUE/FALSE |\n| GLOBAL_OBJECT_PRIVILEGE | privilege | NULL | object | type | NULL | grantee | TRUE/FALSE |\n| SCHEMA_ROLE | NULL | schema | role | NULL | NULL | grantee | TRUE/FALSE |\n| GLOBAL_ROLE | NULL | NULL | role | NULL | NULL | grantee | TRUE/FALSE |\n| SCHEMA_PRIVILEGE | privilege | NULL | schema | NULL | NULL | grantee | TRUE/FALSE |\n| SYSTEM_PRIVILEGE | privilege | NULL | NULL | NULL | NULL | grantee | TRUE/FALSE |\n\nNote: This procedure does not work for SAP HANA1 SPS11, since `REPLACE_REGEXPR` is not supported. Please use the sample procedure provided with older releases of the deployer.\nThe old sample procedure does not correctly handle component names of system privileges in .hdbgrants files.\n\nExample of a GRANT procedure:\n\n```\nCREATE PROCEDURE GRANT(\n  IN PRIVILEGES TABLE (\n    PRIVILEGE_TYPE NVARCHAR(128), -- 'SCHEMA_OBJECT_PRIVILEGE'\n                                  -- 'GLOBAL_OBJECT_PRIVILEGE'\n                                  -- 'SCHEMA_ROLE'\n                                  -- 'GLOBAL_ROLE'\n                                  -- 'SCHEMA_PRIVILEGE'\n                                  -- 'SYSTEM_PRIVILEGE'\n    PRIVILEGE_NAME NVARCHAR(256), -- cf. SYS.PRIVILEGES\n    OBJECT_SCHEMA NVARCHAR(256),  -- NULL or schema\n    OBJECT_NAME NVARCHAR(256),\n    OBJECT_TYPE NVARCHAR(128),    -- NULL or 'REMOTE SOURCE'\n    GRANTEE_SCHEMA NVARCHAR(256), -- NULL or schema\n    GRANTEE_NAME NVARCHAR(256),\n    GRANTABLE NVARCHAR(5)         -- 'TRUE' or 'FALSE'\n  )\n)\nLANGUAGE SQLSCRIPT\nSQL SECURITY DEFINER\nAS\nBEGIN\n  DECLARE ERROR CONDITION FOR SQL_ERROR_CODE 10000;\n  DECLARE CURSOR PRIVILEGES_CURSOR FOR SELECT * FROM :PRIVILEGES;\n\n  -- TODO: add checks for valid grantees, e.g. check with _SYS_DI#<group>.M_CONTAINER_SCHEMAS\n  --       or with SYS.USERS and creator and grantee like '%#OO'\n  -- TODO: keep only functionality that should be allowed, e.g. only allow to grant schema-local\n  --       roles, but no object privileges, etc.\n\n  FOR PRIVILEGE AS PRIVILEGES_CURSOR\n  DO\n    DECLARE TO_GRANTEE_CLAUSE NVARCHAR(512);\n    DECLARE GRANTABLE_CLAUSE NVARCHAR(512) = '';\n\n    IF PRIVILEGE.GRANTEE_SCHEMA IS NULL THEN\n      TO_GRANTEE_CLAUSE = ' TO \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.GRANTEE_NAME) || '\"';\n    ELSE\n      TO_GRANTEE_CLAUSE = ' TO \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.GRANTEE_SCHEMA)\n                                  || '\".\"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.GRANTEE_NAME) || '\"';\n    END IF;\n\n    IF PRIVILEGE.GRANTABLE = 'TRUE' THEN\n      IF PRIVILEGE.PRIVILEGE_TYPE = 'SYSTEM_PRIVILEGE' OR\n         PRIVILEGE.PRIVILEGE_TYPE = 'GLOBAL_ROLE' OR\n         PRIVILEGE.PRIVILEGE_TYPE = 'SCHEMA_ROLE' THEN\n        GRANTABLE_CLAUSE = ' WITH ADMIN OPTION';\n      ELSE\n        GRANTABLE_CLAUSE = ' WITH GRANT OPTION';\n      END IF;\n    ELSEIF PRIVILEGE.GRANTABLE != 'FALSE' THEN\n      SIGNAL ERROR SET MESSAGE_TEXT = 'unsupported value for GRANTABLE: '\n                                      || PRIVILEGE.GRANTABLE;\n    END IF;\n\n    IF PRIVILEGE.PRIVILEGE_TYPE = 'SCHEMA_OBJECT_PRIVILEGE' THEN\n      EXEC 'GRANT \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.PRIVILEGE_NAME) || '\"'\n        || ' ON \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_SCHEMA)\n                   || '\".\"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_NAME) || '\" '\n        || TO_GRANTEE_CLAUSE\n        || GRANTABLE_CLAUSE;\n    ELSEIF PRIVILEGE.PRIVILEGE_TYPE = 'GLOBAL_OBJECT_PRIVILEGE' THEN\n      IF PRIVILEGE.OBJECT_TYPE = 'REMOTE SOURCE' THEN\n        EXEC 'GRANT \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.PRIVILEGE_NAME) || '\"'\n          || ' ON ' || PRIVILEGE.OBJECT_TYPE || ' \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_NAME) || '\" '\n          || TO_GRANTEE_CLAUSE\n          || GRANTABLE_CLAUSE;\n      ELSE\n        SIGNAL ERROR SET MESSAGE_TEXT = 'unsupported value for OBJECT_TYPE for GLOBAL_OBJECT_PRIVILEGE: '\n                                        || PRIVILEGE.OBJECT_TYPE;\n      END IF;\n    ELSEIF PRIVILEGE.PRIVILEGE_TYPE = 'SCHEMA_ROLE' THEN\n      EXEC 'GRANT \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_SCHEMA)\n                     || '\".\"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_NAME) || '\" '\n        || TO_GRANTEE_CLAUSE\n        || GRANTABLE_CLAUSE;\n    ELSEIF PRIVILEGE.PRIVILEGE_TYPE = 'GLOBAL_ROLE' THEN\n      EXEC 'GRANT \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_NAME) || '\" '\n        || TO_GRANTEE_CLAUSE\n        || GRANTABLE_CLAUSE;\n    ELSEIF PRIVILEGE.PRIVILEGE_TYPE = 'SCHEMA_PRIVILEGE' THEN\n      EXEC 'GRANT \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.PRIVILEGE_NAME) || '\"'\n        || ' ON SCHEMA \"' || ESCAPE_DOUBLE_QUOTES(PRIVILEGE.OBJECT_NAME) || '\" '\n        || TO_GRANTEE_CLAUSE\n        || GRANTABLE_CLAUSE;\n    ELSEIF PRIVILEGE.PRIVILEGE_TYPE = 'SYSTEM_PRIVILEGE' THEN\n      EXEC 'GRANT \"' || REPLACE_REGEXPR('\\.' IN ESCAPE_DOUBLE_QUOTES(PRIVILEGE.PRIVILEGE_NAME) WITH '\".\"') || '\"'\n        || TO_GRANTEE_CLAUSE\n        || GRANTABLE_CLAUSE;\n    ELSE\n      SIGNAL ERROR SET MESSAGE_TEXT = 'unsupported value for PRIVILEGE_TYPE: '\n                                      || PRIVILEGE.PRIVILEGE_TYPE;\n    END IF;\n  END FOR;\nEND;\n```\n\n#### Defining the Granting Service in the mta[d].yaml\n\nIf the container needs a granting-service, then besides the service itself, the Application Development Descriptor mta.yaml needs to be adjusted for the deployer to be able to find the service. The mta.yaml must be modified to:\n\n1. The container of the `db` module needs to get a `TARGET_CONTAINER` property to mark the service that corresponds to the container\n2. A new entry in `requires` is added for the granting-service\n3. A new entry in `resources` is added for the granting-service\n\nExample:\n`mta.yaml`:\n\n```\nschema-version: '2.0'\nID: granting-service-example\nversion: 0.0.1\n\nmodules:\n  - name: db\n    type: hdb\n    path: db\n    requires:\n      - name: hdi-container\n        properties:                                     # 1.\n          TARGET_CONTAINER: ~{hdi-container-service}    # 1.\n          \n      - name: granting-service                          # 2.\n          \nresources:\n  - name: hdi-container\n    type: com.sap.xs.hdi-container\n    properties:\n      hdi-container-service: ${service-name}        \n\n  - name: granting-service                              # 3.\n    type: org.cloudfoundry.existing-service             # 3.\n```\n\n## Environment Variables for Applications\n\n`@sap/hdi-deploy` supports (re-)configuration via the following environment variables which are exposed to applications, e.g. via the CF/XSA `manifest.yml` or the MTA descriptor `mta.yaml`:\n\n- `TARGET_CONTAINER`: (optional) service name that specifies the HDI target container (needed, if more than one HDI service is bound to the HDI Deployer)\n- `SERVICE_REPLACEMENTS`: (optional) JSON-structured list of service replacements, e.g. `[ { \"key\": \"logical-service-name-1\", \"service\":\"real-service-name-1\"}, { \"key\": \"logical-service-name-2\", \"service\":\"real-service-name-2\"} ]`, where the logical service names refer to the names in the HDI content and the real service names refer to the services which are bound to the HDI Deployer via `VCAP_SERVICES`; if the HDI content references a service name which is not listed in the replacements, then this name is used as a real service name\n\nThe structure of the `SERVICE_REPLACEMENTS` environment variable is based on the MTA specification in order to enable MTA group assignments.\n\nExample `manifest.yml`:\n\n    applications:\n    - name: app-db\n      path: db\n      health-check-type: process\n      services:\n        - app-database\n        - real-grantor-service\n        - real-external-service\n      env:\n        TARGET_CONTAINER: app-database\n        SERVICE_REPLACEMENTS: >\n        [\n          {\n            \"key\"     : \"logical-grantor-service\",\n            \"service\" : \"real-grantor-service\"\n          },\n          {\n            \"key\"     : \"logical-external-service\",\n            \"service\" : \"real-external-service\"\n          }\n        ]\n\n## Environment Variables for Infrastructure / Development Tools\n\n`@sap/hdi-deploy` supports (re-)configuration via the following environment variables for infrastructure / development tools like the Deploy Service or internal build tools of the WEB IDE\n\n- `EXIT`: (optional) if set, the HDI Deployer will exit when the deployment is done; using the environment variable is equivalent to passing a `--exit` on the command line\n- `DEPLOY_ID`: (optional) if set, the given id will be written to the final application log entry (custom id, to support processes in parsing log output\n- `HDI_DEPLOY_OPTIONS`: (optional) JSON-structured set of options for the HDI Deployer, e.g. `{ \"auto_undeploy\" : true, \"exit\" : true, \"root\" : \"/volumes/A/workspaces/B/db/\", \"include_filter\" : [ \"src/\", \"cfg/\" ] }`; command line options can be translated to `HDI_DEPLOY_OPTIONS` options by replacing the `-`s in the option names with `_`s; options which can accept multiple values require a JSON array with the values, e.g. path options like the include-filter option.\n- `APPLICATION_ID`: (optional, fallback `SAP_HDI`) this will be used, in conjunction with the `space_name` and the `organization_name` of the `VCAP_APPLICATION` to set the session variable `APPLICATION` for all connections to the database. This setting may only be used by applications from SAP.\n- `APPLICATION_VERSION_INFO`: (optional) this will be logged to the command line, to allow logging of some additional information about the application.\n\nOptions from `HDI_DEPLOY_OPTIONS` and the command line are merged. `HDI_DEPLOY_OPTIONS` have priority over options from the command line.\n\n## Ignore List\nThe hdi deployer supports ignoring certain files via an `.hdiignore` file. The file has to be placed at the root of the project folder, just like the `undeploy.json`.\nThe file has a structure similar to a `.gitignore` file, simply lines of texts specifying the paths to exclude. Both \"real\" paths and path patterns are supported.\n```\nsrc/table_1.hdbtable\nsrc/*_2.hdbtable\n```\n\nThe file works just like the `--exclude-filter` option and they can be used at the same time.\n\n## Options for Interactive Scenarios\n\n`@sap/hdi-deploy` supports the following options for interactive deployment scenarios, e.g. for orchestration via the WEB IDE or for CI scripts:\n\n- `--version`: print version and exit\n- `-t, --trace`: enable tracing\n- `--use-hdb`: enable the \"hdb\" client to connect to the database instead of \"@sap/hana-client\"; by default \"@sap/hana-client\" is used\n- `--hana-client-trace`: enable tracing for the SAP HANA client; All interactions with the SAP HANA server will be traced which can lead to a large amount of trace information to be written\n- `--hana-client-packet-trace`: enable PACKET tracing for the SAP HANA client; Must only be used in combination with --hana-client-trace\n- `--[no-]verbose`: [don't] print detailed log messages to the console\n- `--structured-log <file>`: write log messages as JSON objects into the given file; messages are appended if the file already exists\n- `--[no-]exit`: [don't] exit after deployment of artifacts\n- `--[no-]lock-container`: [don't] acquire the container lock while working with the container\n- `--root <path>`: use the given root path for artifacts\n- `--working-set [<path> ..]`: define the given paths (directories and files) as the working set; a non-default working set applies additional restrictions, e.g. other options might be disallowed\n- `--include-filter [<path> ..]`: only include the given paths (directories and files) during delta detection\n- `--deploy [<file> ..]`: explicitly schedule the given files for deploy; extends the `include-filter` for collecting local files. Instead of a real path, a path pattern like src/**/*.hdbtable can be used as well.\n- `--[no-]treat-unmodified-as-modified`: [don't] treat unmodified files during delta detection as modified files\n- `--undeploy [<file> ..]`: explicitly schedule the given files for undeploy\n- `--parameter [<key>=<value> ..]`: pass the given list of key-value parameters to the deployment\n- `--path-parameter [<path>:<key>=<value> ..]`: pass the given list of path-key-value parameters to the deployment\n- `--[no-]auto-undeploy`: [don't] undeploy artifacts automatically based on delta detection and ignore the `undeploy.json` file\n- `--[no-]treat-warnings-as-errors`: [don't] treat warnings as errors\n- `--[no-]validate-external-dependencies`: [don't] start a make, even if no files are in the deploy/undeploy sets; all deployed synonyms, projection views, and virtual tables in the container will be checked for changes to referenced objects and redeployed, if a change is detected.\n- `--[no-]simulate-make`: [don't] simulate the make and skip post-make activities; pre-make activities still take effect, e.g. grants\n- `--[no-]stop-on-error`: [don't] collect as many erros as possible during the deployment\n- `--connection-timeout <ms>`: number of milliseconds to wait for the database connection(s)\n- `--delete-timeout <ms>`: number of milliseconds to wait for the DELETE call\n- `--write-timeout <ms>`: number of milliseconds to wait for the WRITE call\n- `--lock-container-timeout <ms>`: number of milliseconds to wait for the container lock\n- `--exclude-filter [<path> ..]`: exclude the given paths during: file walk, delta detection and when explicitly scheduled via --(un)deploy\n- `--[no]-optimise-file-upload` : [don't] perform delta detection via local SHA256 calculation instead of DELETE and WRITE calls. Will not have any positive effect when used along with --treat-unmodified-as-modified.\n- `--[no-]treat-wrong-ownership-as-errors`: [don't] treat wrong ownership of objects as errors, not enabled by default\n- `--[no-]migrationtable-development-mode`: [don't] pass the development mode flag for migration tables to HDI, if the parameter is supported by the server, not enabled by default\n- `--[no-]liveness-ping`: [don't] send a sign of life from time to time, by default, a sign of life will be sent\n- ` --[no-]live-messages`: [don't] display the make messages while the make is still in progress, by default, the messages will be displayed while the make is in progress\n\nSee `--help` for details and defaults.\n\nOptions can also be passed to `@sap/hdi-deploy` via the `HDI_DEPLOY_OPTIONS` environment variable. Options from `HDI_DEPLOY_OPTIONS` and the command line are merged. `HDI_DEPLOY_OPTIONS` have priority over options from the command line.\n\n## Supported Features\n\n`@sap/hdi-deploy` exposes its set of features via the `info` option, which can be passed as `--option` or via `HDI_DEPLOY_OPTIONS`, e.g.\n\n    node deploy --info [<component> [<component> [...]]]\n\nwhere a list of components can be specified.\n\nThe `info` option allows to pass multiple components. The `info` request for these components is optional, e.g. if the HDI Deployer doesn't support the component, then it will not throw an error, but simply not return information for that component. The special component `all` will return the information for all known components; `all` is the default if no component is specified. For certain future components, e.g. `server`, the HDI Deployer might need to connect to the HDI container in the database and retrieve feature information from there.\n\nExamples:\n\n```\nnode deploy --info all\nnode deploy --info client server\n```\n\nThe result of an `info` call is a JSON document where the top-level objects correspond to the requested components. Each component should at least report its name, its version, and the set of supported features with name and version number (version numbers are simple numbers (no dots, no double-dots)).\n\nIf a version number is negative, then the feature is supported by the client, but not supported by the server.\n\nFor a `--info client` call, the document looks as follows:\n\n```\n{\n    \"client\": {\n        \"name\": \"@sap/hdi-deploy\",\n        \"version\": \"5.0.1\",\n        \"features\": {\n            \"info\": 2,\n            \"verbose\": 1,\n            \"structured-log\": 1,\n            \"lock-container\": 1,\n            \"default-access-role\": 1,\n            \"grants\": 4,\n            \"working-set\": 1,\n            \"include-filter\": 1,\n            \"deploy\": 1,\n            \"treat-unmodified-as-modified\": 1,\n            \"undeploy\": 1,\n            \"parameter\": 1,\n            \"path-parameter\": 1,\n            \"treat-warnings-as-errors\": 1,\n            \"validate-external-dependencies\": 1,\n            \"simulate-make\": 1,\n            \"service-replacements\": 1,\n            \"modules\": 2,\n            \"config-templates\": 2,\n            \"environment-options\": 1,\n            \"undeploy-allowlist\": 1\n        }\n    }\n}\n```\n\nFor the `server` component, the document would also contain the following data:\n\n```\n{\n...\n    \"server\": {\n        \"name\": \"sap-hana-database\",\n        \"version\": \"1.00.120.04.0000000000\",\n        \"features\": {}\n    }\n}\n```\n\n\n## Deployment via hdi-dynamic-deploy\n\nThe standard XSA/CF way for deploying HDI content at runtime is to make use of @sap/hdi-dynamic-deploy instead of @sap/hdi-deploy directly. The @sap/hdi-dynamic-deploy app is an http server that calls @sap/hdi-deploy when it receives a corresponding HTTP POST request. See the @sap/hdi-dynamic-deploy module for more information.\n\n## Using hdi-deploy as a Node.js library\n\nSince version 3.3.0 of @sap/hdi-deploy it is also possible to use it as a Node.js library. By requiring the library.js file from the project root it is possible to start the deployer app from within another Node.js app. The module exports the function\n\n```\nfunction deploy(contentDir, deployerEnv, callback, io)\n```\n\nwith the following parameters:\n\n- `contentDir`: string containing a path pointing to the root of the db module to be deployed\n- `deployerEnv`: javascript object containing the OS environment for the call to the deployer (e.g. containing VCAP_SERVICES)\n- `callback`: a standard callback of the form (errors, result), where result is the result of the call to the deployer of the form:\n\n```\n{\n  messages: [<list of result messages from the di server>],\n  exitCode: <exit code of the call to the deployer app, one of -1, 0, 1.>,\n  signal: <signal that the child process was closed with>\n}\n```\n  \n- `io` (optional): javascript object containing two callback functions `io.stdoutCB` and `io.stderrCB` of the form `function(data)` for streaming stdout and stderr of the call to the deployer, defaults to piping stdout and stderr of the deployer to stdout and stderr of the calling Node.js app\n\nThe exit codes have different meanings:\n\n- -1: The child process was most likely killed externally, check the signal property for details.\n- 0: Deployment done succesfully.\n- 1: Deployment failed, errors occurred.\n\nThe signal property is only set, if exitCode is -1.\n","changelog":"## 5.0.1\nFixes:\n- hana-client dependency issue while using hdb\n\n## 5.0.0\nFeatures:\n- Moved hana-client and hdb from dependencies to peerDependencies to allow choice of using either hana-client or hdb.\n- hana-client ^2 >= 2.6 support\n- hdb ^0 support\n- use dotenv@16.3.1\n- use handlebars@4.7.8\n- use micromatch@4.0.5\n\nRemoved:\n- Node 12.x, 14.x, and 16.x support\n\n## 4.9.2\nFixes:\n- use @sap/hana-client@2.19.21\n- use @sap/xsenv@4.2.0\n\n## 4.9.1\nFixes:\n- fixed npm dependency resolution fault\n- use @sap/hdi@4.5.2\n\n## 4.9.0\nFeatures:\n- only log VCAP_SERVICES of hana service or user-provided service with hana tag \n- use @sap/hana-client@2.19.18\n\n## 4.8.2\nFixes:\n- removed extraneous packages in shrinkwrap\n\n## 4.8.1\nFeatures:\n- use @sap/hdi@4.5.1\n- use @sap/hana-client@2.18.24\n\n## 4.8.0\nFeatures:\n- use @sap/hdi@4.5.0\n- use @sap/hana-client@2.17.22\n- Node 20.x support\n\n## 4.7.1\nFixes:\n- removed extraneous packages in shrinkwrap\n\n## 4.7.0\nFeatures:\n- use @sap/hana-client@2.17.21\n- log deleted files before applying undeploy.json\n- added option --stop-on-error to stop deploying further files after an error occurs while deploying a file\n- merge custom parameters passed via --parameter instead of overriding\n\nFixes :\n- log all errors in stderr instead of stdout\n- fix extra space while logging delta time\n- set default hdb timeout to 1000 ms\n\n## 4.6.1\nFeatures:\n- use @sap/hana-client@2.16.26\n- log client version during deployment\n\n## 4.6.0\nFeatures:\n- use @sap/hana-client@2.16.21\n- log cloud version when server is hana cloud\n- added support for granting/revoking service in kyma\n\nFixes :\n- log grantor/revoker type used when throwing unknown grantor type error\n- log detailed error messages when write call fails\n- ensure that the complete VCAP_SERVICES are logged without `--trace`\n\n## 4.5.3\nFeatures:\n- use @sap/hana-client@2.15.19\n\n## 4.5.2\nFeatures:\n- use @sap/hana-client@2.15.17\n- use @sap/xsenv@3.4.0\n\n## 4.5.1\nFeatures:\n- use @sap/hana-client@2.14.22\n\n## 4.5.0\nFeatures:\n- use @sap/hana-client@2.13.22\n- added option --optimise-file-upload to perform delta detection via local SHA256 calculation instead of DELETE and WRITE calls\n- Node 18.x support\n\n## 4.4.1\nFeatures:\n- use @sap/hana-client@2.13.13\n- use hdb@0.19.3\n- use @sap/xsenv@3.3.2\n\n## 4.4.0\nFeatures:\n- added option --use-hdb to enable using hdb client instead of @sap/hana-client for connecting to the database\n- use @sap/hana-client@2.12.25\n\n## 4.3.3\nFeatures:\n- use @sap/hdi@4.3.1\n- use @sap/hana-client@2.12.20\n- use async@3.2.3\n\nFixes :\n- handle empty user-provided services\n\n## 4.3.2\nFixes:\n- maintain shrinkwrap with minimist@1.2.6\n\n## 4.3.1\nFeatures:\n- added support for retrieving credentials from kubernetes\n- use @sap/hdi@4.3.0\n- use @sap/hana-client@2.11.20\n\nFixes:\n- log long lists without truncation\n- fixed passing arbitrary parameters to @sap/hana-client\n\n## 4.3.0\nFeatures:\n- allow passing arbitrary parameters to @sap/hana-client\n- use @sap/hdi@4.2.0\n- use @sap/hana-client@2.10.20\n\n## 4.2.3\nFeatures:\n- allow pattern negations in the undeploy.json file\n\n## 4.2.2\nFixes:\n- removed extraneous packages in shrinkwrap\n\n## 4.2.1\nFeatures:\n- added option `--hana-client-trace` to enable tracing for the SAP HANA client interactions with the SAP HANA server\n- added option `--hana-client-packet-trace` to enable packet tracing for the SAP HANA client interactions with the SAP HANA server\n- added custom listeners to handle SIGBUS errors\n\nFixes:\n- log client messages and errors to structured log\n\n## 4.2.0\nFeatures:\n- allow wildcard paths in the undeploy.json file to enable the undeployment of a set of files without having to specify every single file\n- added, modified, deleted and \"treated as modified\" files are logged during deployment\n- use @sap/hdi@4.1.0\n- use @sap/hana-client@2.9.28\n- Node 16.x support\n\nRemoved:\n- Node 8.x and 10.x support\n\n## 4.1.0\nFeatures:\n- provide `--validate-external-dependencies` option to always start a make, even if no files are in the deploy/undeploy sets\n- change wording for `\"whitelist\"` to `\"allowlist\"`\n- use @sap/hdi@4.0.2\n- use @sap/hana-client@2.8.20\n- added support for reading a `.env` file in the absence of `default-env.json` file\n\nFixes:\n- with `--trace`, ensure that the complete VCAP_SERVICES are logged\n\n## 4.0.6\nFeatures:\n- with `--trace`, log target credentials before checking server version\n\n## 4.0.5\nFixes:\n- updated handlebars to 4.7.7\n\n## 4.0.4\nFeatures:\n- use @sap/hdi@4.0.1\n- use @sap/hana-client@2.7.26\n\nFixes:\n- corrected improper representation of time in log\n\n## 4.0.3\nFixes:\n- ensure all the messages returned by library.js are structured\n- stricter tag validation\n\n## 4.0.2\nFeatures:\n- use @sap/hdi@3.0.2\n- use @sap/hana-client@2.7.21\n- log start and end time of deployments\n\n## 4.0.1\nFixes:\n- use @sap/xsenv@3.1.0 for full node 14 support\n\n## 4.0.0\nFeatures:\n- use @sap/hdi@3.0.1\n- use @sap/hana-client@2.7.16\n- Node 14.x support\n\nRemoved:\n- Node 6.x support\n\n## 3.11.15\nFixes:\n- set default for --delete-timeout and --write-timeout to 15 minutes instead of 15 seconds\n\n## 3.11.14\nFeatures:\n- introduce options --delete-timeout and --write-timeout, that can be used to set a timeout for the DELETE and WRITE HDI calls.\n\n## 3.11.13\nFeatures:\n- better logging of WRITE/DELETE calls\n\nFixes:\n- update dependencies\n- only handle \"CDS METADATA\" on non-HANA Cloud systems\n- always log errors to the parent process when using library.js\n- gracefully handle \"trace\":false via HDI_DEPLOY_OPTIONS\n\n## 3.11.12\nChanges:\n- segfault-handler is no longer installed as a optional dependency - needs to be provided via parallel installation if required\n\nFixes:\n- check the return code of HDI API calls to correctly detect errors\n\n## 3.11.11\nFixes:\n- close all connections before calling process.exit() to work around sporadic segmentation fault\n\n## 3.11.10\nFixes:\n- fixed a memory leak with `--live-messages`\n\n## 3.11.9\nFeatures:\n- node 12 support\n\nFixes:\n- updated dependencies\n- gracefully handle a missing grantor service when using library.js\n\n## 3.11.8\nFixes:\n- specify segfault-handler as an optional dependency\n\n## 3.11.7\nFixes:\n- better debugging capabilities for segmentation faults\n\n## 3.11.6\nFixes:\n- remove duplicate messages when using the deployer as a library\n- update dependencies\n\n## 3.11.5\nFixes:\n- when used as a library, do not exit until all messages have been sent to the parent process\n\nFeatures:\n- use hana-client 2.4.162\n\n## 3.11.4\nFixes:\n- update handlebars\n\n## 3.11.3\nFeatures:\n- update dependencies\n\nFixes:\n- correctly handle SQL grantors\n\n## 3.11.2\nFeatures:\n- update dependencies\n\n## 3.11.1\nFeatures:\n- node 10 support\n- updated dependencies\n\n## 3.11.0\nFeatures:\n- added option `--liveness-ping` to periodically send a signal that notifies the user that the deployer is still working\n- added option `--live-messages` to display the make messages while the make is still in progress\n- added function `clean-env` to `library.js` to allow cleaning a passed environment of all deployer-related variables\n\nFixes:\n- `library.js` would sometimes return with `exitCode` null because of unexpected closing of the child process\n- update dependencies\n- add missing options to HDI_DEPLOY_OPTIONS\n\n## 3.10.0\nFeatures:\n- passwords can be split over multiple services\n\n## 3.9.4\nFixes:\n- update handlebars\n\n## 3.9.3\nFixes:\n- add full support for .hdbmigrationtable files by adding the --[no-]migrationtable-development-mode flag\n\n## 3.9.2\nFixes:\n- the private key used for mutual authentication was logged if tracing is enabled\n- mutual auth was missing on some database connections\n- some database connections were not closed correctly\n\n## 3.9.1\nFixes:\n- revert changes to hdi actions that could possibly cause a behavior change\n\n## 3.9.0\nFeatures:\n- allow passing ssl connection parameters in service binding\n- allow mutual auth via parameters in service binding\n- set session variable APPLICATION on all HANA connections\n- support path parameters for HDI\n- allow development debug role similar to the default access role\n- update @sap/hdi dependency\n- better handling of invalid undeploy.json files\n- improved timestamps in logging output\n- check ownership of objects in the container via --treat-wrong-ownership-as-errors\n- allow logging of additional application data\n\nFixes:\n- issue with schema privileges and global roles in the same .hdbgrants file\n\n## 3.8.2\n\nFeatures:\n- introduced .hdbrevokes as a counterpart to .hdbgrants\n- automatically find target service: if only one HDI service is bound, TARGET_CONTAINER does not have to be set \n- print timestamp of HDI messages\n- print the status of the last build\n- fallback to the .hdiconfig in src/ if it is missing in cfg/\n- switch to @sap/hdi 2.1.2\n- switch from hdb to @sap/hana-client\n- check if the container supports locking and skip it if not\n\nFixes:\n- support \\n and \\r\\n as line endings in .hdiignore files\n- correctly process grantor files in ZDM mode\n- fix 'Maximum call stack size exceeded' in ZDM mode\n- don't escape schema names in .hdbgrants\n\n## 3.7.0\n\nFeatures:\n- warning messages will now be prepended with \"WARNING:\"\n- error messages in case of a bad service binding now offer more detail on what caused the error\n- now supports comments in JSON files like default services file\n- allow file patterns in --deploy option\n- added new options --exclude-filter and .hdiignore file that basically work like .gitignore\n- improved error reporting when using the deployer as a library\n\nFixes:\n- correctly handle component names of system privileges in .hdbgrants files\n- handle empty privilege objects\n- filter client files like .hdbgrants before deploying\n\n## 3.6.0\n\nFeatures:\n- support ZDM deployment of HDI artifacts modeled in data/ and access/ folders inside db module\n- support ZDM deployment of .hdbrole files in access schema\n- target service is logged during deployment\n\n## 3.5.1\n\nFeatures:\n- support ZDM deployment\n- added warning message when using .hdbsysnonymtemplate or .hdbsynonymgrantor\n\n## 3.4.1\n\nFeatures:\n- update dependencies\n\n## 3.4.0\n\nFeatures:\n- provide `--treat-unmodified-as-modified` option to schedule also unmodified for deploy\n- support procedure-type granting services\n- improve Readme\n\nFixes:\n- fix handling of grantor services which have a `db_hosts` value, but no `host` value\n- fix occasional 'Callback was already called' error in case of deployment failures\n\n## 3.3.0\n\nFeatures:\n- provide library.js to fork the deployer from a node.js app for a given content directory including support for stdio callbacks\n\nFixes:\n- don't look at server folders outside cfg/, src/, and lib/\n\n## 3.2.0\n\nFeatures:\n- support for @sap/hdi-dynamic-deploy\n\n## 3.1.2\n\nFixes:\n- use `db_hosts` from `VCAP_SERVICES` if it exists\n- transform paths from `--include-filter`, `--deploy`, `--undeploy`, `--working-set` to the server format where reusable modules are located at `lib/` instead of `node_modules/`\n\n## 3.1.1\n\nFixes:\n- support @-scoped reusable modules\n\n## 3.1.0\n\nFeatures:\n- support `--parameter` option to pass key-value parameters to the deployment\n\nFixes:\n- use non-sync write to stdout (and stderr), and on exit, wait until stdout is drained to avoid loss of log output in case of crashes, etc.\n- container locking is available since server version 2.0.1.0, not 2.0.0.0\n\n## 3.0.0\n\nFeatures:\n- check `src/defaults/default_access_role.hdbrole` file against the working set\n- check `.hdbgrants` files against the working set\n- show the processing of individual `.hdbgrants` files\n- on newer server versions, acquire the container lock while working with the container\n- support `--lock-container-timeout <ms>` option for setting the number of milliseconds to wait for the container lock, defaults to 120.000 ms\n- also support grantor services with only `\"user\"`, `\"password\"`, `\"schema\"`; and take `\"host\"`, `\"port\"`, `\"certificate\"` from the target container\n- in `.hdbgrants` files, use the first non-undefined schema value (`\"schema\"`, `\"reference\"`, `\"schema\"` from grantor service); `\"reference\"` is only used for `\"schema_privileges\"`\n- support schema roles in `.hdbgrants` files\n- reject explicit delta detection of files outside the working set\n- switch to Node.js 6.9.1 as minimal Node.js version\n- provide `--working-set` option to restrict the set of files which can be modified in the container\n- support global roles with admin option in `.hdbgrants` files\n- support system privileges with admin option in `.hdbgrants` files\n- support `--connection-timeout <ms>` option for setting the number of milliseconds to wait for the database connection(s)\n\nFixes:\n- lock the container before showing the `synchronizing` message\n- support `.hdbgrants` files without a name (`folder/.hdbgrants`)\n- support the string-array style in schema_roles, too\n- support typed global object privileges in `.hdbgrants` files\n- correctly pass certificate to hdi client\n\n## 2.3.0\n\nFeatures:\n- rename module to @sap/hdi-deploy\n\n## 2.2.0\n\nFixes:\n- fix schema name handling to allow schema names with special characters\n- fix handling of more than 1 privilege in a single element in `.hdbgrants` files\n- fix trace handling for VCAP_SERVICES and connection data\n\n## 2.1.0\n\nFeatures:\n- detect server version; provide `--[no-]detect-server-version` option\n- invert client feature version numbers if they are not available due to the detected server version\n- support `server` in `--info`\n- generalize handling of configuration file templating for `cfg/**/*config` files\n- provide `--structured-log` option to send messages in a JSON-structured format into a log file\n- provide `--[no-]verbose` option to suppress detailed messages at the console output\n- allow consumption of reusable database modules via `package.json` and `npm install`\n- provide `--simulate-make` option to enable server-side feature for simulating the make activities\n- provide `--treat-warnings-as-errors` option to enable server-side feature for treating warnings as errors\n- provide `--deploy` option to explicitly include a set of files in the deploy set\n- provide `--undeploy` option to explicitly include a set of files in the undeploy set\n\nFixes:\n- reject `--simulate-make` and `--treat-warnings-as-errors` if the server doesn't support these features\n- consider the root path when looking for reuse modules\n- throw an error if we find a nested node_modules folder inside a reuse module\n\n## 2.0.1\n\nFixes:\n- pass the certificate from the service binding down to the database (`certificate` field in the binding, `ca` field in the database connection)\n- fix handling of file templating in `cfg/` folder and include-filter handling on Windows\n- fix handling of multiple roles in `container_roles` elements in `.hdbgrants` files\n- fix handling of `.hdbgrants` files with more than 1 grantors inside\n\n## 2.0.0\n\nFeatures:\n- allow `.hdbgrants` as suffix for privilege grants / grantor mechanism files\n- apply consistency check on file `src/defaults/default_access_role.hdbrole`\n- show information about used service replacements\n- reworked reporting of hdideploy.js errors and HDI errors/warnings\n- refactored JSON parser handling\n- automatic assignment of the deployed role `default_access_role` if the file `src/defaults/default_access_role.hdbrole` is in the processing file set\n- provide `--info` option to show supported features\n- provide timing information for certain actions, e.g. time spent for collecting files, time spent for synchronizing files with the server, etc.\n- provide `--include-filter` option to define a filter for restricting the set of files which are processed by the deployer app for deploy/undeploy\n- allow the indirection of service names via a `SERVICE_REPLACEMENTS` environment variables\n- provide a generic templating mechanism for `cfg/**/*config` files, replacing the `hdbsynonymtemplate` files\n- support `default-services.json` and `default-env.json` for local development\n- show information about the effects of the `undeploy.json` file\n- always show application name plus version number; for support cases\n- always consider all deploy directories, even if they do not exist locally\n- write the log message `Application can be stopped.` only once\n- ignore errors when deleting non-existing directories\n- show information about the steps that are performed\n- provide `--[no-]strip-cr-from-csv` option to [not] strip carriage return characters from CSV files; not enabled by default anymore\n\nFixes:\n- don't report a missing `undeploy.json` file as an error\n\n## 1.1.0\n\nFeatures:\n- replace `--autoUndeploy` with `--auto-undeploy`; keep `--autoUndeploy` for backwards compatibility\n- provide `--no-auto-undeploy` option to revert `--auto-undeploy`\n- provide `--root` option\n- provide `--exit` and `--no-exit` options\n- allow to pass options via JSON structured `HDI_DEPLOY_OPTIONS` environment variable\n","downloadsCurrentMonth":296065,"downloadsCurrentFortnight":139613,"downloads365":4499718,"downloadsFortnightGrowth":-2.84,"downloadsHistory":[{"yearMonth":"2023-04","downloads":340004},{"yearMonth":"2023-05","downloads":415329},{"yearMonth":"2023-06","downloads":428582},{"yearMonth":"2023-07","downloads":407232},{"yearMonth":"2023-08","downloads":401645},{"yearMonth":"2023-09","downloads":373294},{"yearMonth":"2023-10","downloads":406985},{"yearMonth":"2023-11","downloads":390086},{"yearMonth":"2023-12","downloads":371087},{"yearMonth":"2024-01","downloads":384354},{"yearMonth":"2024-02","downloads":261759}],"versions":[{"version":"created","date":"2020-06-11T23:36:05.788Z"},{"version":"3.3.3","date":"2020-06-11T23:36:06.190Z"},{"version":"modified","date":"2024-02-21T10:09:51.305Z"},{"version":"3.11.10","date":"2020-06-11T23:36:13.201Z"},{"version":"3.6.0","date":"2020-06-11T23:36:19.796Z"},{"version":"3.5.1","date":"2020-06-11T23:36:26.371Z"},{"version":"3.11.4","date":"2020-06-11T23:36:33.566Z"},{"version":"3.11.11","date":"2020-06-11T23:36:41.490Z"},{"version":"3.11.6","date":"2020-06-11T23:36:48.528Z"},{"version":"3.7.0","date":"2020-06-11T23:37:00.461Z"},{"version":"3.11.3","date":"2020-06-11T23:37:10.420Z"},{"version":"3.2.0","date":"2020-06-11T23:37:17.197Z"},{"version":"3.11.2","date":"2020-06-11T23:37:23.641Z"},{"version":"3.11.0","date":"2020-06-11T23:37:30.586Z"},{"version":"3.10.0","date":"2020-06-11T23:37:37.905Z"},{"version":"3.8.2","date":"2020-06-11T23:37:45.291Z"},{"version":"3.11.9","date":"2020-06-11T23:37:54.686Z"},{"version":"3.1.2","date":"2020-06-11T23:38:03.462Z"},{"version":"3.11.5","date":"2020-06-11T23:38:09.821Z"},{"version":"3.3.0","date":"2020-06-11T23:38:16.193Z"},{"version":"3.4.1","date":"2020-06-11T23:38:22.515Z"},{"version":"3.9.4","date":"2020-06-11T23:38:29.441Z"},{"version":"3.11.12","date":"2020-10-28T11:53:09.201Z"},{"version":"3.11.13","date":"2020-10-30T10:37:36.016Z"},{"version":"3.11.14","date":"2020-11-05T12:25:57.615Z"},{"version":"3.11.15","date":"2020-11-06T09:36:37.605Z"},{"version":"4.0.1","date":"2021-01-21T15:18:30.858Z"},{"version":"4.0.2","date":"2021-02-11T12:05:11.741Z"},{"version":"4.0.3","date":"2021-02-25T12:50:48.366Z"},{"version":"4.0.4","date":"2021-03-22T13:58:14.848Z"},{"version":"4.0.5","date":"2021-04-19T15:01:57.407Z"},{"version":"4.1.0","date":"2021-06-30T11:47:17.711Z"},{"version":"4.2.0","date":"2021-08-31T13:32:55.127Z"},{"version":"4.2.3","date":"2021-11-19T12:59:52.344Z"},{"version":"4.3.0","date":"2022-02-28T12:00:29.109Z"},{"version":"4.3.2","date":"2022-04-05T11:54:40.102Z"},{"version":"4.3.3","date":"2022-04-14T10:59:29.100Z"},{"version":"4.4.1","date":"2022-07-04T09:19:10.231Z"},{"version":"4.5.0","date":"2022-10-19T10:38:55.202Z"},{"version":"4.5.1","date":"2022-10-31T14:29:11.942Z"},{"version":"4.5.3","date":"2023-01-20T11:25:51.367Z"},{"version":"4.6.0","date":"2023-03-27T14:29:38.550Z"},{"version":"4.6.1","date":"2023-05-15T14:19:50.128Z"},{"version":"4.7.1","date":"2023-07-21T13:51:35.121Z"},{"version":"4.8.0","date":"2023-08-04T11:42:11.775Z"},{"version":"4.8.1","date":"2023-10-11T11:43:05.091Z"},{"version":"4.8.2","date":"2023-10-12T13:39:40.080Z"},{"version":"4.9.0","date":"2023-12-13T12:34:00.597Z"},{"version":"4.9.1","date":"2023-12-14T09:01:58.285Z"},{"version":"4.9.2","date":"2024-01-15T11:53:07.613Z"},{"version":"5.0.1","date":"2024-02-21T10:09:50.810Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hdi-deploy"},{"name":"hdi-dynamic-deploy","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T21:33:56.692Z","updatedAt":"2024-01-15T12:56:44.362Z","readme":"@sap/hdi-dynamic-deploy\n=======================\n\n`@sap/hdi-dynamic-deploy` is a [Node.js](https://nodejs.org)-based http server for dynamic deployment to SAP HANA DI (HDI) containers, HDI Dynamic Deployer for short. The HDI Dynamic Deployer can be used in XS Advanced (XSA) and in SAP Cloud Platform (SAP CP)/Cloud Foundry (CF) to deploy database content to dynamically created containers (e.g. created via the Instance Manager).\n\nThe dynamic deployer is built upon `@sap/hdi-deploy` which should be used directly if a static deployment at deploytime is sufficient.\n\n## README.md\n\n**Installation**:\n- [Integration into a Database Module](#integration-into-a-database-module)\n- [Configuration of the dynamic deployer](#configuration-of-the-dynamic-deployer)\n\n**Dynamic deployment**:\n- [Triggering a dynamic deployment by a HTTP POST request](#triggering-a-dynamic-deployment-by-a-http-post-request)\n- [How to use it in a multi-target application](#how-to-use-it-in-a-multi-target-application)\n- [Accessing the underlying HTTP server](#accessing-the-underlying-http-server)\n- [Accessing the underlying HTTP server](#accessing-the-router-functions)\n\n## Integration into a Database Module\n\nUsually, `@sap/hdi-dynamic-deploy` gets installed via a `package.json`-based dependency inside your application's `db` module:\n\n`db/package.json`:\n\n```\n{\n  \"name\": \"deploy\",\n  \"dependencies\": {\n    \"@sap/hdi-dynamic-deploy\": \"2.7.2\"\n  },\n  \"scripts\": {\n    \"start\": \"node node_modules/@sap/hdi-dynamic-deploy/\"\n  }\n}\n```\n\n\n    \n## Configuration of the dynamic deployer\n\nThe dynamic deployer needs to be configured via the following environment variables:\n\n- `PORT`: port the HTTP server listens to\n- `hdi_dynamic_deploy_user`: username for HTTP basic authentication\n- `hdi_dynamic_deploy_password`: password for HTTP basic authentication\n- `ENFORCE_AUDITING`: force usage of audit logging. If audit logging cannot be enabled, the server will throw an error and stop.\n- `ENFORCE_V2`: force usage of the V2 audit logging API. If audit logging V2 cannot be enabled, the server will throw an error and stop.\n- `STRUCTUREDLOGGING`: allows dynamic deployer logs to be in structured format when set to true.\n- `AUDIT_LOG_TENANT`: specifies the tenant to use for audit logging. Likely this will be the [subaccount-id](https://help.sap.com/viewer/cca91383641e40ffbe03bdc78f00f681/Cloud/en-US/b43eff2df3f84124995f6acbc9e5c55b.html) where your app is deployed. If this is not specified you may be unable to view the logs.\n\nNote: Any client that knows the `hdi_dynamic_deploy_user` and the corresponding password will indirectly be able to read the database artifacts contained in the dynamic deploy server.\n\nIf an auditlog service is bound to the dynamic deployer, invalid authentication attempts will be logger accordingly.\n\nThe `PORT` variable is automatically set by XSA. `ENFORCE_AUDITING`, `ENFORCE_V2`, username and password have to be given e.g. via the `mta.yaml` file (see example below).\nWhen using the XSA deploy-service, a strong generated password will be used. In other use cases, sufficient password strength has to be ensured!\n\n```\nmodules:\n  - name: db\n    type: com.sap.xs.hdi-dynamic\n    path: db\n    properties:\n      hdi_dynamic_deploy_user: ${generated-user}\n      hdi_dynamic_deploy_password: ${generated-password}\n    provides:\n    - name: db_deployment\n      properties:\n         url: ${default-url}\n         user: ${generated-user}\n         password: ${generated-password}\n```\n\n## Triggering a dynamic deployment by a HTTP POST request\n\nThe dynamic deployer is a http server started for a specific db module. When the module is pushed to XSA or CF, the dynamic deployer starts listening for requests and eventually starts the (non-dynamic) deployer to deploy the content of the db module to a given container.\n\nTo trigger the deployment one has to send a HTTP POST request with basic authentication and content type `application/json` to the dynamic deployer. The api offers three urls for deployment, `http(s)://<hostname>:<port>/v1/deploy`, `http(s)://<hostname>:<port>/v1/deploy/to/instance` and `http(s)://<hostname>:<port>/v1/deploy/to/instance/async`.\n\n### Synchronous deployment\n\n#### Deployment via `http(s)://<hostname>:<port>/v1/deploy` (VCAP_SERVICES style)\n\nThe first way to trigger a deployment is to send a HTTP POST request to the url `http(s)://<hostname>:<port>/v1/deploy`. The body simply consists of a JSON object containing replacements for several of the HDI deployer's environment variables. Supported are replacements for:\n\n- `HDI_DEPLOY_OPTIONS`\n- `DEPLOY_ID`\n- `TARGET_CONTAINER`\n- `SERVICE_REPLACEMENTS`\n- `VCAP_SERVICES`\n\nIn addition to providing `VCAP_SERVICES` for replacing the corresponding environment variable it is also possible to provide `ADDITIONAL_VCAP_SERVICES`. The deployer is then called with service bindings created from the `VCAP_SERVICES` of the dynamic deployer by adding the service definitions given by `ADDITIONAL_VCAP_SERVICES`.\nThe `ADDITIONAL_VCAP_SERVICES` object has the same structure as the original `VCAP_SERVICES`, i.e. it contains lists of service bindings.\nIf the request contains `ADDITIONAL_VCAP_SERVICES`, the server scans through all of its services and either adds the list of bindings to the `VCAP_SERVICES` environment variable or merges the two lists in case bindings for the given service already exist.\nExisting bindings with the same name are replaced with the bindings from `ADDITIONAL_VCAP_SERVICES`.\n\nExample:\n```\n{\n    \"TARGET_CONTAINER\": \"hdi_container_service_name\",\n    \"ADDITIONAL_VCAP_SERVICES\": {\n        \"hana\" : [ {\n            \"name\" : \"hdi_container_service_name\",\n            \"label\" : \"hana\",\n            \"tags\" : [ \"hana\", \"database\", \"relational\" ],\n            \"plan\" : \"hdi-shared\",\n            \"credentials\" : {\n                \"schema\" : \"DB_EXAMPLE\",\n                \"hdi_password\" : \"hdi_password\",\n                \"password\" : \"password\",\n                \"driver\" : \"com.sap.db.jdbc.Driver\",\n                \"port\" : \"30015\",\n                \"host\" : \"srv1234567.host.name\",\n                \"db_hosts\" : [ {\n                 \"port\" : 30015,\n                 \"host\" : \"srv7654321.host.name\"\n                } ],\n                \"hdi_user\" : \"hdi_user\",\n                \"user\" : \"user\",\n                \"url\" : \"jdbc:sap://srv1234567.host.name:30015/?currentschema=DB_EXAMPLE\"\n            }\n        } ]\n    }\n}\n```\n\n#### Deployment via `http(s)://<hostname>:<port>/v1/deploy/to/instance` (Instance Manager style)\n\nSince version 1.2.0 of the dynamic deployer there is a second way to trigger a deployment by sending a HTTP POST request to the url `http(s)://<hostname>:<port>/v1/deploy/to/instance`. The request body is simply a managed service instance as retrieved from the Instance Manager with a HTTP GET.\n\nSince version 2.3.2 of the dynamic deployer the request body can be a managed service instance as retrieved from the Instance Manager or Service Manager with a HTTP GET.\n\nExample: Instance Manager\n\n```\n{\n  \"tenant_id\": \"1\",\n  \"id\": \"da7ff475-fd3f-4a86-a3e7-cd3e41e3653d\",\n  \"binding_id\": \"3bb96cab-0bec-4088-9991-244b750e53b3\",\n  \"instance_id\": \"d9cc0aef-16f7-40d2-8e10-1816b9214f2e\",\n  \"managed_service_id\": \"79d9e11a-95c2-4771-ae2d-8ba703bd8fda\",\n  \"managed_plan_id\": \"bebaad3e-352b-4928-bc6b-8783d754ac3b\",\n  \"managed_instance_id\": \"0a4d365a-eec5-4083-85ae-677f77bb6f5d\",\n  \"managed_binding_id\": \"a5cba4c8-95a3-42c8-982d-e075d0a6b941\",\n  \"status\": \"CREATION_SUCCEEDED\",\n  \"updated_on\": 1494322225942,\n  \"credentials\": {\n    \"host\": \"srv1234567.host.name\",\n    \"port\": \"30015\",\n    \"driver\": \"com.sap.db.jdbc.Driver\",\n    \"url\": \"jdbc:sap://srv1234567.host.name:30015/?currentschema=55D392C7232649E8A2F08993645B28B5\",\n    \"schema\": \"55D392C7232649E8A2F08993645B28B5\",\n    \"hdi_user\": \"SBSS_78283957013891283645150604040575244555286482237534978212872169092\",\n    \"hdi_password\": \"password\",\n    \"user\": \"SBSS_92380540949443696814788249184554628165227387555319796659663474608\",\n    \"password\": \"password\"\n  }\n}\n```\n\nExample: Service Manager\n\n```\n{\n  \"id\": \"da7ff475-fd3f-4a86-a3e7-cd3e41e3653d\",\n  \"ready\": true,\n  \"service_instance_id\": \"790e19ae-b9f7-4d80-8e4d-d368d96f79bd\",\n  \"last_operation\": {\n        \"id\": \"e9061cfe-b70a-405b-a402-084b3ec74711\",\n        \"ready\": true,\n        \"type\": \"create\",\n        \"state\": \"succeeded\",\n        \"resource_id\": \"bf24e49c-fd62-4ad4-83fc-6c09132f8cf7\",\n        \"resource_type\": \"/v1/service_bindings\",\n        \"platform_id\": \"service-manager\",\n        \"correlation_id\": \"ec849486-34b3-40ac-71e6-baf91c91cd0b\",\n        \"reschedule\": false,\n        \"reschedule_timestamp\": \"0001-01-01T00:00:00Z\",\n        \"deletion_scheduled\": \"0001-01-01T00:00:00Z\",\n        \"created_at\": \"2021-11-02T09:22:47.667677Z\",\n        \"updated_at\": \"2021-11-02T09:22:49.288825Z\"\n    },\n  \"name\": \"91ce8c49-a1c8-4557-8b25-0e2c4034a4cf\",\n  \"credentials\": {\n    \"host\": \"srv1234567.host.name\",\n    \"port\": \"30015\",\n    \"driver\": \"com.sap.db.jdbc.Driver\",\n    \"url\": \"jdbc:sap://srv1234567.host.name:30015/?currentschema=55D392C7232649E8A2F08993645B28B5\",\n    \"schema\": \"55D392C7232649E8A2F08993645B28B5\",\n    \"hdi_user\": \"SBSS_78283957013891283645150604040575244555286482237534978212872169092\",\n    \"hdi_password\": \"password\",\n    \"user\": \"SBSS_92380540949443696814788249184554628165227387555319796659663474608\",\n    \"password\": \"password\"\n  }\n}\n```\n\n#### The response from the dynamic deployer\n\nIf there was no problem with the basic authentication and the request reaches the dynamic deployer, it usually responds with status code 200 and a json body containing the result of the deployment. The response body has the following form:\n\n```\n{\n  messages: [<list of result messages from the di server>],\n  exitCode: <exit code of the call to the deployer app>\n}\n```\n\n**IMPORTANT:** A status code of 200 does not mean that the deployment was successful. It just means that the dynamic deployer was able to call the (non-dynamic) deployer. If the deployer finished with no errors the `exitCode` attribute of the response is `0`, otherwise it is `1`. More detailed information about the deployment can be retrieved from the `messages` attribute of the response.\n\n### Asynchronous deployment\n\nSince version 1.7.0 of the dynamic deployer there is a third way to trigger a deployment by sending a HTTP POST request to the url `http(s)://<hostname>:<port>/v1/deploy/to/instance/async`. The request body is simply a managed service instance as retrieved from the Instance Manager with a HTTP GET, i.e. the same as for `http(s)://<hostname>:<port>/v1/deploy/to/instance`. But instead of waiting until the deployment is done and then returning the results, a GUID is returned.\n\nSince version 2.3.2 of the dynamic deployer the request body can be a managed service instance as retrieved from the Instance Manager or Service Manager with a HTTP GET.\n\nThis GUID can be used to query the status of the deployment by sending a GET request to `http(s)://<hostname>:<port>/v1/status/:guid` - if the deployment is still running, the response just contains a `status` property. If the deployment is finished, the usual response is returned - in conjunction with the `status` property.\n\nSince version 2.5.0 of the dynamic deployer there is a forth way to trigger a deployment by sending a HTTP POST request to the url `http(s)://<hostname>:<port>/v1/deploy/async`.  The request body is same as for `http(s)://<hostname>:<port>/v1/deploy/`. But instead of waiting until the deployment is done and then returning the results, a GUID is returned.\n\n## How to use it in a multi-target application\n\nA multi-target application (MTA) for multi-tenancy scenarios with the instance manager typically includes multiple db modules:\n- N static db modules (`type: com.sap.xs.hdi`), e.g. for configuration or shared data. A static module depends on `@sap/hdi-deploy`; it does not depend on `@sap/hdi-dynamic-deploy`.\n- M dynamic db modules (`type: com.sap.xs.hdi-dynamic`) where the business data for a certain type of tenant is contained. A dynamic module depends on `@sap/hdi-dynamic-deploy`, which internally depends on `@sap/hdi-deploy` for deployment to the correct tenant.\n \nExample:\n```\nmodules:\n  - name: db-static-1\n    type: com.sap.xs.hdi\n    path: db-static-1\n    \n  - name: db-static-2\n    type: com.sap.xs.hdi\n    path: db-static-2\n    \n  - name: db-dynamic-1\n    type: com.sap.xs.hdi-dynamic\n    path: db-dynamic-1\n    \n  - name: db-dynamic-2\n    type: com.sap.xs.hdi-dynamic\n    path: db-dynamic-2\n    \n  - name: db-dynamic-3\n    type: com.sap.xs.hdi-dynamic\n    path: db-dynamic-3\n```\n\n## Accessing the underlying HTTP server\nBy requiring the dynamic deploy package, you can access the internal HTTP server. This way, you can decide when to start/stop the server.\n\nThe exported object offers two methods:\n```javascript\n    /**\n     * Start the HTTP server on this.port.\n     *\n     * @param {any} cb Callback function (error, result).\n     * @returns {undefined}\n     */\n    function start(cb){\n      <..>\n    };\n\n    /**\n     * Stop the HTTP server.\n     *\n     * @param {any} cb Callback function (error, result).\n     * @returns {undefined}\n     */\n    function stop(cb){\n      <..>\n    };\n```\nFurthermore, the object has the property `port`. This has to be set to the port that you want the server to listen on.\n\nExample:\n```javascript\n'use strict';\n\nconst {server} = require('@sap/hdi-dynamic-deploy/index');\n\nserver.port = process.env.PORT;\nserver.start(function(){\n  console.log(`@sap/hdi-dynamic-deploy HTTP server up and running, listening on port ${  server.port}`);\n});\n```\n## Accessing the router functions\nBy requiring the dynamic deploy package, you can access the functions used for the API endpoints and can use them in your own router.\nBoth functions expect two parameters: \n  - A HTTP request object\n  - A HTTP response object\n\nExample:\n```javascript\n'use strict';\n\nconst {deploy_to_instance, deploy} = require('@sap/hdi-dynamic-deploy/index');\n\n/** \n * Now the functions can be added to a router.\n * \n * deploy_to_instance is the function used for the /v1/deploy/to/instance route\n * deploy is the function used for the /v1/deploy route\n * \n */\n```\n","changelog":"# 2.7.2\nFeatures\n- use @sap/xsenv@4.2.0\n- use @sap/hdi-deploy@4.9.2\n- use @sap/audit-logging@5.8.3\n\n# 2.7.1\nFeatures\n- use @sap/audit-logging@5.8.2\n- use @sap/hdi-deploy@4.9.0\n\n# 2.7.0\nFeatures\n- use @sap/audit-logging@5.8.1\n\nRemoved:\n- Node 12.x and 14.x support\n\n# 2.6.1\nFeatures\n- use @sap/hdi-deploy@4.8.2\n\n# 2.6.0\nFeatures\n- use @sap/hdi-deploy@4.8.0\n- Node 20 support\n\n# 2.5.5\nFeatures\n- use @sap/hdi-deploy@4.7.1\n- use @sap/audit-logging@5.7.1\n\n# 2.5.4\nFeatures:\n- use @sap/hdi-deploy@4.6.1\n\n# 2.5.3\nFeatures:\n- use @sap/hdi-deploy@4.6.0\n\n# 2.5.2\nFeatures\n- use @sap/hdi-deploy@4.5.3\n- use @sap/xsenv@3.4.0\n- use @sap/audit-logging@5.6.3\n\n\n# 2.5.1\nFeatures\n- use @sap/hdi-deploy@4.5.1\n\n# 2.5.0\nFeatures\n- use @sap/hdi-deploy@4.5.0\n- added a new route `/v1/deploy/async` that implements an asynchronous deployment for VCAP_SERVICES style\n- Node 18 support\n\n# 2.4.1\nFeatures\n- added environmental variable `STRUCTUREDLOGGING` to structure the dynamic deployer logs when set to true\n\n# 2.4.0\nFeatures:\n- use @sap/hdi-deploy@4.4.1\n- use @sap/xsenv@3.3.2\n- use @sap/audit-logging@5.5.4\n\n# 2.3.7\nFixes:\n- revert structure the dynamic deployer logs\n\n# 2.3.6\nFeatures:\n- use @sap/hdi-deploy@4.4.0\n\nFixes:\n- structure the dynamic deployer logs\n\n# 2.3.5\nFeatures:\n- use @sap/hdi-deploy@4.3.3\n\n# 2.3.4\nFeatures:\n- use @sap/hdi-deploy@4.3.2\n- use body-parser@1.19.2\n- use express@4.17.3\n- use express-basic-auth@1.2.1\n- use @sap/audit-logging@5.5.2\n\n# 2.3.3\nFeatures:\n- use @sap/audit-logging@5.4.1\n- use @sap/hdi-deploy@4.3.0\n\n\n# 2.3.2\nFeatures:\n- use @sap/hdi-deploy@4.2.3\n- use @sap/audit-logging@5.3.0\n- routes `/v1/deploy/to/instance` and `/v1/deploy/to/instance/async` accept the response of a service manager GET\n\n# 2.3.1\nFeatures:\n- use @sap/hdi-deploy@4.2.2\n\n# 2.3.0\nFeatures:\n- use @sap/hdi-deploy@4.2.0\n- use @sap/audit-logging@5.1.0\n- Node 16 support\n\nRemoved:\n- Node 8.x and 10.x support\n\n# 2.2.0\nFeatures:\n- use @sap/hdi-deploy@4.1.0\n\n# 2.1.2\nFeatures:\n- use @sap/hdi-deploy@4.0.5\n\n# 2.1.1\nFeatures:\n- use @sap/hdi-deploy@4.0.4\n\nFixes :\n- overall deployment time calculation\n- accepting different alphabetical cases for enforce_auditing\n\n# 2.1.0\nFeatures:\n- use @sap/hdi-deploy@4.0.3\n- use @sap/audit-logging@4.2.0\n- Node 14 support\n\n\n# 2.0.1\nFeatures:\n- use @sap/hdi-deploy@4.0.2\n\n# 2.0.0\nFeatures.\n- use @sap/hdi-deploy@4.0.1\n- use @sap/xsenv@3.1.0\n\nRemoved:\n- node 6 support\n\n# 1.7.5\nFeatures:\n- use @sap/hdi-deploy@3.11.15\n\n# 1.7.4\nFeatures:\n- use @sap/hdi-deploy@3.11.14\n\n# 1.7.3\nFeatures:\n- use @sap/hdi-deploy@3.11.13\n- use @sap/audit-logging@3.2.0\n\n# 1.7.2\nFeatures:\n- use hdi-deploy version 3.11.12\n- use @sap/audit-logging 3.1.1\n\n# 1.7.1\nFeatures:\n- use hdi-deploy version 3.11.11\n- prefix log lines relating to the same deployment with an identifier  \n\n# 1.7.0\nFeatures:\n- added a new route `/v1/deploy/to/instance/async` that implements an asynchronous deployment with status polling via `/v1/status/:guid`.\n- log the server version on start-up\n\n# 1.6.0\nFeatures:\n- node 12 support\n- use hdi-deploy version 3.11.9\n- updated dependencies\n- allow specifying the tenant for audit logging via env variable \"AUDIT_LOG_TENANT\"\n\nFixes:\n- previously, a simple get request (in combination with audit logging) caused an internal server error\n\n## 1.5.9\nFixes:\n- use hdi-deploy version 3.11.6\n- don't send duplicate messages as part of response\n\n## 1.5.8\nFixes:\n- use hdi-deploy version 3.11.5\n- send all deployer messages as part of response\n\n## 1.5.7\nFixes:\n- use hdi-deploy version 3.11.4\n\n## 1.5.6\nFeatures:\n- use hdi-deploy version 3.11.2\n- Node 10 support\n\n## 1.5.5\nFeatures:\n- use hdi-deploy version 3.11.0\n- update dependencies\n\nFixes:\n- fix issue with audit logging: IP determination would sometimes return multiple IPs, causing audit logging to crash\n\n## 1.5.4\nFeatures:\n- use hdi-deploy version 3.10.0\n\n## 1.5.3\nFeatures:\n- update dependencies\n\nFixes:\n- full support for .hdbmigrationtable files by using hdi-deploy version 3.9.4\n\n## 1.5.2\nFixes:\n- solved issue with long running deployments\n\n## 1.5.1\nFeatures:\n- use hdi-deploy version 3.9.2\n\n## 1.5.0\nFeatures:\n- logging of parameters passed via the request\n- optional audit logging of failed login attempts\n- export API endpoint functions\n- use hdi-deploy version 3.9.1\n\n## 1.4.2\n\nFeatures:\n- export the internal HTTP server\n- use hdi-deploy version 3.8.2\n\n## 1.2.2\n\nFixes:\n- switch from res.send back to res.end to fix problems with the content type\n\n## 1.2.1\n\nFeatures:\n- update dependencies\n\n## 1.2.0\n\nFeatures:\n- additional route /v1/deploy/to/instance accepting the response of a instance manager GET\n- use hdi-deploy version 3.4.0\n\n## 1.1.0\n\nFeatures:\n- use hdi-deploy version 3.3.0\n- move forking of hdi-deploy into hdi-deploy itself\n\n## 1.0.0\n\ninitial release\n","downloadsCurrentMonth":7390,"downloadsCurrentFortnight":3343,"downloads365":86807,"downloadsFortnightGrowth":-11.54,"downloadsHistory":[{"yearMonth":"2023-04","downloads":7505},{"yearMonth":"2023-05","downloads":8668},{"yearMonth":"2023-06","downloads":7083},{"yearMonth":"2023-07","downloads":7517},{"yearMonth":"2023-08","downloads":7933},{"yearMonth":"2023-09","downloads":7192},{"yearMonth":"2023-10","downloads":7646},{"yearMonth":"2023-11","downloads":6923},{"yearMonth":"2023-12","downloads":6093},{"yearMonth":"2024-01","downloads":6108},{"yearMonth":"2024-02","downloads":6414}],"versions":[{"version":"created","date":"2020-06-11T21:33:56.692Z"},{"version":"1.7.1","date":"2020-06-11T21:33:57.162Z"},{"version":"modified","date":"2024-01-15T12:56:44.362Z"},{"version":"1.6.0","date":"2020-06-11T21:34:03.583Z"},{"version":"1.5.9","date":"2020-06-11T21:34:10.185Z"},{"version":"1.2.2","date":"2020-06-11T21:34:16.220Z"},{"version":"1.4.2","date":"2020-06-11T21:34:22.301Z"},{"version":"1.5.6","date":"2020-06-11T21:34:28.298Z"},{"version":"1.0.0","date":"2020-06-11T21:34:34.754Z"},{"version":"1.7.0","date":"2020-06-11T21:34:41.651Z"},{"version":"1.5.4","date":"2020-06-11T21:34:47.659Z"},{"version":"1.5.3","date":"2020-06-11T21:34:54.066Z"},{"version":"1.5.7","date":"2020-06-11T21:35:01.063Z"},{"version":"1.2.1","date":"2020-06-11T21:35:07.595Z"},{"version":"1.5.5","date":"2020-06-11T21:35:13.934Z"},{"version":"1.5.8","date":"2020-06-11T21:35:19.963Z"},{"version":"1.7.2","date":"2020-11-02T11:16:23.819Z"},{"version":"1.7.3","date":"2020-11-03T12:16:04.542Z"},{"version":"1.7.4","date":"2020-11-05T14:28:01.874Z"},{"version":"1.7.5","date":"2020-11-06T09:57:14.956Z"},{"version":"2.0.0","date":"2021-01-22T12:27:04.892Z"},{"version":"2.0.1","date":"2021-02-11T13:40:52.458Z"},{"version":"2.1.0","date":"2021-02-25T13:09:40.970Z"},{"version":"2.1.1","date":"2021-03-22T15:45:50.729Z"},{"version":"2.1.2","date":"2021-04-21T08:06:31.533Z"},{"version":"2.2.0","date":"2021-06-30T14:50:16.022Z"},{"version":"2.3.0","date":"2021-09-08T14:33:11.450Z"},{"version":"2.3.2","date":"2021-11-25T10:09:38.981Z"},{"version":"2.3.3","date":"2022-02-28T13:03:47.128Z"},{"version":"2.3.4","date":"2022-04-05T12:15:47.591Z"},{"version":"2.3.5","date":"2022-04-14T11:15:15.204Z"},{"version":"2.4.1","date":"2022-07-06T13:13:07.005Z"},{"version":"2.5.0","date":"2022-10-19T10:52:54.070Z"},{"version":"2.5.1","date":"2022-10-31T14:44:44.346Z"},{"version":"2.5.2","date":"2023-01-20T12:18:39.614Z"},{"version":"2.5.3","date":"2023-03-27T14:51:25.985Z"},{"version":"2.5.4","date":"2023-05-30T12:05:45.756Z"},{"version":"2.5.5","date":"2023-07-24T12:07:33.242Z"},{"version":"2.6.0","date":"2023-08-04T15:01:26.200Z"},{"version":"2.6.1","date":"2023-10-19T09:39:36.678Z"},{"version":"2.7.0","date":"2023-11-22T10:23:36.338Z"},{"version":"2.7.1","date":"2023-12-13T13:34:08.244Z"},{"version":"2.7.2","date":"2024-01-15T12:56:44.154Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hdi-dynamic-deploy"},{"name":"hdi","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T22:54:04.400Z","updatedAt":"2023-10-24T13:02:26.496Z","readme":"@sap/hdi\n===============\n\n`@sap/hdi` is a [Node.js](https://nodejs.org) library that allows access to the SQL based API through Node.js. It provides access to the HDI-, Container-Group- and the Container-API.\n\n## Table of contents\n **Using the library**:\n- [General things](#general-things)\n- [Using the HDI API](#using-the-hdi-api)\n- [Using the Container Group API](#using-the-container-group-api)\n- [Using the Container API](#using-the-container-api)\n- [Using the API with xsjs](#using-the-api-with-xsjs)\n\n## General things\n\nNote: Either [@sap/hana-client](https://www.npmjs.com/package/@sap/hana-client) or [hdb](https://www.npmjs.com/package/hdb) must be installed by yourself. \n@sap/hana-client versions ^2 >= 2.5 are currently supported by @sap/hdi 4.5.2.\nTo install the latest @sap/hana-client simply run `npm install @sap/hana-client`.\n\nhdb version ^0 is currently supported by @sap/hdi 4.5.2.\nTo install the latest hdb simply run `npm install hdb`.\n\nRunning `npm install --save @sap/hdi` will install the package and add it as a dependency to your **package.json**.\n\nWe recommend using version 2.0.0 or higher. >=2.0.0 of the API brings access to the Container Group API, major refactoring of the HDI and Container API into separate components and lots of pre-defined classes to make working with the API easier.\n\nNote that >=2.0.0 is not backwards compatible to 1.x, code written with the old API will ***NOT*** run with new API. This documentation is for the 3.x API.\n\nAll APIs require that the connected user has EXECUTE privileges for the corresponding SQL procedures and SELECT for all table types in SYS_DI (TT*).\n\nAlmost all methods are asynchronous and require a standard node-style callback, where the first parameter is any errors that occurred and the second is the result.\nIf no callback is supplied, the arguments will be partially applied and a function will be returned, taking a callback as the first and only parameter. This way, the methods can be easily chained via async.\n\nIf you are using the methods in the easily chainable way, the error parameter will be supplied if the return code of the HDI call is not equal 0. If you are using the \"normal\" way, the error-parameter is only supplied when a \"technical\" error occurs. To check if the action was successful, you need to check the return code (rc) of the returned result. In order to \"automate\" this, you can wrap your callback with the function below:\n\n```javascript\nfunction wrap (callback) {\n  return function (error, result) {\n    if (error) {\n      return callback(error);\n    } else {\n      if (result.rc && result.rc !== 0) {\n        const e = new Error('HDI call failed!')\n        e.result = result\n        return callback(e, result);\n      } else {\n        return callback(null, result);\n      }\n    }\n  }\n}\n```\n\n\n**This document only provides a really high-level and shallow overview of the API. For a more detailed, technical documentation, refer to the JSDoc. To generate the documentation, run `npm install jsdoc`,`npm install ink-docstrap` and then `npm run documentation`. The documentation can then be found in the `docs` folder.**\n\n## Using the HDI API\nAccess to the _SYS_DI API is provided by the `HDI` class. Access to this API requires HANA server version: 1.00.120 or newer. To work with the API, simply construct a new object, as can be seen in the following (ES6-based) example:\n\n```javascript\n'use strict';\nconst { HDI } = require('@sap/hdi');\n\n// This credentials object will be directly passed to the @sap/hana-client or hdb client. Any options accepted by the @sap/hana-client or hdb clients can be passed.\n// Credentials object containing XSA environment variables will be converted to client acceptable options. \nconst credentials = {\n    host : <host>,\n    port : <port>,\n    user : <user>,\n    password: <password>\n};\n\nconst hdi = new HDI(credentials, parameterSchema, usehdb);\n\nhdi.connect((error,result) => {\n  if(error){\n    throw error;\n  }\n\n  hdi.listLibraries(null,(error,result) => {\n    if(error){\n      throw error;\n    }\n\n    console.log(result);\n  })\n})\n```\n\nTo construct an access object, you need the credentials for the HANA system and the `parameterSchema`. This schema will be used to create temporary tables to supply data to the underlying sql procedures.\n\n## Using the Container Group API\nThe Container Group API provides access to an **existing** container group. In order to use the API, you might need to first grant the correct rights by using `grantContainerGroupAPIPrivileges` of the HDI class.\n\nTo construct an access object, you need the credentials for the HANA system, the `parameterSchema` and the name of the container group.\n\n## Using the Container API\nThe Container API provides access to an **existing** container. In order to use the API, you might need to first grant the correct rights by using `grantContainerAPIPrivileges` of the ContainerGroup class.\n\nTo construct an access object, you need the credentials for the HANA system, the `parameterSchema` and the name of the container.\n\nExample: Deploying files to an existing container, assuming that the container exists and has been configured correctly.\n\n```javascript\n'use strict';\n\nconst fs = require('fs');\nconst async = require('async');\nconst path = require('path');\n\nconst {Container, HDI, FileWithContent, FolderWithContent, File, Parameter} = require('@sap/hdi');\n\n// This credentials object will be directly passed to the @sap/hana-client or hdb client. Any options accepted by the @sap/hana-client or hdb clients can be passed.\nconst credentials = {\n  host: 'host',\n  port: 'port',\n  user: 'user',\n  password: 'password'\n};\n\nconst containerName = 'container_name';\n\n\nconst container = new Container(containerName, // Name of the container. Does not have to exist yet but has to exist before calling any methods.\n  credentials, // Credentials to use for the HANA system.\n  credentials.user // Schema where the user used for the connection has privileges to create temporary tables, for example the user's own schema.\n);\n\nconst fPath = 'folder/';\n\nconst cPath = 'folder/.hdiconfig';\nconst cContent = fs.createReadStream(`${__dirname}${path.sep}testdata${path.sep}.hdiconfig`);\n\nconst tPath = 'folder/table1.hdbtable';\nconst tContent = fs.createReadStream(`${__dirname}${path.sep}testdata${path.sep}table1.hdbtable`);\n\nconst rContent = fs.createReadStream(`${__dirname}${path.sep}testdata${path.sep}role.hdbrole`);\nconst rPath = 'folder/role.hdbrole';\n\nconst filesFoldersContent = [\n  new FolderWithContent(fPath),\n  new FileWithContent(cPath, cContent),\n  new FileWithContent(tPath, tContent),\n  new FileWithContent(rPath, rContent)\n];\n\nconst files = [new File(rPath), new File(cPath), new File(tPath)];\nconst params = [new Parameter('ignore_work', 'TRUE'), new Parameter('ignore_deployed', 'TRUE')];\n\n\nfunction wrap (callback) {\n  return function (error, result) {\n    if (error) {\n      return callback(error);\n    } else {\n      if (result.rc && result.rc !== 0) {\n        const e = new Error('HDI call failed!')\n        e.result = result\n        return callback(e, result);\n      } else {\n        return callback(null, result);\n      }\n    }\n  }\n}\n\nconst tasks = [\n  (cb) => containerUser.connect(wrap(cb)),\n  (cb) => containerUser.lock(0, null, wrap(cb)),\n  (cb) => containerUser.write(filesFoldersContent, null, wrap(cb)),\n  (cb) => containerUser.status(null, null, wrap(cb)),\n  (cb) => containerUser.list(null, null, wrap(cb)),\n  (cb) => containerUser.make(files, null, null, null, wrap(cb)),\n  (cb) => containerUser.unlock(wrap(cb)),\n  (cb) => {\n    containerUser.disconnect(); cb(null, 'OK: disconnected.');\n  }\n];\n\nasync.series(tasks, (e, results) => {\n  if(e){\n    console.error(e);\n    process.exit(1);\n  } else {\n    console.log(results);\n\n    /**\n      Work with the results.\n    **/\n  }\n});\n```\n\n## Using the API with xsjs\nSince most of the methods of the HDI, ContainerGroup and Container class are asynchronous, you need to use the provided `sync` functionality to use them in xsjs code.\nBe aware that this requires a version of xsjs that uses at least `\"@sap/fibrous\": \"0.5.0-0\"` as a dependency. This fixes issues with `sync` in combination with class methods.\n\nIf your version of xsjs is up to date in that regard, simply add `sync` before your method calls. This\n\n```javascript\nconst { HDI } = require('@sap/hdi');\n\n// This credentials object will be directly passed to the @sap/hana-client or hdb client. Any options accepted by the @sap/hana-client or hdb clients can be passed.\nconst credentials = {\n    host : <host>,\n    port : <port>,\n    user : <user>,\n    password: <password>\n};\n\nconst hdi = new HDI(credentials, parameterSchema, usehdb);\n\nhdi.connect((error,result) => {\n  if(error){\n    throw error;\n  }\n\n  hdi.listLibraries(null,(error,result) => {\n    if(error){\n      throw error;\n    }\n\n    console.log(result);\n  })\n})\n```\nturns into this:\n```javascript\nvar { HDI } = $.require('@sap/hdi');\n\n// This credentials object will be directly passed to the @sap/hana-client or hdb client. Any options accepted by the @sap/hana-client or hdb clients can be passed.\nvar credentials = {\n    host : <host>,\n    port : <port>,\n    user : <user>,\n    password: <password>\n};\n\nvar hdi = new HDI(credentials, parameterSchema, usehdb);\n\nhdi.sync.connect();\nvar libraries = hdi.sync.listLibraries(null);\nconsole.log(libraries);\n```\n","changelog":"## 4.5.2\nFixes:\n- Fix to use hdi_user instead of user when xsa environment variables are passed\n\n## 4.5.1\nFeatures:\n- Accept XSA environment variables and transform to client understandable variables\n\n## 4.5.0\nFeatures:\n- Node 20.x support\n\n## 4.4.0\nFeatures:\n- Node 18.x support\n\n## 4.3.1\nFeatures:\n- Use async 3.2.3\n\n## 4.3.0\nFeatures:\n- Choice of using either hana-client or hdb\n- hana-client ^2 >= 2.5 support\n- hdb ^0 support\n\n## 4.2.0\nFeatures:\n- hana-client 2.10.x support\n- added APIs `getDefaultContainerRoleAdminPrivileges`, `getDefaultCommonPrivileges` and `grant/revokeDISupportPrivilege` to HDI-API\n- added APIs `import/exportContainerForCopy` and `getDependencies` to Container-API\n- added APIs `import/exportContainerForCopy`, `grant/revokeContainerSupportPrivileges`, `getDefaultContainerRoleAdminPrivileges`, `getDefaultCommonPrivileges` and `enable/disableContainerUser` to ContainerGroup-API\n\n## 4.1.0\nFeatures:\n- Node 16.x support\n- hana-client 2.9.x support\n\nRemoved:\n- Node 8.x and 10.x support\n\n## 4.0.2\nFeatures:\n- hana-client 2.8.x support\n\n## 4.0.1\nFixes:\n- Cleanup package.json\n\n## 4.0.0\nChanges:\n- Moved hana-client from dependencies to peerDependencies, supported are versions 2.7.x\n\n## 3.0.2\nFeatures:\n- Use hana-client 2.7.21\n\n## 3.0.1\nFixes:\n- Correctly remove devDependencies and integrity hashes from npm-shrinkwrap.json\n\n## 3.0.0\nFeatures:\n- Use hana-client 2.7.16\n- Node 14.x support\n\nRemoved:\n- Node 6.x support\n\n## 2.2.7\nFixes:\n- Renamed developer-license-3.1.txt to LICENSE\n\n## 2.2.6\nFeatures:\n- Use hana-client 2.4.202\n\n## 2.2.5\nFeatures:\n- Use hana-client 2.4.182\n- Node 12.x support\n\n## 2.2.4\nFeatures:\n- Use hana-client 2.4.162\n\n## 2.2.3\nFeatures:\n- Use async 3.1.0 - removes lodash dependency\n\n## 2.2.2\nFeatures:\n- Updated dependencies\n- Node 10.x support\n\n## 2.2.1\nFixes:\n- Fixed bug that caused errors to be reported, even though only warnings occurred\n\n## 2.2.0\nFeatures:\n- Partially apply arguments and return function if no callback is supplied\n\n## 2.1.2\nFeatures:\n- Updated dependencies\n\n## 2.1.1\nFixes:\n- Error with npm-shrinkwrap.json\n\n## 2.1.0\nFeatures:\n- Added quoting of schema names\n- Switched from hdb to the official @sap/hana-client\n\n## 2.0.3\nFixes:\n- Locking now uses a second connection\n- Improved typeCheck to correctly detect arrays when using the API with xsjs\n\n## 2.0.2\nFeatures:\n- Passes a complete credentials object to the hdb driver, which allows passing additional parameters to the hdb connection.\n- Allows all instances of Readable as content for FileWithContent or FolderWithContent\n\nFixes:\n- Fixed a spelling error in ResultTuple\n\n## 2.0.1\nFixes:\n- Fixed a type check error when passing an empty array as parameter\n\n## 2.0.0\nFeatures:\n- Provides access to the Container Group API\n- Clearer split between the APIs, different classes for SYS_DI, Container and Container Group API\n- Removed dependency on async library\n","downloadsCurrentMonth":301883,"downloadsCurrentFortnight":142351,"downloads365":4437433,"downloadsFortnightGrowth":-2.88,"downloadsHistory":[{"yearMonth":"2023-04","downloads":327811},{"yearMonth":"2023-05","downloads":394653},{"yearMonth":"2023-06","downloads":414264},{"yearMonth":"2023-07","downloads":391368},{"yearMonth":"2023-08","downloads":390756},{"yearMonth":"2023-09","downloads":376124},{"yearMonth":"2023-10","downloads":409837},{"yearMonth":"2023-11","downloads":393464},{"yearMonth":"2023-12","downloads":372766},{"yearMonth":"2024-01","downloads":381148},{"yearMonth":"2024-02","downloads":267816}],"versions":[{"version":"created","date":"2020-06-11T22:54:04.400Z"},{"version":"1.1.4","date":"2020-06-11T22:54:04.973Z"},{"version":"modified","date":"2023-10-24T13:02:26.496Z"},{"version":"2.2.0","date":"2020-06-11T22:54:12.090Z"},{"version":"2.2.3","date":"2020-06-11T22:54:18.171Z"},{"version":"2.0.3","date":"2020-06-11T22:54:24.815Z"},{"version":"2.2.2","date":"2020-06-11T22:54:31.043Z"},{"version":"2.1.2","date":"2020-06-11T22:54:37.152Z"},{"version":"2.0.2","date":"2020-06-11T22:54:45.328Z"},{"version":"2.2.4","date":"2020-06-11T22:54:53.685Z"},{"version":"1.1.3","date":"2020-06-11T22:55:00.134Z"},{"version":"2.2.5","date":"2020-06-11T22:55:06.552Z"},{"version":"1.1.0","date":"2020-06-11T22:55:12.856Z"},{"version":"2.2.1","date":"2020-06-11T22:55:19.326Z"},{"version":"2.2.7","date":"2020-10-02T12:38:10.557Z"},{"version":"3.0.1","date":"2021-01-20T14:08:08.413Z"},{"version":"3.0.2","date":"2021-02-11T11:46:24.831Z"},{"version":"4.0.1","date":"2021-03-22T13:29:03.405Z"},{"version":"4.0.2","date":"2021-05-26T09:20:06.399Z"},{"version":"4.1.0","date":"2021-08-10T15:02:41.435Z"},{"version":"4.2.0","date":"2022-02-09T13:35:58.984Z"},{"version":"4.3.0","date":"2022-04-04T15:38:23.426Z"},{"version":"4.3.1","date":"2022-04-14T10:40:50.604Z"},{"version":"4.4.0","date":"2022-10-18T13:48:51.113Z"},{"version":"4.5.0","date":"2023-08-04T09:39:57.891Z"},{"version":"4.5.1","date":"2023-10-09T11:37:35.544Z"},{"version":"4.5.2","date":"2023-10-24T13:02:26.306Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hdi"},{"name":"hrtt-core-vscode","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-17T09:25:30.182Z","updatedAt":"2024-03-13T17:12:18.281Z","readme":"# SAP HANA Runtime Tools Front End\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"## 1.29.0\n\n### Fixes\n- Updated HRTT to version 231207-1704382648-a542e12\n- Add data source requires synonym also for local tables on XS Advanced\n- The role editor did not work correctly on XS Advanced\n\n## 1.28.0\n\n### Fixes\n- Updated HRTT to version 231109-1700374364-cd96702\n\n## 1.27.0\n\n### Fixes\n- Updated HRTT to version 230914-1696439209-b49526f\n\n## 1.26.0\n\n### Fixes\n- Updated HRTT to version 230817-1693721816-1b61e94\n\n## 1.25.0\n\n### Fixes\n- Updated HRTT to version 230622-1689269697-d49c0e3\n\n## 1.24.0\n\n### Fixes\n- Updated HRTT to version 230427-1684413907-2100cc3\n\n## 1.23.0\n\n### Fixes\n- Updated HRTT to version 230427-1682646229-a9d16ff\n\n## 1.22.0\n\n### Fixes\n- Updated HRTT to version 230302-1678234402-aca6557\n\n## 1.21.0\n\n### Fixes\n- Updated HRTT to version 230202-1677250305-b1ca897\n\n## 1.20.0\n\n### Fixes\n- Updated HRTT to version 221208-1670602858-aca4c6e\n\n## 1.19.0\n\n### Fixes\n- Updated HRTT to version 221110-1668542133-5d879c0\n\n## 1.18.0\n\n### Fixes\n- Updated HRTT to version 221013-1668090566-f909ce8\n\n## 1.17.0\n\n### Fixes\n- Updated HRTT to version 220915-1663546807-1281343\n\n## 1.16.0\n\n### Fixes\n- Updated HRTT to version 220818-1663168186-9da9707\n\n## 1.15.0\n\n### Fixes\n- Updated HRTT to version 220721-1658771505-a5c72f1\n\n## 1.14.0\n\n### Fixes\n- Updated HRTT to version 220623-1656085337-3f2bdb2\n\n## 1.13.0\n\n### Fixes\n- Updated HRTT to version 220428-1653894413-d73bc7e\n\n## 1.12.0\n\n### Fixes\n- Updated HRTT to version 220428-1651590228-5fe506c\n\n## 1.11.0\n\n### Fixes\n- Updated HRTT to version 220331-1649261773-ef88156\n\n## 1.10.0\n\n### Fixes\n- Updated HRTT to version 220303-1646922256-cf59d4b\n\n## 1.9.0\n\n### Fixes\n- Updated HRTT to version 220203-1644367932-ac44420\n\n## 1.8.0\n\n### Fixes\n- Updated HRTT to version 211209-1639497651-91862bb\n\n## 1.7.0\n\n### Fixes\n- Updated HRTT to version 211111-1637074547-d32e8c2\n\n## 1.6.1\n\n### Fixes\n- Updated HRTT to version 211014-1634832500-c496f52\n\n## 1.6.0\n\n### Fixes\n- Updated HRTT to version 211014-1634232337-4201189\n\n## 1.5.0\n\n### Fixes\n- Updated HRTT to version 210429-1627484376-9bd9b47\n\n## 1.4.0\n\n### Fixes\n- Updated HRTT to version 210429-1626886099-973f0ea\n\n## 1.3.0\n\n### Fixes\n- Updated HRTT to version 210429-1620053493-31b5ee5\n\n## 1.2.0\n\n### Fixes\n- Updated HRTT to version 210304-1615838386-650a7c4\n\n## 1.1.0\n\n### Fixes\n- Updated HRTT to version 2.12.21051\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":3520,"downloadsCurrentFortnight":1955,"downloads365":875416,"downloadsFortnightGrowth":34.92,"downloadsHistory":[{"yearMonth":"2023-04","downloads":76442},{"yearMonth":"2023-05","downloads":86598},{"yearMonth":"2023-06","downloads":86107},{"yearMonth":"2023-07","downloads":86652},{"yearMonth":"2023-08","downloads":91410},{"yearMonth":"2023-09","downloads":89390},{"yearMonth":"2023-10","downloads":95065},{"yearMonth":"2023-11","downloads":87709},{"yearMonth":"2023-12","downloads":79623},{"yearMonth":"2024-01","downloads":68328},{"yearMonth":"2024-02","downloads":3188}],"versions":[{"version":"created","date":"2020-12-17T09:25:30.182Z"},{"version":"1.0.0","date":"2020-12-17T09:25:30.813Z"},{"version":"modified","date":"2024-03-13T17:12:18.281Z"},{"version":"1.1.0","date":"2021-03-15T10:06:20.213Z"},{"version":"1.2.0","date":"2021-04-13T19:57:40.676Z"},{"version":"1.3.0","date":"2021-06-11T13:48:57.166Z"},{"version":"1.4.0","date":"2021-07-28T21:29:28.936Z"},{"version":"1.5.0","date":"2021-09-10T11:41:49.881Z"},{"version":"1.6.0","date":"2021-10-18T15:39:10.999Z"},{"version":"1.6.1","date":"2021-10-25T12:14:07.874Z"},{"version":"1.7.0","date":"2021-12-16T11:50:25.466Z"},{"version":"1.8.0","date":"2022-01-13T21:06:36.393Z"},{"version":"1.9.0","date":"2022-03-09T20:41:32.496Z"},{"version":"1.10.0","date":"2022-04-04T13:18:19.957Z"},{"version":"1.11.0","date":"2022-05-10T07:25:57.462Z"},{"version":"1.12.0","date":"2022-06-03T14:49:00.889Z"},{"version":"1.13.0","date":"2022-07-04T14:53:07.414Z"},{"version":"1.15.0","date":"2022-09-08T07:07:58.372Z"},{"version":"1.16.0","date":"2022-09-23T19:33:33.997Z"},{"version":"1.17.0","date":"2022-10-14T09:31:58.532Z"},{"version":"1.18.0","date":"2022-11-11T13:40:24.343Z"},{"version":"1.19.0","date":"2022-12-07T14:17:45.177Z"},{"version":"1.20.0","date":"2023-01-17T10:43:03.376Z"},{"version":"1.21.0","date":"2023-03-09T08:51:21.553Z"},{"version":"1.22.0","date":"2023-04-12T10:57:43.464Z"},{"version":"1.23.0","date":"2023-05-31T15:19:13.097Z"},{"version":"1.24.0","date":"2023-06-30T15:15:48.030Z"},{"version":"1.25.0","date":"2023-08-14T09:40:03.037Z"},{"version":"1.25.1","date":"2023-08-18T13:32:51.732Z"},{"version":"1.26.0","date":"2023-09-27T11:00:41.654Z"},{"version":"1.27.0","date":"2023-11-13T09:52:40.140Z"},{"version":"1.28.0","date":"2023-12-16T20:57:09.010Z"},{"version":"1.29.0","date":"2024-03-13T17:12:17.796Z"}],"npmlink":"https://www.npmjs.com/package/@sap/hrtt-core-vscode"},{"name":"html5-app-deployer","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:19:36.930Z","updatedAt":"2024-03-19T09:32:44.007Z","readme":"@sap/html5-app-deployer\n==============\n\n[![Build Status](https://gkehtml5appsrepo.jaas-gcp.cloud.sap.corp/buildStatus/icon?job=Dependency-Check-html5-app-deployer-voter%2Fmaster)](https://gkehtml5appsrepo.jaas-gcp.cloud.sap.corp/view/voter/job/Dependency-Check-html5-app-deployer-voter/job/master/)\n\n\n<!-- toc -->\n- [Overview](#overview)\n- [Deploying HTML5 Application Deployer App](#deploying-html5-application-deployer-app)\n  * [Deploying HTML5 Application Deployer App Using cf push](#deploying-html5-application-deployer-app-using-cf-push)\n  * [Deploying HTML5 Application Deployer App using cf deploy](#deploying-html5-application-deployer-app-using-cf-deploy)\n- [Undeploy HTML5 Application Deployer Apps](#undeploy-html5-application-deployer-apps)\n  * [Delete HTML5 Application Deployer App Using cf delete](#delete-html5-application-deployer-app-using-cf-delete)\n  * [Undeploy HTML5 Application Deployer App Using cf undeploy](#undeploy-html5-application-deployer-app-using-cf-undeploy)\n- [Redeploy HTML5 Application Deployer App](#redeploy-html5-application-deployer-app)\n- [Automatic Creation of Destination Configurations](#automatic-creation-of-destination-configurations)\n- [Enable Process Exit After Upload](#enable-process-exit-after-upload)\n\n\n## Overview\nHTML5 application deployer handles the upload of the HTML5 applications content to the HTML5 application repository.\n\nThe @sap/html5-app-deployer module can be consumed as a dependency in a node.js CF application or as a base image in the HTML5 application image.\n\nHere is an example of the node.js dependency:\n ```\n {\n   \"name\": \"myAppDeployer\",\n   \"engines\": {\n     \"node\": \">=6.0.0\"\n   },\n   \"dependencies\": {\n     \"@sap/html5-app-deployer\": \"2.0.1\"\n   },\n   \"scripts\": {\n     \"start\": \"node node_modules/@sap/html5-app-deployer/index.js\"\n   }\n }\n ```\n\nHere is an example of a Dockerfile of a base image:\n  ```\n  FROM build-milestones.common.repositories.cloud.sap/com.sap.html5.deployer/html5-app-deployer-3.1:3.1.1 \n\n  RUN sed -i -E 's/(CipherString\\s*=\\s*DEFAULT@SECLEVEL=)2/\\11/' /etc/ssl/openssl.cnf && \\\n  mkdir -p /app && \\\n  chown node.node /app\n\n  # Create app directory\n  WORKDIR /app\n\n  # Bundle app source\n  COPY . .\n\n  EXPOSE 5000\n  CMD [ \"npm\", \"start\" ]\n  ```\nTo login to SAP Artifactory you can use the following statement:\n  ```\n  docker login --username=<techical user> --password=<apiKey> build-milestones.common.repositories.cloud.sap\n  ```\n\nBelow the root folder, the HTML5 applications deployer app can contain a \"resources\" folder for the static files of the HTML5 application.\n\nIf no \"resources=\" tag is provided HTML5 application deployer will still try to upload files from resources folder. If no resources folder is found,the upload will fail. In the resources folder there should be one folder or one zip archive for each application that should be uploaded. \nIn each application folder/zip archive there should be two files at root level: `manifest.json` and `xs-app.json`. \n\nHere is an example of the HTML5 application deployer application:   \n  ```\n  myAppsDeployer\n    + node_modules\n    - resources\n      - app1\n        index.html\n        manifest.json\n        xs-app.json\n      - app2\n        ...\n    package.json\n    manifest.yaml\n   ```\nHere is an example of the HTML5 application deployer image:\n  ```\n  myApp\n    - resources\n      - app1\n        index.html\n        manifest.json\n        xs-app.json\n      - app2\n        ...\n    Dockerfile\n  ```\n\nThe manifest.json file should contain at least `sap.app.id` and `sap.app.applicationVersion.version`. \n\nNote that `sap.app.id` and `sap.app.applicationVersion.version` are used in the HTML5 application repository as applicationName and applicationVersion. If `sap.app.id` contains dots or dashes, they will be removed in the applicationName.\nThe version format must be xx.xx.xx, whereas x is a digit. For example: 1.0.10\n\nNote that different app-host service instances cannot be used to upload applications with the same application id/name.\n\nFor example (`manifest.json`):\n```\n   {\n     \"_version\": \"1.7.0\",\n     \"sap.app\": {\n       \"id\": \"app1\",\n       \"type\": \"application\",\n       \"i18n\": \"i18n/i18n.properties\",\n       \"applicationVersion\": {\n         \"version\": \"1.0.0\"\n       }\n     }\n   }\n```\n\nThe `xs-app.json` file that can be used by the application router to support application routing. \nFor example:\n   ```\n   \"welcomeFile\": \"index.html\",\n   \"authenticationMethod\": \"route\",\n   \"routes\": [\n    {\n      \"source\": \"^/be(.*)\",\n      \"target\": \"$1\",\n      \"destination\": \"mybackend\"\n    },\n    {\n      \"source\": \"^(/.*)\",\n      \"target\": \"$1\",\n      \"service\": \"html5-apps-repo-rt\"\n    }\n   ]\n   }\n   ```\n\nThe `@sap/html5-app-deployer` consumer application should be bound to a single html5-apps-repo service instance of the app-host service plan. \nWhen the `@sap/html5-app-deployer` consumer application is started, the `@sap/html5-app-deployer` module creates a zip archive for each folder in the “resources” folder - if it is not zipped already - and triggers the upload of all zip archives to the HTML5 application repository via multi-part request.\n\n## Deploying HTML5 Application Deployer App\nTo deploy an sap/html5-app-deployer consumer application in the Cloud Foundry environment you can choose one of the following procedures: \n\n### Deploying HTML5 Application Deployer App Using cf push\n\n#### 1. Create a `manifest.yaml` file in the following format:\n```\napplications:\n\n- name: myAppsDeployer\n  no-route: true\n  memory: 128M\n  services:\n    - myApps-app-host\n```\n\n#### 2. Create an html5-apps-repo service instance of the app-host plan using CF CLI\n```\ncf create-service html5-apps-repo app-host myApps-app-host\n```\n\n#### 3. Push to CF\n```\ncf push -f manifest.yaml\n```\n#### 4. Stop sap/html5-app-deployer consumer application\nAfter @sap/html5-app-deployer consumer application has uploaded the  content successfully, stop the application to avoid using up CF container resources.\n\n```\ncf stop myAppsDeployer\n```\n\n### Deploying HTML5 Application Deployer App using cf deploy\nTo use cf deploy the installation of the deploy plugin is required, see [deploy plugin documentation](https://github.com/SAP/cf-mta-plugin/blob/master/README.md)\nIn addition, create an *.mtar archive using WebIDE or MTA Build Tool.\n\n#### 1. Create an mtad.yaml file.\nThe MTA project should have an `mtad.yaml` file in the following format:\n```\nID: myApps.deployer                  //MTA ID \n_schema-version: '2.0'\nversion: 0.0.3\n \nmodules:\n - name: myAppsDeployer\n   type: com.sap.html5.application-content\n   path: deployer/\n   requires:\n    - name: myApps-app-host\n \n  \nresources:\n - name: myApps-app-host                 //Resource name\n   type: org.cloudfoundry.managed-service\n   parameters:\n     service: html5-apps-repo            //Service name\n     service-plan: app-host              //Service plan\n     service-name: myApps-app-host       //Service instance name\n```\n#### 2. Generate *.mtar file.\nUse the WebIDE build or the [MTA Build Tool](https://sap.github.io/cloud-mta-build-tool/) to generate a valid `myAppDeployer.mtar` file.\n\n#### 3. Deploy *.mtar file.\n```\ncf deploy myAppsDeployer.mtar\n```\nAfter deploying the `*.mtar` file, an application called myAppsDeployer (stopped) is shown in cf apps.\n\n## Undeploy HTML5 Application Deployer Apps\nWhen you undeploy the  HTML5 application deployer app using MTA ID, the related HTML5 application repository content should be deleted too.\n\n### Delete HTML5 Application Deployer App Using cf delete\nIf you have used the cf push command to deploy the app, delete the HTML5 application deployer app manually:\n\n#### 1. Unbind html5-apps-repo app-host service instance.\nFor example:\n```\ncf unbind-service  myAppsDeployer myApps-app-host\n```\n\n#### 2. Delete html5-apps-repo app-host service instance\nThis step deletes the HTML5 application respository content.\nFor example:\n```\ncf delete-service  myApps-app-host\n```\nThis step deletes the HTML5 application repository content.\n\n#### 3. Delete the HTML5 application deployer app.\nFor example:\n```\ncf delete  myAppsDeployer\n```\n\n### Undeploy HTML5 Application Deployer App Using cf undeploy\nWhen you undeploy the HTML5 application deployer app, the HTML5 application deployer app is deleted and you can - in the same step - delete the app-host service instance of the html5-apps-repo. To delete the app-host service instance of the html5-apps-repo, the  --delete-service parameter should be passed. \nNote that the undeploy requires the mta id, which can be obtained by calling cf mtas or from the `mtad.yaml` ID.\n\n#### 1. Undeploy HTML5 Application Deployer App and delete the service instance\nFor example:\n```\ncf undeploy myApps.deployer --delete-services\n```\n\n## Redeploy HTML5 Application Deployer App\nAfter making changes to the static content files of HTML5 applications, the new content can be redeployed to the HTML5 application repository. \nAll content referenced by the app-host service instance id is replaced by the new content. \n\n## Asynchronous Upload\nYou can specify that upload content should be performed asynchronously by adding environment variable ASYNC_UPLOAD to manifest.yaml or mta.yaml files.\nAsynchronous upload means that the html5 applications content will be handled synchronously to HTML5 Application Repository but the internal file validation and processing will be performed asynchronously.\nIn this setup, you will have to check the html5 application deployer logs to verify that the upload was completed successfully. \nUsing asynchronous upload is specially important when triggering upload of service instance with large content (more than 10 MB). In such cases synchronous upload might cause health check errors or connection timeout during upload.\n\n## Automatic Creation of Destination Configurations\nIf you use the HTML5 application deployer together with an application router managed by SAP, you can enable that the required destination configurations pointing to the service instances are created automatically.\n\nTo enable the automatic creation of destination configurations, add the environment variable SAP_CLOUD_SERVICE with the value of the sap.cloud.service property in the html5 application manifest.json file of the HTML5 application that you want to deploy. \nThe destination configurations can point to instances of the following services:\n\nTo following types of destination configurations can be created:\n\n- An HTML5 Application Repository service instance of the app-host service plan (mandatory)\n- An SAP Authorization and Trust Management (XSUAA) service instance (optional)\n  To create a destination that points to an SAP Authorization and Trust Management (XSUAA) service instance, the SAP Authorization and Trust Management (XSUAA) service instance and a destination service instance must be bound to the HTML5 application deployer.\n- A business service instance (optional)\n  To create a destination that points to a business service instance, the business service instance must be bound to the HTML5 application deployer.\n- One or more backend destinations that point to cloud or on-premise backend applications.\n  These destinations are modeled using the environment variable BACKEND_DESTINATIONS\n\n**Note**: To enable app-to-app navigation, you also have to add the environment variable IAS_DEPENDENCY_NAME and provide the name of the dependency that has been configured for the Identity Authentication token exchange that is required for app-to-app navigation. For more information about how to configure the dependency for app-to-app navigation, see Consume an API from Another Application .\nYou would typically use the automatic creation of destination configurations in Kubernetes when the HTML5 application deployer application has been previously uploaded as a docker image to Artifactory or Docker Hub. See, for example, this Kubernetes deployment:\nFor example (Kubernetes deployment.yaml) :\n```\n---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: html5appdeployer\n  namespace: default\n  labels:\n    app: html5appdeployer\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: html5appdeployer\n  template:\n    metadata:\n      labels:\n        app: html5appdeployer\n    spec:\n      containers:\n        - image: html5-apps-repo.docker.repositories.sap.ondemand.com/myapp-html5-app-deployer:1.0\n          name: html5appdeployer\n          volumeMounts:\n            - name: html5-repo-app-host-volume\n              mountPath: \"/etc/secrets/sapcp/html5-apps-repo/myapp-app-host-instance\"\n              readOnly: true\n            - name: xsuaa-volume\n              mountPath: \"/etc/secrets/sapcp/xsuaa/myapp-xsuaa-instance\"\n              readOnly: true\n            - name: destination-volume\n              mountPath: \"/etc/secrets/sapcp/destination/myapp-destination-instance\"\n              readOnly: true\n          env:\n            - name: PORT\n              value: \"5000\"\n            - name: SAP_CLOUD_SERVICE\n              value: \"com.sap.test.service\"\n            - name: BACKEND_DESTINATIONS\n              value: \"[{\n              \\\"Name\\\":\\\"myapp-backend\\\",\n              \\\"Description\\\":\\\"My application backend\\\",\n              \\\"Type\\\":\\\"HTTP\\\",\n              \\\"ProxyType\\\":\\\"Internet\\\",\n              \\\"URL\\\":\\\"https://<backendApplicationHost>/\\\",\n              \\\"Authentication\\\":\\\"NoAuthentication\\\",\n              \\\"HTML5.ForwardAuthToken\\\": true}]\"\n      imagePullSecrets:\n        - name: backend-dockersecret\n      volumes:\n        - name: html5-repo-app-host-volume\n          secret:\n            secretName: myapp-app-host-binding\n        - name: xsuaa-volume\n          secret:\n            secretName: myapp-xsuaa-binding\n        - name: destination-volume\n          secret:\n            secretName: myapp-destination-binding\n\n```\n## Enable Process Exit After Upload\nIn case it is required to automatically exit the html5 application deployer process, you can set the EXIT_PROCESS_AFTER_UPLOAD environment variable to \"true\".\nIf this environment variable is set, after a successful upload the html5 application deployer application will be stopped. \nNote that when using deploy service this is no required because deploy service stops the html5 application deployer application automatically.\nIf you use native deployment mechanisms such as Cloud Foundry cf push or Kubernetes deployment, you may need to use this capability.\n\nExample:\n```\n---\napiVersion: batch/v1\nkind: Job\nmetadata:\n  name: html5appdeployer\n  namespace: default\n  labels:\n    app: html5appdeployer\nspec:\n  ttlSecondsAfterFinished: 0\n  template:\n    metadata:\n      labels:\n        app: html5appdeployer\n      annotations:\n        sidecar.istio.io/inject: \"false\"\n    spec:\n      restartPolicy: OnFailure\n      containers:\n        - image: html5-apps-repo.docker.repositories.sap.ondemand.com/myapp-html5-app-deployer:1.0\n          imagePullPolicy: Always\n          name: html5appdeployer\n          volumeMounts:\n            - name: html5-repo-app-host-volume\n              mountPath: \"/etc/secrets/sapcp/html5-apps-repo/myapp-app-host-instance\"\n              readOnly: true\n            - name: xsuaa-volume\n              mountPath: \"/etc/secrets/sapcp/xsuaa/myapp-xsuaa-instance\"\n              readOnly: true\n            - name: destination-volume\n              mountPath: \"/etc/secrets/sapcp/destination/myapp-destination-instance\"\n              readOnly: true\n          env:\n            - name: EXIT_PROCESS_AFTER_UPLOAD\n              value: \"true\"\n            - name: PORT\n              value: \"5000\"\n            - name: SAP_CLOUD_SERVICE\n              value: \"com.sap.test.service\"\n            - name: BACKEND_DESTINATIONS\n              value: \"[{\n              \\\"Name\\\":\\\"myapp-backend\\\",\n              \\\"Description\\\":\\\"My application backend\\\",\n              \\\"Type\\\":\\\"HTTP\\\",\n              \\\"ProxyType\\\":\\\"Internet\\\",\n              \\\"URL\\\":\\\"https://<backendApplicationHost>/\\\",\n              \\\"Authentication\\\":\\\"NoAuthentication\\\",\n              \\\"HTML5.ForwardAuthToken\\\": true}]\"\n      imagePullSecrets:\n        - name: backend-dockersecret\n      volumes:\n        - name: html5-repo-app-host-volume\n          secret:\n            secretName: myapp-app-host-binding\n        - name: xsuaa-volume\n          secret:\n            secretName: myapp-xsuaa-binding\n        - name: destination-volume\n          secret:\n            secretName: myapp-destination-binding\n\n```\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 6.2.0 - 2024-03-19\n### Added\n- Services bindings can be created with certificate\n\n## 6.1.0 - 2024-03-14\n\n### Added\n- App2App navigation support\n\n## 6.0.0 - 2024-01-15\n\n### Updated dependencies\n- deps: xsenv@4.2.0\n- deps: cf-nodejs-logging-support@7.2.1\n- deps: xssec@3.6.1\n- deps: axios@1.6.5\n\n### Added\n- nodejs version ^12.0.0 support removed\n- nodejs version ^20.0.0 support added\n\n## 5.0.2 - 2023-11-29\n\n### Updated dependencies\n- deps: xssec@3.6.0\n\n## 5.0.1 - 2023-11-18\n\n### Updated dependencies\n- deps: xssec@3.5.0\n- deps: axios@1.6.1\n\n## 5.0.0 - 2023-02-12\n\n### Updated dependencies\n- deps: xssec@^3.2.17\n- deps: axios@0.27.2\n\n### Added\n- nodejs version ^10.0.0 support removed\n- nodejs version ^18.0.0 support added\n\n## 4.2.4 - 2023-01-17\n\n### Updated dependencies\n- deps: @sap/xsenv: ^3.4.0\n- deps: @sap/xssec: ^3.2.15\n\n## 4.2.3 - 2023-01-08\n\n### Updated dependencies\n- deps: cf-nodejs-logging-support@^6.14.0\n\n## 4.2.2 - 2022-11-16\n\n### Updated dependencies\n- deps: uuid@8.3.2\n\n## 4.2.1 - 2022-11-15\n\n### Updated dependencies\n- deps: archiver@5.3.1\n- deps: cf-nodejs-logging-support@6.13.2\n- deps: file-type@12.4.2\n\n## 4.2.0 - 2022-09-04\n\n### Fixed\n- Version sync with DockerHub\n\n## 4.1.3 - 2022-09-01\n\n### Fixed\n- Convert shouldExitProcess value to boolean\n- Axios request error handling \n\n## 4.1.2 - 2022-06-20\n\n### Updated dependencies\n- deps: xsenv@3.3.2\n\n\n## 4.1.1 - 2022-06-14\n\n### Updated dependencies\n- deps: xsenv@3.3.1\n\n## 4.1.0 - 2022-05-10\n\n### Added\n- Create business services destinations\n\n### Updated dependencies\n- deps: async@3.2.3\n\n## 4.0.1 - 2022-03-08\n\n### Fixed\n- Vulnerability issues\n\n## 4.0.0 - 2022-03-07\n\n### Updated dependencies\n- deps: xsenv@3.1.1\n- deps: xssec@3.2.13\n- deps: axios@0.26.0\n\n### Added\n- Switched from Request to Axios, used by request-utils\n- nodejs versions ^6.0.0 and ^8.0.0 support removed\n- nodejs version ^16.0.0 support added\n\n### Fixed\n- increased request options content and body length\n\n## 3.2.0 - 2021-10-24\n\n### Added\n- Mutual Transport Layer Security (mTLS) handling\n\n### Fixed\n- html5-repo credentials handling\n\n## 3.1.1 - 2021-07-20\n\n### Fixed\n- Add xsappname in generated destinations\n- Add IAS domains in generated destinations\n\n## 3.1.0 - 2021-05-25\n\n### Added\n- Enable process exit after upload\n\n## 3.0.1 - 2021-05-09\n\n### Fixed \n- Destination type set to HTTP when creating destination configuration\n\n## 3.0.0 - 2021-03-11\n\n### Added\n- Asynchroneus upload support\n\n## 2.3.1 - 2021-02-16\n\n### Fixed\n- Failure when trying to obtain xsuaa token in Kyma flows\n\n## 2.3.0 - 2020-12-20\n\n### Added\n- Support the automatic creation of destinations that are pointing to xsuaa, app-host, ias service instances or backend applications\n\n## 2.2.0 - 2020-12-1\n\n### Added\n- Support node version 14\n- Use xsenv library to enable accessing credentials in Kyma\n\n## 2.1.1 - 2020-09-06\n\n### Updated dependencies\n- deps: archiver@5.0.0\n- deps: cf-nodejs-logging-support@6.4.3\n- deps: request@2.88.2\n\n## 2.1.0 - 2020-04-21\n\n### Added\n- Support node 8,10,12 versions\n\n## 2.0.3 - 2019-03-13\n\n### Fixed\n- On failure deploy return the error written to the log\n- Return correct error when deploy with empty resources folder\n- Support deploy without npm install\n\n## 2.0.2 - 2018-11-22\n\n### Fixed\n- Vulnerability issues\n\n\n## 2.0.1 - 2018-06-07\n\n### Fixed\n- Validation of binding for app-host\n\n## 2.0.0 - 2018-03-01\n\n### Added\n- Single Deployer to serve multiple applications\n\n## 1.1.8 - 2018-02-14\n\n### Added\n- Initial release as NPM\n\n## 1.1.0 - 2017-11-12\n\n### Added\n- Initial release\n","downloadsCurrentMonth":34842,"downloadsCurrentFortnight":15939,"downloads365":366898,"downloadsFortnightGrowth":-7.72,"downloadsHistory":[{"yearMonth":"2023-04","downloads":21506},{"yearMonth":"2023-05","downloads":23495},{"yearMonth":"2023-06","downloads":20613},{"yearMonth":"2023-07","downloads":23076},{"yearMonth":"2023-08","downloads":28446},{"yearMonth":"2023-09","downloads":31768},{"yearMonth":"2023-10","downloads":39603},{"yearMonth":"2023-11","downloads":44735},{"yearMonth":"2023-12","downloads":40421},{"yearMonth":"2024-01","downloads":30114},{"yearMonth":"2024-02","downloads":31918}],"versions":[{"version":"created","date":"2020-06-11T23:19:36.930Z"},{"version":"2.0.1","date":"2020-06-11T23:19:37.504Z"},{"version":"modified","date":"2024-03-19T09:32:44.007Z"},{"version":"2.1.0","date":"2020-06-11T23:19:45.311Z"},{"version":"2.0.2","date":"2020-06-11T23:19:52.507Z"},{"version":"1.1.8","date":"2020-06-11T23:19:59.262Z"},{"version":"2.0.0","date":"2020-06-11T23:20:05.541Z"},{"version":"2.0.3","date":"2020-06-11T23:20:11.950Z"},{"version":"2.1.1","date":"2020-09-10T09:32:56.187Z"},{"version":"2.2.0","date":"2020-12-01T14:53:43.769Z"},{"version":"2.3.0","date":"2020-12-21T11:18:46.886Z"},{"version":"2.3.1","date":"2021-02-16T17:33:41.020Z"},{"version":"3.0.0","date":"2021-03-11T13:58:34.040Z"},{"version":"3.0.1","date":"2021-05-09T15:11:10.741Z"},{"version":"3.1.0","date":"2021-05-26T09:41:00.613Z"},{"version":"3.1.1","date":"2021-07-20T09:26:12.202Z"},{"version":"3.2.0","date":"2021-10-24T08:20:12.332Z"},{"version":"4.0.0","date":"2022-03-07T21:02:11.950Z"},{"version":"4.0.1","date":"2022-03-08T17:26:38.508Z"},{"version":"4.1.0","date":"2022-05-10T07:53:25.803Z"},{"version":"4.1.1","date":"2022-06-14T11:45:21.055Z"},{"version":"4.1.2","date":"2022-06-20T10:28:41.612Z"},{"version":"4.1.3","date":"2022-09-04T07:55:28.443Z"},{"version":"4.2.0","date":"2022-09-04T12:40:23.621Z"},{"version":"4.2.1","date":"2022-11-15T16:06:31.627Z"},{"version":"4.2.2","date":"2022-11-16T16:12:17.976Z"},{"version":"4.2.3","date":"2023-01-08T12:03:12.433Z"},{"version":"4.2.4","date":"2023-01-17T16:05:55.576Z"},{"version":"5.0.0","date":"2023-02-12T16:39:16.601Z"},{"version":"5.0.1","date":"2023-11-20T13:07:59.725Z"},{"version":"5.0.2","date":"2023-12-06T21:37:07.127Z"},{"version":"6.0.0","date":"2024-01-15T16:48:56.264Z"},{"version":"6.1.0","date":"2024-03-14T13:18:09.731Z"},{"version":"6.2.0","date":"2024-03-19T09:32:43.169Z"}],"npmlink":"https://www.npmjs.com/package/@sap/html5-app-deployer"},{"name":"html5-repo-mock","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T21:22:43.527Z","updatedAt":"2023-09-13T14:44:24.867Z","readme":"HTML5 Repo Mock\n===============\n\nHTML5 Repo Mock is a development web server that allows to run [AppRouter][1] based \napplication that intend to serve files from HTML5 Application Repository in non-CF \nenvironment (e.g personal workstation, docker or K8S) the very same way as it would\nrun in CF.\n\nForm AppRouter point of view, there is no difference between real HTML5 Repo and\nit's mock. Both of them are business services that expose all relevant information\nrequired by AppRouter via service binding (available via `VCAP_SERVICES` environment\nvariable).\n\nWith HTML5 Repo Mock it is also possible to serve multiple HTML5 applications and\nnavigate between them.\n\nHTML5 Repo Mock is capable to resolve HTML5 application default version, which allows\naccessing HTML5 applications without specifying the version.\n\n## Getting Started\n\n1. Download or clone current repository\n2. Install dependencies `npm install`\n3. Run `MOCK_DIR=test/applications node lib/index.js`\n4. Open `http://localhost:5000/app/index.html`\n\n## Usage\n\nHTML5 Repo Mock main usage scenario is to enable preview of HTML5 modules of MTA without deploying it.\nThere are multiple development flows that HTML5 Repo Mock supports, and they are described in the \nfollowing sub-sections. All flows below assume MTA project with at least AppRouter and HTML5 module.\n\n__package.json of AppRouter application__\n```json\n{\n  ...\n  \"devDependencies\": {\n    \"html5-repo-mock\": \"*\"    \n  },\n  \"scripts\": {\n    ...\n    \"start-local\": \"node node_modules/@sap/html5-repo-mock/index.js\"\n  }\n}\n```\n\n### Standalone\n\nDeveloper created MTA project with AppRouter and HTML5 module. There are no provisioned CF\nservices available yet. Developer would like to preview the UI only.\n\nIn this scenario HTML5 Repo Mock serves as both HTML5 Repo and XSUAA. It will start AppRouter\nwith `VCAP_SERVICES` described in [Default VCAP_SERVICES](#default-vcap_services) section.\nDuring startup, AppRouter will call `http://localhost:5001/oauth/token` to obtain JWT of\nHTML5 Repo Mock and will use it with all followup requests.\n\n__Mock Token__\n\n```json\n{\n  \"access_token\": \"MOCK.ACCESS.TOKEN\",\n  \"token_type\": \"bearer\",\n  \"expires_in\": 43199,\n  \"scope\": \"uaa.resource\",\n  \"jti\": \"915f7795bf2f4ea5a77b138dc8a50709\"\n}\n```\n\nThis scenario is good to start with, since it requires minimum effort, but is not suitable \nfor cases where there are scope constraints defined on routes in `xs-app.json` and for \ncases where some HTML5 atrifacts are not part of the project (e.g. reuse libraries).\nConsumption of business services and destination service subaccount level destinations\nis also not possible using this approach.\n\n### With XSUAA\n\nIn case developer would like to test behaviour of HTML5 application with real XSUAA, for example\nto test error handling for users with not sufficient permissions, it is possible to define \n`VCAP_SERVICES` environment variable that contains XSUAA binding information. In this case\nHTML5 Repo Mock will merge binding information of HTML5 Repo Mock into provided `VCAP_SERVICES`\nand run AppRouter with both of them. This allows to define routes with scope constraints in\n`xs-app.json`\n\n```json\n{\n  \"routes\": [{\n      \"source\": \"^(.*)$\",\n      \"target\": \"$1\",\n      \"service\": \"html5-apps-repo-rt\",\n      \"scope\": [\"$XSAPPNAME.Read\", \"$XSAPPNAME.Write\"]\n  }]\n}\n```\n\nAlso providing XSUAA credentials allows to consume business services and subaccount level \ndestinations, binding information of which should also be passed via `VCAP_SERVICES`.\n\n```json\n{\n  \"routes\": [{\n      \"source\": \"^/dest/(.*)$\",\n      \"target\": \"$1\",\n      \"destination\": \"DESTINATION_NAME\"\n  }, {\n      \"source\": \"^(.*)$\",\n      \"target\": \"$1\",\n      \"service\": \"some-business-service\",\n      \"endpoint\": \"v1\"\n  }]\n}\n```\n\nDisadvantage of this approach is that it still does not allow to consume HTML5 applications\noutside of the project (e.g. business service UIs).\n\n### With Real HTML5 Repo\n\nIf HTML5 module depends on some reusable library, which is deployed to real HTML5 Repo, it\nis required to use both: real HTML5 Repo and the HTML5 Repo Mock. To enable this scenario,\nbinding information of real HTML5 Repo may be defined in `VCAP_SERVICES` environment variable.\nHTML5 Repo Mock will replace it with [Default VCAP_SERVICES](#default-vcap_services) before\nrunning AppRouter. In addition, it will fallback to real HTML5 Repo in case no matching HTML5 \napplication is found in local environment.\n\nThis approach allows consuming not only applications from current project, but also UIs of\nbusiness services and reuse libraries. This scenario may also be mixed with XSUAA.\n\n### With Mock FLP\n\nIf there are multiple HTML5 applications it is beneficial to have a dashboard with links\npointing to each one of them. In production it is usually done with Portal Service (aka FLP).\n\nHTML5 Repo Mock may provide similar capabilities by utilizing \"Fiori Sandbox\" environment, which\nprovides FLP-like experience and display tiles pointing to applications in local environment.\n\nTo enable FLP Mock, `--flp` flag should be passed as command line argument to HTML5 Repo Mock.\n\n### With Relative URIs\n\nIf target platform to which HTML5 application will be deployed is not Cloud Foundry, it may be\nrequired to set absolute paths (e.g. `/sap/opu/odata/snce/PO_S_SRV;v=2/`) in manifest.json data \nsource URIs. This makes impossible to test these applications with HTML5 Repo Mock, because it \nwill treat first segment of the data source path as application name. To solve the issue,\nwithout modifying source code for testing purposes, the `--relative` flag is supported by HTML5\nRepo Mock. Once it is set, HTML5 Repo Mock will remove leading slashes from all data source\nURIs, when serving manifest.json files.\n\nTo enable relative URIs, `--relative` flag should be passed as command line argument to \nHTML5 Repo Mock.\n\n### With Custom UI5 Configuration\n\nIn case some of SAP UI5 bootstrap configuration should be overridden, it is possible to specify\n`--ui5` command line argument to the HTML5 Repo Mock in the following format:\n\n```json\n{\"version\": \"1.72.0\", \"theme\": \"sap_belize\"}\n```\n\nThe `version` will be inserted before `/resources` in all URLs appearing in HTML file that have\nthe same origin as `<script id=\"sap-ui-bootstrap\" ... >` tag.\n\nAll other keys of configuration object will be used to set attributes of UI5 bootstrap script,\nprefixed with `data-sap-ui-`. For example `{\"theme\":\"sap_hcb\"}` will cause \n`<script id=\"sap-ui-bootstrap\" data-sap-ui-theme=\"sap_hcb\" ... >`.\n\n### With Business Service For Login\n\nIn case of developing HTML5 applications that will be deployed to and consumed from some business\nservice (e.g. ABAP Steampunk), creating XSUAA instance for local development only is an overhead\nwhich may be avoided by using `--login` command line argument followed by `sap.cloud.service` value.\n\nFor example, development of HTML5 application for ABAP Steampunk may be done by setting \n`VCAP_SERVICES` environment variable to include service key of the corresponding service\n\n```javascript\n{\n  \"abap\": [{\n    \"credentials\": { // <- service key goes here\n        \"sap.cloud.service\": \"com.sap.cloud.abap\",\n        ...\n    },\n    ...\n  }]\n }\n```\n\nThen run HTML5 Repo Mock as \n\n```\nnode node_modules/@sap/html5-repo-mock/index.js --login com.sap.cloud.abap\n```\n\n### With Inject\n\nIf it is required to inject content in `.html` files, it is possible to provide `--inject` command\nline argument followed by JSON array of objects or single object. Each object should contain `place`\nproperty with one of the following values: `head-start`, `head-end`, `body-start` or  `body-end`.\nIn addition, object should have either `script` or `content` property. In case of `script`, the\n`<script>` tag with corresponding URL will be injected to the place specified in `place` property.\nIn case of `content`, arbitrary content will be injected to the place specified in `place` property.\n\n```shell script\nnode node_modules/@sap/html5-repo-mock/index.js --inject '{\"place\":\"head-start\", \"script\":\"http://test.com/script.js\"}'\n```\n\n```shell script\nnode node_modules/@sap/html5-repo-mock/index.js --inject '{\"place\":\"body-end\", \"content\":\"<p>Footer</p>\"}'\n```\n\n### With MIME Types\n\nIn case HTML5 application contains resource(s) with file extension that is required to be served\nwith custom value of `Content-Type` header, it is possible to pass `--mime-types` command line\nargument followed with JSON that has file extension (without a dot) as key and corresponding\nMIME Type (`Content-Type` header value) as value.\n\n```shell script\nnode node_modules/@sap/html5-repo-mock/index.js --mime-types '{\"my-ext\":\"application/x-my-ext\"}'\n```\n\n### With Additional Headers\n\nIn case it is desired to send additional headers along with each request to destination target,\nit is possible to specify them as additional properties of AppRouter environment variable\n`destinations`, following the naming convention `URL.headers.<header_name>`.\n\n```shell script\ndestinations=[{\"URL.headers.APIKey\": \"1111-2222-3333\", \"name\":\"api\", \"url\":\"https://api.sap.com/SOME_SRV\"}]\n```\n\n## Configuration\n\nHTML5 Repo Mock supports various configuration options via command line arguments and environment variables.\nIn case of both environment variable and command line argument for the same configuration option are set,\nthe command line argument has higher priority.\n\n| Command line argument            | Environment variable              | Default value                       | Description                                                                                                 |\n|----------------------------------|-----------------------------------|-------------------------------------|-------------------------------------------------------------------------------------------------------------|\n| `--APIKey <key>`                 | API_KEY                           | &lt;not set&gt;                     | Override manifest.json OData models to send `APIKey` header with given value                                |\n| `--baseURL <url>`                | AR_BASE                           | http://localhost:$PORT              | AppRouter base URL. used for printing application URLs                                                      |\n| `--workingDirectory <dir>`       | AR_DIR                            | $PWD                                | The AppRouter working directory                                                                             |\n| `--allowedRequestHeaders <json>` | MOCK_ALLOWED_REQUEST_HEADERS      | [\"Authorization\", \"x-app-host-id\"]  | List of HTTP headers that HTML5 Repo Mock will forward to remote services, in case they are present         |\n| `--allowedResponseHeaders <json>` | MOCK_ALLOWED_RESPONSE_HEADERS     | [\"Content-Type\", \"Expires\", \"Date\", \"ETag\", \"Last-Modified\", \"Strict-Transport-Security\", \"x-app-host-id\", \"x-vcap-request-id\"]  | List of HTTP headers that HTML5 Repo Mock will forward from remote services, in case they are present       |\n| `--destination`                  | MOCK_DESTINATION                  | &lt;not set&gt;                     | If set, HTML5 Repo Mock will mock destination service                                                       |\n| `--mockDir <dir(s)>`             | MOCK_DIR                          | $PWD/..                             | Accepts a list of directories in one of 3 ways: <br>&nbsp;&nbsp;  1. Multiple strings (each string without spaces), where each string represents a directory<br>&nbsp;&nbsp; 2. Single-quoted string argument with comma-separated list of directories, for example: './dir1, ../dir2, dir3/app'<br>&nbsp;&nbsp; Single-quoted JSON argument with an array of double-quoted strings, representing directories, for example: '[\"dir1\", \"dir2\"]'|\n| `--flp`                          | MOCK_FLP                          | &lt;not set&gt;                     | If set, AppRouter serves Fiori Sandbox at `/cp.portal/site`                                                 |\n| `--inject <json>`                | MOCK_INJECT                       | &lt;not set&gt;                     | Inject arbitrary HTML content or script with URL to specified place                                         |\n| `--login <sap.cloud.service>`    | MOCK_LOGIN                        | &lt;not set&gt;                     | Use service with specified `sap.cloud.service` as XSUAA (for login)                                         |\n| `--mockLookupDirs <dir(s)>`          | MOCK_LOOKUP_DIRS                  | [\"\", \"dist\", \"webapp\"]              | Folders relative to `xs-app.json` from where to serve HTML5 assets                                          |\n| `--mime-types <json>`            | MOCK_MIME_TYPES                   | &lt;not set&gt;                     | JSON mapping file extensions to `Content-Type` values                                                       |\n| `--mockPort <port>`              | MOCK_PORT                         | 5001                                | TCP port of HTML5 Repo Mock                                                                                 |\n| `--relative`                     | MOCK_RELATIVE                     | &lt;not set&gt;                     | Remove leading slash in data source URIs of manifest.json files                                             |\n| `--service-instance-destination` | MOCK_SERVICE_INSTANCE_DESTINATION | &lt;not set&gt;                     | If set, AppRouter sends destinations service instance credentials in `bas-destination-instance-cred` header |\n| `--ui5 <json>`                   | MOCK_UI5                          | &lt;not set&gt;                     | Rewrite UI5 bootstrap configuration and version in HTML files                                               |\n| `--standalone <url>`             | MOCK_WELCOME                      | &lt;not set&gt;                     | If set, changes welcome file of AppRouter's xs-app.json to provided value                                   |\n|                                  | PORT                              | 5000                                | TCP port of AppRouter. Used for printing application URLs                                                   |\n| `--sap-ui-bootstrap-url <url>`   | SAP_UI_BOOTSTRAP_URL              | https://sapui5.hana.ondemand.com    | Base URL form which SAP UI5 resources of FLP sandbox will be loaded                                         |\n|                                  | VCAP_SERVICES                     | [See below](#default-vcap_services) | Service binding information that will be overridden and passed to AppRouter                                 |\n\n### Default VCAP_SERVICES\n\n```json\n{\n  \"html5-apps-repo\": [\n    {\n      \"binding_name\": null,\n      \"credentials\": {\n        \"grant_type\": \"client_credentials\",\n        \"sap.cloud.service\": \"html5-apps-repo-rt\",\n        \"uaa\": {\n          \"clientid\": \"mock_client_id\",\n          \"clientsecret\": \"mock_client_secret\",\n          \"identityzone\": \"mock_idz\",\n          \"identityzoneid\": \"mock_idz_id\",\n          \"sburl\": \"http://localhost\",\n          \"tenantid\": \"mock_tenant_id\",\n          \"tenantmode\": \"dedicated\",\n          \"uaadomain\": \"localhost:5001\",\n          \"url\": \"http://localhost:5001\",\n          \"verificationkey\": \"-----BEGIN PUBLIC KEY-----***-----END PUBLIC KEY-----\",\n          \"xsappname\": \"mock_xsappname\"\n        },\n        \"uri\": \"http://localhost:5001\",\n        \"vendor\": \"SAP\"\n      },\n      \"instance_name\": \"mock-html5-apps-repo\",\n      \"label\": \"html5-apps-repo\",\n      \"name\": \"mock-html5-apps-repo\",\n      \"plan\": \"app-runtime\",\n      \"provider\": null,\n      \"syslog_drain_url\": null,\n      \"tags\": [\n        \"html5appsrepo\",\n        \"html5-apps-repo-rt\",\n        \"html5-apps-rt\",\n        \"html5-apps-repo-dt\",\n        \"html5-apps-dt\"\n      ],\n      \"volume_mounts\": []\n    }\n  ]\n}\n```\n\n## Troubleshooting\n\nIf HTML5 Repo Mock running and producing unexpected results, it is possible to see some diagnostic information\nby accessing one of the URLs below.\n\n| URL                     | Description                                                 |\n|-------------------------|-------------------------------------------------------------|\n| /logs                   | Tracing logs for the bootstrap and each request             |\n| /conf                   | HTML5 Repo Mock configuration                               |\n| /vcap                   | Value of `VCAP_SERVICES` that AppRouter was configured with |\n| /applications/metadata/ | List of metadata for all discovered applications            |\n\n## Support channel\nFor reporting an issue, open a BCP ticket with component CA-BAS-RUN-HTML5 For reporting a feature request,\nplease open an influence request (https://influence.sap.com/sap/ino/#campaign/2538)\n\n[1]: https://www.npmjs.com/package/@sap/AppRouter\n","changelog":"# Changelog\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)\nand this project adheres to [Semantic Versioning](http://semver.org/spec/v2.0.0.html).\n\n## [2.1.1] - 2022-10-26\n\n### Added\n- Support Node.js version `16`\n- Add CHANGELOG.md\n\n### Changed\n- Update version of `@sap/approuter` dependency to `^11.6.0`.\n\n## [2.1.0] - 2021-08-02\n\n### Added\n- Support additional request headers configuration for environment variable destinations (e.g., `destinations=[{\"name\":\"api\",\"url\":\"https://api.sap.com/SRV\",\"URL.headers.APIKey\":\"1234-5678-9012\"}]`). \n\n### Changed\n- Update version of `@sap/approuter` dependency to `^10.5.1`.\n\n## [2.0.3] - 2021-07-07\n\n### Added\n- Support UI5 1.84.9+ in Fiori Launchpad Sandbox environment.\n\n### Changed\n- Update version of `@sap/approuter` dependency to `^10.4.2`.\n\n### Fixed\n- Use `sandbox.js` from correct version of UI5.\n- Generate correct URLs for ClientSideTargetResolution adapter configuration.\n\n## [2.0.2] - 2021-01-26\n\n### Added\n- Support Node.js versions `10`, `12` and `14`.\n\n## [2.0.1] - 2021-01-04\n\n### Added\n- Allow to run HTML5 applications without XSUAA binding.\n\n## [2.0.0] - 2020-12-07\n\n### Changed\n- New major release of `html5-repo-mock`. The code of the library rewritten from scratch, preserving same functionality.\n","downloadsCurrentMonth":7451,"downloadsCurrentFortnight":3580,"downloads365":99231,"downloadsFortnightGrowth":0.87,"downloadsHistory":[{"yearMonth":"2023-04","downloads":8176},{"yearMonth":"2023-05","downloads":10412},{"yearMonth":"2023-06","downloads":8451},{"yearMonth":"2023-07","downloads":8443},{"yearMonth":"2023-08","downloads":7524},{"yearMonth":"2023-09","downloads":8526},{"yearMonth":"2023-10","downloads":9093},{"yearMonth":"2023-11","downloads":7967},{"yearMonth":"2023-12","downloads":7547},{"yearMonth":"2024-01","downloads":7951},{"yearMonth":"2024-02","downloads":7086}],"versions":[{"version":"created","date":"2020-06-11T21:22:43.527Z"},{"version":"1.3.1","date":"2020-06-11T21:22:44.177Z"},{"version":"modified","date":"2023-09-13T14:44:24.867Z"},{"version":"1.1.1","date":"2020-06-11T21:22:53.278Z"},{"version":"1.3.3","date":"2020-06-11T21:23:01.277Z"},{"version":"1.3.2","date":"2020-06-11T21:23:09.589Z"},{"version":"1.3.0","date":"2020-06-11T21:23:18.308Z"},{"version":"1.4.1","date":"2020-06-11T21:23:26.356Z"},{"version":"1.0.0","date":"2020-06-11T21:23:34.231Z"},{"version":"1.2.0","date":"2020-06-11T21:23:41.915Z"},{"version":"1.4.0","date":"2020-06-11T21:23:49.902Z"},{"version":"1.1.0","date":"2020-06-11T21:23:57.705Z"},{"version":"1.5.0","date":"2020-07-07T09:12:44.465Z"},{"version":"1.5.1","date":"2020-07-09T10:26:03.611Z"},{"version":"1.5.3","date":"2020-08-13T09:01:15.984Z"},{"version":"1.6.0","date":"2020-09-24T11:17:10.224Z"},{"version":"1.7.0","date":"2020-10-21T10:00:54.795Z"},{"version":"1.7.1","date":"2020-11-05T06:54:15.983Z"},{"version":"1.8.0","date":"2020-12-06T14:17:29.650Z"},{"version":"2.0.0","date":"2020-12-31T12:49:08.659Z"},{"version":"2.0.1","date":"2021-01-04T14:24:28.018Z"},{"version":"2.0.3","date":"2021-07-08T08:28:25.665Z"},{"version":"2.1.0","date":"2021-08-03T07:53:03.960Z"},{"version":"2.1.1","date":"2022-11-06T13:30:13.898Z"},{"version":"2.1.3","date":"2023-05-11T07:22:40.324Z"},{"version":"2.1.4","date":"2023-05-15T14:28:39.294Z"},{"version":"2.1.5","date":"2023-05-18T08:16:29.921Z"},{"version":"2.1.9","date":"2023-09-13T14:44:24.627Z"}],"npmlink":"https://www.npmjs.com/package/@sap/html5-repo-mock"},{"name":"instance-manager","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T22:21:09.287Z","updatedAt":"2024-01-10T11:55:44.932Z","readme":"# @sap/instance-manager\n\nNode.js package for creating and deleting service instances per tenant within an application at runtime.\n\n## Overview\n\nThis package provides a client for _Instance Manager_, [_Service Manager_](https://peripli.github.io/) and **Migration Manager** - components that create and delete\nservice instances (via REST API) for a specified key. These components can be used in the context\nof multitenant applications where the tenant id is the key an instance is associated with.\n\n_Multitenancy_ is a concept for sharing resources between several different\nand unrelated to each other groups of users called _tenants_.\nExample: subscriptions to a commercial cloud application can be sold to\ntwo different companies each of which should use the application in isolation\nfrom the other one. Customizations are also applied (e.g. different branding,\nidentity providers, database schemas etc.).\n\nA typical application has access to external resources (e.g. a database or messaging) via _services_.\nIf an application is used by different tenants, then using a separate service instance\nfor each one will improve isolation since service binding provides access to a resource.\n\nWith this package a Node.js application can dynamically create and delete service instances per tenant at runtime.\n\nTo consume _Instance Manager_, an instance of a _managed service_ of the desired type is created first and is then bound to the application.\nTaking HANA database as an example, the _managed service_ is called _'managed-hana'_. Its credentials contain HTTP endpoints and credentials only which can later be used by the application for creating and deleting service instances\nof the desired type for each tenant.\nAll managed instances are of the same plan - the one used during the _managed service_ instance creation (e.g. creating a _managed-hana_ service of plan _hdi-shared_ would mean managing service instances of this plan only).\n\nTo consume _Service Manager_, an instance of the _service-manager_ service, _container_ plan should be created. Its credentials contain parameters that are used at runtime to manage service instances.\nInstances of any available service and plan can be managed with a single instance of _Service Manager_. The application specifies which service and plan to be used by the library.\n\n#### Migration Manager\n\nThe\n**Migration Manager** is created to a supply smooth migration from _Instance Manager_ (deprecated) to _Service Manager_. To consume\n**Migration Manager**, both _Instance Manager_ and _Service Manager_ credentials have to be passed as input (as imOpts and smOpts).\n```js\nvar createInstanceManager = require('@sap/instance-manager').create;\n\nvar options = {\n  imOpts: { /* properties from service binding */},\n  smOpts: {/* properties from service binding */}\n};\ncreateInstanceManager(options, function (err, instanceManager) {\n  if (err) {\n    return console.log('Create migration manager error:', err.message);\n  }\n\n  var optionalParameters = {\n    /* Optional JSON object containing service-specific configuration parameters */\n    \"provisioning_parameters\": { \"<key>\" : \"<key>\" },\n  };\n  instanceManager.create('my-tenant', optionalParameters, function (err, instance) {\n    if (err) {\n      return console.log('Create error:', err.message);\n    }\n\n    // consume instance.credentials\n    console.log(instance);\n\n    instanceManager.get('my-tenant', function (err, instance) {\n      if (err) {\n        return console.log('Get error:', err.message);\n      }\n\n      // same instance\n      console.log(instance);\n\n      instanceManager.delete('my-tenant', function (err) {\n        if (err) {\n          return console.log('Delete error:', err.message);\n        }\n\n        console.log('Instance deleted');\n      });\n    });\n  });\n});\n```\n**Migration Manager** is applicable only for CF runtime, as _Service Manager_ is not available for XSA.\n\n## API\n\n```js\nvar createInstanceManager = require('@sap/instance-manager').create;\n\nvar options = { /* properties from service binding */ };\ncreateInstanceManager(options, function (err, migrationManager) {\n  if (err) {\n    return console.log('Create instance manager error:', err.message);\n  }\n\n  var optionalParameters = {\n    /* Optional JSON object containing service-specific configuration parameters */\n    \"provisioning_parameters\": { \"<key>\" : \"<key>\" }\n  };\n  migrationManager.create('my-tenant', optionalParameters, function (err, instance) {\n    if (err) {\n      return console.log('Create error:', err.message);\n    }\n\n    // consume instance.credentials\n    console.log(instance);\n\n    migrationManager.get('my-tenant', function (err, instance) {\n      if (err) {\n        return console.log('Get error:', err.message);\n      }\n\n      // same instance\n      console.log(instance);\n\n      migrationManager.delete('my-tenant', function (err) {\n        if (err) {\n          return console.log('Delete error:', err.message);\n        }\n\n        console.log('Instance deleted');\n      });\n    });\n  });\n});\n```\n\n### Options\n\n#### Instance Manager parameters\n\nThe following properties are provided in the credentials of the _Instance Manager_ service binding.\n\nProperty | Mandatory | Details\n-------- | --------- | -------\nuser | x | User for authentication.\npassword | x | Password for the user.\npost_managed_instance_url | x | REST endpoint used for creating a new service instance for a tenant.\nget_managed_instance_url | x | REST endpoint used for getting the details about a specific tenant service instance.\nget_all_managed_instances_url | x | REST endpoint used for getting the details about all instances (for all tenants).\ndelete_managed_instance_url | x | REST endpoint used for deletion of a service instance.\n\n**Note**: A _managed service_ binding contains all the mandatory properties mentioned above.\n\n#### Service Manager parameters\n\nProperty | Mandatory | Details\n-------- | --------- | -------\nsm_url | x | URL of _Service Manager_.\nurl | x | URL of _UAA_ server from which to fetch tokens which will be send to _Service Manager_.\nclientid | x | Used when retrieving a token.\nclientsecret (not required for mTLS) | x | Used when retrieving a token.\ncertificate (only for mTLS) | x | Used when retrieving a token.\ncerturl (only for mTLS) | x | Used when retrieving a token.\nservice |  | Defaults to 'hana'. Name of the service of which to manage instances.\nplan |  | Defaults to 'hdi-shared'. Name of a plan from the selected service of which to manage instances.\nallowBinding | | Defaults to 'true'. It allows binding to be created during get() and getAll(). To prevent creation, set to 'false'.\n\n**Note**: A _service-manager_ binding contains all the mandatory properties mentioned above. For non-mTLS authentication *clientsecret* is required, where *certificate* and *certurl* are required for mTLS authentication.\n\n#### Migration Manager parameters\n\nThe following properties are provided in the credentials of the **Migration Manager** service binding.\n\nProperty | Mandatory | Details\n---------| --------- | -------\n| **imOpts**         |\nuser | x | User for authentication.\npassword | x | Password for the user.\npost_managed_instance_url | x | REST endpoint used for creating a new service instance for a tenant.\nget_managed_instance_url | x | REST endpoint used for getting the details about a specific tenant service instance.\nget_all_managed_instances_url | x | REST endpoint used for getting the details about all instances (for all tenants).\nmigrate_managed_instance_url | x | REST endpoint used for getting the details about all instances (for a specific tenant).\ndelete_managed_instance_url | x | REST endpoint used for deletion of a service instance.\n| **smOpts**         |\nsm_url | x | URL of _Service Manager_.\nurl | x | URL of _UAA_ server from which to fetch tokens which will be send to _Service Manager_.\nclientid | x | Used when retrieving a token.\nclientsecret | x | Used when retrieving a token.\nservice |  | Defaults to 'hana'. Name of the service of which to manage instances.\nplan |  | Defaults to 'hdi-shared'. Name of a plan from the selected service of which to manage instances.\n\n**Note**: A _migration-manager_ binding contains all the mandatory properties mentioned above.\n\n#### Migration Manager parameters\n\nThe following properties are provided in the credentials of the **Migration Manager** service binding.\n\nProperty | Mandatory | Details\n---------| --------- | -------\n| **imOpts**         |\nuser | x | User for authentication.\npassword | x | Password for the user.\npost_managed_instance_url | x | REST endpoint used for creating a new service instance for a tenant.\nget_managed_instance_url | x | REST endpoint used for getting the details about a specific tenant service instance.\nget_all_managed_instances_url | x | REST endpoint used for getting the details about all instances (for all tenants).\nmigrate_managed_instance_url | x | REST endpoint used for getting the details about all instances (for a specific tenant).\ndelete_managed_instance_url | x | REST endpoint used for deletion of a service instance.\n| **smOpts**         |\nsm_url | x | URL of _Service Manager_.\nurl | x | URL of _UAA_ server from which to fetch tokens which will be send to _Service Manager_.\nclientid | x | Used when retrieving a token.\nclientsecret | x | Used when retrieving a token.\nservice |  | Defaults to 'hana'. Name of the service of which to manage instances.\nplan |  | Defaults to 'hdi-shared'. Name of a plan from the selected service of which to manage instances.\n\n**Note**: A _migration-manager_ binding contains all the mandatory properties mentioned above.\n\n#### Optional parameters\n\nThe create and delete operations are executed asynchronously on server side. To provide an easier interface,\nthis library also implements polling until an operation is finished. Developers can tune polling\nvia some optional properties.\n\nSince operations involve network activity (thus, can be considered relatively slow) the package\nalso caches the created instances. Cache options can also be provided by developers.\n\nProperty | Details\n-------- | -------\npolling_interval_millis | Defaults to 300 and gets increased by 500 for every next request. States how many milliseconds to wait between requests in the polling phase.\npolling_timeout_seconds | Defaults to 120. Sets a limit for time (in seconds) that can be spent in polling.\ncache_max_items | Defaults to 500. States the capacity of the cache.\ncache_item_expire_seconds | Defaults to 600 (10 minutes). Number of seconds after which a cache entry expires.\n\n**Note**: It is recommended to have a single instance manager JavaScript object per _managed service_ bound to the application. An exception is **Migration Manager** due to its specific setup, instances for both _instance and service manager_ gets created.\n\n**Note**: Due to details in regard to consuming _Service Manager_ (more communication with the service is required), applications currently using _Instance Manager_ may need to increase the value of the *polling_timeout_seconds* setting.\n\n### Methods\n- `create(tenant, optionalParameters, callback)` - creates a service instance for the provided tenant.\nThe method polls until the instance is successfully created and then invokes the callback.\nReports an error having a `statusCode` property with value of `409` if an instance for this tenant already exists.\n  - tenant | *String* | Tenant name.\n  - optionalParameters | *Object* | (*optional*) JSON object with parameters for provisioning or binding, as would be done with the -c options of the CLI commands `create-service` and `bind-service` for unmanaged services. E.g.\n  ```json\n  {\n    \"provisioning_parameters\": { \"database_id\" : \"<HANA Tenant DB Guid or Name>\" },\n    \"binding_parameters\": {\"<key>\" : \"<value>\"}\n  }\n  ```\n  - callback | *function(err, instance)* | Callback function with the newly created instance as second argument.\n\n**Note**: With _Service Manager_ and **Migration Manager** the properties provided on the managed instance are a subset (`label`, `plan`, `tags`, `credentials`, `tenant_id` and `status`) of the properties provided on it when using _Instance Manager_.\n\n- `get(tenant, bindingParams, callback)` - gets the corresponding instance for the provided tenant either from cache or from server. Includes a binding creation fallback if instance has no bindings.\nValue of `null` means that a service instance for this tenant does not exist.\n  - tenant | *String* | Tenant name.\n  - optionalParameters | *Object* | **Optional.**  JSON object with parameters for provisioning or binding, as would be done with the -c options of the CLI commands. Used during binding creation fallback.\n  - callback | *function(err, instance)* | Callback function with the instance as second argument.\n\n**Note**: In _Instance Manager_ case this method only polls if the instance is in status `CREATION_IN_PROGRESS`.\nIn all other cases it returns the service instance as it is on server.\nThus, having the `credentials` property on the `instance` object in the callback is not guaranteed.\nIn _Service Manager_ case if the managed instance is not ready to be used, the method returns an error. In **Migration Manager** case it will try to get an instance from _Service Manager_ if nothing found it will then search in _Instance Manager_ and it will return result considered by _Instance Manager_.\n\n- `getAll(optionalParameters, callback)` - gets the instances for all tenants as an array of objects. This method updates the cache. Includes binding creation fallback for each instance without binding. If binding creation fails it will log an error message and continue processing.\n  - optionalParameters | *Object* | **Optional.**  JSON object with parameters for provisioning or binding, as would be done with the -c options of the CLI commands. Used during binding creation fallback.\n  - callback | *function(err, instances)* | Callback function with all instances as second argument.\n\n**Note**: In _Instance Manager_ case filtering of the instances according to their status (e.g. `CREATION_SUCCEEDED`, `CREATION_IN_PROGRESS`) does not take place. Thus, having the `credentials` property on each of the instances provided in the callback is not guaranteed. In _Service Manager_ case only ready to be used managed instances are returned. In **Migration Manager** case it will get instances from both _Service Manager_ and _Instance Manager_ and will return an array of managed instances. If no instaces found and error would be thrown.\n\n- `delete(tenant, callback)` - deletes service instance for the provided tenant.\nThe method polls until the instance is successfully deleted and then invokes the callback.\nReports an error having a `statusCode` property with value of `404` if an instance for this tenant does not exist.\n  - tenant | *String* | Tenant name.\n  - callback | *function(err)* | Callback function called when the instance is deleted or an error has occurred.\n\nWhen the callback of a method is invoked with an error which is caused by an unexpected HTTP response code\nreceived from the server, then this error object will have a `statusCode` property with the value of the HTTP status code.\n\n**Note**: In **Migration Manager** case it will try to delete service instance for the provided tenant first in _Instance Manager_ then it will continue with _Service Manager_. In case nothing's found an error would be thrown, all other cases it would delete service instances.\n\n## Debug logs\n\nOne can enable debug logs of this package via adding _instance-manager_ to the `DEBUG` environment variable.\n\n\n## Binding Labels\n\n***Note: The @sap/instance-manager will only retrieve bindings that have all three of the below bindings. These labels are automatically assigned and added when creating bindings via this library.***\n\nLabel Name | Value\n-------- | ---------\ntenant_id | The tenant for which the binding is created.\nservice_plan_id | The ID of the 'hdi-shared' plan of the 'hana' service offering (by default).\nmanaging_client_lib | 'instance-manager-client-lib' - this value is used as an additional filter to distinguish instances created and used by this library, and those created by other means and used for other purposes.\n\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 4.3.0 - 2024-01-10\n\n### Updated\n- Updated *xssec* to 3.6.1\n\n## 4.2.0 - 2023-12-06\n\n### Updated\n- Updated *xssec* to 3.6.0\n\n## 4.1.0 - 2023-11-22\n\n### Updated\n- Updated xssec to 3.5.0\n- Updated node-fetch to 2.7.0\n\n### Added\n- Support for Node.js 20\n\n## 4.0.0 - 2023-08-01\n\n### Updated\n- Updated xssec to 3.3.2\n\n### Removed\n- Support for Node.js 10\n\n## 3.5.3 - 2023-01-10\n\n### Updated\n- Updated xssec to 3.2.15\n\n## 3.5.2 - 2022-12-08\n\n### Changed\n- SM and IM Errors optimization\n\n## 3.5.1 - 2022-12-02\n\n### Changed\n- Fixing Errors responses from Instance Manager\n\n## 3.5.0 - 2022-12-01\n\n### Changed\n- Fixing Errors responses from Service Manager\n\n## 3.4.0 - 2022-10-27\n\n### Added\n- Added caching for Service offering and Service plan\n- Support for Node.js v18.x\n\n## 3.3.6 - 2022-10-21\n\n### Changed\n- Polling_interval_millis is now increased by 500 milliseconds for every next request \n\n\n## 3.3.5 - 2022-10-10\n\n### Added\n- Added allowBinding options to Service Manager parameters\n\n## 3.3.4 - 2022-06-10\n\n### Updated\n- Updated devDep async to 3.2.4\n\n## 3.3.3 - 2022-05-17\n\n### Fixed\n- **Migration Manager.** Fixed typo in cache_item_expire_seconds.\n\n### Changed\n- Changed istanbul test framework with c8.\n\n## 3.3.2 - 2022-03-14\n\n### Fixed\n- **Service Manager.** Bindings will no longer attempt to be created for non-ready instances.\n\n## 3.3.1 - 2022-02-16\n\n### Updated\n- Updated xssec to v3.2.13\n\n## 3.3.0 - 2022-02-04\n\n### Added\n- Support for Node.js v16.x\n\n### Fixed\n- Updated debug package to v4.3.3\n\n## 3.2.1 - 2022-01-20\n\n### Added\n- **Service Manager.** Added token caching.\n\n### Updated\n- `node-fetch` version updated to v2.6.7.\n\n## 3.2.0 - 2022-01-12\n\n### Added\n- **Migration Manager.** Implement Migration Manager to help with transition from Instance to Service Manager on Cloud Foundry.\n\n### Fixed\n- **Service Manager.** Fixed Token retrieval max timeout.\n\n## 3.1.1 - 2022-01-04\n\n### Fixed\n- **Service Manager.** Fixed a bug where if binding creation (fallback) failed it will call callback twice.\n\n## 3.1.0 - 2021-12-13\n\n### Added\n- **Service Manager.** Support for mTLS authentication\n- **Service Manager.** Retrieving an instance will create a binding if no binding exists for that instance.\n- **Service Manager.** Creating a new instance will now also put the *tenant_id* as label.\n- **Service Manager.** Optional parameters supported for get and getAll to support fallback for mTLS.\n\n## 3.0.0 - 2021-05-05\n\n### Fixed\n- Replaced dependency request with node-fetch\n- Updated debug package to v4.2.0\n\n### Removed\n- Support for Node.js 6\n\n### Added\n- Support for Node.js 14\n\n## 2.2.0 - 2020-07-24\n\n### Added\n- Integration with Service Manager\n\n### Fixed\n- Update dependencies\n- Update license\n\n## 2.1.0 - 2019-12-10\n\n### Added\n- Support for Node.js v12.x\n\n## 2.0.0 - 2019-04-24\n\n### Removed\n- Support for Node.js v0.12\n- Support for Node.js v4\n\n## 1.4.0 - 2018-12-18\n\n### Added\n- Node.js version 10 support\n\n## 1.3.4 - 2018-08-14\n\n### Fixed\n- Update dependencies\n\n## 1.3.3 - 2018-07-17\n\n### Fixed\n- Update request package to v2.87.0\n\n## 1.3.2 - 2018-05-28\n\n### Fixed\n- Update request package to v2.86.0\n\n## 1.3.1 - 2018-04-05\n\n### Fixed\n- Update npm-shrinkwrap.json\n\n## 1.3.0 - 2018-01-19\n\n### Added\n- npm-shrinkwrap.json\n\n## 1.2.0 - 2017-10-13\n\n### Added\n- Support for Node.js 8\n- Optional argument to `instanceManager.create` - an object with parameters for provisioning or binding\n\n### Changed\n- Dependencies' versions\n\n## 1.1.0 - 2017-06-01\n\n### Added\n- `instanceManager.getAll` function\n\n## 1.0.1 - 2017-02-10\n\n### Fixed\n- Update dependencies\n\n## 1.0.0 - 2017-02-02\n\n### Added\n- Initial implementation\n","downloadsCurrentMonth":12122,"downloadsCurrentFortnight":5789,"downloads365":337028,"downloadsFortnightGrowth":-1.78,"downloadsHistory":[{"yearMonth":"2023-04","downloads":46273},{"yearMonth":"2023-05","downloads":46548},{"yearMonth":"2023-06","downloads":55302},{"yearMonth":"2023-07","downloads":32655},{"yearMonth":"2023-08","downloads":23310},{"yearMonth":"2023-09","downloads":22574},{"yearMonth":"2023-10","downloads":22565},{"yearMonth":"2023-11","downloads":21532},{"yearMonth":"2023-12","downloads":17126},{"yearMonth":"2024-01","downloads":15366},{"yearMonth":"2024-02","downloads":12394}],"versions":[{"version":"created","date":"2020-06-11T22:21:09.287Z"},{"version":"1.4.0","date":"2020-06-11T22:21:09.699Z"},{"version":"modified","date":"2024-01-10T11:55:44.932Z"},{"version":"1.2.0","date":"2020-06-11T22:21:15.994Z"},{"version":"1.3.2","date":"2020-06-11T22:21:21.999Z"},{"version":"1.0.0","date":"2020-06-11T22:21:28.528Z"},{"version":"1.3.0","date":"2020-06-11T22:21:34.738Z"},{"version":"1.3.4","date":"2020-06-11T22:21:40.885Z"},{"version":"1.0.1","date":"2020-06-11T22:21:47.303Z"},{"version":"2.1.0","date":"2020-06-11T22:21:53.169Z"},{"version":"1.3.3","date":"2020-06-11T22:21:59.237Z"},{"version":"1.3.1","date":"2020-06-11T22:22:07.221Z"},{"version":"2.0.0","date":"2020-06-11T22:22:13.387Z"},{"version":"1.1.0","date":"2020-06-11T22:22:19.485Z"},{"version":"2.2.0","date":"2020-07-24T19:09:48.410Z"},{"version":"3.0.0","date":"2021-05-05T12:54:47.222Z"},{"version":"3.1.0","date":"2021-12-14T08:35:56.037Z"},{"version":"3.2.0","date":"2022-01-13T08:11:34.144Z"},{"version":"3.2.1","date":"2022-01-21T14:46:39.625Z"},{"version":"3.3.0","date":"2022-02-07T12:45:13.791Z"},{"version":"3.3.1","date":"2022-03-01T10:03:38.790Z"},{"version":"3.3.2","date":"2022-03-14T15:03:41.524Z"},{"version":"3.3.3","date":"2022-05-17T13:27:01.143Z"},{"version":"3.3.4","date":"2022-06-10T13:48:26.336Z"},{"version":"3.3.5","date":"2022-10-11T07:55:17.166Z"},{"version":"3.3.6","date":"2022-10-21T10:50:54.938Z"},{"version":"3.4.0","date":"2022-10-31T14:08:44.719Z"},{"version":"3.5.1","date":"2022-12-05T09:19:41.594Z"},{"version":"3.5.2","date":"2022-12-12T12:08:01.635Z"},{"version":"3.5.3","date":"2023-01-10T12:11:59.379Z"},{"version":"4.0.0","date":"2023-08-04T06:59:06.683Z"},{"version":"4.1.0","date":"2023-11-22T09:29:13.073Z"},{"version":"4.2.0","date":"2023-12-06T11:35:29.560Z"},{"version":"4.3.0","date":"2024-01-10T11:55:44.743Z"}],"npmlink":"https://www.npmjs.com/package/@sap/instance-manager"},{"name":"iq-client","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-05-25T18:03:42.852Z","updatedAt":"2024-03-19T17:12:55.416Z","readme":"# @sap/iq-client\n\nFully-featured Node.js driver for [SAP HANA Cloud, Data Lake Relational Engine](https://www.sap.com/products/hana.html). It is used to connect, issue SQL queries, and obtain result sets.\n\n## Install\n\n```bash\nnpm install @sap/iq-client\n```\n\n## Prerequisites\n\nThe iq-client driver requires client libraries to be installed and available in the environment. To use HDLRE or IQ Client libraries, source IQ.sh or set the IQDIR17 environment variable to point to the path where the dbcapi library is located. To use SQL Anywhere libraries, source sa_config.sh or set the SQLANY17 environment variable to point to the path where the dbcapi library is located.\n\nThis driver communicates with the native HANA libraries, and thus requires platform-specific native binaries. The official hosted version includes precompiled libraries for Linux, Windows and Mac OS X.\n\nThe @sap/iq-client driver supports versions of Node.js 10 and higher.\n\n## Community\n\nSAP Community provides a forum where you can ask and answer questions, and\ncomment and vote on the questions of others and their answers.\n\nSee [SAP HANA Community Questions](https://answers.sap.com/tags/7efde293-f35d-4737-b40f-756b6a798216) for details.\n\n## Help Guide\n\nThe SAP HANA Cloud, Data Lake Relational Engine Node.js Driver help guide and API reference can be found on [help.sap.com](https://help.sap.com/docs/SAP_HANA_DATA_LAKE/a894a54d84f21015b142ffe773888f8c/e186e606a64b4aee95b98a6ee63e4531.html).\n\n## Getting Started\n\nA database connection object is created by calling createConnection. The connection to data lake Relational Engine is established by calling the connection object's connection method and passing an object or string representing connection parameters, for example:\n\n```js\nvar iq = require('@sap/iq-client');\n\nvar conn = iq.createConnection();\n\nvar connOptions = {host:'XXX-XXX.iq.hdl.us10.hanacloud.ondemand.com:443',uid:'XXXXXXX',pwd:'XXXXXXX',ENC:'TLS{tls_type=rsa;direct=yes}'};\n\nconn.connect(connOptions, function(err) {\n  if (err) throw err;\n  conn.exec('SELECT Name, Description FROM Products WHERE ID = ?', [301],\n            function (err, result) {\n    if (err) throw err;\n\n    console.log('Name: ', result[0].Name, ', Description: ',\n                result[0].Description);\n    // output --> Name: Tee Shirt, Description: V-neck\n    conn.disconnect();\n  })\n});\n```\n\n## Establish a database connection\n\n### Connecting\n\nA database connection object is created by specifying createConnection. The connection is established by calling the connection object's connect method and passing in an object or string representing connection parameters.\n\nThe following example shows a TCP/IP connection to data lake Relational Engine:\n\n#### Example: Connecting over TCP/IP\n\n```js\nconn.connect({\n  host: 'myserver',\n  port: '443',\n  uid: 'User1',\n  pwd: 'Password123',\n  ENC: 'TLS{tls_type=rsa;direct=yes}'\n});\n```\n\n### Disconnecting\n\nDisconnect from the database:\n\n```js\nconn.disconnect(function(err) {\n  if (err) throw err;\n  console.log('Disconnected');\n});\n```\n\n## Direct Statement Execution\n\nDirect statement execution is the simplest way to execute SQL statements. The input consists of the SQL command to be executed and an optional array of positional arguments. The result is returned by using callbacks. The type of returned result depends on the kind of statement.\n\n### DDL Statement\n\nIn the case of a successful DDL Statement, nothing is returned.\n\n```js\nconn.exec('CREATE TABLE Test (ID INTEGER PRIMARY KEY, msg VARCHAR(128))',\n  function (err, result) {\n  if (err) throw err;\n  console.log('Table Test created!');\n});\n```\n\n### DML Statement\n\nIn the case of a DML Statement the number of `affectedRows` is returned.\n\n```js\nconn.exec(\"INSERT INTO Test VALUES(1, 'Hello')\", function (err, affectedRows) {\n  if (err) throw err;\n  console.log('Number of affected rows:', affectedRows);\n});\n```\n\n### Query\n\nThe `exec` function is a convenient way to completely retrieve the result of a\nquery. In this case all selected rows are fetched and returned in the callback.\n\n```js\nconn.exec(\"SELECT * FROM Test WHERE ID < 5\", function (err, rows) {\n  if (err) throw err;\n  console.log('Rows:', rows);\n});\n```\n\nValues in the query can be substitued with JavaScript variables by using `?`\nplaceholders in the query, and passing an array of positional arguments.\n\n```js\nconn.exec(\"SELECT * FROM Test WHERE ID BETWEEN ? AND ?\", [5, 8],\n  function (err, rows) {\n  if (err) throw err;\n  console.log('Rows:', rows);\n});\n```\n\n## Prepared Statement Execution\n\nPrepared statements can be used for performance gain if the same statement is going to be executed many times. The following describes how to execute prepared statements and queries with the Node.js driver.\n\n### Prepare a Statement\n\nThe connection returns a `statement` object which can be executed multiple times.\n\n```js\nconn.prepare('SELECT * FROM Test WHERE ID = ?', function (err, stmt){\n  if (err) throw err;\n});\n```\n\n### Execute a Statement\n\nThe execution of a prepared statement is similar to the direct statement execution.\nThe first parameter of `exec` function is an array with positional parameters.\n\n```js\nstmt.exec([16], function(err, rows) {\n  if (err) throw err;\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Execute a Batch Statement\n\nThe execution of a prepared batch statement is similar to the direct statement execution.\nThe first parameter of `execBatch` function is an array with positional parameters.\n\n```js\nvar stmt=conn.prepare(\"INSERT INTO Customers(ID, NAME) VALUES(?, ?)\");\nstmt.execBatch([[1, 'Company 1'], [2, 'Company 2']], function(err, rows) {\n  if (err) throw err;\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Execute a Query\n\nThe execution of a prepared query is similar to direct statement execution. The first parameter of the execQuery function is an array with positional parameters.\n\n```js\nvar stmt=conn.prepare(\"SELECT * FROM Customers WHERE ID >= ? AND ID < ?\");\nstmt.execQuery([100, 200], function(err, rs) {\n  if (err) throw err;\n    var rows = [];\n    while (rs.next()) {\n\trows.push(rs.getValues());\n    }\n  console.log(\"Rows: \", rows);\n});\n```\n\n### Drop Statement\n\nThe below example drops a statement:\n\n```js\nstmt.drop(function(err) {\n  if (err) throw err;\n});\n```\n\n## Transaction Handling\n\nTransactions are automatically committed.\n\n### Commit a Transaction\n\nSetting auto commit to false implicitly starts a new transaction that must be explicitly committed.\n\n```js\nconn.setAutoCommit(false);\n// Execute some statements\nconn.commit(function(err) {\n  if (err) throw err;\n  console.log('Transaction commited.');\n});\n```\n\n### Roll back a transaction\n\nSetting auto commit to false implicitly starts a new transaction that must be explicitly rolled back.\n\n```js\nconn.setAutoCommit(false);\n\nconn.rollback(function(err) {\n  if (err) throw err;\n  console.log('Transaction rolled back.');\n});\n```\n\n## Resources\n\n+ [SAP HANA Cloud, Data Lake Documentation](https://help.sap.com/docs/SAP_HANA_DATA_LAKE/)\n\n## License\n\nThe SAP HANA Cloud, Data Lake Relational Engine Node.js Driver is provided via the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n\nBy using this software, you agree that the following text is incorporated into the terms of the Developer Agreement:\n\n> If you are an existing SAP customer for On Premise software, your use of this current software is also covered by the terms of your software license agreement with SAP, including the Use Rights, the current version of which can be found at: https://www.sap.com/about/agreements/product-use-and-support-terms.html?tag=agreements:product-use-support-terms/on-premise-software/software-use-rights","changelog":"# SQLA/IQ/DataLake Client 2.x Drivers\n\n## Version 2.19.21\n\n- Updated driver code to Client 2.19.21\n\n## Version 2.19.20\n\n- Updated driver code to Client 2.19.20\n\n## Version 2.19.18\n\n- Updated driver code to Client 2.19.18\n\n## Version 2.19.13\n\n- Updated driver code to Client 2.19.13\n\n## Version 2.18.27\n\n- Updated driver code to Client 2.18.27\n\n## Version 2.18.24\n\n- Updated driver code to Client 2.18.24\n\n## Version 2.18.22\n\n- Updated driver code to Client 2.18.22\n\n## Version 2.18.21\n\n- Updated driver code to Client 2.18.21\n\n## Version 2.18.18\n\n- Updated driver code to Client 2.18.18\n\n## Version 2.17.22\n\n- Updated driver code to Client 2.17.22\n\n## Version 2.17.21\n\n- Updated driver code to Client 2.17.21\n\n## Version 2.17.14\n\n- Updated driver code to Client 2.17.14\n\n## Version 2.16.26\n\n- Updated driver code to Client 2.16.26\n\n## Version 2.16.21\n\n- Updated driver code to Client 2.16.21\n\n## Version 2.16.19\n\n- Updated driver code to Client 2.16.19\n\n## Version 2.16.13\n\n- Updated driver code to Client 2.16.13\n\n## Version 2.15.17\n\n- Updated driver code to Client 2.15.17\n\n## Version 2.14.24\n\n- Updated driver code to Client 2.14.24\n\n## Version 2.14.22\n\n- Updated driver code to Client 2.14.22\n\n## Version 2.14.18\n\n- Updated driver code to Client 2.14.18\n\nPlease see the official documentation:\nhttps://help.sap.com/docs/SAP_HANA_DATA_LAKE/a894a54d84f21015b142ffe773888f8c/e186e606a64b4aee95b98a6ee63e4531.html?version=latest\n\n","downloadsCurrentMonth":478,"downloadsCurrentFortnight":268,"downloads365":2784,"downloadsFortnightGrowth":36.73,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":75},{"yearMonth":"2023-06","downloads":450},{"yearMonth":"2023-07","downloads":409},{"yearMonth":"2023-08","downloads":42},{"yearMonth":"2023-09","downloads":131},{"yearMonth":"2023-10","downloads":186},{"yearMonth":"2023-11","downloads":135},{"yearMonth":"2023-12","downloads":186},{"yearMonth":"2024-01","downloads":417},{"yearMonth":"2024-02","downloads":379}],"versions":[{"version":"created","date":"2023-05-25T18:03:42.852Z"},{"version":"2.16.26","date":"2023-05-25T18:03:43.293Z"},{"version":"modified","date":"2024-03-19T17:12:55.416Z"},{"version":"2.17.14","date":"2023-06-15T17:22:44.668Z"},{"version":"2.17.21","date":"2023-07-11T20:19:02.319Z"},{"version":"2.17.22","date":"2023-07-24T14:24:08.152Z"},{"version":"2.18.22","date":"2023-09-08T13:44:27.328Z"},{"version":"2.18.24","date":"2023-10-05T18:00:09.588Z"},{"version":"2.18.27","date":"2023-11-17T18:29:38.508Z"},{"version":"2.19.18","date":"2023-12-06T15:44:46.914Z"},{"version":"2.19.20","date":"2023-12-13T18:17:36.192Z"},{"version":"2.19.21","date":"2024-01-03T18:59:07.121Z"},{"version":"2.20.15","date":"2024-03-19T17:12:54.611Z"}],"npmlink":"https://www.npmjs.com/package/@sap/iq-client"},{"name":"jobs-client","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN developer-license-3.1.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:47:59.795Z","updatedAt":"2023-12-22T15:45:17.891Z","readme":"@sap/jobs-client\n================\n\nNode.js client for XS Advanced Job Scheduler service.\n\nThis is a small Node.js module to integrate jobs in your Node.js application.\nThe module contains utilities to create REST calls in the request format\nexpected by the job scheduler service to register/unregister jobs in\njob scheduler service, update job schedules and job status.\n\n## Usage\n\n### General\n\nThis module works with job descriptor objects, having the properties as\nexpected by the respective service in JobScheduler.\n\n### Constructor\n\nThe constructor instantiates a job scheduler client object.\n\nIf there is exactly one service binding to the job scheduler service,\nall necessary information is read from the binding information:\nif OAuth is configured, the client requests an access token from the\nbound identity provider; otherwise, user name and password are taken\nfrom the cloud environment.\n\nIn other cases, the constructor requires an options object that must\nat least contain the base URL of the job scheduler service and the\nnecessary authentication information, either an OAuth token or\nuser name and password.\n\nThe following properties can be set in the constructor options:\n\nname     | description\n----     | -----------\nbaseURL  | the base URL of the job scheduler service\ntimeout  | HTTP request timeout in milliseconds, default 15000\ntoken    | OAuth access token for the job scheduler service\nuser     | user name for the job scheduler service (if basic authentication is used)\npassword | password for the job scheduler service (if basic authentication is used)\n\n\nExample usage with bound job scheduler service:\n\n```js\n  const JobSchedulerClient = require('@sap/jobs-client');\n  const scheduler = new JobSchedulerClient.Scheduler();\n```\n\nExample usage with Basic Authentication:\n\n```js\n  const JobSchedulerClient = require('@sap/jobs-client');\n\n  const options = {\n    baseURL: 'https://apphost:port/',\n    user: '<username>',\n    password: '<password>'\n  };\n  const scheduler = new JobSchedulerClient.Scheduler(options);\n```\n\nExample usage with OAuth:\n\n```js\n  const JobSchedulerClient = require('@sap/jobs-client');\n\n  const options = {\n    baseURL: 'https://apphost:port/',\n    token: '<token>'\n  };\n  const scheduler = new JobSchedulerClient.Scheduler(options);\n```\n\n### Create job\n\n```js\n  var myJob = { /* according to job scheduler documentation */ };\n  var scJob = { job: myJob };\n\n  scheduler.createJob(scJob, function (error, body) {\n    if (error) {\n      return console.log('Error registering new job %s', error);\n    }\n    // job was created successfully\n    job.id = body._id;\n  });\n```\n\n### Update job\n\n```js\n  var req = {\n    jobId: 33,\n    job: {\n      user : 'John',\n      password : 'secret',\n      active : 1\n    }\n  };\n  scheduler.updateJob(req, function(err, result) {\n    if (err) {\n      return console.log('Error updating job: %s', err);\n    }\n    //job was updated successfully\n  });\n```\n\n### Delete job\n\n```js\n  var req = {\n    jobId: 33\n  };\n  scheduler.deleteJob(req, function(err, result) {\n    if (err) {\n      return console.log('Error deleting job: %s', err);\n    }\n    //job was deleted successfully\n  });\n```\n\n### Get job Details\n\n```js\n  var req = {\n    //by Id\n    jobId: 33\n  };\n  scheduler.fetchJob(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving job: %s', err);\n    }\n    //job details retrieved successfully\n  });\n  var req = {\n    //by name\n    name: 'my job'\n  };\n  scheduler.fetchJob(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving job: %s', err);\n    }\n    //job details retrieved successfully\n  });\n```\n\n### Create job schedule\n\n```js\n  var mySchedule = { /* according to job scheduler documentation */ }\n  var req = {\n    jobId: 33,\n    schedule: mySchedule\n  };\n  scheduler.createJobSchedule(req, function(err, result) {\n    if (err) {\n      return console.log('Error creating job schedule: %s', err);\n    }\n    //Schedule created successfully\n  });\n```\n\n### Update job schedule\n\n```js\n  var req = {\n    jobId: 33,\n    scheduleId: 'ABC-DEF',\n    schedule: {\n      cron: \"* * * * 4\"\n    }\n  };\n  scheduler.updateJobSchedule(req, function(err, result) {\n    if (err) {\n      return console.log('Error updating job schedule: %s', err);\n    }\n    //Schedule updated successfully\n  });\n```\n\n###Delete job schedule\n\n```js\n  var req = {\n    jobId: 33,\n    scheduleId: 'ABC-DEF'\n  };\n  scheduler.deleteJobSchedule(req, function(err, result) {\n    if (err) {\n      return console.log('Error deleting schedule: %s', err);\n    }\n    //Schedule deleted successfully\n  });\n```\n\n### Get all jobs\n\n```js\n  var req = {};\n  scheduler.fetchAllJobs(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving jobs: %s', err);\n    }\n    //Jobs retrieved successfully\n  });\n```\n\n### Get job schedule details\n\n```js\n  var req = {\n    jobId: 33,\n    scheduleId: 'ABC-DEF',\n    displayLogs: false\n  };\n  scheduler.fetchJobSchedule(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving schedule: %s', err);\n    }\n    //Schedule retrieved successfully\n  });\n```\n\n### Get schedules of job\n\n```js\n  var req = {\n    jobId: 33\n  };\n  scheduler.fetchJobSchedules(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving all schedules: %s', err);\n    }\n    //All schedules retrieved successfully\n  });\n```\n\n### Update run log of schedule\n\n```js\n  var req = {\n    jobId: 33,\n    scheduleId: 'ABC-DEF',\n    runId: 1,\n    data: data\n  };\n  scheduler.updateJobRunLog(req, function(err, result) {\n    if (err) {\n      return console.log('Error updating run log: %s', err);\n    }\n    //Run log updated successfully\n  });\n```\n\n### Get run logs of schedule\n\n```js\n  var req = {\n    jobId: 33,\n    scheduleId: 'ABC-DEF',\n    page_size: 15,\n    offset: 0\n  };\n  scheduler.getRunLogs(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving run logs: %s', err);\n    }\n    //Run log retrieved successfully\n  });\n```\n\n### Delete all schedules of job\n\n```js\n  var req = {\n    jobId: 3\n  };\n  scheduler.deleteAllJobSchedules(req, function(err, result) {\n    if (err) {\n      return console.log('Error deleting schedules: %s', err);\n    }\n    //All schedules deleted successfully\n  });\n```\n\n### Bulk activation of schedules of job\n\n```js\n  var req = {\n    jobId: 3\n  };\n  scheduler.activateAllSchedules(req, function(err, result) {\n    if (err) {\n      return console.log('Error activating bulk schedules: %s', err);\n    }\n    //All schedules activated successfully\n  });\n```\n\n### Bulk deactivation of schedules of job\n\n```js\n  var req = {\n    jobId: 3\n  };\n  scheduler.deactivateAllSchedules(req, function(err, result) {\n    if (err) {\n      return console.log('Error deactivating bulk schedules: %s', err);\n    }\n    //All schedules deactivated successfully\n  });\n```\n\n### Get action logs of job\n\n```js\n  var req = {\n    jobId: 3\n  };\n  scheduler.getJobActionLogs(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving action logs: %s', err);\n    }\n    //All actionlogs logs retrieved successfully\n  });\n```\n\n### Get action logs of schedule\n\n```js\n  var req = {\n    jobId: 3,\n    scheduleId: \"ABC-DEF\"\n  };\n  scheduler.getScheduleActionLogs(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving action logs: %s', err);\n    }\n    //All actionlogs logs retrieved successfully\n  });\n```\n\n### Get active and inactive jobcount\n\n```js\n  var req = {\n    activeStatus: true // true- for getting active number of jobs and false- for getting inactive number of jobs\n  };\n  scheduler.getJobCount(req, function(err, result) {\n    if (err) {\n      return console.log('Error retrieving jobcount: %s', err);\n    }\n    //Active Job count retrieved successfully\n  });\n```\n\n### Search API\n\nSearch can be done in both job and schedule entities.\nHere in the client 'q' contains the query parameter,\nyou need to provide the query in decoded format,\nthe client will decode the query.\nAnd filtering parameters can be provided as shown below:\n\n```js\nvar searchToken = {\n    q : 'job startTime:>2011-02-18 active:false',\n    displaySchedules : 'false',\n    offset : 0,\n    page_size : 5\n  };\n\n  scheduler.searchJobs(searchToken,function(error,result) {\n      if (error) {\n        return console.log('Error during Job search: %s',error);\n      }\n      console.log(JSON.stringify(result));\n  });\n  ```\n\n  For schedule search:\n\n  ```js\n  var searchScheduleToken = {\n    q : 'startTime:>2011-02-18 active:false',\n    offset : 0,\n    page_size : 5\n  };\n\n  scheduler.searchSchedules(searchScheduleToken,function(error,result) {\n      if (error) {\n        return console.log('Error during Schedule search %s',error);\n      }\n      console.log(JSON.stringify(result));\n  });\n  ```\n","changelog":"# Change Log\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 1.8.3 - 2023-12-22\n\n### Added\n\n- Dependency updates\n\n## 1.8.0 - 2023-12-01\n\n### Added\n\n- Node.js v20 support\n\n\n## 1.7.47 - 2023-05-03\n\n### Changed\n\n- Fixed shrinkwrap.json\n\n## 1.7.46 - 2023-04-14 [YANKED]\n\n### Changed\n\n- Support for node.js versions 14, 16, 18\n- Removed support for node.js version 12\n\n## 1.7.43 - 2023-01-13\n\n### Added\n\n- Dependency updates\n\n\n## 1.7.42 - 2022-10-10\n\n### Added\n\n- Dependency updates\n\n## 1.7.40 - 2022-08-25\n\n### Added\n\n- Dependency updates\n\n## 1.7.30 - 2022-05-11\n\n### Added\n\n- Resolve issue with request dependency\n\n## 1.7.20 - 2022-05-06\n\n### Added\n\n- Removed deprecated npm module request\n- Dependency updates\n\n## 1.7.0 - 2022-04-26\n\n### Added\n\n- Support for node.js versions 12, 14 and 16\n\n## 1.6.3 - 2021-10-19\n\n### Added\n\n- Support for token fetching via mTLS if certificates are present in the jobscheduler binding credentials\n- Dependency update\n\n## 1.6.1 - 2020-10-29\n\n### Added\n\n- Dependency upgrade: \"request\": \"2.88.2\"\n\n## 1.6.0 - 2020-10-22\n\n### Added\n\n- Support for Node 14\n- Dependency update\n\n## 1.5.3 - 2020-06-17\n\n### Added\n\n- license file: developer-license-3.1.txt\n\n## 1.5.2 - 2020-05-08\n\n### Added\n\n- Dependency update\n\n## 1.5.1 - 2020-02-13\n\n### Fixed\n\n- Missing changelog\n\n## 1.5.0 - 2020-02-10\n\n### Added\n\n- Support for node 10 and node 12\n\n## 1.4.1 - 2019-12-10\n\n### Fixed\n\n- Integrate npm-shrinkwrap.json file without integrity checksums.\n\n## 1.4.0 - 2019-11-19\n\n### Added\n\n- Fetch OAuth token from XSUAA or username/password from environment if not passed in constructor.\n- Retrieve baseURL from environment if not passed in constructor.\n\n## 1.3.6 - 2018-12-11\n\n### Added\n\n- Added optional query parameters for fetchAllJobs method.\n- Added multitenancy support\n\n## 1.3.4 - 2018-08-14\n\n### Fixed\n\n- Update request package to v2.88.0\n\n## 1.3.3 - 2018-08-08\n\n### Fixed\n\n- Update request package to v2.87.0\n\n## 1.3.2 - 2018-05-18\n\n### Fixed\n\n- Update request package to v2.86.0\n\n## 1.3.1 - 2018-04-05\n\n### Fixed\n\n- Update npm-shrikwrap.json\n\n## 1.3.0 - 2018-01-19\n\n### Added\n\n- npm-shrikwrap.json\n\n### Fixed\n\n- Update _request_ to 2.83.0\n\n## 1.2.0 - 2017-11-16\n\n### Added\n\n- Node.js 8 support\n- Improvements in the input validation messages\n- Support for `page_size` and `offset` parameters in `getRunLogs`\n\n## 1.1.1 - 2017-05-30\n\n### Fixed\n\n- Dependencies updates\n\n## 1.1.0 - 2017-03-30\n\n### Added\n\n- Delete Job\n- Bulk schedule activation/deactivation\n- Get active/inactive job count\n- Get job/schedule action logs\n- Bulk schedule deletion\n- Fetch all jobs\n- Search API\n","downloadsCurrentMonth":14171,"downloadsCurrentFortnight":6594,"downloads365":205642,"downloadsFortnightGrowth":-4.59,"downloadsHistory":[{"yearMonth":"2023-04","downloads":12917},{"yearMonth":"2023-05","downloads":21582},{"yearMonth":"2023-06","downloads":37797},{"yearMonth":"2023-07","downloads":21997},{"yearMonth":"2023-08","downloads":15923},{"yearMonth":"2023-09","downloads":14270},{"yearMonth":"2023-10","downloads":16322},{"yearMonth":"2023-11","downloads":12281},{"yearMonth":"2023-12","downloads":12632},{"yearMonth":"2024-01","downloads":13150},{"yearMonth":"2024-02","downloads":12959}],"versions":[{"version":"created","date":"2020-06-11T19:47:59.795Z"},{"version":"1.1.1","date":"2020-06-11T19:48:00.186Z"},{"version":"modified","date":"2023-12-22T15:45:17.891Z"},{"version":"1.2.0","date":"2020-06-11T19:48:06.776Z"},{"version":"1.3.2","date":"2020-06-11T19:48:12.661Z"},{"version":"1.3.0","date":"2020-06-11T19:48:19.004Z"},{"version":"1.3.4","date":"2020-06-11T19:48:24.950Z"},{"version":"1.4.0","date":"2020-06-11T19:48:31.277Z"},{"version":"1.3.6","date":"2020-06-11T19:48:37.898Z"},{"version":"1.5.1","date":"2020-06-11T19:48:45.513Z"},{"version":"1.3.1","date":"2020-06-11T19:48:53.139Z"},{"version":"1.4.1","date":"2020-06-11T19:49:00.977Z"},{"version":"1.0.14","date":"2020-06-11T19:49:08.231Z"},{"version":"1.1.0","date":"2020-06-11T19:49:14.698Z"},{"version":"1.5.3","date":"2020-06-22T13:02:39.225Z"},{"version":"1.6.1","date":"2020-11-10T15:14:56.093Z"},{"version":"1.6.3","date":"2021-10-19T13:22:08.597Z"},{"version":"1.7.0","date":"2022-05-02T13:44:00.438Z"},{"version":"1.7.20","date":"2022-05-06T08:31:09.549Z"},{"version":"1.7.30","date":"2022-05-11T09:23:35.466Z"},{"version":"1.7.40","date":"2022-09-14T16:57:19.893Z"},{"version":"1.7.42","date":"2022-10-10T08:59:00.288Z"},{"version":"1.7.43","date":"2023-01-17T15:28:33.802Z"},{"version":"1.7.46","date":"2023-04-20T18:19:20.845Z"},{"version":"1.7.47","date":"2023-05-03T15:59:44.909Z"},{"version":"1.8.1","date":"2023-12-07T08:46:13.280Z"},{"version":"1.8.3","date":"2023-12-22T15:45:17.686Z"}],"npmlink":"https://www.npmjs.com/package/@sap/jobs-client"},{"name":"logging","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:37:45.353Z","updatedAt":"2024-03-05T11:08:38.105Z","readme":"@sap/logging\n===========\n\nA package that provides logging and tracing functionalities for Node.js applications.\n\n<!-- toc -->\n\n- [Example](#example)\n- [Logging & Tracing](#logging--tracing)\n- [Categories & Locations](#categories--locations)\n- [Location values](#location-values)\n- [Wildcard support](#wildcard-support)\n- [Formats](#formats)\n- [Severity Levels](#severity-levels)\n- [*XS_APP_LOG_LEVEL* environment variable](#xs_app_log_level-environment-variable)\n- [Changing severity levels for an application](#changing-severity-levels-for-an-application)\n  * [XS Advanced](#xs-advanced)\n  * [Cloud Foundry](#cloud-foundry)\n- [Logging sensitive data](#logging-sensitive-data)\n- [API](#api)\n  * [Application context](#application-context)\n  * [Log context](#log-context)\n  * [Log context id](#log-context-id)\n  * [Middleware](#middleware)\n  * [Loggers](#loggers)\n  * [Tracers](#tracers)\n  * [Custom fields (in CF)](#custom-fields)\n  * [Convenient tracing methods](#convenient-tracing-methods)\n  * [Other](#other)\n- [Migration guide](#migration-guide)\n\n<!-- tocstop -->\n\n### Example\n\nFollowing is an example of how to consume the package using [express](https://www.npmjs.com/package/express):\n\n```js\nvar logging = require('@sap/logging');\nvar express = require('express');\n\nvar app = express();\n\nvar appContext = logging.createAppContext();\n\napp.use(logging.middleware({ appContext: appContext, logNetwork: true }));\n\napp.get('/demo', function (req, res) {\n  var logger = req.loggingContext.getLogger('/Application/Network');\n  var tracer = req.loggingContext.getTracer(__filename);\n\n  logger.info('Retrieving demo greeting ...');\n  tracer.info('Processing GET request to /demo');\n\n  res.send('Hello World!');\n});\n\napp.listen(3000, function() {\n  console.log('Server started');\n});\n```\n\nIn general, you just need to:\n- Initialize the logging library with some application-wide options.\n- Use the provided middleware that will extract request specific information.\nIt is recommended that this middleware is the first one to be called in order to have the logging context available as early as possible.\nIt is also recommended to have the middleware that sets the user of the request (if the application intends to log the current user)\nright after the one provided by this library.\n- Instantiate a logger and a tracer via the _loggingContext_ property of the request.\n- Log and trace whatever you need.\n\nSee more details below.\n\n### Logging & Tracing\n\nLogs are addressed to an administrator of an application. Traces - to a developer or support staff.\n- Events that need to be logged are related to how the app operates - e.g. the app cannot display some results taken from a remote HTTP service because the remote server is down.\nAn administrator of an app does not need to know how it is implemented, he/she should just be able to determine the state of the app itself.\n- Traces are mainly used when a problem has occurred and further investigation on code level has to take place.\n\nThe logging library writes log entries to standard output and trace entries - to standard error.\n\n### Categories & Locations\n\n- Categories - represent a feature area in an application. For example, different layers - Network layer, Database layer etc.\nThe concept of categories is used in logging.\n- Locations - represent a location in the source code - e.g. a path to a file. Used in the context of tracing. Getting a tracer object requires explicitly providing a location. It is recommended to pass as argument the location of the current script - `__filename`.\n\n### Location values\n\nThe path to the application root is removed from the source file paths in the trace output to reduce duplication.\nThe application root directory is taken from the _HOME_ environment variable. If it is not defined, absolute file paths are used in the trace output.\nExample:\n\nLet's assume the structure of your application looks like the following:\n\n<pre>\n+-- demo-app\n|   +-- package.json\n|   +-- lib\n|   |   +-- index.js\n|   |   +-- services\n|   |   |   +-- customer-service.js\n|   |   |   +-- sales-service.js\n</pre>\n\nHere is how the location of a script (path to a file) will look like in the trace entries (having in mind `__filename` has been passed as location to the tracer):\n\n| Script | _HOME_ environment variable is set  | _HOME_ environment variable is not set |\n| ------ | ----------------------------------- | -------------------------------------- |\n| index.js | /lib/index.js | /path/from/root/demo-app/lib/index.js |\n| customer-service.js | /lib/services/customer-service.js | /path/from/root/demo-app/lib/services/customer-service.js |\n\nThe same applies to Windows systems as well.\n\n**Note**: The path separator in the trace entries is always a forward slash, no matter the platform.\n\n### Wildcard support\n\nThe asterisk (*) is the only wildcard character supported by the library.\nIt corresponds to zero or more characters (no matter what they are).\nLet's illustrate the wildcard usage using the example application structure from the\nprevious section,\nassuming the _HOME_ environment variable is set to the root of the application (as it would be on XS Advanced or Cloud Foundry):\n\n| Pattern | Result |\n| ------- | ------ |\n| /Application/Network | Match a certain Category |\n| /Application/Network/* | Match all subcategories |\n| /lib/services/users-service.js | Match a specific file |\n| /lib/services/* | Match all files in all subdirectories of _services_ |\n\n### Formats\n\n- [ListLog](http://help.sap.com/saphelp_nw73ehp1/helpdata/en/53/82dae7c2f5439a8afd1b0ee95c2e45/content.htm) format is used for logs in XS Advanced and during local development\n- [Trace](http://help.sap.com/saphelp_nw74/helpdata/en/48/4f3966e39472d2e10000000a42189c/content.htm) format is used for traces in XS Advanced and during local development\n- [CF Log](https://github.com/SAP/cf-java-logging-support/blob/master/cf-java-logging-support-core/beats/request-metrics/docs/fields.asciidoc) format is used for logs and traces in Cloud Foundry\n\n**Note**: Instead of thread-name (in ListLog and Trace formats), a context id is used. This is an identifier that helps to distinguish which entries are logged/traced because of which requests/events.\nMore info on that is available in [this section](#log-context-id).\n\n### Severity Levels\n\nThe following table shows which severity levels are available for loggers and tracers:\n\n| Logging | Tracing |\n| ------- | ------- |\n|         | debug   |\n|         | path    |\n| info    | info    |\n| warning | warning |\n| error   | error   |\n| fatal   | fatal   |\n\nHere you can find when to use which level:\n\n| Level   | When to use |\n| -----   | ----------- |\n| debug   | Used to output the internal status of a program. |\n| path    | Used to analyze the execution flow of a program. |\n| info    | Used for events that do not need any follow up activity. They show the normal operations within an app. |\n| warning | Used for events that need follow up activity in order to prevent errors in the future. |\n| error   | Used when the desired tasks cannot be completed and the application is still usable. |\n| fatal   | Used in case of errors, because of which the application is no longer usable. |\n\nThe default severity level for loggers is _info_ and the default one for tracers is _error_.\n\n### *XS_APP_LOG_LEVEL* environment variable\n\nThe `XS_APP_LOG_LEVEL` environment variable can be used to configure severity levels for logging and tracing.\nValid values are severity levels from `debug` to `fatal`. The level specified in this environment variable\nwill be used instead of all already set levels.\n`none` is also a valid value for `XS_APP_LOG_LEVEL`. In that case all logging and tracing is disabled (useful for automated tests).\nThe library throws an error if the value of `XS_APP_LOG_LEVEL` is not a valid severity level or `none`.\n\n### Changing severity levels for an application\n\n#### XS Advanced\n\nYou can enable debug logs and traces for an application deployed on XS Advanced via the command:\n\n```sh\nxs set-logging-level <application-name> \"*\" debug\n```\n\nThis can be reverted via the command:\n\n```sh\nxs unset-logging-level <application-name> \"*\"\n```\n\nRestart of the application is not required for those commands to take effect.\n\nThe example above shows how to enable _debug_ level for all loggers and tracers.\nIt is possible to use the command for setting levels for a single category or location\n(e.g. `xs set-logging-level <application-name> \"/index.js\" debug`),\nor multiple by using the asterisk wildcard (e.g. `xs set-logging-level <application-name> \"/Application/Network/*\" debug`).\nThe comparison with the actual category/location of a logger/tracer is executed in a case insensitive manner.\n\n#### Cloud Foundry\n\nYou can enable debug logs and traces for an application deployed on Cloud Foundry via setting the environment variable `XS_APP_LOG_LEVEL`:\n\n```sh\ncf set-env <application-name> XS_APP_LOG_LEVEL debug\n```\n\nThis can be reverted via the command:\n\n```sh\ncf unset-env <application-name> XS_APP_LOG_LEVEL\n```\n\n**Note**: Application restart is required after each of the commands above in order the changes to the environment to take effect.\n\n### Logging sensitive data\n\nLogging sensitive data is not enabled by default. The following table shows which environment variable enables (when set to `true`) which fields and for which formats:\n\n| Environment Variable     | Field   | Taken from               | Format           |\n| ------------------------ | ------- | -----------------------  | ---------------  |\n| `XS_LOG_USER`            | user/remote_user    | `req.user.id` property   | ListLog, CF Log  |\n| `XS_LOG_REFERER`         | referer | `referer` request header | CF Log           |\n| `XS_LOG_CONNECTION_DATA` | remote_ip, remote_host, remote_port, x_forwarded_for | `req.connection.remoteAddress` property, `req.connection.remotePort` property, `x-forwarded-for` header | CF Log           |\n\n### API\n\nTo consume the logging package, an [application context](#application-context) needs to be created.\nIt contains information that is valid for the whole application.\nNext a [log context](#log-context) needs to be created.\nIt contains information that is valid for the current context.\nA separate log context should be created for each new event (HTTP request received, job execution started, message from messaging service received).\nBecause of the asynchronous nature of Node.js, entries produced during the processing of different events can be mixed.\nAll entries contain information specific to the log context they are associated with,\nwhich helps to distinguish between entries produced during the processing of different events.\n[Loggers](#loggers) and [tracers](#tracers) are obtained from the log context.\n\n\n#### Application context\n\n```js\nvar logging = require('@sap/logging');\n\nvar appContext = logging.createAppContext({\n  // options\n});\n```\n\nTo create the application context, pass some application-wide options.\nHere is a list of the properties you may optionally pass:\n\n| Property      | Description |\n| ------------- | ----------- |\n| csnComponent  | *String* Only applicable to SAP applications. |\n\nYou may use the application context to change severity levels (with [wildcards](#wildcard-support) for flexibility):\n```js\nappContext.setLevel('/Application/*', 'warning'); // for a logger\nappContext.setLevel(pathToFile, 'debug'); // for a tracer\n```\n\nThe method throws an error in case of an incorrect level.\n\nSeverity levels can be unset with:\n```js\nappContext.unsetLevel('/Application/*'); // for a logger\nappContext.unsetLevel(pathToFile); // for a tracer\n```\n\nTo set custom fields, you could do:\n```js\nappContext.setCustomFields([\"abc\"]);\n```\n\n\n#### Log context\n\n```js\nappContext.createLogContext({\n  // options\n});\n```\n\nA log context needs to be created in order to obtain a logger or a tracer.\n\nHere is a list of the options that can be provided to the log context (all are optional):\n\n| Option        | Description |\n| ------------- | ----------- |\n| id            | *String* Included in all logs and traces, should be unique. Used to distinguish entries from different log contexts. Defaults to an auto-generated value. If `req` is provided, the value is taken from the request headers `x-request-id` and `x-vcap-request-id` if present. It is recommended to explicitly pass an empty string for log contexts used during application startup. If `req` is present, then this id can be thought of as a request id, because all log/trace entries for that request will have the same id. See [this section](#log-context-id) for more information. |\n| correlationId | *String* Used to correlate entries for a logical transaction which involves processing within different applications. If the value is not set explicitly, then it is taken from the `x-correlationid` header (if `req` is provided and the header is present) or from the `id` of the log context. |\n| req           | *Object* Represents an HTTP request. |\n\nThe log context exposes the following functions:\n\n| Function        | Description |\n| --------------- | ----------- |\n| getAppContext   | AppConext object associated with this log context |\n\n\nThe log context exposes the following read-only properties:\n\n| Property      | Description |\n| ------------- | ----------- |\n| id            | The id of the log context. |\n| correlationId | The correlation id of the log context. This property is useful when the value needs to be sent to another application. |\n\nLoggers and tracers can be obtained from the log context as follows:\n\n```js\nlet logger = logContext.getLogger('/Application/Network');\nlet tracer = logContext.getTracer(__filename);\n```\n\nIt is possible to log request metrics for an HTTP request using the `enableNetworkLog` method:\n\n```js\nlogContext.enableNetworkLog(res);\n```\n\nIt takes a response object as argument.\nA `req` object needs to be passed in advance as option when creating the log context.\nThis method registers a handler for the `finish` event of the HTTP response.\nAn entry (of `info` severity level), containing request metrics will be logged when the event is emitted.\n`enableNetworkLog` should be called once for a request-response pair:\n\n```js\nhttp.createServer(function (req, res) {\n  var reqContext = appContext.createLogContext({ req: req });\n  reqContext.enableNetworkLog(res);\n\n  res.end('Hello World');\n});\n```\n\nThe log entry uses category `/LoggingLibrary/NetworkLog`.\nIt can be used to turn off the network log at runtime with [xs set-logging-level](#xs-advanced) or with [appContext.setLevel](#application-context).\n\n#### Log context id\n\nLet's take HTTP requests as an example: Because of the single-threaded nature and the event loop mechanism in Node.js, you may:\n- receive a request\n- start some async I/O operation\n- in the meantime start processing another request before returning a response to the first one\n\nThis means that the log entries for the two requests will be mixed a bit. To overcome this issue, each request (and the corresponding log context) is\nassociated with a unique id which is present in the logs and traces for that request.\nIn that way one can distinguish between the logs from the first request and the logs from the second request.\n\nThe same concept applies to messages received from a messaging service and to job runs triggered according to a schedule.\n\n#### Middleware\n\nThere is a utility middleware that can be used (see [this example](#example)).\nIt automatically attaches a property named _\"loggingContext\"_ to the request object.\nIt accepts an object with properties:\n\n| Property      | Description |\n| ------------- | ----------- |\n| appContext    | *Mandatory* An application context object. |\n| logNetwork    | *Optional* Defaults to `false`, boolean specifying whether an entry containing request metrics will be logged for every finished HTTP request. |\n\nThe middleware sets the _x-request-id_ response header to the context id for the current request,\nso in case of any troubles you may see the value in the response header and then filter the logs to see what the entries for that request are.\n\n#### Loggers\n\nYou may create a logger in the following way:\n\n```js\nvar logger = req.loggingContext.getLogger('/Application/Network');\n```\n\nThe log context has got the _\"getLogger\"_ function that takes 1 string argument - the category. Categories are names of functional areas in an application.\nWe recommend your categories to always begin with _\"/Application\"_. The categories form a hierarchy with forward slash as a separator. Using back slashes in categories is not allowed.\n\nYou may always get the severity level (a string) of a logger with such code:\n```js\nvar level = logger.getLevel();\n```\n\nIt is also possible to check whether an entry with a specific severity level will be logged with the current level configuration:\n\n```js\nvar willItBeLogged = logger.isEnabled('info');\n```\n\nLogging entries:\n\n```js\nlogger.info('Successful login of user %s - ', user, new Date());\nlogger.warning('Job could not finish successfully. An app admin should retrigger it.');\nlogger.error(new Error('Uups, an error has occurred'));\nlogger.fatal('We are in trouble');\n```\n\nYou may use the same string interpolation mechanism as with [util.format](https://nodejs.org/api/util.html#util_util_format_format_args)\n\nLogging errors:\n```js\nfunction callback(err, result) {\n  if (err) {\n    logger.error(err, 'Error during operation X');\n  }\n  // ...\n}\n```\nIf the first argument is an error, its message is appended to the log message.\nAlso, the error stack is written to the trace.\nThis works for all severity levels and also with tracers.\n\n#### Tracers\n\nAll you need to do to obtain a tracer instance is:\n\n```js\nvar tracer = req.loggingContext.getTracer(__filename);\n```\n\nMethods regarding level getting and checking are provided (similarly to loggers):\n\n```js\nvar level = tracer.getLevel();\nvar willItBeTraced = tracer.isEnabled('path');\n// etc.\n```\n\n#### Custom Fields\n\n##### Note: This feature is available in Cloud Foundry and not in XS Advanced.\n\nIf you want to use custom fields, you need to set them to the application context. The expected format is a string based array:\n\n```js\n      appContext.setCustomFields([\"custom1\", \"custom2\"]);\n```\n\nWhen logging, if the last argument is an object with a custom field, the custom field will be included in the log output as a custom field and not as part of the message:\n\n```js\napp.get('/', function (req, res) {\n  logger.info('Let me say hi ...' ,{\n    \"abc\": \"data\"\n  });\n  // ... \"custom_fields\": {\"abc\": \"data\"} ...\n```\n\n\n#### Convenient tracing methods\n\n**Note**: The first argument to all of these methods should be a string with the name of the function in which entries are being traced.\n\nThere are several methods that the API provides for convenience (they use severity level _path_):\n- entering - used to record that a function has been entered in the program flow. You may pass all of the arguments of your function to the _entering_ function and they will be traced.\n- exiting - typically used in pair with the _entering_ method. You may pass the return value of your function to the _exiting_ function.\n\n```js\nfunction myFunction(tracer, a, b ,c) {\n  tracer.entering('myFunction', a, b, c);\n\n  var result = // some logic here ...\n\n  tracer.exiting('myFunction', result);\n  return result;\n}\n```\n\n- throwing - used when you would like to trace when the code is about to throw an error. You may pass the error that is about to be thrown as an argument.\n- catching - used in catch blocks. You may pass the caught error as an argument.\n\n```js\nfunction func1(tracer) {\n  var error = new Error('An error has occurred');\n  tracer.throwing('func1', error);\n  throw err;\n}\n\nfunction func2(tracer) {\n  try {\n    func1(tracer);\n  } catch (err) {\n    tracer.catching('func2', err);\n    // logic for processing the error\n  }\n}\n```\n\n#### Other\n\nThe library supports SAP Passports. When a log context is created with a request object that has the `sap-passport` header,\nthe unique identifiers of the received SAP Passport will be part of the log entries for ListLog format.\n\n### Migration guide\n\nGuide on how to adopt new major versions of the library can be found [here](./migration.md).\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 8.0.0 - 2024-02-29\n\n### Removed\n- Node.js 12.x, 14.x and 16.x support and tests\n\n## 7.1.0 - 2023-11-20\n\n### Added\n- Node.js 20.x support and tests\n\n## 7.0.0 - 2023-10-11\n\n### Removed\n- Node.js 10.x support and tests\n\n## 6.2.0 - 2023-01-30\n\n### Added\n- Node.js 18.x support.\n\n## 6.1.3 - 2022-07-08\n\n### Updated\n- Updated moment to 2.29.4\n\n## 6.1.2 - 2022-06-10\n\n### Updated\n- Updated devDep async to 3.2.4\n\n## 6.1.1 - 2022-04-08\n\n### Updated\n- Update moment to version 2.29.2\n\n### Removed\n- Node.js 8.x support\n\n### Changed\n- Changed istanbul test framework with c8\n\n## 6.1.0 - 2022-01-24\n\n### Added\n- Node.js 16.x support.\n\n### Fixed\n- Update *@sap/e2e-trace* dependency to v3.1.0\n\n\n## 6.0.3 - 2021-02-22\n\n### Fixed\n- Update _lodash_ to v4.17.21\n- Update _moment_ to v2.29.1\n\n## 6.0.2 - 2020-12-15\n\n### Fixed\n- Fixed the custom field logging format on the Cloud Foundry platform\n\n## 6.0.1 - 2020-12-08\n\n### Fixed\n- Update *@sap/e2e-trace* dependency to v3.0.0\n- Added null/undefined check to `_containsCustomField` in `lib/contexts/AppContext.js`\n\n## 6.0.0 - 2020-11-11\n\n### Added\n- Node.js 14.x support.\n\n### Removed\n- Node.js 6.x support\n\n### Fixed\n- Update _lodash_ to v4.17.20\n- Update _moment_ to 2.29.0\n\n## 5.3.1 - 2020-07-28\n\n### Fixed\n- Update *lodash* dependency to v4.17.19.\n\n## 5.3.0 - 2020-04-14\n\n### Added\n- Support for custom fields on Cloud Foundry platform\n\n## 5.2.0 - 2020-01-08\n\n### Added\n- Added `organization_id` and `organization_name` to the log output\n\n## 5.1.0 - 2019-12-02\n\n### Added\n- Node.js 12.x support.\n\n## 5.0.2 - 2019-07-10\n\n### Fixed\n- Update *lodash* dependency to v4.17.13.\n\n## 5.0.1 - 2019-05-13\n\n### Fixed\n- Update *@sap/e2e-trace* dependency to v2.0.0.\n\n## 5.0.0 - 2019-05-02\n\n### Removed\n- Node.js v4 support\n\n## 4.1.0 - 2019-01-16\n\n### Added\n- Support for Node.js 10\n\n## 4.0.2 - 2018-09-16\n\n### Fixed\n- Update *lodash* dependency to v4.17.11.\n\n## 4.0.1 - 2018-09-04\n\n### Fixed\n- `logContext.id` is used as a fallback value for correlation id if no other value is available.\n\n## 4.0.0 - 2018-08-20\n\n### Removed\n- Support for writing entries to files (the `logLocation` and `traceLocation` options are no longer taken into account).\n- The `STORAGE` property exposed by the library.\n- Node 0.12 support.\n- Coloring when writing to console.\n- `ApplicationContext.prototype.createRequestContext`.\n\n### Changed\n- The exposed middleware can be consumed via the `middleware` property instead of `expressMiddleware`.\n- Back slashes cannot be used in category names.\n- middleware does not take an application context, but an object with an `appContext` property\nand optionally - a `logNetwork` property.\n- _x-correlationid_ header is no longer taken into account when resolving request id.\n- An error is thrown if the level set through the `XS_APP_LOG_LEVEL` environment variable is not valid.\n\n### Added\n- Performance improvements.\n- Support for CF Log format.\n- Possibility to explicitly set correlation id via JavaScript API.\n- Correlation id (if present) will be set to ListLog entries as well.\n- `AppContext.prototype.createLogContext`.\n- `LogContext.prototype.enableNetworkLog`.\n\n## 3.4.0 - 2018-04-26\n\n### Added\n- Possibility to enable logging of the current user via the `XS_LOG_USER` environment variable.\nFrom this version onwards the user is not being logged by default.\n\n## 3.3.2 - 2018-04-05\n\n### Fixed\n- Update dependencies.\n- Unsetting tracer locations.\n- `tracer.exiting` when the argument for the return value of the function is falsy.\n\n## 3.3.1 - 2018-02-05\n\n### Fixed\n - Replace new lines in traces when running on XS Advanced.\n - Replace new lines in logs when running on XS Advanced.\n\n## 3.3.0 - 2018-01-19\n\n### Added\n- npm-shrinkwrap.json\n\n## 3.2.1 - 2017-12-01\n\n### Fixed\n- Update momentjs to 2.19.3\n\n## 3.2.0 - 2017-11-23\n\n### Added\n- The request id can be taken from the request headers 'x-request-id', 'x-correlationid', 'x-vcap-request-id' (if available).\n- The request id is exposed through the `requestId` property of the request context.\n- Improvements to the documentation.\n\n### Fixed\n- Handling of tracer locations.\n- Process does not exit even if there is no other activity keeping the event loop running.\n\n## 3.1.0 - 2017-08-14\n\n### Added\n- Support for Node.js v8.\n- Performance improvements in tracing.\n\n## 3.0.0 - 2017-04-12\n\n### Changed\n- Automatic location tracking for tracers has been removed due to severe performance impact. This affects application code as follows:\n  * A location (path to a file) needs to be explicitly passed to the `getTracer` functions as first argument. Passing `__filename` as a location is recommended.\n  * A tracer is no longer associated with the script it is currently being used in, but with the location provided for its instantiation.\n  * A function name (a string) should be passed as a first argument to the `entering`, `exiting`, `throwing` and `catching` methods of tracers.\n\n## 2.2.0 - 2017-02-07\n\n### Fixed\n- support for the 'xs unset-logging-level' command\n\n### Added\n- 'unsetLevel' method on application level contexts\n\n## 2.1.2 - 2017-01-24\n\n### Fixed\n- Minor improvements\n\n## 2.1.1 - 2017-01-24\n\n### Changed\n- Rename package to use @sap scope\n\n## 2.1.0 - 2017-01-09\n\n### Added\n- Log session id when available.\n\n## 2.0.3 - 2016-12-01\n\n### Fixed\n- Minor fixes.\n\n## 2.0.2 - 2016-11-08\n\n### Fixed\n- Minor fixes.\n\n## 2.0.1 - 2016-11-08\n\n### Fixed\n- Minor fixes.\n\n## 2.0.0 - 2016-10-25\n\n### Changed\n- By default logs and traces are written to standard output and standard error respectively.\n\n### Fixed\n - Replace new lines in logs.\n\n### Removed\n- The package no longer fallbacks to the environment variables  _XS_APPLICATION_LOG_FILE_ and _XS_TRACE_FILE_.\n","downloadsCurrentMonth":133481,"downloadsCurrentFortnight":62272,"downloads365":1684140,"downloadsFortnightGrowth":-4.56,"downloadsHistory":[{"yearMonth":"2023-04","downloads":143754},{"yearMonth":"2023-05","downloads":160859},{"yearMonth":"2023-06","downloads":188214},{"yearMonth":"2023-07","downloads":145796},{"yearMonth":"2023-08","downloads":131685},{"yearMonth":"2023-09","downloads":129266},{"yearMonth":"2023-10","downloads":140284},{"yearMonth":"2023-11","downloads":133439},{"yearMonth":"2023-12","downloads":120254},{"yearMonth":"2024-01","downloads":127243},{"yearMonth":"2024-02","downloads":123238}],"versions":[{"version":"created","date":"2020-06-11T19:37:45.353Z"},{"version":"3.0.0","date":"2020-06-11T19:37:45.738Z"},{"version":"modified","date":"2024-03-05T11:08:38.105Z"},{"version":"4.1.0","date":"2020-06-11T19:37:52.671Z"},{"version":"5.0.1","date":"2020-06-11T19:37:59.450Z"},{"version":"5.0.2","date":"2020-06-11T19:38:05.963Z"},{"version":"2.2.0","date":"2020-06-11T19:38:13.788Z"},{"version":"3.2.1","date":"2020-06-11T19:38:20.404Z"},{"version":"4.0.2","date":"2020-06-11T19:38:27.820Z"},{"version":"5.1.0","date":"2020-06-11T19:38:34.507Z"},{"version":"2.1.2","date":"2020-06-11T19:38:40.895Z"},{"version":"5.2.0","date":"2020-06-11T19:38:53.444Z"},{"version":"4.0.0","date":"2020-06-11T19:39:06.541Z"},{"version":"3.1.0","date":"2020-06-11T19:39:13.675Z"},{"version":"5.3.0","date":"2020-06-11T19:39:20.463Z"},{"version":"3.4.0","date":"2020-06-11T19:39:28.543Z"},{"version":"4.0.1","date":"2020-06-11T19:39:36.858Z"},{"version":"3.3.0","date":"2020-06-11T19:39:43.342Z"},{"version":"3.3.2","date":"2020-06-11T19:39:49.639Z"},{"version":"3.3.1","date":"2020-06-11T19:40:02.952Z"},{"version":"5.3.1","date":"2020-07-28T14:45:51.883Z"},{"version":"6.0.0","date":"2020-11-19T08:47:13.594Z"},{"version":"6.0.1","date":"2020-12-09T12:47:46.225Z"},{"version":"6.0.2","date":"2020-12-15T11:47:43.991Z"},{"version":"6.0.3","date":"2021-02-22T16:27:38.018Z"},{"version":"6.1.0","date":"2022-01-28T12:06:33.104Z"},{"version":"6.1.1","date":"2022-04-08T11:45:52.582Z"},{"version":"6.1.2","date":"2022-06-13T09:25:51.808Z"},{"version":"6.1.3","date":"2022-07-08T12:21:54.822Z"},{"version":"6.2.0","date":"2023-01-30T11:15:15.809Z"},{"version":"7.0.0","date":"2023-10-12T13:01:52.871Z"},{"version":"7.1.0","date":"2023-11-22T10:28:16.744Z"},{"version":"8.0.0","date":"2024-03-05T11:08:37.667Z"}],"npmlink":"https://www.npmjs.com/package/@sap/logging"},{"name":"low-code-event-handler","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-05-24T08:23:34.281Z","updatedAt":"2023-11-06T06:55:28.600Z","readme":"# @sap/low-code-event-handler\nThe code repository for low code event handler.\n\n## Introduction\nAs of now, there are two kinds of event handlers are attached to the CAP entity within every LCAP application, one is for workflow service, another is for external service.\n\n## Usage\nIt could be used as the `cds` require for `app-service` directly in the LCAP / CAP `package.json` file.","changelog":"# Change Log\n## 1.2.1\n### Updated\n- Fix an issue from CI/CD build env\n## 1.2.0\n### Added\n- External service CUD support\n### Added\n- Add appgyver functions to support application logic\n## 1.1.1\n### Updated\n- Fix an issue when accessing external entity\n## 1.1.0\n### Added\n- Support application logic\n### Updated\n- Upgrade @sap/cds version to 6\n- Remove workflow event handler\n## 1.0.1\n### Updated\n- Reuse @sap/external-service-mashup\n## 1.0.0\n### Added\n- Support external service handler\n- Support workflow service handler\n","downloadsCurrentMonth":3143,"downloadsCurrentFortnight":1428,"downloads365":31141,"downloadsFortnightGrowth":-9.85,"downloadsHistory":[{"yearMonth":"2023-04","downloads":1663},{"yearMonth":"2023-05","downloads":2026},{"yearMonth":"2023-06","downloads":1461},{"yearMonth":"2023-07","downloads":1799},{"yearMonth":"2023-08","downloads":2172},{"yearMonth":"2023-09","downloads":2036},{"yearMonth":"2023-10","downloads":2923},{"yearMonth":"2023-11","downloads":3478},{"yearMonth":"2023-12","downloads":4877},{"yearMonth":"2024-01","downloads":3044},{"yearMonth":"2024-02","downloads":2963}],"versions":[{"version":"created","date":"2022-05-24T08:23:34.281Z"},{"version":"1.0.0","date":"2022-05-24T08:23:34.486Z"},{"version":"modified","date":"2023-11-06T06:55:28.600Z"},{"version":"1.0.1","date":"2022-06-27T03:41:30.465Z"},{"version":"1.1.0","date":"2022-08-26T09:10:18.594Z"},{"version":"1.1.1","date":"2022-08-30T06:04:20.291Z"},{"version":"1.2.0","date":"2023-01-03T11:46:55.796Z"},{"version":"1.2.1","date":"2023-01-05T11:04:49.411Z"},{"version":"1.2.2","date":"2023-07-04T08:51:17.863Z"},{"version":"1.2.3","date":"2023-08-11T07:14:42.139Z"},{"version":"1.2.4","date":"2023-11-06T06:55:28.416Z"}],"npmlink":"https://www.npmjs.com/package/@sap/low-code-event-handler"},{"name":"mdk-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-08-04T07:58:38.784Z","updatedAt":"2023-12-13T06:49:59.788Z","readme":"# MDK Tools\nIt provides the CLI to assist Mobile Development Kit (MDK) application developers throughout the development lifecycle to:\n- deploy MDK metadata project to SAP Business Technology Platform (BTP) Cloud Foundry environment,\n    - Mobile Services to run as mobile application\n    - HTML5 repository to run as web application\n\n## Setup\n\n- Prerequisites\n    - Node 12 or higher version\n    - [Space Developer role]( https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/09076385086b4da3bd1808d5ef572862.html) assigned to your user\n    - [Cloud Foundry CLI](https://docs.cloudfoundry.org/cf-cli/install-go-cli.html)\n    - Logon to Cloud Foundry by 'cf login'\n    - MDK metadata project\n    - [MTA Build Tool](https://sap.github.io/cloud-mta-build-tool/) (required for MDK web deployment)\n    - MultiApps CF CLI Plugin (required for MDK web deployment)\n        ```bash\n        cf install-plugin -r CF-Community \"multiapps\"\n        ```\n    - CF HTML5 Applications Repository CLI Plugin (required for MDK web deployment)\n        ```bash\n        cf install-plugin -r CF-Community \"html5-plugin\"\n        ```\n- Install\n    ```bash\n    npm install @sap/mdk-tools -g\n    ```\n## Features\n\n- Builder\n\n    You can build metadata project into js or zip file. \n    \n    Below command can get build parameter details:\n    \n    ```bash\n    mdk build\n    ```\n\n    - target\n\n        Target 'js' can build to bundle.js and bundle.js.map, you can use it to update your local run project.   \n        Target 'zip' can build to uploadBundle.zip, you can uploaded it to Mobile Services.\n        Target 'source' can pack source code into zip with configuration for Mobile Services.This is for scenario to extend a multi tenant application.\n        \n        The build results are generated in .build folder under project.\n    - project\n\n        Metadata project, it's current folder if not provided.\n\n    - externals\n\n        Libs need to be ignored in webpack bundle process. The built-in externals are:\n        - @nativescript/core\n        - mdk-core\n\n        ```bash\n        mdk build --target zip --externals \"@nativescript/geolocation\" \"external2\"\n        ```\n\n    - filters\n\n        Project folders/files need to be filtered in bundle procees. The built-in filters are:\n        - /Web/\n\n        ```bash\n        mdk build --target zip --filters \"/FolderA/\" \"/FolderB/readme.txt\"\n        ```\n\n    - debugging\n\n        Enable debugging by add devtool option\n\n        ```bash\n        mdk build --target zip --devtool \"source-map\"\n        ```\n\n\n    ```bash\n    mdk build --target js\n    mdk build --target js  --project /path/to/Your-MDK-metadata-project \n    mdk build --target zip --project /path/to/Your-MDK-metadata-project\n    mdk build --target source --project /path/to/Your-MDK-metadata-project\n    ```\n    \n\n- Deployer\n\n    You can deploy MDK metadata project directly to SAP Business Technology Platform (BTP) Cloud Foundry and NEO environment.\n\n    Below command can get deploy parameter details:\n    \n    ```bash\n    mdk deploy\n    ```\n\n    - Deploy to Mobile Services on Cloud Foundry to run it as a mobile application\n\n        It bundles MDK metadata project, uploads to Mobile Services and publishes it.\n        The name option is the application id in Mobile Services. If there's no *name* argument, it reads *MobileService:AppId* from *\\.project.json* file (applicable to MDK metadata project exported from SAP Business Application Studio). If there's no *project* argument, it reads *current folder* as *MDK metadata folder*.\n\n        >In case of MDK metadata project exported from SAP Web IDE, *name* argument is mandatory.\n\n        ```bash\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --devtool \"source-map\"\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --project /path/to/Your-MDK-metadata-project\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --project /path/to/Your-MDK-metadata-project --externals \"@nativescript/geolocation\" \"external2\"\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --project /path/to/Your-MDK-metadata-project --showqr\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --project /path/to/Your-MDK-metadata-project\n        ```\n\n        If your Mobile Services is Preview version, you can add *--preview* option.\n        ```bash\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --preview\n        ```\n        In case of deploying MDK bundle zip exproted from SAP Web IDE or Business Application Studio.\n        ```\n        mdk deploy --target mobile --name \"com.mdk.myapp\" --zip Your-MDK-bundle-zip-file\n        ```\n\n    - Deploy to Mobile Services on NEO to run it as a mobile application    \n        - Prerequisites\n            - NEO Mobile Services Admin API URL\n            - Admin user name and password\n        ```bash\n            mdk deploy --target mobile --name \"com.mdk.myapp\" --project /path/to/Your-MDK-metadata-project --neo \n        ```\n        The above example prompts user password input, reads adminApi and user from .project.json, if can't find them, then prompts user input. \n\n        ```bash\n            mdk deploy --target mobile --name \"com.mdk.myapp\" --neo --adminApi YourAdminAPI --user YourUserName --pwd YourPassword\n        ```\n        The above example starts deploy without prompts.\n\n    - Deploy to HTML5 repository on Cloud Foundry to run it as web application\n\n        It bundles MDK metadata project, builds it to MTA project and deploys to HTML5 repository.\n        The name option is the application name in SAP BTP cockpit. If there is no *name* argument, it reads *CF:Deploy:Name* from *\\.project.json* file (applicable to MDK metadata project exported from SAP Business Application Studio). If there's no *project* argument, it reads *current folder* as *MDK metadata folder*.\n\n        >In case of MDK metadata project exported from SAP Web IDE, *name* argument is mandatory.\n\n        ```bash\n        mdk deploy --target cf --name \"MyWebApplication\" --devtool \"source-map\"\n        mdk deploy --target cf --name \"MyWebApplication\" --project /path/to/Your-MDK-metadata-project \n        mdk deploy --target cf --name \"MyWebApplication\" --externals \"@nativescript/geolocation\" \"external2\"\n        ```\n        \n        If you want to use preview web runtime or dev web runtime starts with https://, you can add *--runtime* option.\n        ```bash\n        mdk deploy --target cf --name \"MyWebApplication\" --runtime preview\n        mdk deploy --target cf --name \"MyWebApplication\" --runtime \"https://RuntimeUrl\"\n        ```\n- Migrator\n\n    Migrate the MDK project to the latest schema version.\n\n    The option '--preview' is only used to list all files that need to be migrated but not to do a real migration.\n    ```bash\n    mdk migrate --project /path/to/Your-MDK-metadata-project \n    mdk migrate --project /path/to/Your-MDK-metadata-project --preview\n    ```\n\n    If you want to migrate files to the specific schema version, use '--target-version' option (right now, we support only one target-version option 6.3):\n    ```bash\n    mdk migrate --project /path/to/Your-MDK-metadata-project --target-version 6.3\n    ```\n    Use 'log-file' option output the logs to a file (no need to create the log file firstly, it will be generated automatically):\n    ```bash\n    mdk migrate --project /path/to/Your-MDK-metadata-project --log-file /path/to/log-file.txt\n    ```","downloadsCurrentMonth":4255,"downloadsCurrentFortnight":1831,"downloads365":41598,"downloadsFortnightGrowth":-19.8,"downloadsHistory":[{"yearMonth":"2023-04","downloads":3361},{"yearMonth":"2023-05","downloads":3638},{"yearMonth":"2023-06","downloads":3042},{"yearMonth":"2023-07","downloads":2864},{"yearMonth":"2023-08","downloads":3519},{"yearMonth":"2023-09","downloads":3045},{"yearMonth":"2023-10","downloads":3617},{"yearMonth":"2023-11","downloads":2988},{"yearMonth":"2023-12","downloads":2832},{"yearMonth":"2024-01","downloads":4396},{"yearMonth":"2024-02","downloads":4252}],"versions":[{"version":"created","date":"2021-08-04T07:58:38.784Z"},{"version":"1.0.1","date":"2021-08-04T07:58:38.981Z"},{"version":"modified","date":"2023-12-13T06:49:59.788Z"},{"version":"1.0.2","date":"2021-08-20T08:13:59.464Z"},{"version":"1.0.3","date":"2021-10-18T01:20:41.302Z"},{"version":"1.0.4","date":"2021-11-04T01:05:27.000Z"},{"version":"1.1.0","date":"2021-12-23T05:04:41.425Z"},{"version":"1.1.1","date":"2022-02-14T06:31:28.182Z"},{"version":"1.2.0","date":"2022-03-17T23:09:38.671Z"},{"version":"1.2.1","date":"2022-04-04T01:10:33.224Z"},{"version":"1.2.2","date":"2022-06-16T05:39:13.601Z"},{"version":"1.3.0","date":"2022-08-10T01:36:13.003Z"},{"version":"1.3.1","date":"2022-09-05T23:40:43.088Z"},{"version":"1.3.2","date":"2022-10-31T12:50:36.955Z"},{"version":"1.4.0","date":"2022-11-18T01:09:10.652Z"},{"version":"1.5.0","date":"2023-03-22T07:14:07.982Z"},{"version":"1.5.1","date":"2023-03-29T03:41:33.032Z"},{"version":"1.5.2","date":"2023-04-11T07:14:30.506Z"},{"version":"1.5.3","date":"2023-04-26T06:15:14.541Z"},{"version":"1.5.4","date":"2023-05-10T11:13:20.443Z"},{"version":"1.6.0","date":"2023-07-10T06:04:26.253Z"},{"version":"1.7.0","date":"2023-08-11T01:37:42.094Z"},{"version":"1.7.1","date":"2023-08-23T14:11:51.935Z"},{"version":"1.7.2","date":"2023-08-31T06:28:49.236Z"},{"version":"1.7.3","date":"2023-09-01T08:49:51.101Z"},{"version":"1.8.0","date":"2023-10-11T02:54:25.717Z"},{"version":"1.9.0","date":"2023-12-13T06:49:59.592Z"}],"npmlink":"https://www.npmjs.com/package/@sap/mdk-tools"},{"name":"node-jwt","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE AGREEMENT","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:38:06.250Z","updatedAt":"2024-01-11T17:08:16.882Z","readme":"@sap/node-jwt\n=============\n\nJSON Web Token (JWT) offline validation for Node with current binaries\n\nThis project contains the JWT binding for Node.js. It also includes the native libraries to run on Windows/Linux.\nIf you need another platforms, please create a SAP support ticket to BC-XS-SEC. The library is supposed to be used for on-premise systems, because for cloud scenarios there is another solution.\n\n# Platforms\n\nSupported platforms: **Windows** | **Linux** | **MacOS**\nSupported architectures: x64 on supported platforms.\nPlease see also section dependencies for Node.js version.\n\n#### Hello world\n\nThis standard example is from http://jwt.io \n\n```javascript\n// you can either load a HMAC key for signatures with HSxxx\nv.setSecret(\"secret\"); // load HMAC key\nv.setBase64Secret(\"c2VjcmV0\"); // load a Base64 encoded HMAC key\n// or you can load a PEM encoded X509 certificate for signatures with RSxxx\nv.loadPEM(\"MIICozCCAYsCCAogFQcmCUcJMA0GCSqGSIb3DQEBCwUAMBQ....\"); // load X509 public certificate OR public key for RSA signature validation\n// check the token signature and validity\nv.checkToken(\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9.TJVA95OrM7E2cBab30RMHrHDcEfxjoYZgeFONFh7HgQ\");\nconsole.log(\"Test JWT for Node.js\");\nif (v.getErrorDescription() !== \"\") {\n   // error handling\n   console.log(\"Error in JWT: \" + v.getErrorDescription());\n} else {\n   // in case of success, retrieve the payload\n   console.log(\"JWT Payload : \" + v.getPayload());\n}\n```\n\n# Getting started\n\nFrom your project directory, run (see below for requirements):\n\n```\n$ var jwt = require('@sap/node-jwt');\n```\n\nReleased versions\n```\nnpm install @sap/node-jwt\n```\n\n\n# Dependencies\n\n* NodeJS v0.10.x is the minimum version. The maximum version is always the last LTS (long term support, https://nodejs.org/en/about/releases/) , however due to missing binaries, there might be errors in using this project\n* You dont need `node-gyp` or any compiler (e.g. Visual Studio on Windows). The source code and binding.gyp is part of this project in case of errors.\n* If you run in error with generic node exceptions, please inform the author. The root cause can be missing jwt.node modules.\n\n\n# Error situations\n\nThe standard error for signature operations is the situation, that the signature is not valid. This error is typical and you should handle\nit carefully! and not as fatal error or assert.\nIf you think, it must work, but it does not, then you can trace the native functions.\nSAPSSOEXT library allows you to set the environment variables:\n* SAP_EXT_TRC to define a trace file in your file system\n* SAP_EXT_TRL an integer 0 to 3\n\n```\nset SAP_EXT_TRC=stdout\nset SAP_EXT_TRL=3\n```\n\nIf you run your application in CloudFoundry or XSA then you can define environment variables with client command tool cf / xs, see\nhttps://docs.run.pivotal.io/devguide/deploy-apps/manifest.html#env-block \n\nIn cf landscapes you can then cf logs <your-app> and you will see trace from JWT validation\n\n# Install via NPM\n\nIn order to configure the sap NPM registry you need to issue the following command:\n\n```\nnpm install @sap/node-jwt\n```\n","downloadsCurrentMonth":7614,"downloadsCurrentFortnight":3044,"downloads365":120622,"downloadsFortnightGrowth":-28.48,"downloadsHistory":[{"yearMonth":"2023-04","downloads":12764},{"yearMonth":"2023-05","downloads":13983},{"yearMonth":"2023-06","downloads":12422},{"yearMonth":"2023-07","downloads":11530},{"yearMonth":"2023-08","downloads":10043},{"yearMonth":"2023-09","downloads":8475},{"yearMonth":"2023-10","downloads":9873},{"yearMonth":"2023-11","downloads":7449},{"yearMonth":"2023-12","downloads":7953},{"yearMonth":"2024-01","downloads":8955},{"yearMonth":"2024-02","downloads":8001}],"versions":[{"version":"created","date":"2020-06-11T18:38:06.250Z"},{"version":"1.4.13","date":"2020-06-11T18:38:07.083Z"},{"version":"modified","date":"2024-01-11T17:08:16.882Z"},{"version":"1.6.4","date":"2020-06-11T18:38:25.336Z"},{"version":"1.2.0","date":"2020-06-11T18:38:45.169Z"},{"version":"1.4.5","date":"2020-06-11T18:39:14.865Z"},{"version":"1.4.2","date":"2020-06-11T18:39:41.336Z"},{"version":"1.4.4","date":"2020-06-11T18:40:06.168Z"},{"version":"1.0.0","date":"2020-06-11T18:40:33.897Z"},{"version":"1.6.9","date":"2020-06-11T18:40:53.139Z"},{"version":"1.5.1","date":"2020-06-11T18:41:03.685Z"},{"version":"1.6.6","date":"2020-06-11T18:41:14.123Z"},{"version":"1.5.2","date":"2020-06-11T18:41:24.595Z"},{"version":"1.4.6","date":"2020-06-11T18:41:47.033Z"},{"version":"1.3.13","date":"2020-06-11T18:42:14.180Z"},{"version":"1.6.8","date":"2020-06-11T18:42:34.163Z"},{"version":"1.4.3","date":"2020-06-11T18:42:54.282Z"},{"version":"1.4.8","date":"2020-06-11T18:43:20.762Z"},{"version":"1.6.7","date":"2020-06-11T18:43:37.631Z"},{"version":"1.1.0","date":"2020-06-11T18:43:59.156Z"},{"version":"1.4.10","date":"2020-06-11T18:44:25.118Z"},{"version":"1.4.0","date":"2020-06-11T18:44:49.197Z"},{"version":"1.6.5","date":"2020-06-11T18:45:11.364Z"},{"version":"1.5.0","date":"2020-06-11T18:45:25.269Z"},{"version":"1.4.7","date":"2020-06-11T18:45:46.965Z"},{"version":"1.4.11","date":"2020-06-11T18:46:19.416Z"},{"version":"1.4.12","date":"2020-06-11T18:46:45.627Z"},{"version":"1.4.9","date":"2020-06-11T18:47:12.255Z"},{"version":"1.3.0","date":"2020-06-11T18:47:40.644Z"},{"version":"1.4.1","date":"2020-06-11T18:48:17.083Z"},{"version":"1.6.2","date":"2020-06-11T18:48:35.486Z"},{"version":"1.6.3","date":"2020-06-11T18:48:47.846Z"},{"version":"1.6.11","date":"2020-06-20T08:52:44.186Z"},{"version":"1.6.12","date":"2020-10-23T08:52:17.996Z"},{"version":"1.6.13","date":"2020-10-26T12:21:50.688Z"},{"version":"1.6.14","date":"2021-02-04T09:10:54.319Z"},{"version":"1.6.15","date":"2021-06-09T17:51:46.461Z"},{"version":"1.6.16","date":"2022-01-11T11:29:58.351Z"},{"version":"1.6.18","date":"2023-01-11T15:11:00.859Z"},{"version":"1.6.19","date":"2023-03-15T16:17:09.045Z"},{"version":"1.6.20","date":"2023-05-03T16:54:46.625Z"},{"version":"1.6.21","date":"2023-10-25T09:37:16.462Z"},{"version":"1.6.22","date":"2024-01-11T17:08:16.662Z"}],"npmlink":"https://www.npmjs.com/package/@sap/node-jwt"},{"name":"node-vsi","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE AGREEMENT","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:13:24.047Z","updatedAt":"2024-01-11T18:27:52.369Z","readme":"@sap/node-vsi\n=============\n\nThis project contains the VSI binding for node.js. It also includes the native libraries to run on Windows/Linux.\nIf you need another platforms, please create a SAP support ticket to BC-XS-SEC. The library is supposed to be used \nfor on-premise systems, because for cloud scenarios there is another solution.\n\n## Installation\nThe module has moved to npmjs.org npm registry. Ultimately all SAP modules will be there soon. \n\nIn order to configure the sap-internal registry you need to issue the following command:\n\n```\nnpm install @sap/node-vsi\n```\n\nAfterwards you can add the module \"sap-node-vsi\" to the dependencies section of your package.json.\n\n# Platforms\n\nSupported platforms: **Windows** | **Linux** | **MacOS**\n\n#### Hello world\n\nThis standard example uses the eicar from www.eicar.org which all AV scanners has to find and detect as test virus.\n\n```javascript\nvar vsi = require('@sap/node-vsi');\nvar vsiProfile = vsi.vsiProfile;\nvar v = new vsiProfile(\"\");\nv.scanBytes(\"eicar.txt\",\"X5O!P%@AP[4\\\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*\", 68);\nconsole.log(\"\\nResult of eicar scan is rc \" + v.getLastErrorCode() + \" (\" + v.getScanErrorName() + \") with error message: \\n\" + v.getLastError() + \"\\n\" );\n```\n\n# Getting started\n\nFrom your project directory, run (see below for requirements):\n\n```\n$ var vsi = require('@sap/node-vsi');\n```\n\n\n","downloadsCurrentMonth":4603,"downloadsCurrentFortnight":1810,"downloads365":58577,"downloadsFortnightGrowth":-30.76,"downloadsHistory":[{"yearMonth":"2023-04","downloads":5477},{"yearMonth":"2023-05","downloads":5896},{"yearMonth":"2023-06","downloads":6541},{"yearMonth":"2023-07","downloads":5393},{"yearMonth":"2023-08","downloads":5241},{"yearMonth":"2023-09","downloads":3945},{"yearMonth":"2023-10","downloads":4624},{"yearMonth":"2023-11","downloads":3561},{"yearMonth":"2023-12","downloads":4366},{"yearMonth":"2024-01","downloads":4478},{"yearMonth":"2024-02","downloads":4387}],"versions":[{"version":"created","date":"2020-06-11T18:13:24.047Z"},{"version":"1.4.10","date":"2020-06-11T18:13:24.894Z"},{"version":"modified","date":"2024-01-11T18:27:52.369Z"},{"version":"1.4.0","date":"2020-06-11T18:13:48.074Z"},{"version":"1.2.0","date":"2020-06-11T18:14:10.425Z"},{"version":"1.4.17","date":"2020-06-11T18:14:34.848Z"},{"version":"1.4.5","date":"2020-06-11T18:14:59.292Z"},{"version":"1.4.7","date":"2020-06-11T18:15:24.440Z"},{"version":"1.4.11","date":"2020-06-11T18:15:47.427Z"},{"version":"1.4.16","date":"2020-06-11T18:16:12.906Z"},{"version":"1.4.6","date":"2020-06-11T18:16:37.017Z"},{"version":"1.4.12","date":"2020-06-11T18:17:01.813Z"},{"version":"1.3.0","date":"2020-06-11T18:17:23.484Z"},{"version":"1.4.8","date":"2020-06-11T18:17:49.986Z"},{"version":"1.4.18","date":"2020-06-11T18:18:14.558Z"},{"version":"1.1.0","date":"2020-06-11T18:18:41.157Z"},{"version":"1.4.15","date":"2020-06-11T18:19:06.119Z"},{"version":"1.4.19","date":"2020-06-19T21:47:54.780Z"},{"version":"1.4.20","date":"2020-10-26T12:21:47.773Z"},{"version":"1.4.21","date":"2021-02-04T09:10:58.516Z"},{"version":"1.4.22","date":"2022-01-10T12:17:48.824Z"},{"version":"1.4.23","date":"2023-01-12T08:03:07.865Z"},{"version":"1.4.24","date":"2023-06-01T11:36:46.161Z"},{"version":"1.4.25","date":"2023-10-25T09:29:29.296Z"},{"version":"1.4.26","date":"2024-01-11T18:27:52.163Z"}],"npmlink":"https://www.npmjs.com/package/@sap/node-vsi"},{"name":"open.fe","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-09-29T11:50:44.201Z","updatedAt":"2024-02-29T23:32:21.386Z","readme":"[OpenUI5](http://openui5.org/images/OpenUI5_new_big_side.png)\n\n# @sap/open.fe\n\n[SAP Fiori elements](https://sapui5.hana.ondemand.com/#/topic/03265b0408e2432c9571d6b3feb6b1fd) uses open.fe as an add-on to [OpenUI5 Framework](https://github.com/SAP/openui5). Application developers can use the package open.fe to build applications based on SAP Fiori elements with OData V4 services. Applications that are based on the package open.fe can only consume the control libraries delivered as part of the OpenUI5 Framework. For more information about SAP Fiori elements, see [SAP Fiori elements](https://sapui5.hana.ondemand.com/sdk/#/topic/03265b0408e2432c9571d6b3feb6b1fd). Please note that some features, such as unified shell or navigation support, are restricted as they are used with the OpenUI5 Framework.\n\n## Usage\n\nYou must maintain the dependency to the package @sap/open.fe package in the package.json, as it is not part of OpenUI5 framework. SAP Fiori elements recommends that you use the [UI5 Tooling](https://sap.github.io/ui5-tooling) to install the libraries that are part of the OpenUI5 framework. For further details, please see [OpenUI5 Framework using UI5 Tooling](https://sap.github.io/ui5-tooling/pages/Configuration/#framework-configuration).\n\n## License\n\nThis package is provided under the terms of the [SAP FREEWARE LICENSE AGREEMENT](https://tools.hana.ondemand.com/sap-freeware-license.txt)\n","downloadsCurrentMonth":570,"downloadsCurrentFortnight":234,"downloads365":4333,"downloadsFortnightGrowth":-26.42,"downloadsHistory":[{"yearMonth":"2023-04","downloads":171},{"yearMonth":"2023-05","downloads":207},{"yearMonth":"2023-06","downloads":320},{"yearMonth":"2023-07","downloads":359},{"yearMonth":"2023-08","downloads":368},{"yearMonth":"2023-09","downloads":364},{"yearMonth":"2023-10","downloads":582},{"yearMonth":"2023-11","downloads":98},{"yearMonth":"2023-12","downloads":245},{"yearMonth":"2024-01","downloads":587},{"yearMonth":"2024-02","downloads":486}],"versions":[{"version":"created","date":"2020-09-29T11:50:44.201Z"},{"version":"1.82.0","date":"2020-09-29T11:50:44.665Z"},{"version":"modified","date":"2024-02-29T23:32:21.386Z"},{"version":"1.85.0","date":"2020-12-10T09:32:32.554Z"},{"version":"1.86.0","date":"2021-02-02T18:04:36.277Z"},{"version":"1.87.0","date":"2021-03-02T16:36:43.011Z"},{"version":"1.88.0","date":"2021-03-29T22:33:06.631Z"},{"version":"1.89.0","date":"2021-05-06T15:22:12.520Z"},{"version":"1.90.0","date":"2021-06-01T14:27:14.612Z"},{"version":"1.91.0","date":"2021-06-30T15:41:17.765Z"},{"version":"1.92.0","date":"2021-07-29T17:25:05.968Z"},{"version":"1.93.0","date":"2021-08-31T23:31:30.389Z"},{"version":"1.94.0","date":"2021-10-07T15:32:00.576Z"},{"version":"1.95.0","date":"2021-11-03T16:07:53.441Z"},{"version":"1.96.0","date":"2021-12-01T18:50:37.036Z"},{"version":"1.97.0","date":"2021-12-23T00:10:14.984Z"},{"version":"1.98.0","date":"2022-01-31T19:06:52.761Z"},{"version":"1.99.0","date":"2022-02-28T16:56:27.548Z"},{"version":"1.100.0","date":"2022-03-31T16:10:15.524Z"},{"version":"1.101.0","date":"2022-05-02T17:42:52.133Z"},{"version":"1.102.0","date":"2022-06-03T21:06:59.693Z"},{"version":"1.103.0","date":"2022-07-04T10:54:39.659Z"},{"version":"1.104.1","date":"2022-07-29T21:32:35.734Z"},{"version":"1.105.0","date":"2022-08-26T17:37:28.746Z"},{"version":"1.106.0","date":"2022-09-29T18:56:51.335Z"},{"version":"1.107.1","date":"2022-11-01T19:55:24.220Z"},{"version":"1.108.0","date":"2022-11-30T18:53:21.092Z"},{"version":"1.109.0","date":"2023-01-02T23:29:06.505Z"},{"version":"1.110.0","date":"2023-01-30T17:39:23.132Z"},{"version":"1.111.0","date":"2023-02-28T17:30:15.444Z"},{"version":"1.112.0","date":"2023-03-29T17:49:00.713Z"},{"version":"1.113.0","date":"2023-05-02T17:39:32.736Z"},{"version":"1.114.0","date":"2023-06-01T17:07:26.512Z"},{"version":"1.115.0","date":"2023-07-05T21:44:52.880Z"},{"version":"1.116.0","date":"2023-07-31T21:30:33.013Z"},{"version":"1.117.0","date":"2023-08-31T21:49:15.883Z"},{"version":"1.118.0","date":"2023-09-29T06:06:11.432Z"},{"version":"1.120.0","date":"2023-12-01T01:03:55.300Z"},{"version":"1.121.0","date":"2024-02-29T23:32:20.925Z"}],"npmlink":"https://www.npmjs.com/package/@sap/open.fe"},{"name":"sbf","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:18:41.225Z","updatedAt":"2024-01-21T09:54:56.481Z","readme":"# @sap/sbf\nA Node.js framework to create a service broker in SAP Business Technology Platform (SAP BTP)\n\nThe Service Broker Framework (SBF) implements the [Open Service Broker API](https://www.openservicebrokerapi.org/).\nIt can be used in the Cloud Foundry environment of SAP Cloud Platform or on-premise in SAP HANA XS advanced model.\n\n**Note**: SBF Rejects requests for which the `X-Broker-API-Version` header is not set or its value is outside the supported interval [2.4, 3).\n\nSBF can generate service credentials for the following authentication mechanisms:\n* Basic authentication for technical users (via SBSS)\n* OAuth2 authentication with JSON Web Tokens (JWT) (via XSUAA _broker_ plan)\n  * Named user via *user_token* flow\n  * Technical user via *client_credentials* flow\n\nAfter adding the necessary configuration, the SBF can be started directly as a service broker.\nIf necessary, it can be extended with custom JavaScript code.\n\nAll the information here is valid also for XS advanced, unless explicitly stated otherwise.\nIn the shell commands below replace `cf` with `xs` when working on XS advanced.\n\n**Table of contents**\n\n<!-- toc -->\n\n\n- [Usage](#usage)\n  * [Create a simple service broker](#create-a-simple-service-broker)\n    + [Prerequisites](#prerequisites)\n    + [Create a Node.js application](#create-a-nodejs-application)\n    + [Add the Service Broker Framework](#add-the-service-broker-framework)\n    + [Add the start command](#add-the-start-command)\n    + [Create the service catalog](#create-the-service-catalog)\n    + [Create XSUAA service instance](#create-xsuaa-service-instance)\n    + [Create an instance of the Audit Log service](#create-an-instance-of-the-audit-log-service)\n    + [Generate a secure broker password](#generate-a-secure-broker-password)\n    + [Create an application manifest](#create-an-application-manifest)\n    + [Push the broker application](#push-the-broker-application)\n    + [Register the service broker](#register-the-service-broker)\n    + [Use the service broker](#use-the-service-broker)\n  * [Extend the service broker](#extend-the-service-broker)\n  * [Asynchronous broker operations](#asynchronous-broker-operations)\n  * [Service broker as middleware](#service-broker-as-middleware)\n  * [Health HTTP endpoint](#health-http-endpoint)\n  * [Custom parameters](#custom-parameters)\n    + [Create service with custom parameters](#create-service-with-custom-parameters)\n    + [Update service with custom parameters](#update-service-with-custom-parameters)\n    + [Bind service with custom parameters](#bind-service-with-custom-parameters)\n  * [Credentials providers](#credentials-providers)\n    + [SBSS](#sbss)\n      - [SBSS on SAP HANA](#sbss-on-sap-hana)\n      - [SBSS on PostgreSQL](#sbss-on-postgresql)\n    + [XSUAA](#xsuaa)\n      - [Creating reuse service instances](#creating-reuse-service-instances)\n      - [Updating reuse service instances](#updating-reuse-service-instances)\n      - [Authentication with X.509 client certificates](#authentication-with-x509-client-certificates)\n        * [XSUAA managed certificates](#xsuaa-managed-certificates)\n        * [Externally managed certificates](#externally-managed-certificates)\n            * [XSUAA broker instance](#1-xsuaa-broker-instance)\n            * [Reuse service instance](#2-reuse-service-instance)\n    + [IAS](#ias)\n      - [Prerequisites](#prerequisites-1)\n      - [Creating an IAS instance](#creating-an-ias-instance)\n      - [Binding an IAS instance to the broker application](#binding-an-IAS-instance-to-the-broker-application)\n      - [Unsupported Features](#unsupported-features)\n  * [Unique service broker](#unique-service-broker)\n  * [Secure outgoing connections](#secure-outgoing-connections)\n  * [Stateless](#stateless)\n  * [Memory usage](#memory-usage)\n  * [User Interface](#user-interface)\n  * [Security](#security)\n    + [HTTPS](#https)\n    + [Authentication](#authentication)\n    \t- [Basic Authentication](#basic-authentication)\n    \t\t* [Service Broker Plain-Text Credentials](#service-broker-credentials)\n    \t\t* [Service Broker Hashed Credentials](#service-broker-hashed-credentials)\n    \t- [mTLS Authentication](#mtls-authentication)\n    \t\t* [Out-of-the-Box mTLS](#out-of-the-box-mtls)\n    \t\t* [Customized mTLS](#customized-mtls)\n    + [Password rotation](#password-rotation)\n  * [Audit logging](#audit-logging)\n    + [Auditlog Viewer](#auditlog-viewer)\n      - [Running on XSA](#running-on-xsa)\n      - [Providing the tenant ID](#providing-the-tenant-id)\n- [Reference](#reference)\n  * [Class: ServiceBroker](#class-servicebroker)\n    + [new ServiceBroker([options])](#new-servicebrokeroptions)\n    + [ServiceBroker.start()](#servicebrokerstart)\n    + [ServiceBroker.app](#servicebrokerapp)\n    + [ServiceBroker.callXsuaa(req, options, callback)](#servicebrokercallxsuaareq-options-callback)\n    + [(static) ServiceBroker.createCredentialsProvider(credentials)](#static-servicebrokercreatecredentialsprovidercredentials)\n  * [Service Catalog](#service-catalog)\n  * [Additional Service Configuration](#additional-service-configuration)\n  * [Automatic Credentials Generation](#automatic-credentials-generation)\n  * [Credentials Provider Service](#credentials-provider-service)\n  * [Business Service Support](#business-service-support)\n  * [Hooks](#hooks)\n    + [`verifyClientCertificate(params, callback)`](#verifyclientcertificateparams-callback)\n    + [`onProvision(params, callback)`](#onprovisionparams-callback)\n    + [`onUpdate(params, callback)`](#onupdateparams-callback)\n    + [`onDeprovision(params, callback)`](#ondeprovisionparams-callback)\n    + [`onLastOperation(params, callback)`](#onlastoperationparams-callback)\n    + [`onFetchInstanceParams(params, callback)`](#onfetchinstanceparamsparams-callback)\n    + [`onBind(params, callback)`](#onbindparams-callback)\n    + [`onUnbind(params, callback)`](#onunbindparams-callback)\n    + [`onBindLastOperation(params, callback)`](#onbindlastoperationparams-callback)\n    + [`onFetchBindingParams(params, callback)`](#onfetchbindingparamsparams-callback)\n    + [`params` details](#params-details)\n      - [`req`](#req)\n      - [`XSUAA clone info`](#xsuaa-clone-info)\n    + [Error handling](#error-handling)\n  * [Environment variables](#environment-variables)\n  * [`gen-catalog-ids`](#gen-catalog-ids)\n  * [`hash-broker-password`](#hash-broker-password)\n- [Troubleshooting](#troubleshooting)\n  * [Increase the log level](#increase-the-log-level)\n  * [@sap/sbf not found](#sapsbf-not-found)\n  * [Cannot execute start-broker script](#cannot-execute-start-broker-script)\n  * [Create service fails with \"Client already exists\"](#create-service-fails-with-client-already-exists)\n\n<!-- tocstop -->\n\n## Usage\n\n### Create a simple service broker\nFor simple use cases, you don't need to write any JavaScript code. You can start this package directly by providing it with the necessary configuration.\n\nThe following sections describe the steps to create a simple service broker application by using this framework.\n\n#### Prerequisites\nYou need the following:\n- [Node.js](https://nodejs.org) v10 or later\n- Cloud Foundry [CLI](https://github.com/cloudfoundry/cli#downloads)\n- Access to a Cloud Foundry installation where you can log in via CLI and push applications\n\n#### Create a Node.js application\nCreate a new directory and run the following command in it:\n```sh\nnpm init\n```\nYou are prompted to answer several questions. Upon completion, this command creates a _package.json_ file in the current directory. The presence of this file, tells Cloud Foundry that this is a Node.js application.\n\n#### Add the Service Broker Framework\nDownload the _@sap/sbf_ package and add it to your service broker by executing the following command:\n```sh\nnpm install @sap/sbf\n```\n\n#### Add the start command\nEdit the _package.json_ file and add the `start` command in section `scripts`:\n```json\n{\n  \"scripts\": {\n    \"start\": \"start-broker\"\n  }\n}\n```\n\n#### Specify a required Node.js version\nAdd the following property in the _package.json_ file to inform Cloud Foundry that the service broker requires Node.js v10:\n```json\n  \"engines\": {\n    \"node\": \"^10\"\n  }\n```\n\n#### Create the service catalog\nThe service catalog describes the services offered by this service broker.\nIt is defined in a JSON format as described in [Cloud Foundry documentation](https://docs.cloudfoundry.org/services/api.html#catalog-management).\n\nCreate a file called _catalog.json_ in the current directory and describe in it the service catalog.\nFor example:\n```json\n{\n  \"services\": [{\n    \"name\": \"my-service\",\n    \"description\": \"A simple service\",\n    \"bindable\": true,\n    \"plans\": [{\n      \"name\": \"my-plan\",\n      \"description\": \"The only plan\"\n    }]\n  }]\n}\n```\n\nExecute the following command to generate unique IDs for the services and their plans in the _catalog.json_ file:\n```sh\nnpx gen-catalog-ids\n```\n\n#### Create XSUAA service instance\nThe service broker can use different services to generate and store credentials needed later on by applications to access your reusable service. In this example we use the XSUAA service as a credentials provider.\n\nCreate an XSUAA service instance of plan _broker_:\n```sh\ncf create-service xsuaa broker xsuaa-broker\n```\nHere `xsuaa-broker` is the service instance name. You can use an arbitrary name here. Make sure to use the same name in the subsequent commands.\n\n#### Create an instance of the Audit Log service\nThe service broker is configured by default to audit log every operation. It needs information to connect to the Audit log service.\n\nCreate Audit log service with the following command:\n```sh\ncf create-service auditlog oauth2 broker-audit\n```\nYou can also use the standard plan. It was deprecated, however still supported:\n```sh\ncf create-service auditlog standard broker-audit\n```\n\n#### Generate a secure broker password\n```sh\nnpx hash-broker-password -b\n```\nThis command generates a random password and hashes it.\n\n#### Create an application manifest\nYou can deploy the service broker in Cloud Foundry as a regular application.\nAn easy way to do that is via an [application manifest](https://docs.cloudfoundry.org/devguide/deploy-apps/manifest.html).\nCreate a _manifest.yml_ file in the current directory with the following content:\n```yaml\n---\napplications:\n  - name: my-broker\n    memory: 128M\n    services:\n      - xsuaa-broker\n      - broker-audit\n    health-check-type: http\n    health-check-http-endpoint: /health\n    env:\n      SBF_BROKER_CREDENTIALS_HASH: >\n        {\n          \"broker-user\": \"<broker-password-hash>\"\n        }\n      SBF_SERVICE_CONFIG: >\n        {\n          \"my-service\": {\n            \"extend_credentials\": {\n              \"shared\": {\n                \"uri\": \"https://my-service.example.com\"\n              }\n            }\n          }\n        }\n```\n\n`my-broker` is the name of the broker application. You can use an arbitrary name.\n\nSome configurations are not known in advance and they need to be set at the time of deployment via the environment variables.\n\nOne such configuration is the credentials configuration used to call the service broker.\nThis configuration is provided via the environment variable *SBF_BROKER_CREDENTIALS_HASH*.\nHere you can use arbitrary credentials.\nReplace `<broker-password-hash>` with the hashed credentials from the previous step.\nJust make sure to use matching credentials when you register the broker and don't commit these in source control.\n\nAnother configuration done during the deployment is the service URL. You can provide it via the environment variable *SBF_SERVICE_CONFIG*.<br/> See [Additional Service Configuration](#additional-service-configuration) for details.\n\n#### Push the broker application\nPush the broker application to Cloud Foundry by running the following command:\n```sh\ncf push\n```\nBy default, Cloud Foundry uses the name of the application as the host name.<br/> If this name is already taken, you can specify a different host via the `host` property in the manifest. Alternatively you can use a random host with the following command:\n```sh\ncf push --random-route\n```\n\n#### Register the service broker\nFor productive use a service broker is [registered globally](https://docs.cloudfoundry.org/services/managing-service-brokers.html#register-broker) so you can use it throughout Cloud Foundry, but this requires administrative permissions.<br/> During development and testing you can register the service broker only in your space. You do this with the following command:\n```sh\ncf create-service-broker my-broker-name broker-user <plain-broker-password> <broker-url> --space-scoped\n```\nReplace here `<plain-broker-password>` with the plaintext password generated by _hash-broker-password_ script.\n\nYou can get the broker URL via the command `cf apps`.\n\nHere `my-broker-name` is an arbitrary name used to distinguish this service broker from the rest.\nIt is independent from the broker application name.\n\n#### Use the service broker\nNow you can use your service broker within the same space.\nFor example, you can now see its services and plans via the `cf marketplace` command.\nYou can use the new services as regular [services](https://docs.cloudfoundry.org/devguide/services/) in Cloud Foundry.\n\nYou can also create a service instance via `cf create-service`.\nThen you can bind it to your application via `cf bind-service`.<br/> After that the application gets the URL and the credentials for your service from the environment variable [VCAP_SERVICES](https://docs.cloudfoundry.org/devguide/deploy-apps/environment-variable.html).\nYou can see them via the `cf env` command.\n\nYou can also create a service key (`cf create-service-key`) and print its content (`cf service-key`) to see the credentials to access the service instance.\n\nYou can also register the service broker in another space and use it there.\nTo do that append a unique suffix to the broker URL:\n```sh\ncf create-service-broker my-broker-name broker-user broker-password <broker-url>/<unique-suffix> --space-scoped\n```\nUse a different suffix for each broker registration.\n\n### Extend the service broker\n\nSome service brokers need to perform custom actions during standard broker operations.\nFor example, special actions might be necessary to provision a new service instance.\nTo do that, you can create a custom Node.js application for your service broker.\nThis application can use the service broker framework as a normal Node.js package.\nThen you can register [custom callbacks](#hooks) to be invoked during each broker operation.\n\nCreate a Node.js application and add a _@sap/sbf_ dependency as described [above](#create-a-nodejs-application). \n\nCreate the start script of your broker application, e.g. _start.js_:\n```js\nconst Broker = require('@sap/sbf');\n\nlet broker = new Broker({\n  hooks: {\n    onProvision: (params, callback) => {\n      console.log('Provision service %s with plan %s', params.service_id, params.plan_id);\n      // custom provision actions\n      callback();\n    },\n    onDeprovision: (params, callback) => {\n      console.log('Deprovision service instance %s', params.instance_id);\n      // custom deprovision actions\n      callback();\n    }\n  }\n});\nlet server = broker.start();\n```\n\nEdit the _package.json_ file and set the `start` command to execute your start script:\n```json\n  \"scripts\": {\n    \"start\": \"node start.js\"\n  }\n```\n\n### Asynchronous broker operations\n\nBy default, service broker operations like provisioning and deprovisioning are synchronous,\ni.e. HTTP response is returned when the operation is complete.\nSo that long-running operations are also supported, some platforms, like Cloud Foundry, support also asynchronous operations.\nSee [Synchronous and Asynchronous Operations](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#synchronous-and-asynchronous-operations)\nin the Open Service Broker API specifications.\n\n**Note:** currently the XS advanced runtime does not support asynchronous operations.\n\nTo perform an asynchronous operation you implement several [hooks](#hooks).\nFirst, check if your platform supports asynchronous operations.\nIf it does, start the operation in the background and return `async: true` in the `reply`:\n```js\nfunction onProvision(params, callback) {\n  if (params.accepts_incomplete !== 'true') {\n    let error = new Error('Cannot provision service instance synchronously');\n    error.statusCode = 422; // Unprocessable Entity\n    return callback(error);\n  }\n  let operationId;\n  // start the operation in the background ...\n  // and assign operationId ...\n  callback(null, {\n    async: true, // indicate that operation was started asynchronously\n    operation: operationId // later the same operationId will be passed to onLastOperation\n  });\n}\n```\nThe same applies also to `onUpdate`, `onDeprovision`, `onBind` and `onUnbind` hooks.\n\nNext, the platform polls in regular intervals for the status of the operation.\nEach time it sends the same `operation` string to identify the operation.\nThis is useful if multiple asynchronous operations are running in parallel, e.g. multiple service instances are created at the same time.\nTo provide the current status of the operation, you implement the [onLastOperation](#onlastoperationparams-callback) hook (or [onBindLastOperation](#onbindlastoperationparams-callback) in case of async binding operations):\n```js\nfunction onLastOperation(params, callback) {\n  let operationId = params.operation; // for which operation to return status\n  // get operation status ...\n  callback(null, {\n    state: 'in progress', // or 'succeeded' or 'failed'\n    description: 'progress 50%' // Some user-facing message, what is going on\n  });\n}\n```\n\n**Note:** With [IAS as a credentials provider](#ias) all requests are proxied to the IAS Broker, which manages the statuses of last operations. If you choose to implement a hook, do it with caution because you could override the original status received from the IAS Broker.  \n\n**Note:** If several instances of the service broker are running, it is very likely that the start of an asynchronous operation and subsequent polling via [onLastOperation](#onlastoperationparams-callback) / [onBindLastOperation](#onbindlastoperationparams-callback) will be handled by different broker instances.\nSo make sure that all broker instances see the same state.\n\n### Service broker as middleware\nYou can create a custom Node.js application and add the service broker as a middleware. The *Broker* class has property `app` which is an express application.\nExample:\n```javascript\nconst express = require('express');\nconst Broker = require('@sap/sbf');\n\nlet app = express();\nlet broker = new Broker();\n\napp.get('/custom-endpoint', (req, res) => {\n  res.send('custom-response');\n});\napp.use('/broker', broker.app);\n\napp.listen(process.env.PORT);\n```\n\nThen to register the broker use url: `https://<app-url>/broker`.\n\n### Health HTTP endpoint\n\nSBF provides an HTTP endpoint (on path `/health`) whose purpose is to serve as a health check endpoint.\nIt does not require authentication and can process HTTP GET requests only.\nCurrently, it returns a static response with the status `200` and body `OK`.\n\nBy default, Cloud Foundry uses `port` as a health check type ([documentation for health check types](https://docs.cloudfoundry.org/devguide/deploy-apps/healthchecks.html#types)). To use the health endpoint provided by SBF:\n- Configure the health check type to `http`. In `manifest.yml`, you do this via the property `health-check-type`.\n- Configure the path of the health endpoint, by default it's `/`. In `manifest.yml`, you do this via the property `health-check-http-endpoint`.\n\nSee an example [here](#create-application-manifest).\n\n### Custom parameters\n\nCustom parameters can be passed to the service broker in several locations.\nThe parameters are passed as a JSON object. It can have arbitrary content and is not interpreted by Cloud Foundry.\n\n#### Create service with custom parameters\n\n```sh\ncf create-service <service> <plan> <service-instance> -c parameters.json\n```\nThe content of _parameters.json_ is passed to the service broker and can be accessed in the [`onProvision`](#onprovisionparams-callback) hook via the `params.parameters` argument.\n\n**Note**: When using XSUAA for authentication, the parameters JSON should contain `xs-security` property to avoid confusion with custom parameters.\nSee [XSUAA](#xsuaa) for details.\n\n#### Update service with custom parameters\n\n```sh\ncf update-service <service-instance> -c parameters.json\n```\nThe content of _parameters.json_ is passed to the service broker and can be accessed in [`onUpdate`](#onupdateparams-callback) hook via `params.parameters` argument.\n\n#### Bind service with custom parameters\n\n```sh\ncf bind-service <application> <service-instance> -c parameters.json\n```\nThe content of _parameters.json_ is passed to the service broker and can be accessed in [`onBind`](#onbindparams-callback) hook via `params.parameters` argument.\n\nThe same goes for CF service-keys:\n```sh\ncf create-service-key <service-instance> <key-name> -c parameters.json\n```\n\n**Note**: Binding for reuse service instace when XSUAA is the credentials' provider, allows for specific configuration in order to support certificate credentials, as specified here: [Authentication with X.509 client certificates](#authentication-with-x509-client-certificates)\n\n### Credentials providers\n\nBy default, this modul searches for a bound service instance which is responsible for generating credentials for the services offered by a service broker. The framework attempts to find a suitable service with the following properties in the following order:\n1. SAP HANA Service Instance (A service with label `hana` and plan `sbss`)\n2. PostgreSQL Service Instance (A service with label `postgresql` and tag `sbss`)\n3. XSUAA Service Instance (A service with label `xsuaa` and plan `broker`)\n4. IAS Service Instance (A service with the label `identity` and plan `application`)\n\nIf no such service is found in the environment of the broker, an error is returned.\n\nYou can disable this behavior by [setting the credentials provider service explicitly](#credentials-provider-service). When running on K8S you must always set the credentials provider service explicitly.\n\n\nDepending on the type of the service that provides credentials: SBSS (for SAP HANA and PostgreSQL), XSUAA, or IAS, this module generates credentials and merges them to the `credentials` object received in the response to *bind* operation.\nThe same object will appear also in the `credentials` section for the respective service in the `VCAP_SERVICES` environment variable in bound applications. You can find some examples below.\n\n#### SBSS\n\nSBSS (Service Broker Security Support) can generate, store, and verify usernames and passwords in a secure way. It is accessed via the SQL API.\n\n##### SBSS on SAP HANA\n\nCreate SBSS service instance (example):\n```sh\ncf create-service hana sbss hana-sbss\n```\nHere `hana-sbss` is an arbitrary service instance name.\n\nGenerated credentials example:\n```json\n{\n  \"username\": \"SBSS_00536748842276225491856140796794258250872406624126918117591330539\",\n  \"password\": \"Aa_12905484905134285946159829260519429913717511989397057274381675342\",\n}\n```\n\n**Note**: Since version 4 of _@sap/sbf_, broker applications that use SBSS on HANA need to explicitly specify\na dependency to the _@sap/hdbext_ package.\n\n##### SBSS on PostgreSQL\n\nSBSS on PostgreSQL credentials provider requires 2 services to be bound to the service broker application. One is the actual PostrgeSQL service instance and additional user-provided service containing restricted DB user to be used for credentials generation.\n\nCreate SBSS service instance (example):\n```sh\ncf cs postgresql-db development pg-sbss -t sbss\n```\nHere `pg-sbss` is an arbitrary service instance name. Notice that the command attaches the tag `sbss` to the service instance. **This tag is mandatory.** It can also be set after the service instance has been created like this:\n```sh\ncf update-service pg-sbss -t sbss\n```\n\nCreate restricted DB user service (example):\n```sh\ncf create-user-provided-service sbss-configuration -p \"{\\\"tag\\\":\\\"sbss-config\\\",\\\"restricted-dbuser-name\\\":\\\"<dbuser>\\\",\\\"restricted-dbuser-password\\\":\\\"<dbpassword>\\\"}\"\n```\nHere you can use arbitrary values for `restricted-dbuser-name` and `restricted-dbuser-password`.\nYou should bind the same service instance to SBSS installer application when deploying SBSS on Postgres.\nFor details see the SBSS documentation.\n\n**Note:** You should bind _both_ service instances to the service broker application.\n\n#### XSUAA\n\nCreate XSUAA instance of plan _broker_ (example):\n```sh\ncf create-service xsuaa broker <service-instance> -c xs-security.json\n```\n\n##### Creating reuse service instances\n\nLater on, you can create instances of the reuse service:\n```sh\ncf create-service my-service my-plan <service-instance> -c parameters.json\n```\nHere we assume that service `my-service` with plan `my-plan` is defined in the service catalog of the broker.\n\n*parameters.json*:\n```\n{\n  \"xs-security\": {\n    \"xsappname\": \"my-app\",\n    ...\n  },\n  \"customProperty1\": 1,\n  \"customProperty2\": \"2\",\n  ...\n}\n```\n\n`xs-security` object in *parameters.json* has the same structure as [xs-security.json] file.\nIt is sent to XSUAA to create an OAuth client for each instance of the reuse service.\n\n`xs-security` properties will be overwritten by any additional service configuration defined in the environment variable `SBF_SERVICE_CONFIG`.\nSee [Additional Service Configuration](#additional-service-configuration).\n\nOther top level properties are optional (e.g. `customProperty1` and `customProperty2`) and can be used to pass arbitrary parameters.\nThe whole *parameters.json* file is accessible via `params.parameters` in [`onProvision(params, callback)`](#onprovisionparams-callback) hook.\n\n**Note**: Custom parameters can be defined as root-level properties. If `xs-security` is not defined, the SBF generates a default value, where `xsappname` is set to the service instance id.\n\n**Note**: During reuse instance create/update, an `authorities` array can be passed to XSUAA. It is recommended to provide `extend_xssecurity` from the [Additional Service Configuration](#additional-service-configuration) and set `authorities` explicitly, to control the scopes exposed for the reuse instance. If no `authorities` section was provided in [Additional service configuration](#additional-service-configuration) (`extend_xssecurity`), by default SBF will pass an empty `authorities` array in create/update requests to XSUAA, and`authorities` provided by consumers are ignored. <br/>\nSet the secureUAAScopes option (or environment variable `SBF_SECURE_UAA_SCOPES`) **explicitly** to `false`, in order to pass the authorities array provided by the consumer as is.<br/>\n**This behavior and environment variable form an incompatible change from release v6.4.9**.\n\nGenerated credentials example:\n```json\n{\n  \"uaa\": {\n    \"clientid\": \"sb-my-app!b27|reuse-service!b27\",\n    \"clientsecret\": \"o7M5UE0S+Q498j9zNmAlAKdYrSo=\",\n    \"identityzone\": \"cc-sap\",\n    \"tenantid\": \"cc-sap\",\n    \"tenantmode\": \"dedicated\",\n    \"uaadomain\": \"authentication.sap.hana.ondemand.com\",\n    \"url\": \"https://cc-sap.authentication.sap.hana.ondemand.com\",\n    \"verificationkey\": \"-----BEGIN PUBLIC KEY----- ... -----END PUBLIC KEY-----\",\n    \"xsappname\": \"my-app!b27|reuse-service!b27\"\n  }\n}\n```\nAn application can use these credentials to call the UAA to fetch a proper JWT token. Then the application can call the reuse service using this token as authentication.\n\nAs it's seen the `clientid` and the `xsappname` properties hold some specific information. Here the string \"my-app\" corresponds to the _xsappname_ from the _security.json_ which was provided when creating the service instance which the service broker offers. The string \"reuse-service\" corresponds to the _xsappname_ in the _security.json_ which was used to create the XSUAA service instance with plan broker. More information can be found in the examples.\n\n##### Updating reuse service instances\n\nThe instance of the reuse service can be updated as follows:\n\n```\ncf update-service <service-instance> -p <new-plan> -c parameters.json\n```\n\nThe plan of the service instance can be optionally changed with the `-p` option.\nUpdating the plan of an instance to a different one from the catalog is possible only if the service is configured with `plan_updateable`.\nRefer to [the description of services](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#service-objects) in the catalog in the OSB specification.\n\nParameters are provided in the same manner as they are during service instance creation -\nXSUAA parameters are passed in the `xs-security` property.\nService specific parameters are provided on root level.\n`xs-security` properties will be overwritten by any additional service configuration defined in `extend_xssecurity` from the [Additional Service Configuration](#additional-service-configuration).\nThe whole *parameters.json* file is accessible via `params.parameters` in [`onUpdate(params, callback)`](#onupdateparams-callback) hook.\n\n**Note**: It is recommended to provide explicitly `xsappname` in `xs-security` when creating a service instance\ninstead of letting SBF set it automatically to the service instance id,\nbecause `xsappname` needs to be provided in every update operation on XSUAA clones.\nIn case the service instance id should be provided in the update operation,\nit can be retrieved for an instance with the following command: `cf service <name> --guid`.\n\n**Note**: If `xsappname` is provided in `xs-security` when creating a service instance,\nthe same `xsappname` should be provided in `xs-security` when updating a service instance.\nIf `xsappname` is not provided on provision, SBF by default will use the service instance id.\nThe same service instance id will also be used during instance update as value for `xsappname`.\n\n**Note**: If `xs-security` is not provided in *parameters.json* then no update of the XSUAA options will take place. If only `extend_xssecurity` from the [Additional Service Configuration](#additional-service-configuration) needs to be taken into account, `xs-security` can be provided as an empty object.\n\n**Note**: To enable SBF to use per plan `extend_xssecurity` from the [Additional Service Configuration](#additional-service-configuration),\nthe platform requesting the broker should provide a plan id.\nThe [OSB specification](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#body-4) does not mark any `plan_id` field as mandatory\n(neither on root level, nor in `previous_values`).\nSBF first checks the `plan_id` property on root level and if it is not available fallbacks to `previous_values.plan_id`.\nIf no plan id information is provided, and there is a `per_plan` configuration in `extend_xssecurity` from the [Additional Service Configuration](#additional-service-configuration), SBF will return an error.\nCloud Foundry provides both `plan_id` and `previous_values.plan_id`.\nAt the moment Service Catalog on Kubernetes does not support service instance update. Refer to the [CLI documentation](https://github.com/kubernetes-sigs/service-catalog/blob/master/docs/cli.md) for changes.\n\n##### Authentication with X.509 client certificates\n\nAuthentication with X.509 client certificates can be enabled with the following configuration provided in the _xs-security_ options:\n\n```json\n{ \n  \"xsappname\": \"...\", \n  \"oauth2-configuration\": {\n    \"credential-types\": [\"x509\"]\n  } \n}\n```\n\n`credential-types` is an array of allowed credential types, where allowed values are `instance-secret`, `binding-secret`, `x509`. <br><br>\nIf `x509` is not the only type in the array AND not the first item (e.g `\"credential-types\": [\"binding-secret\", x509\"]`), in order to enable X.509 authentication, you MUST specify it explicitly during bind (see below). \n\n**Note**: the old json format is deprecated, but still accepted by XSUAA:\n```json\n{\n  \"xsappname\": \"...\",\n  \"oauth2-configuration\": { \"grant-types\": [\"client_x509\"] }\n}\n```\n<br>\n\nX.509 client certificate authentication can be separately configured on **3 levels**:\n\n1. XSUAA instance of plan _broker_. This enables X.509 authentication between the **SBF based broker application** and XSUAA. <br>\n   * If `x509` is not the default `credential-type` that was configured during the XSUAA instance creation, it must be explicitly requested during bind: <br>\n    ```sh\n        cf bind-service <broker-application> <xsuaa-instance> -c parameters.json\n    ```\n    Where the relevant parameters.json format is:\n     ```json\n        {\n           \"credential-type\": \"x509\", \n           \"x509\": { \n               ...\n           } \n       }\n    ```\n   \n   * If you have created the instance using the **old json format**, there are no special bind instructions.\n\n2. Reuse service instance. The required configuration can be provided either via SBF's [additional service configuration](#additional-service-configuration) (property `extend_xssecurity`) or via the parameters during reuse service instance creation (_[parameters.json](#create-service-with-custom-parameters)_, property `xs-security`).\n\n3. Reuse service instance binding. The required configuration should be provided via the parameters during reuse service instance binding creation:\n   * If `x509` is not the default `credential-type` that was configured during the reuse instance creation, it must be explicitly requested during bind: <br> \n   ```sh\n    cf bind-service <application> <service-instance> -c parameters.json\n    ```\n   Where the relevant configuration must be wrapped with `xsuaa`. The exact format in which the configuration should be provided is:\n    ```json\n    {\n      \"xsuaa\": { \n           \"credential-type\": \"x509\", \n           \"x509\": { \n               ...\n           } \n       }\n   }\n   ```\n   The same goes for CF service-keys:\n   ```sh\n   cf create-service-key <service-instance> <key-name> -c parameters.json\n   ```\n   **Note**: currently only `credential-type` and `x509` (and `X.509` for [Externally managed certificates](#externally-managed-certificates)) fields are supported under `xsuaa`.\n    \n   * If you have created the instance using the **old json format**, there are no special bind instructions. <br>\n\n##### Certificate types:\nThe certificate-key pairs that will be used can either be automatically generated by XSUAA (_XSUAA managed certificates_) or\nexplicitly provided custom ones (_externally managed certificates_).\n\n##### XSUAA managed certificates\n\nThe configuration above is sufficient to use XSUAA managed certificates.\nThe credentials of the XSUAA _broker_ instance or/and the credentials of the reuse service instance will contain `certificate` and `key` properties that can be used for X.509 client certificate authentication.\n\n##### Externally managed certificates\n\nIn this case, the certificate should be provided in the parameters **during bind** of the XSUAA instnace.\n \n###### 1. XSUAA broker instance\nThe format in which the certificate should be provided is:\n\n```json\n{\n  \"credential-type\": \"x509\",\n  \"x509\": {\n    \"certificate\": \"-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\",\n    \"ensure-uniqueness\": false,\n    \"certificate-pinning\": true\n  }\n}\n```\n\nIf you have created the instance using the old json format:\n```json\n{\n  \"xsappname\": \"...\",\n  \"oauth2-configuration\": { \"grant-types\": [\"client_x509\"] }\n}\n```\nThen pass the following bind parameters:\n```json\n{\n   \"X.509\": \"-----BEGIN CERTIFICATE-----\\nMIID1j ...\"\n}\n```\n\nThe resulting credentials will contain a `certificate` property.\nThe key should be provided to the broker application, so that it can be used in combination with the `certificate` from the binding. This is done through the `SBF_CLIENT_CERTIFICATE_KEY` environment variable or through the `clientCertificateKey` option. Format should be:\n\n```\nSBF_CLIENT_CERTIFICATE_KEY: -----BEGIN RSA PRIVATE KEY-----\nMIIEpA ...\n```\n\nIn order to set SBF_CLIENT_CERTIFICATE_KEY properly, linebreaks needs to be preserved as `\\n`. <br>\nThe following 2 options demonstrates how to configure this key in the **broker's `manifest.yaml`**:\n\n* Use the `pipe` charachter (`|`):\n```yaml\nSBF_CLIENT_CERTIFICATE_KEY: |\n        -----BEGIN RSA PRIVATE KEY-----\n        MIIEpAIBAAKCABCD+59YBTqEOvQaYWvc/hg+ixznh59qVBXxJKLH0jw85RSlGp\n        ...\n        asBsdfNfWvdf1FPf6QV+VWaRdQ6zneimsbkxjIg/cdfpW2HmVyTSnqw==\n        -----END RSA PRIVATE KEY-----\n```\n\n* Keep the `\\n` and wrap with quotation marks (\"...\"):\n```yaml\nSBF_CLIENT_CERTIFICATE_KEY: \"-----BEGIN RSA PRIVATE KEY-----\\nMIIEpAIBA ... VyTSnqw==\\n-----END RSA PRIVATE KEY-----\\n\"\n```\n\nWhen enabled, SBF uses X.509 certificates authentication with precedence over `clientid` and `clientsecret`.\n\n###### 2. Reuse service instance\nThe relevant configuration must be wrapped with `xsuaa`, that is:\n```json\n{\n  \"xsuaa\": {\n      \"credential-type\": \"x509\",\n      \"x509\": {\n        \"certificate\": \"-----BEGIN CERTIFICATE-----...-----END CERTIFICATE-----\",\n        \"ensure-uniqueness\": false,\n        \"certificate-pinning\": true\n      }\n  }\n}\n```\n\nIf you have created the instance using the old json format:\n```json\n{\n  \"xsuaa\" : {\n    \"X.509\": \"-----BEGIN CERTIFICATE-----\\nMIID1j ...\"\n  }\n}\n```\n**Note**: currently only `credential-type`, `x509` and `X.509` fields are supported under `xsuaa`.\n\nThe key should be provided (in the environment, for example) to the consumer application so that it can be used in combination with the `certificate` from the binding.\n\n#### IAS\n\nIAS (Identity and Authentication Service) is enabling service owners to maintain a service broker within IAS. \nTherefore, SBF with IAS as credentials provider acts as a proxy to the IAS Broker, while still allowing you to extend functionalities by using custom hooks (an ability IAS Broker doesn't support).\n\n##### Prerequisites\n\nYou can find the complete IAS Broker documentation [here](https://github.wdf.sap.corp/CPSecurity/Knowledge-Base/tree/master/08_Tutorials/iasbroker), along with prerequisites and procedures. \n\n##### Creating an IAS instance\nCreate an IAS instance of the plan _application_ (example):\n```sh\ncf create-service identity application <service-instance> -c catalog.json\n```\nHere, the catalog.json is passed to the IAS instance, as this instance represents a IAS Broker. Therefore, a file that contains the catalog should not be provided to the application (see [Service Catalog](#service-catalog)). \n\n##### Binding an IAS instance to the broker application\nBind an IAS instance (example):\n```sh\ncf bind-service <broker-app> <service-instance> -c '{\"credential-type\": \"X509_GENERATED\"}'\n```\nHere we use the IAS ability to generate X.509 client certificates for us. Refer to the [documentation](https://github.wdf.sap.corp/CPSecurity/Knowledge-Base/tree/master/08_Tutorials/iasbroker#service-binding-creation) for alternatives. \n\n**Note:** communication between the SBF-based broker application and the IAS broker is based on TLS authentication (X.509 client certificates). Make sure you create the binding properly by passing the parameters correctly. \nIn addition, arbitrary parameters are not supported in app manifests in cf CLI v6.x (see [here](https://docs.cloudfoundry.org/devguide/services/application-binding.html#bind-with-manifest)), therefore the binding cannot be declared in the manifest.yml file.\n\n#### Unsupported Features\nThe following [Additional Service Configuration](#additional-service-configuration) are not yet supported with IAS as credentials provider:\n1.  `extend_credentials`\n2. The following properties from the [Business Service Support](#business-service-support) section:\n    * `sap.cloud.service`\n    * `sap.cloud.service.alias`\n    * `saasregistryenabled`\n    \nYou can still choose to extend the response with these parameters within the [onBind hook](#onbindparams-callback).\n\n### Unique service broker\n\nSometimes for testing it is useful to register the same broker multiple times as if it were multiple different brokers.\n\nThe service broker framework can append a suffix to each service name, ID and plan ID to make them unique.\nThere are 3 options to provide this suffix (taken in the following order):\n1. append the suffix in the broker URL\n```sh\ncf create-service-broker broker-name user password https://broker.domain/suffix --space-scoped\n```\n2. broker's constructor option `catalogSuffix` (requires separate broker deployment)\n3. environment variable `SBF_CATALOG_SUFFIX` (requires separate broker deployment)\n\nIf this suffix is specified, it is used only in the communication with service broker clients like Cloud Controller.\nInternally this suffix is removed, so all hook functions will get IDs without the suffix, just like in the service catalog.\nStill in the marketplace the services will be visible with the suffix. So you will have to use the suffix in commands like `cf create-service`.\n\nThe URL suffix should not contain URL special characters (`/`, `?`, etc.).\n\nAssume you have pushed a service broker application and its URL is https://my-broker.domain.com/.\nThen you can register this broker using suffix `abc` in the URL:\n```sh\ncf create-service-broker my-broker-abc user password https://my-broker.domain.com/abc --space-scoped\n```\nThis will append the suffix \"abc\" to each service name, ID and plan ID in the catalog in this space.\n\nYou can also register the same broker with another suffix:\n```sh\ncf create-service-broker my-broker-xyz user password https://my-broker.domain.com/xyz --space-scoped\n```\nThis will append the suffix \"xyz\" to each service name, ID and plan ID in the catalog in that space.\n\n\n### Secure outgoing connections\n\nBy default all outgoing connections from the service broker must be encrypted or the broker will fail to start (this is not the case with SBSS connections).\nThis behavior can be changed using the `secureOutgoingConnections` option or the environment variable `SBF_SECURE_OUTGOING_CONNECTIONS`.\nIf one of them is set to *false*, unencrypted connections will be allowed.\n\n**Note:** This option does not apply for connections made by custom code (for example: [`hooks`](#hooks)).\n\n### Stateless\n\nA service broker can and should be scaled to run with several instances to achieve high availability and if necessary handle more load.\nFor this reason the service broker framework is designed to be stateless.\nSo it maintains no state between broker requests and provides no communication among broker instances.\nIf custom hooks introduce some state, they should take care to synchronize it across multiple broker instances.\n\nSpecial care should be taken for asynchronous operations which have inherent state.\nIt is very likely that the start of an asynchronous operation and subsequent polling via [onLastOperation](#onlastoperationparams-callback) will be handled by different broker instances.\n\n### Memory usage\n\nA non customized SBF application (without custom code) consumes around 52MB of memory in idle state.\nDuring light load (less then 10 concurrent requests) the memory consumption is around 110MB (depending on the requests type).\nDuring heavy load (100+ concurrent requests) the memory could reach 160MB.\nRecommendations:\n * For light load scenarios, deploy with memory limit at least 128MB.\n * For heavy load scenarios, deploy with memory limit at least 256MB.\n\nAlso, consider scaling out the broker application with multiple instances.\nThis will increase both the throughput and the fault tolerance (against app crashes).\n\nIf custom code is used (e.g. hooks or middleware), its memory usage should be taken into account when calculating the overall memory consumption.\n\nIn addition you should limit the Node.js heap size accordingly.\nThe general recommendation is to set it to 75% of the application memory limit.\nFor example (in manifest.yml):\n```\n  memory: 128M\n  env:\n    NODE_OPTIONS: --max-old-space-size=96\n```\n\n### User Interface\n\nThe service broker framework provides no user interface.\nIt implements only the standard [Service Broker API](https://docs.cloudfoundry.org/services/api.html).\n\nStill if your services provide a web-based management user interface, you can expose it via the `reply.dashboard_url` property in [`onProvision`](#onprovisionparams-callback) hook.\n\n### Security\nTo ensure ISO/SOC compliance, certain security requirements should be fulfilled:\n* Minimum password length of 15 characters (fulfilled by passwords generated by SBSS, XSUAA and deploy service)\n* Regular password rotation\n\n#### Password rotation\nYou can use this procedure to update the broker password without downtime.\n1. Deploy the broker with the new password as a new application\n2. Update the broker registration with the new password and URL\n```sh\ncf update-service-broker <broker-name> <broker-username> <broker-password> <broker-url>\n```\n3. Delete the old broker application\n\n#### HTTPS\nSince different credentials are transferred between the service broker and its client (Cloud Controller),\nthe communication should be encrypted. If the broker is deployed as an application in Cloud Foundry,\nno special configuration is required as the platform provides HTTPS support.\nIf the broker is deployed outside the platform then HTTPS should be enabled.\nThis section describes how to do that.\n\nCreate a custom start script, for example _broker.js_:\n```javascript\nconst https = require('https');\nconst fs = require('fs');\nconst Broker = require('@sap/sbf');\n\nconst broker = new Broker();\n\n// this is an example, you should provide your own key and certificate\nconst options = {\n  key: fs.readFileSync('server-key.pem'),\n  cert: fs.readFileSync('server-cert.pem')\n};\n\nhttps.createServer(options, broker.app).listen(process.env.PORT);\n```\nFor details how to configure HTTPS see [https.createServer](https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener).\n\nUse your start script in the `start` command in _package.json_\n```json\n  \"scripts\": {\n    \"start\": \"node broker.js\"\n  }\n```\n\n### Authentication\nSBF supports Basic and mTLS authentication. Below you can find information about how to configure each type of authentication. \n#### Basic Authentication\nYou can configure SBF to use basic authentication. You need to configure username and password. You set the credentials either in plain text\nor hashed format.\n##### Service Broker Credentials\nCredentials in plain text format used by the Cloud Controller and other clients to call the service broker.\nIt is an object where each key is a user name and the value is the respective password. It may contain multiple credentials but at least one is required.\n\nExample:\n```json\n{\n  \"user1\": \"password1\",\n  \"user2\": \"password2\"\n}\n```\n\nThese credentials can be provided via the option `brokerCredentials` or the environment variable `SBF_BROKER_CREDENTIALS`.\n\n**Note:** Service broker credentials must be provided either in plain text or [hashed](#service-broker-hashed-credentials) format.\n\n##### Service Broker Hashed Credentials\nCredentials in hashed format used by the Cloud Controller and other clients to call the service broker.\nIt is an object where each key is a user name and the value is the respective password in format `sha256:<salt>:<hash-digest-of-salt+password>`.\nHere `<salt>` and `<hash-digest-of-salt+password>` are _base64_-encoded strings.\nIt may contain multiple credentials but at least one is required.\n\nExample:\n```json\n{\n  \"user1\": \"sha256:gVJILqx/97j4aWVQas5RbSUFpWzu7OpaHOt0O29CJOc=:4klnhxFY2YYwzHO7unYu7jc+HuikQLhF7Ebk8tjOJ9c=\",\n  \"user2\": \"sha256:0NRIb4Gzx1zFRTTs6qpElujmHuUE1TAIg3NbES219f0=:Gv1NMeIzxlbmOCLvY3q4DMbiDXamqF3xRfFivUdligo=\"\n}\n```\n\nThese credentials can be provided via the option `brokerCredentialsHash` or the environment variable `SBF_BROKER_CREDENTIALS_HASH`.\n\n**Note:** Service broker credentials must be provided either in [plain text](#servic-broker-plain-text-credentials) or hashed format. \n\n**Note:** To generate such hashed credentials, you can use the [hash-broker-password](#hash-broker-password) script.\n#### mTLS Authentication\n##### Out-of-the-Box mTLS\n***Note:*** For those of you who use out-of-the-box mTLS, ***we recommend using unique credentials, i.e. Basic authentication, alongside out-of-the-box*** mTLS, to ensure accurate identification in relation to your brokers. This can assist in identifying potential misconfiguration incidents.\n\n\nYou can configure SBF broker to verify the Service Manager-issued client certificate each time the Service Manager communicates with the broker. \n\nFor that, you need to create your broker with the `secureIncomingConnections` option set to true, or set the environment variable `SBF_SECURE_INCOMING_CONNECTIONS` to true.\n\nYou also have to specify the Service Manager certificate's subject so that its identity can be verified.\nIf you don't specify the Service Manager certificate's subject the out-of-box validation is not performed. \n\n***Note:***\nIn such case, the only validation performed is the one that your provided with the implementation of the  [verifyClientCertificate](#verifyclientcertificateparams-callback) hook. \n\nIf the hook is also not implemented, the validation fails.  \n\nTo set the Service Manager certificate's subject, create the broker with the `serviceManagerCertificateSubject` parameter or set the `SBF_SERVICE_MANAGER_CERTIFICATE_SUBJECT` environment variable.\nYou can retrieve the Service Manager certificate's subject at `https://service-manager.cfapps.{landscape-domain}/v1/info` from the `service_manager_certificate_subject` field, where `{landscape-domain}` is the landscape in which you registered your broker. \n\nFor example, calling https://service-manager.cfapps.stagingaws.hanavlab.ondemand.com/v1/info, returns \n```\n{\n  \"token_issuer_url\": \"https://svcmgr.authentication.stagingaws.hanavlab.ondemand.com\",\n  \"token_basic_auth\": false,\n  \"service_manager_tenant_id\": \"svcmgr-cf-us10-staging\",\n  \"service_manager_subaccount_id\": \"svcmgr-cf-us10-staging\",\n  \"service_manager_certificate_subject\":\"/C=DE/O=SAP SE/OU=SAP Cloud Platform Clients/OU=Staging/OU=svcmgr-cf-us10-staging/L=service-manager/CN=service-manager\"\n}\n```\n\n\n You can enhance the out-of-box client certificate verification by implementing the [verifyClientCertificate](#verifyclientcertificateparams-callback) hook. \n \n With this hook, you can perform your own validations.\n\n##### Customized mTLS\nAlternatively, you can register your broker with your own certificate. \n\nOnce the service broker has been registered, it will send the client certificate you configured each time it communicates with SBF. \n\nTo enable this verification, make sure to create your broker with  the `secureIncomingConnections` option set to true, or set the `SBF_SECURE_INCOMING_CONNECTIONS` environment variable to true.\nYou have to implement  [verifyClientCertificate](#verifyclientcertificateparams-callback) hook to verify the received certificate.\n\n### Audit logging\n\n_@sap/sbf_ writes to audit log for every operation except for _catalog_\n(an instance of the Audit log service should be bound to the broker).\nThe user is taken from the first of the following that contains a valid value:\n- `X-Broker-API-Originating-Identity` header (if provided), property `user_id` (in case running on Cloud Foundry).\n- `X-Broker-API-Originating-Identity` header (if provided), property `uid` (in case running on Kubernetes).\n- `X-Broker-API-Originating-Identity` header (if provided), property `username` (in case running on Kubernetes).\n- The authenticated user that calls the service broker.\n\nIt is recommended to use the same user in hooks that also write audit messages.\nWhat the `X-Broker-API-Originating-Identity` header contains (if present) can be found\nin the `originating_identity` property of the `params` object passed to the hook.\nIf `originating_identity` is not available, then the `user_id` property can be used.\nIt contains the authenticated user that called the broker.\n\n#### Auditlog Viewer\n\nIn Cloud Foundry environment the [Auditlog Viewer](https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/e3baa5f1a0c64c44aac8ab3ea3d1b500.html) is the tool used for retrieving audit logs. The tool shows logs for concrete subaccount. In order for the SBF application to write auditlog messages properly it needs **tenant ID**.\n\n##### Running on XSA\nIn XSA environment the tenant ID can be provided but **it is not mandatory**, since the audit logs are viewed in the *SAP HANA Studio* and not in Auditlog viewer (it is deprecated).\n\n##### Providing the tenant ID\nThe value of the tenant ID can be taken from the *SAP CP Cockpit*. It is listed as `ID` in the Subaccount details for the subaccount that will deploy the SBF application.\nThen it can be provided to the SBF application:\n- manually by setting [`tenantId`](#new-servicebrokeroptions) in SBF options.\n- manually by setting [`SBF_TENANT_ID`](#environment-variables) environment variable.\n- automatically if XSUAA is used as credentials provider. It is part of the service instance binding.\n\nThe priority of the above settings is as follows:\n`tenantId` > `SBF_TENANT_ID` > *XSUAA service instance binding: credentials.tenantid*\n\nPlease be aware that if you are running in Cloud Foundry and Audit logging is ***enabled*** you **must provide *tenant ID*** for the broker application. Otherwise it will fail to start with error: `Audit logging is enabled and \"tenantId\" option or \"SBF_TENANT_ID\" environment variable must be provided for successful writing of audit log messages.`.\n\n## Reference\n\n### Class: ServiceBroker\nService broker class.\n\n#### new ServiceBroker([options])\nCreates a new ServiceBroker instance.\n\n* `options` *Object* Optional parameter containing the following properties:\n  * [`brokerCredentials`](#service-broker-credentials) *Object* The credentials for calling the service broker, if using the plain text format.\n  * [`brokerCredentialsHash`](#service-broker-hashed-credentials) *Object* The credentials for calling the service broker, if using the hashed format.\n  * [`catalog`](#service-catalog) *String|Object* This property holds the service catalog. If it is a *String*, it should be a path to a JSON file which contains the catalog information.\n  * [`serviceConfig`](#additional-service-configuration) *Object* Provides additional deploy-time configuration to extend the service catalog.\n  * [`hooks`](#hooks) *Object* Contains callback functions that can extend or customize service broker operations.\n  * [`autoCredentials`](#automatic-credentials-generation) *Boolean* Enable automatic credentials generation.\n  * [`credentialsProviderService`](#credentials-provider-service) *String* The name of the credentials provider service instance.\n  * [`sbssRestrictedUserService`](#credentials-provider-service) *String* The name of the service containing SBSS restricted user credentials.\n  * [`catalogSuffix`](#unique-service-broker) *String* Suffix which will be appended to each service name, ID and plan ID in the service catalog to make them unique across Cloud Foundry.\n  * [`enableAuditLog`](#audit-logging) *Boolean* Enable/Disable audit logging. Defaults to **true**.\n  * [`tenantId`](#auditlog-viewer) *String* Tenant ID of the broker application. It is used for audit logging. Mandatory if the broker is running on CF and audit logging is enabled.\n  * [`secureOutgoingConnections`](#secure-outgoing-connections) *Boolean* If *false*, unencrypted outgoing connections will be allowed. Default value is **true**.\n  * [`secureIncomingConnections`](#mtls-authentication) *Boolean* If set to *true*, secure connection is established and the custom hook [verifyClientCertificate](#verifyclientcertificateparams-callback) is called . For the automatic verification of the Service Manager certificate's subject, you also have to configure the `serviceManagerCertificateSubject`. Default value is **false**.\n  * [`serviceManagerCertificateSubject`](#out-of-the-box-mtls) *String* If `secureIncomingConnections` is set to true and `serviceManagerCertificateSubject` is configured to the Service Manager certificate's subject in the broker's landscape, the Service Manager [client certificate](#out-of-the-box-mtls) is verified in each public landscape.\n  * [`clientCertificateKey`](#authentication-using-x509-client-certificates) *String* the private key corresponding to the client certificate used for authentication with XSUAA.\n  * [`secureUAAScopes`](#xsuaa) *Boolean* Relevant for [XSUAA as a credentials provider](#xsuaa). When set to `true` and no `authorities` section was provided in [Additional service configuration](#additional-service-configuration) (`extend_xssecurity`), SBF will pass an empty `authorities` array in create/update requests to XSUAA, regardless of the `authorities` provided by the consumer. Default: `true`.<br/> **Note: This behavior and environment variable form an incompatible change from release v6.4.9**.\n  * [`k8sSecretsPath`](#credentials-providers) *String* the path to the mounted volume containing service secrets when running on K8S. Default is '/etc/secrets/sapcp/'.\n\n#### ServiceBroker.start()\nStarts the service broker.\n\n* _returns_ the [http.Server](https://nodejs.org/api/http.html#http_class_http_server) used by the service broker\n\nYou can attach handlers for 'error' and 'listening' events like this:\n```js\nlet broker = new ServiceBroker(options);\nlet server = broker.start();\nserver.on('error', err => console.error(err));\nserver.on('listening', () => console.log('Listening'));\n```\n\n#### ServiceBroker.app\nExpress application which you can use as a middleware. See [Service broker as middleware](#service-broker-as-middleware).\n\n#### ServiceBroker.callXsuaa(req, options, callback)\nUtility function to easily make HTTP calls to XSUAA. Authentication to XSUAA is performed internally.\n\n* `req` *Object* Details can be found [here](#req).\n* `options` *Object* Parameter containing the following properties:\n  * `baseUrlProperty` *String* Name of a property from the XSUAA credentials to be used as base URL. Defaults to `url`.\n  * `path` *String* XSUAA REST API endpoint. This path will be appended to the XSUAA base URL internally.\n  * The [options](https://github.com/request/request#requestoptions-callback) described in the documentation of the [axios request](https://www.npmjs.com/package/axios) package.\n* `callback` *function(error, res, body)*\n  * The [parameters](https://github.com/request/request#requestoptions-callback) described in the documentation of the [axios request](https://www.npmjs.com/package/axios) package.\n\nExample:\n```js\nconst Broker = require('@sap/sbf');\n\nlet broker = new Broker({\n  hooks: {\n    onProvision: (params, callback) => {\n      const encodedInstanceId = encodeURIComponent(params['instance_id']);\n      let options = {\n        path: `/sap/rest/broker/clones/${encodedInstanceId}`,\n        method: 'GET'\n      };\n      broker.callXsuaa(params.req, options, (err, res, body) => {\n        if (err) { return callback(err); }\n\n        if (res.statusCode !== 200) {\n          return callback(new Error(`Status code: ${res.statusCode}. Body: ${body}`));\n        }\n\n        try {\n          const cloneInfo = JSON.parse(body);\n          console.log('XSUAA clone info:', cloneInfo);\n          callback();\n        } catch (err) {\n          callback(new Error(`Failed to parse UAA response with status code ${res.statusCode} and body ${body}`));\n        }\n      });\n    }\n  }\n});\nlet server = broker.start();\n```\n\n#### (static) ServiceBroker.createCredentialsProvider(credentials)\n\nCreates a suitable [credentials provider](#credentials-providers) instance according to the passed `credentials`.\nDisabling [automatic credentials generation](#automatic-credentials-generation) and manually creating a credentials provider allows using multiple providers in the same broker and brings more flexibility when extending the broker with custom code.\n\n**Note**: This approach requires implementing the relevant hooks (`onProvision`, `onBind`, `onUnbind` and `onDeprovision`) and calling the respective method on the created provider.\n\n* `credentials` *Object* Credentials for a UAA or an SBSS service.\n\n**Note**: If using SBSS on PostgreSQL, the restricted user properties should be provided in the `restrictedUser` property of `credentials`. Example:\n\n```js\nconst credentials = xsenv.cfServiceCredentials('postgre-service-name');\ncredentials.restrictedUser = xsenv.cfServiceCredentials('restricted-user-service-name');\nconst provider = Broker.createCredentialsProvider(credentials);\n```\n\n* Returns a [credentials provider](#credentials-providers) instance.\n\nA credentials provider has the following methods:\n\n* `provision(req, callback)`\nPerforms operations associated with service provisioning.\n  * `req` *Object* Details can be found [here](#req).\n  * `callback` *function(error, operationData)* An error is received in the callback in case of operations' failure. `operationData` (optional) *Object* Contains operation data provided by the credentials provider. In case XSUAA is used as a credentials provider `operationData` contains a property `xsuaa` which is an *Object* described [here](#xsuaa-clone-info).\n\n* `update(req, callback)`\nPerforms operations associated with service updating.\n  * `req` *Object* Details can be found [here](#req).\n  * `callback` *function(error, operationData)* An error is received in the callback in case of operations' failure. `operationData` (optional) *Object* Contains operation data provided by the credentials provider. In case XSUAA is used as a credentials provider `operationData` contains a property `xsuaa` which is an *Object* described [here](#xsuaa-clone-info).\n\n* `bind(req, callback)`\nPerforms operations associated with service binding.\n  * `req` *Object* Details can be found [here](#req).\n  * `callback` *function(error, credentials)* An error is received in the callback in case of operations' failure. `credentials` is an object containing the generated credentials.\n\n* `unbind(req, callback)`\nPerforms operations associated with service unbinding.\n  * `req` *Object* Details can be found [here](#req).\n  * `callback` *function(error)* An error is received in the callback in case of operations' failure.\n\n* `deprovision(req, callback)`\nPerforms operations associated with service deprovisioning.\n  * `req` *Object* Details can be found [here](#req).\n  * `callback` *function(error)* An error is received in the callback in case of operations' failure.\n\nIn addition, a UAA credentials provider has the following method:\n\n* `callXsuaa(req, options, callback)`\nSee [this section](#servicebrokercallxsuaareq-options-callback) for more information.\n\nExample:\n\n```js\nconst Broker = require('@sap/sbf');\n\n// Applications can have a single provider:\n// const provider = Broker.createCredentialsProvider({ /* ... */ })\n\n// or multiple providers, shown below\n\nlet broker = new Broker({\n  autoCredentials: false,\n  hooks: {\n    onProvision: (params, callback) => {\n      // validate request's params\n      const provider = Broker.createCredentialsProvider({ /* ... */ });\n      provider.provision(params.req, callback);\n    },\n    onBind: (params, callback) => {\n      const provider = Broker.createCredentialsProvider({ /* ... */ });\n      provider.bind(params.req, (err, credentials) => {\n        if (err) { return callback(err); }\n        credentials.url = '...';\n        callback(null, { credentials });\n      });\n    },\n    onUnbind: (params, callback) => {\n      const provider = Broker.createCredentialsProvider({ /* ... */ });\n      provider.unbind(params.req, callback);\n    },\n    onDeprovision: (params, callback) => {\n      const provider = Broker.createCredentialsProvider({ /* ... */ });\n      provider.deprovision(params.req, callback);\n    }\n  }\n});\nlet server = broker.start();\n```\n\n**Note**: Provision and bind are operations associated with creating a resource in the service used for credentials generation. If an error has occurred in a hook after the respective provider method has been called (i.e. `provider.provision` and `provider.bind`), it is recommended that hooks also call the opposite method (i.e. `provider.deprovision` and `provider.unbind`) to clean up the already created resources.\n\n### Service Broker Credentials\nCredentials in plain text format used by the Cloud Controller and other clients to call the service broker.\nIt is an object where each key is a user name and the value is the respective password. It may contain multiple credentials but at least one is required.\n\nExample:\n```json\n{\n  \"user1\": \"password1\",\n  \"user2\": \"password2\"\n}\n```\n\nThese credentials can be provided via the option `brokerCredentials` or the environment variable `SBF_BROKER_CREDENTIALS`.\n\n**Note:** Service broker credentials must be provided either in plain text or [hashed](#service-broker-hashed-credentials) format. The service broker will not work if credentials in neither or both formats are present.\n\n### Service Broker Hashed Credentials\nCredentials in hashed format used by the Cloud Controller and other clients to call the service broker.\nIt is an object where each key is a user name and the value is the respective password in format `sha256:<salt>:<hash-digest-of-salt+password>`.\nHere `<salt>` and `<hash-digest-of-salt+password>` are _base64_-encoded strings.\nIt may contain multiple credentials but at least one is required.\n\nExample:\n```json\n{\n  \"user1\": \"sha256:gVJILqx/97j4aWVQas5RbSUFpWzu7OpaHOt0O29CJOc=:4klnhxFY2YYwzHO7unYu7jc+HuikQLhF7Ebk8tjOJ9c=\",\n  \"user2\": \"sha256:0NRIb4Gzx1zFRTTs6qpElujmHuUE1TAIg3NbES219f0=:Gv1NMeIzxlbmOCLvY3q4DMbiDXamqF3xRfFivUdligo=\"\n}\n```\n\nThese credentials can be provided via the option `brokerCredentialsHash` or the environment variable `SBF_BROKER_CREDENTIALS_HASH`.\n\n**Note:** Service broker credentials must be provided either in [plain text](#service-broker-credentials) or hashed format. The service broker will not work if credentials in neither or both formats are present.\n\n**Note:** To generate such hashed credentials, you can use the [hash-broker-password](#hash-broker-password) script.\n\n### Service Catalog\nThis is a JSON object describing all services and plans offered by this service broker. Its structure is described in [Catalog Management](https://docs.cloudfoundry.org/services/api.html#catalog-management) in Cloud Foundry documentation.\n\nBy default the service catalog is loaded from *./catalog.json* file. Alternatively, the catalog file could be explicitly set via the `SBF_CATALOG_FILE` environment variable.\n\n**Note:** In case of IAS as a credentials provider, the catalog is provided to the IAS instance. Do not provide the *./catalog.json* file. See more in the [IAS](#ias) section.\n\n**Note:** Each service name, ID and plan ID in the catalog must be unique across Cloud Foundry.\nGUIDs are recommended for service ID and plan ID.\nSee [Unique service broker](#unique-service-broker).\n\n**Warnings for broker authors:**\n- Be cautious when removing services and plans from their catalogs, as platform marketplaces might have provisioned service instances of these plans. Consider your deprecation strategy.\n- Do not change the IDs of services and plans. This action is likely to be evaluated by a platform marketplace as a removal of one plan and addition of another. See above warning about removal of plans.\n\n**Note:** For the service image to display correctly in the cockpit it should be encoded as Base64 in the property `metadata.imageUrl` instead of a URL.\n\nService catalog example:\n```json\n{\n  \"services\": [{\n    \"name\": \"not-real-service\",\n    \"id\": \"acb56d7c-XXXX-XXXX-XXXX-feb140a59a66\",\n    \"description\": \"Just an example service\",\n    \"tags\": [\"no-sql\", \"relational\"],\n    \"requires\": [\"route_forwarding\"],\n    \"bindable\": true,\n    \"metadata\": {\n      \"provider\": {\n        \"name\": \"The name\"\n      },\n      \"listing\": {\n        \"imageUrl\": \"http://example.com/cat.gif\",\n        \"blurb\": \"Add a blurb here\",\n        \"longDescription\": \"A long time ago, in a galaxy far far away...\"\n      },\n      \"displayName\": \"The Fake Broker\"\n    },\n    \"dashboard_client\": {\n      \"id\": \"398e2f8e-XXXX-XXXX-XXXX-19a71ecbcf64\",\n      \"secret\": \"277cabb0-XXXX-XXXX-XXXX-7822c0a90e5d\",\n      \"redirect_uri\": \"http://localhost:1234\"\n    },\n    \"plan_updateable\": true,\n    \"plans\": [{\n      \"name\": \"fake-plan-1\",\n      \"id\": \"d3031751-XXXX-XXXX-XXXX-a42377d3320e\",\n      \"description\": \"Shared fake Server, 5tb persistent disk, 40 max concurrent connections\",\n      \"max_storage_tb\": 5,\n      \"metadata\": {\n        \"costs\":[\n            {\n               \"amount\":{\n                  \"usd\":99.0\n               },\n               \"unit\":\"MONTHLY\"\n            },\n            {\n               \"amount\":{\n                  \"usd\":0.99\n               },\n               \"unit\":\"1GB of messages over 20GB\"\n            }\n         ],\n        \"bullets\": [\n            \"Shared fake server\",\n            \"5 TB storage\",\n            \"40 concurrent connections\"\n        ],\n      }\n    }, {\n      \"name\": \"fake-plan-2\",\n      \"id\": \"0f4008b5-XXXX-XXXX-XXXX-dace631cd648\",\n      \"description\": \"Shared fake Server, 5tb persistent disk, 40 max concurrent connections. 100 async\",\n      \"max_storage_tb\": 5,\n      \"metadata\": {\n        \"costs\":[\n            {\n               \"amount\":{\n                  \"usd\":199.0\n               },\n               \"unit\":\"MONTHLY\"\n            },\n            {\n               \"amount\":{\n                  \"usd\":0.99\n               },\n               \"unit\":\"1GB of messages over 20GB\"\n            }\n         ],\n        \"bullets\": [\n          \"40 concurrent connections\"\n        ]\n      }\n    }]\n  }]\n}\n```\n\n### Additional Service Configuration\nThis is a JSON object that provides additional deploy-time configuration.\nUsually this is used for configurations which are not known in advance like URLs.\nEach key in this object should match a service `name` in the catalog. Its value should be an object with the following optional properties:\n* `extend_credentials` An object, containing these optional properties.\n  * `shared` An object that is merged with the `credentials` object returned by the *bind* operation for this service.\n  * `per_plan` An object where each key should match a plan of this service. The value is an object that is merged with the `credentials` object returned by the *bind* operation for this service and plan.\n  Overrides any common properties in `shared` object.\n* `extend_xssecurity` An object, containing these optional properties.\n  * `shared` An object that will overwrite the properties that are sent to the XSUAA on service instance creation. It should have the same structure as [xs-security.json].\n  * `per_plan` An object where each key should match a plan of this service. The value is an object that overwrites the properties that are sent to XSUAA when a service instance of this plan is created. This object should have the same structure as [xs-security.json].\n  Overrides any common properties in `shared` object.\n* `extend_catalog` An object that is merged with the object describing this service in the catalog.\n\nAll of these properties are optional.\n\nThis configuration can be provided via the option `serviceConfig` or the environment variable `SBF_SERVICE_CONFIG`.\n\nExample:\n```js\n{\n  \"service1\": {\n    \"extend_credentials\": {\n      \"shared\": {\n        // This will go into credentials when binding\n        // Common properties for all plans\n      },\n      \"per_plan\": {\n        \"plan1\": {\n          // Properties specific to this plan\n          // This will be merged with \"shared\" and will go to credentials when binding\n        },\n        \"plan2\": {\n          \"uri\": \"http://some.host/plan2\"\n        }\n      }\n    },\n    \"extend_xssecurity\": {\n      \"shared\": {\n        // This object will extend the properties that are sent to the XSUAA on service instance creation\n        // Common properties for all plans\n        \"authorities\": [\"$XSMASTERAPPNAME.shared_limited_scope\"]\n      },\n      \"per_plan\": {\n        \"plan1\": {\n          // This object will extend the properties that are sent to the XSUAA on service instance creation\n          // This will overwrite \"shared\" properties\n          \"authorities\": [\"$XSMASTERAPPNAME.plan_limited_scope\"]\n        }\n      }\n    },\n    \"extend_catalog\": {\n      // Will hold free-form JSON that will be merged with the catalog description for service \"service1\"\n      \"dashboard_client\": {\n        \"id\": \"133423\",\n        \"secret\": \"secret\",\n        \"redirect_uri\": \"http://some.host/dashboard\"\n      },\n      \"metadata\": {\n        \"documentationUrl\": \"http://vendor.com/docs\",\n        \"supportUrl\": \"http://vendor.com/support\"\n      }\n    }\n  }\n}\n```\n\n### Automatic Credentials Generation\nBy default this module will try to find a suitable credentials provider service using the strategies described [here](#credentials-providers).\n\nThis behavior can be disabled via the `autoCredentials` option so you can take full control of credentials generation in your code.\nIn this case the `onBind` hook must be implemented as it is responsible for providing the credentials in the reply.\n\n**Note:** To ensure consistent security, it is highly recommended that applications and services use security features provided by the platform instead of implementing their own.\n\n### Credentials Provider Service\n\nIt is possible to explicitly specify the credentials provider service name when [automatic credentials generation](#automatic-credentials-generation) is enabled. This could be achieved via the `credentialsProviderService` option or via the environment variable `SBF_CREDENTIALS_PROVIDER_SERVICE`.\n\nThe same applies for providing restricted user credentials (SBSS on PostgreSQL case) where the service name can be provided via the `sbssRestrictedUserService` option or via the environment variable `SBF_SBSS_RESTRICTED_USER_SERVICE`.\n\nNotice that when running on K8S you should also provide a path to the volume where you have mounted those credentials unless you're relying on the default one. See k8sSecretsPath option [here](#new-servicebrokeroptions).\n\n### Business Service Support\n\nSBF will automatically add the following properties to the credentials returned in the response to a bind request:\n* `html5-apps-repo` - object containing `app_host_id` property\n* `sap.cloud.service`\n* `sap.cloud.service.alias`\n* `saasregistryenabled`\n\n**Note:** In case of IAS as a credentials provider, properties `sap.cloud.service`, `sap.cloud.service.alias` and `saasregistryenabled` will not be automatically returned. See more in the [IAS](#ias) section.\n\n**Note:** In order to provide the `html5-apps-repo` automatically as part of the service credentials, the service broker must be bound to at least one *html5-apps-repo* service instance (*app-host* plan). In the case of K8S the service instance will be looked up by label *html5-apps-repo*.\n\nIt is also possible to dynamically provide `app_host_id` in the [`onBind`](#onbindparams-callback) hook which will be merged with the `app_host_id`(s) of the already bound *html5-apps-repo* service instance(s) (if any). This can be achieved via the `reply.credentials` object returned by the `onBind` hook:\n\n```js\nfunction onBind(params, callback) {\n  // obtain 'app_host_id'\n  const appHostId = 'dynamic_app_host_id';\n\n  const reply = {\n    credentials = {\n      'html5-apps-repo': {\n        'app_host_id': appHostId // Multiple `app_host_id`s can be provided in a comma-separated list without spaces (e.g. 'app-host-1,app-host-2').\n      }\n    }\n  }\n\n  callback(null, reply);\n}\n```\n\n**Note:** It is expected that the `sap.cloud.service`, `sap.cloud.service.alias` and the `saasregistryenabled` properties are defined in the service catalog, under the `sapservice` property of the service metadata, for example:\n```json\n{\n  \"services\": [{\n    \"name\": \"fake-service\",\n    \"id\": \"acb56d7c-XXXX-XXXX-XXXX-feb140a59a66\",\n    \"description\": \"fake service\",\n    \"tags\": [\"no-sql\", \"relational\"],\n    \"bindable\": true,\n    \"metadata\": {\n      \"sapservice\": {\n        \"sap.cloud.service\": \"com.sap.sbf.testservice\",\n        \"sap.cloud.service.alias\": \"country\",\n        \"saasregistryenabled\": true\n      }\n    },\n    \"plan_updateable\": true,\n    \"plans\": [{\n      \"name\": \"fake-plan-1\",\n      \"id\": \"d3031751-XXXX-XXXX-XXXX-a42377d3320e\",\n      \"description\": \"Shared fake Server, 5tb persistent disk, 40 max concurrent connections\",\n      \"max_storage_tb\": 5,\n    }]\n  }]\n}\n```\n\n### Hooks\nHooks are custom callback functions that allow you to extend and even replace default service broker functionality.\n\n\n#### `verifyClientCertificate(params, callback)`\nThis hook is called on each received request in SBF if the service broker was configured with the `SBF_SECURE_INCOMING_CONNECTIONS` parameter (See [Environment variables](#environment-variables)) set to true.\n\n* `params` *Object*\n  * `clientCertificate` *String*  Service Manager certificate.  \n  * `req` *Object* See [here](#req) for more details.\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error Handling](#error-handling).\n  * `reply` *Object* An object returned as a response to each request.\n  \n```js\n  const broker = new Broker({\n    autoCredentials: true,\n  \thooks: {\n      verifyClientCertificate:(params, callback) =>{\n          console.log(params.clientCertificate);\n          //do you validations here\n          //in case of failed verification pass Forbidden\n           callback(new Forbidden());\n                              \n      }\n    }});\n  broker.start();\n```\n\nSBF performs no additional processing for this operation.\n\n**Note:** Implementing `verifyClientCertificate` is not mandatory.\n\n#### `onProvision(params, callback)`\nCalled when the broker receives a *provision* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* Details can be found [here](#req).\n  * `xsuaa` *Object* (Optional) Details can be found [here](#xsuaa-clone-info).\n  * The parameters described in the OSB API specification under [Provisioning, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters-1)\n  * The fields described in the OSB API specification under [Provisioning, Body](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#body-2)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *provision* request.\n    * `async` *Boolean* (Optional) Specifies whether the provision operation is started asynchronously. Default is `false`. It will not be included in the response.\n    * `dashboard_url` *String* (Optional) The URL of a web-based management user interface for the service instance; we refer to this as a service dashboard. The URL MUST contain enough information for the dashboard to identify the resource being accessed. **Note:** a broker that wishes to return *dashboard_url* for a service instance MUST return it with the initial response to the provision request, even if the service is provisioned asynchronously.\n    * `operation` *String* (Optional) For asynchronous responses, service brokers MAY return an identifier representing the operation. The value of this field SHOULD be provided by the broker client with requests to the Last Operation endpoint in a URL encoded query parameter.\n\n**Note:** The default SBF operation is executed _before_ this hook is called. For example, if XSUAA is used, the OAuth client clone is already created.\n\n#### `onUpdate(params, callback)`\nCalled when the broker receives an *update* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* Details can be found [here](#req).\n  * `xsuaa` *Object* (Optional) Details can be found [here](#xsuaa-clone-info).\n  * The parameters described in the OSB API specification under [Updating a Service Instance, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters-2)\n  * The fields described in the OSB API specification under [Updating a Service Instance, Body](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#body-4)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *update* request.\n    * `async` *Boolean* (Optional) Specifies whether the update operation is started asynchronously. Default is `false`. It will not be included in the response.\n    * `operation` *String* (Optional) For asynchronous responses, service brokers MAY return an identifier representing the operation. The value of this field SHOULD be provided by the broker client with requests to the Last Operation endpoint in a URL encoded query parameter.\n\n**Note:** The default SBF operation is executed _before_ this hook is called. For example, if XSUAA is used, the OAuth client clone is already updated.\n\n#### `onDeprovision(params, callback)`\nCalled when the broker receives a *deprovision* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* Details can be found [here](#req).\n  * The parameters described in the OSB API specification under [Deprovisioning, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters-4)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *deprovision* request.\n    * `async` *Boolean* (Optional) Specifies whether the deprovision operation is started asynchronously. Default is `false`. It will not be included in the response.\n    * `operation` *String* (Optional) For asynchronous responses, service brokers MAY return an identifier representing the operation. The value of this field SHOULD be provided by the broker client with requests to the Instance Last Operation endpoint in a URL encoded query parameter.\n\n**Note:** The default SBF operation is executed right _after_ this hook and before the HTTP response is returned.\nFor example, if XSUAA is used, the OAuth client clone will be deleted right after this hook, even in case of an async operation (`reply.async == true`).\n\n**Note:** This hook should be repeatable (idempotent), i.e. if it completes successfully once, any subsequent invocations with the same parameters should be successful too. This is necessary in case the default SBF operation fails. Then it should be possible to repeat the whole operation to complete the cleanup. Also the platform may execute _deprovision_ after a failed _provision_ operation as part of [orphan mitigation](https://github.com/openservicebrokerapi/servicebroker/blob/master/spec.md#orphans). So `onDeprovision` hook may be called even when the service instance and associated resources do not exist.\n\n#### `onLastOperation(params, callback)`\nCalled when the broker receives a *last operation* request for an **instance**.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* Details can be found [here](#req).\n  * The parameters described in the OSB API specification under [Polling Last Operation, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *last operation* request.\n    * `state` *String* Valid values are \"in progress\", \"succeeded\", and \"failed\". While \"state\": \"in progress\", the platform SHOULD continue polling. A response with \"state\": \"succeeded\" or \"state\": \"failed\" MUST cause the platform to cease polling.\n    * `description` *String* (Optional) A user-facing message displayed to the platform API client. Can be used to tell the user details about the status of the operation.\n\n\nSBF performs no additional processing for this operation, except for [IAS as credentials provider](#ias), where the request is proxied to the IAS Broker.\n\n**Note:** Implementing `onLastOperation` is mandatory, if any other instance operation hook returns `reply.async = true` (apart from IAS flow). If this hook is not implemented, SBF returns status 501 (Not Implemented). If IAS is the credentials provider, the hook is optional.\n\nSee [Asynchronous broker operations](#asynchronous-broker-operations) for more information.\n\n#### `onFetchInstanceParams(params, callback)`\nCalled when the broker receives a *fetch instance* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (you can find more information about the structure [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* See [here](#req) for more details.\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *instance parameters* request.\n\nSBF performs no additional processing for this operation, except for [IAS as credentials provider](#ias), where the request is proxied to the IAS Broker.\n\n**Note:** Make sure to set the `instances_retrievable` property in the broker catalog to `true`.\n\n**Note:** Implementing `onFetchInstanceParams` is not mandatory, but we recommend that you implement it together with the [onProvision hook](#onprovisionparams-callback),which is used to store parameters (SBF doesn't handle parameters' storage). If this hook isn't implemented, SBF returns status 501 (Not Implemented).\n\n**Note:** The OSB specification defines the expected response body for this request. Please review it [here](https://github.com/openservicebrokerapi/servicebroker/blob/master/spec.md#fetching-a-service-instance). For instance, the response body expects a `parameters` object, which is what CF is looking for as an OSB platform.\n\n#### `onBind(params, callback)`\nCalled when the broker receives a *bind* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `binding_id` *String* Service binding ID. It will be used for future unbind requests, so the broker will use it to correlate the resource it creates.\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `generatedCredentials` *Object* (Optional) The credentials object generated by the [credentials provider](#credentials-providers). It is not provided if the `autoCredentials` option is `false`.\n  * `req` *Object* Details can be found [here](#req).\n  * The fields described in the OSB API specification under [Binding, Body](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#body-6)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *bind* request.\n    * `credentials` *Object* A free-form object of credentials that can be used by applications or users to access the service.\n\nThe `credentials` object in the response will be produced by merging:\n1. `reply.credentials` returned from `onBind`\n2. Credentials generated by the [Credentials Provider Service](#credentials-provider-service), unless [disabled](#automatic-credentials-generation)\n3. The properties described in the [Business Service Support](#business-service-support) section\n4. Binding properties for the given service and plan from [Additional Service Configuration](#additional-service-configuration)\n\nHere each object overwrites common properties in the next one.\n\n**Note:** The default SBF operation is executed _before_ this hook is called. For example, if SBSS is used, the binding credentials are already created.\n\n**Note:** Implementing `onBind` hook is mandatory, if `autoCredentials` option is `false`.\nIn this case `onBind` must provide the necessary credentials in `reply.credentials`.\n\n**Note:** If the `onBind` hook returns a 202 status code for async operation (`reply.async = true`), you are required to also implement the [onBindLastOperation](#onbindlastoperationparams-callback) and [onFetchBindingParams](#onfetchbindingparamsparams-callback) hooks (not mandatory in IAS flow).<br/>\nThis is defined in the OSB specification [async binding response handling](https://github.com/openservicebrokerapi/servicebroker/blob/master/spec.md#response-6).\n\n#### `onUnbind(params, callback)`\nCalled when the broker receives an *unbind* request.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `binding_id` *String* Service binding ID. It will be used for future unbind requests, so the broker will use it to correlate the resource it creates.\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n  Contains the parsed data from the header (more information about the structure can be found [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* Details can be found [here](#req).\n  * The parameters described in the OSB API specification under [Unbinding, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters-3)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *unbind* request.\n    * `async` *Boolean* (Optional) Specifies whether the unbind operation is started asynchronously. Default is `false`. It will not be included in the response.\n    * `operation` *String* (Optional) For asynchronous responses, service brokers MAY return an identifier representing the operation. The value of this field SHOULD be provided by the broker client with requests to the Binding Last Operation endpoint in a URL encoded query parameter.\n\n**Note:** The default SBF operation is executed right _after_ this hook and before the HTTP response is returned.\nFor example, if SBSS is used, the binding credentials will be deleted right after this hook, even in case of an async operation (`reply.async == true`).\n\n**Note:** This hook should be repeatable (idempotent), i.e. if it completes successfully once, any subsequent invocations with the same parameters should be successful too. This is necessary in case the default SBF operation fails. Then it should be possible to repeat the whole operation to complete the cleanup. Also the platform may execute _unbind_ after a failed _bind_ operation as part of [orphan mitigation](https://github.com/openservicebrokerapi/servicebroker/blob/master/spec.md#orphans). So `onUnbind` hook may be called even when the service binding and associated resources do not exist.\n\n#### `onBindLastOperation(params, callback)`\nCalled when the broker receives a *last operation* request for **binding**.\n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `binding_id` *String* Service binding ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n    Contains the parsed data from the header (You can find more information about the structure [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* You can find the details [here](#req).\n  * The parameters described in the OSB API specification under [Polling Last Operation, Parameters](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/spec.md#parameters)\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *last operation* request.\n    * `state` *String* Valid values are \"in progress\", \"succeeded\", and \"failed\". While \"state\": \"in progress\", the platform SHOULD continue polling. A response with \"state\": \"succeeded\" or \"state\": \"failed\" MUST cause the platform to cease polling.\n    * `description` *String* (Optional) A user-facing message displayed to the platform API client. Can be used to tell the user details about the status of the operation.\n\nSBF performs no additional processing for this operation, except for [IAS as credentials provider](#ias), where the request is proxied to the IAS Broker.\n\n**Note:** Implementing `onBindLastOperation` is mandatory, if any other binding operation hook returns `reply.async = true` (apart from IAS flow). If this hook is not implemented, SBF returns status 501 (Not Implemented). If IAS is the credentials provider, the hook is optional.\n\nSee [Asynchronous broker operations](#asynchronous-broker-operations) for more information.\n\n#### `onFetchBindingParams(params, callback)`\nCalled when the broker receives a *fetch binding* request. \n\n* `params` *Object*\n  * `instance_id` *String* Service instance ID\n  * `binding_id` *String* Service binding ID\n  * `originating_identity` *Object* Only available if the `X-Broker-API-Originating-Identity` header is provided in the request.\n    Contains the parsed data from the header (you can find more information about the structure [here](https://github.com/openservicebrokerapi/servicebroker/blob/v2.13/profile.md#originating-identity-header)).\n  * `user_id` *String* The authenticated user that called the broker.\n  * `req` *Object* See [here](#req) for more details.\n* `callback` *function(error, reply)*\n  * `error` *Object* See [Error handling](#error-handling).\n  * `reply` *Object* An object returned as a response to the *instance parameters* request.\n\nSBF performs no additional processing for this operation, except for [IAS as credentials provider](#ias), where the request is proxied to the IAS Broker.\n\n**Note:** Make sure to set the `bindings_retrievable` property in the broker catalog to `true`.\n\n**Note:** Implementing `onFetchBindingParams` is not mandatory, except for when the [onBind hook](#onbindparams-callback) is implemented and returns an async response, as defined by the OSB specification. In this case, the bind operation will be asynchronous, and the platform will poll for its last operation status, and finally will send a fetch binding request. <br/> If this hook isn't implemented, SBF returns status 501 (Not Implemented).\n\n**Note:** The OSB specification defines the expected response body for this request. Please review it [here](https://github.com/openservicebrokerapi/servicebroker/blob/master/spec.md#fetching-a-service-binding). For instance, the response body expects a `parameters` and `credentials` objects, which is what CF is looking for as an OSB platform.\n\n\n#### `params` details\n\n##### `req`\n\nAn [IncommingMessage](https://nodejs.org/api/http.html#http_class_http_incomingmessage) instance with additional properties:\n- `loggingContext` - attached to the request object by the _@sap/logging_ library, provides means of getting loggers and tracers. The `correlationId` property provided by the `loggingContext` can be used to correlate log entries from different components involved in a broker operation. More information is available in the documentation of the _@sap/logging_ package.\n\n##### `XSUAA clone info`\n\nAn *Object*, currently only provided in case XSUAA is used as a credentials provider. It contains OAuth client clone information. Available properties:\n- `tenantId` *String*\n\n#### Error handling\nThe `callback` function passed to each hook takes an `error` as its first argument.\nThis is the standard conventions for callback functions in Node.js.\n\n**Note:** The hook must call the `callback` _exactly_ once.\n\nIn case of success, the hook should pass `null` or `undefined` as `error` argument to the `callback`.\n\nIn case of error, the hook should pass an [Error](https://nodejs.org/api/errors.html#errors_class_error) object as `error` argument to the `callback`. In this case any subsequent arguments will be ignored.\n\nIf the `error.statusCode` is set, it will be returned as HTTP status code in the response.\nIn this case the error message will be sent to the broker client.\nOtherwise the broker will return HTTP status code 500 with a generic error message.\n\n### Environment variables\n\n- `SBF_CATALOG_FILE` - path to a catalog file, the default is *./catalog.json*, see [Service Catalog](#service-catalog)\n- `SBF_CATALOG_SUFFIX` - suffix to append to all service names, service IDs and plan IDs in the catalog, see [Unique service broker](#unique-service-broker)\n- `SBF_BROKER_CREDENTIALS` - JSON object with credentials in plain text format for calling the service broker, see [Service Broker Credentials](#service-broker-credentials)\n- `SBF_CLIENT_CERTIFICATE_KEY` - a string that represents the private key corresponding to the client certificate used for authentication with XSUAA, see [Authentication using X.509 client certificates](#authentication-using-x509-client-certificates)\n- `SBF_BROKER_CREDENTIALS_HASH` - JSON object with credentials in hashed format for calling the service broker, see [Service Broker Hashed Credentials](#service-broker-hashed-credentials)\n- `SBF_SERVICE_CONFIG` - provides additional deploy-time configuration, see [Additional service configuration](#additional-service-configuration)\n- `SBF_CREDENTIALS_PROVIDER_SERVICE` - the name of the credentials provider service instance, see [Credentials provider service](#credentials-provider-service)\n- `SBF_SBSS_RESTRICTED_USER_SERVICE` - the name of the service containing restricted user credentials (SBSS on PostgreSQL case), see [Credentials provider service](#credentials-provider-service)\n- `SBF_UAA_TIMEOUT` - timeout in milliseconds for requests to XSUAA, default is 20 seconds.\n- `SBF_SECURE_OUTGOING_CONNECTIONS` - if set to false `false`, unencrypted outgoing connections will be allowed, see [Secure outgoing connections](#secure-outgoing-connections)\n- `SBF_SECURE_INCOMING_CONNECTIONS` - if set to true `true`, a [secured connection](#mtls-authentication) is established and the custom hook [verifyClientCertificate](#verifyclientcertificateparams-callback) is called . For the automatic verification of the Service Manager certificate, you also have to configure the `SBF_SERVICE_MANAGER_CERTIFICATE_SUBJECT` environment variable.\n- `SBF_SERVICE_MANAGER_CERTIFICATE_SUBJECT` - the Service Manager client certificate's subject. This variable has to be configured so that the Service Manager [client certificate](#out-of-the-box-mtls) is verified. Also, set `SBF_SECURE_INCOMING_CONNECTIONS` to true. You can retrieve the Service Manager certificate's subject at `https://service-manager.cfapps.<landscape domain>/v1/info` from the `service_manager_certificate_subject` field. The URL changes depending on your landscape domains. For example, https://service-manager.cfapps.eu10.hana.ondemand.com/v1/info.\n- `SBF_ENABLE_AUDITLOG` - if `false` disable audit logging, otherwise it is enabled.\n- `SBF_TENANT_ID` - Mandatory if the broker application is running on Cloud Foundry and audit logging is *enabled*.\n- `SBF_SECURE_UAA_SCOPES` - Relevant for [XSUAA as a credentials provider](#xsuaa). When set to `true` and no `authorities` section was provided in [Additional service configuration](#additional-service-configuration) (`extend_xssecurity`), SBF will pass an empty `authorities` array in create/update requests to XSUAA, regardless of the `authorities` provided by the consumer. Default: `true`.<br/> **Note: This behavior and environment variable form an incompatible change from release v6.4.9**.\n- `PORT` - the port on which the service broker will listen for requests, default is 8080.\n\n### `gen-catalog-ids`\n\nEach service object and each service plan object has a mandatory _id_ field. Its value must be a non-empty string, globally unique within the platform marketplace. Using a GUID is recommended.\n\nThe _@sap/sbf_ package provides the `gen-catalog-ids` script which generates such GUIDs for you.\n\n```sh\nnpx gen-catalog-ids [<path-to-catalog.json>]\n```\nHere the file path argument is optional. If not provided, the command will use _catalog.json_ in the current directory.\nThis command will insert a new GUID as _id_ property for each service and each plan in the catalog.\nIt will not change any existing IDs - only the id properties with empty string for their value and the ones not provided at all.\nYou can run it after creating a new catalog or after adding more services or plans.\n\n**Note:** In the command above you may need to replace the forward slashes with backslashes, depending on your platform.\n\n### `hash-broker-password`\n\nIf you use service broker credentials in [hashed format](#service-broker-hashed-credentials), you will need to hash your plain text password. For this purpose the _@sap/sbf_ package provides the `hash-broker-passsword` script which does that for you.\n\nIf you want to use some password of your own, run:\n\n```sh\nnpx hash-broker-password\n```\n\nYou will be prompted to enter the plaintext password and will be given its hash in format `sha256:<salt>:<hash-digest-of-salt+password>`.\nHere `<salt>` is also generated by the script.\n\nOtherwise you can use the command in _batch_ mode:\n\n```sh\nnpx hash-broker-password -b\n```\n\nThat will generate a random 32-character plaintext password, random 32-byte salt and print them along with the hash.\nTake note of the generated password and hash as they will not be persisted.\n\nWhen you have your service broker hashed credentials generated, you should:\n* provide hashed credentials via the option `brokerCredentialsHash` or the environment variable `SBF_BROKER_CREDENTIALS_HASH`\n* provide the user and plaintext password when [registering the service broker](#register-the-service-broker).\n\n## Troubleshooting\n\n### Increase the log level\n\nThe service broker framework uses _@sap/logging_ package so all of its features are available to control logging.\nFor example to set all logging and tracing to finest level set `XS_APP_LOG_LEVEL` environment variable to `debug`.\nSee _@sap/logging_ documentation for details.\n\nSome of the libraries used by this package employ other tracing mechanisms. For example many use the popular [debug](https://www.npmjs.com/package/debug) package. This means that by setting `DEBUG` environment variable, you can enable additional traces. Set it to `*` to enable all of them, but be careful as the output may be overwhelming.\nIn addition, internal Node.js traces can be enabled via `NODE_DEBUG` environment variable.\n\n**Warning:** Enabling some of these options may trace security sensitive data, so use with caution.\n\n### @sap/sbf not found\n\nIf you get the following error during deployment\n```\n       npm ERR! 404 Not found : @sap/sbf\n       npm ERR! 404\n       npm ERR! 404  '@sap/sbf' is not in the npm registry.\n```\nRun `npm install` locally and make sure `node_modules` is not in *.cfignore* file.\nThen push again your broker application.\n\nIf you get that error when you run `npm install` locally, make sure to configure the proper npm registry as described on the wiki of this project.\n\n### Cannot execute start-broker script\n\nThe service broker may crash during startup on XS advanced with one of the following errors in the log:\n```\nexec: start-broker: not found\n```\n```\nstart-broker: cannot execute: Permission denied\n```\n\nThere are two possible solutions:\n* Set environment variable `ALWAYS_INSTALL` to `true` for the broker application\n* Change the `start` script in _package.json_ like this:\n```\n\"start\": \"node node_modules/@sap/sbf/sbf.js\"\n```\n\n### Create service fails with \"Client already exists\"\n\nIf `create-service` operation fails with error \"Client already exists\", you are probably attempting to create a second service instance with the same *xsappname* in the parameters. Note that *xsappname* should be different for each service instance.\n\n[xs-security.json]: https://help.sap.com/viewer/4505d0bdaf4948449b7f7379d24d0f0d/2.0.03/en-US/6d3ed64092f748cbac691abc5fe52985.html\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThere are _incompatible changes_ between _major_ versions.\nSee the [migration guide](migration.md) how to adapt.\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n<a name=\"6.6.7\"></a>\n## 6.6.7 - 2024-01-21\n### Updated\n- Updated dependencies to support node20.\n\n<a name=\"6.6.6\"></a>\n## 6.6.6 - 2024-01-08\n### Updated\n- Updated axios to v1.6.5.\n\n<a name=\"6.6.5\"></a>\n## 6.6.5 - 2024-01-08\n### Updated\n- Updated audit-logging to v5.8.3.\n### Fixed\n- Perform verification for all credentials required by broker.\n\n<a name=\"6.6.4\"></a>\n## 6.6.4 - 2023-12-07\n### Updated\n- Updated audit-logging to v5.8.2.\n\n<a name=\"6.6.3\"></a>\n## 6.6.3 - 2023-12-03\n### Removed\n- Remove usage of deprecated AuditLog v1 APIs.\n\n<a name=\"6.6.2\"></a>\n## 6.6.2 - 2023-11-20\n### Changed\n- Dependencies version update.\n\n<a name=\"6.6.1\"></a>\n## 6.6.1 - 2023-11-13\n### Changed\n- Dependencies version update.\n\n<a name=\"6.6.0\"></a>\n## 6.6.0 - 2023-09-18\n### Added\n- Support for node v20 added.\n### Removed\n- Support for node v12 is removed.\n\n<a name=\"6.5.9\"></a>\n## 6.5.9 - 2023-07-24\n### Changed\n- Dependencies version update.\n\n<a name=\"6.5.8\"></a>\n## 6.5.8 - 2023-06-25\n### Changed\n- Dependencies version update.\n\n<a name=\"6.5.7\"></a>\n## 6.5.7 - 2023-04-03\n### Changed\n- Dependencies version update.\n\n### Removed\n- Support for node.js v10 is removed.\n\n<a name=\"6.5.6\"></a>\n## 6.5.6 - 2023-03-29\n### Added\n- Support Node v18. \n\n<a name=\"6.5.4\"></a>\n## 6.5.4 - 2023-02-28\n### Changed\n- improve UAA error handling. \n\n<a name=\"6.5.3\"></a>\n## 6.5.3 - 2023-01-11\n### Changed\n- dependencies version update.\n\n<a name=\"6.5.2\"></a>\n## 6.5.2 - 2022-07-12\n### Changed\n- dependencies version update.\n\n<a name=\"6.5.1\"></a>\n## 6.5.1 - 2022-07-10\n### Changed\n- dependencies version update.\n\n<a name=\"6.5.0\"></a>\n## 6.5.0 - 2022-07-05\n### Added\n- Enable broker developers to implement async creation of service binding.\n\n<a name=\"6.4.10\"></a>\n## 6.4.10 - 2022-06-18\n\n### Fixed\n- dependencies version update.\n\n<a name=\"6.4.9\"></a>\n## 6.4.9 - 2022-06-02\n\n### Changed\n- Relevant for XSUAA scenarios: `authorities` provided by the consumer are ignored and overriden by `extend_xssecurity`. If `extend_xssecurity` is not provided, SBF will pass an empty `authorities` array. <br/>Set the new `secureUAAScopes` option (or environment variable `SBF_SECURE_UAA_SCOPES`) **explicitly** to `false`, in order to pass the authorities array provided by the consumer as is. **This behavior and environment variable form an incompatible change**.\n\n### Fixed\n- Fixed leaking of headers in logged messages in XSUAA scenarios.\n- Fixed support for clientx509enabled for K8S apps, where XSUAA credentials are mounted as files.\n\n<a name=\"6.4.8\"></a>\n## 6.4.8 - 2022-05-24\n\n### Fixed\n- support error response with different struct   \n \n<a name=\"6.4.7\"></a>\n## 6.4.7 - 2022-05-18\n\n### Changed\n- Switch from deprecated Request package to Axios Package. <br/>\nNote: If you are using exported functions such as callXsuaa, you would need to adapt to the Axios syntax - `request.body` is replaced with `request.data`.\n\n### Removed\n- Remove npm-shrinkwrap.json\n\n<a name=\"6.4.6\"></a>\n## 6.4.6 - 2022-04-17\n\n### Fixed\n- Updates to dependency versions \n\n<a name=\"6.4.5\"></a>\n## 6.4.5 - 2022-03-21\n\n### Added\n- Updates to dependency versions \n\n<a name=\"6.4.4\"></a>\n## 6.4.4 - 2022-01-24\n\n### Added\n- Updates to dependency versions \n\n<a name=\"6.4.3\"></a>\n## 6.4.3 - 2022-01-19\n\n### Added\n- Updates to dependency versions \n\n<a name=\"6.4.2\"></a>\n## 6.4.2 - 2021-11-25\n\n### Added\n- Get certurl field from xsuaa binding \n\n<a name=\"6.4.1\"></a>\n## 6.4.1 - 2021-11-10\n\n### Added\n- mTls fixes\n\n<a name=\"6.4.1\"></a>\n## 6.4.0 - 2021-09-26\n\n### Added\n- Out-of-the-Box mTLS\n- Customized mTLS \n\n\n<a name=\"6.3.1\"></a>\n## 6.3.1 - 2021-08-22\n\n### Added\n- fix for auditlog oauth2 plan\n\n<a name=\"6.3.0\"></a>\n## 6.3.0 - 2021-08-22\n\n### Added\n- Updating audit-logging to support oauth2 plan\n- Adapt to XSUAA's new mtls (x.509) security descriptor\n\n<a name=\"6.2.13\"></a>\n## 6.2.13 - 2021-08-13\n\n### Added\n- fix ambiguity error when SBF_CREDENTIALS_PROVIDER_SERVICE is set\n- allow brokers to be configured with tls and no basic authentication\n\n<a name=\"6.2.12\"></a>\n## 6.2.12 - 2021-07-25\n\n### Added\n- Allow specification of x509 parameters when binding\n\n<a name=\"6.2.11\"></a>\n## 6.2.11 - 2021-06-22\n\n### Added\n- fix to instance parameters endpoint\n\n<a name=\"6.2.10\"></a>\n## 6.2.10 - 2021-05-05\n\n### Added\n- fetch instance parameters endpoint and hook\n\n<a name=\"6.2.9\"></a>\n## 6.2.9 - 2021-03-16\n\n### Added\n- update prepareRelease command\n\n<a name=\"6.2.8\"></a>\n## 6.2.8 - 2021-03-15\n\n### Added\n- Add --production flag to npm shrinkwrap \n\n<a name=\"6.2.7\"></a>\n## 6.2.7 - 2021-03-04\n\n### Added\n- Updates to dependency versions\n\n<a name=\"6.2.6\"></a>\n## 6.2.6 - 2021-03-02\n\n### Added\n- Updates to dependency versions\n\n<a name=\"6.2.5\"></a>\n## 6.2.5 - 2021-02-03\n\n### Added\n- Updates to dependency versions\n\n<a name=\"6.2.4\"></a>\n## 6.2.4 - 2021-01-11\n\n### Added\n- Support Node v14\n\n<a name=\"6.2.3\"></a>\n## 6.2.3 - 2020-12-16\n\n### Added\n- Support IAS authentication in node-sbf\n\n<a name=\"6.2.2\"></a>\n## 6.2.2 - 2020-09-24\n\n### Fixed\n- Updates to dependency versions\n\n<a name=\"6.2.1\"></a>\n## 6.2.1 - 2020-07-30\n\n### Fixed\n- Updates to dependency versions\n\n<a name=\"6.2.0\"></a>\n## 6.2.0 - 2020-04-30\n\n### Added\n- Support for XSUAA clone update\n- Expose `tenantId` in `onProvision` and `onUpdate` hooks via the `xsuaa` property\n- `callXsuaa` - add `baseUrlProperty` option to specify base URL\n\n### Fixed\n- Properly filter `access_token` information in debug log\n\n<a name=\"6.1.0\"></a>\n## 6.1.0 - 2020-03-12\n\n### Added\n- Built-in health HTTP endpoint\n\n<a name=\"6.0.0\"></a>\n## 6.0.0 - 2020-01-17\n\n### Added\n- Support authentication using X.509 client certificates (externally managed)\n- Support running on K8S\n\n### Removed\n- Support for Node.js 6.x\n\n### Fixed\n- User friendlier error message for XSUAA timeouts\n- Removed deprecated XSUAA endpoint from tests\n- Updated @sap/xsenv to v2.2.0\n\n<a name=\"5.1.1\"></a>\n## 5.1.1 - 2019-07-11\n\n### Fixed\n- Updated `lodash` to 4.17.13\n\n<a name=\"5.1.0\"></a>\n## 5.1.0 - 2019-06-14\n\n### Added\n- Support authentication using X.509 client certificates (certificates managed by XSUAA).\n\n### Fixed\n- Updated dependencies.\n\n<a name=\"5.0.0\"></a>\n## 5.0.0 - 2019-05-21\n\n### Changed\n- Setting the provider tenant (see *Added* section) is mandatory when a broker is running on Cloud Foundry and audit logging is enabled.\nThe value is automatically detected (no error will be thrown if not explicitly provided) in case `autoCredentials` is `true` and the broker is using XSUAA as credentials provider.\n\n### Fixed\n- Duplicate `app_host_id`s are removed in a response to a bind request.\n- Remove the catalog suffix from `service_id` and `plan_id` for update instance requests (part of [`previous_values`](https://github.com/openservicebrokerapi/servicebroker/blob/v2.14/spec.md#previous-values-object)).\n\n### Added\n- `SBF_TENANT_ID` environment variable and `tenantId` option for providing a tenant (of the provider) for audit logging.\n- Node.js 10 support. **Note**: To use SBSS on HANA with Node.js 10, a version of `@sap/hdbext` (a peer dependency) that supports Node 10 should be added to application's dependencies. Refer to the *package.json* file of the corresponding `@sap/sbss` version for the version range of `@sap/hdbext`.\n\n<a name=\"4.2.0\"></a>\n## 4.2.0 - 2019-03-27\n\n### Added\n- Improvements in documentation.\n- Possibility to add/extend `app_host_id` in the `onBind` hook.\n- Return `sap.cloud.service.alias` property from the service metadata as part of the credentials.\n- Support for multiple 'html5-apps-repo' service bindings from the environment.\n\n### Fixed\n- Search in the environment for 'html5-apps-repo' instances by the 'html5-apps-repo-dt' tag instead of 'html5-apps-repo-rt'.\n- Updated dependencies.\n\n<a name=\"4.1.0\"></a>\n## 4.1.0 - 2019-01-30\n\n### Added\n- Expose credential providers\n\n### Fixed\n- Docu: add `SBF_SBSS_RESTRICTED_USER_SERVICE` to the list of environment variables\n\n<a name=\"4.0.0\"></a>\n## 4.0.0 - 2019-01-18\n\n### Changed\n- _@sap/sbf_ now depends on _@sap/sbss_ v4 which no longer brings the _@sap/hdbext_ package by default.\nBrokers that use SBSS on HANA need to explicitly specify _@sap/hdbext_ as a dependency.\n\n### Fixed\n- Added Node 8 to list of supported versions\n\n<a name=\"3.3.1\"></a>\n## 3.3.1 - 2019-01-11\n\n### Fixed\n- Typo: property `saasregistryenable` is now renamed to `saasregistryenabled`\n\n<a name=\"3.3.0\"></a>\n## 3.3.0 - 2019-01-08\n\n### Added\n- Support for `subaccount_id` in SBSS on PostgreSQL\n\n### Fixed\n- Using empty string as user name during audit logging on Kubernetes\n\n<a name=\"3.2.0\"></a>\n## 3.2.0 - 2018-12-04\n\n### Added\n- Support for Business Service\n- Improvements in documentation\n\n<a name=\"3.1.0\"></a>\n## 3.1.0 - 2018-10-25\n\n### Added\n- Utility function to make HTTP calls to XSUAA\n- Specify catalog.json file via `SBF_CATALOG_FILE` environment variable\n- Improvements in documentation\n\n## 3.0.0 - 2018-09-20\n\n### Changed\n- Version 4 of the _@sap/logging_ package is now used. The `requestId` property is no longer available in `params.req.loggingContext` (in custom hooks). Use the `correlationId` for correlating log entries from different components involved in a broker operation.\n\n### Added\n- Support for CF Log format (via adopting _@sap/logging_ v4).\n- Provisioning with XSUAA credentials provider: use `subaccount_id` if provided.\n\n### Fixed\n- Validation of update requests.\n- Updated dependencies.\n\n## 2.1.2 - 2018-08-14\n\n### Fixed\n - Updated dependencies\n - Validation of provision and bind requests\n\n## 2.1.1 - 2018-07-27\n\n### Fixed\n - Update 'request' to v2.87.0\n\n## 2.1.0 - 2018-06-07\n\n### Added\n - 'user_id' and 'originating_identity' properties are available in custom hooks\n - 'req' object is available in custom hooks\n - New \"Audit logging\" section in README.md\n - Support for OSB API context\n\n### Fixed\n - Enhanced example applications\n - Propagate some XSUAA errors to the client\n - Updated dependencies\n\n## 2.0.0 - 2018-04-12\n\nSee the [migration guide](migration.md) how to adapt to incompatible changes.\n\n### Changed\n- Audit log service integration (**Incompatible**)\n- PostgreSQL restricted user support (**Incompatible**)\n- Reverse the order of operations during unbind and deprovision (**Incompatible**)\n- X-Broker-API-version header is now mandatory (**Incompatible**)\n\n### Removed\n- The old format where `xsappname` and the other security properties appear on root level is removed when creating a service instance (**Incompatible**)\n\n### Added\n- Enforce secure outgoing connections via environment variable `SBF_SECURE_OUTGOING_CONNECTIONS`\n- Configure timeout for requests to XSUAA via environment variable `SBF_UAA_TIMEOUT`\n- New \"Error handling\" section in README.md\n- Memory consumption sizing guide\n- Documented how to limit heap size\n\n## 1.5.0 - 2017-12-12\n\n### Added\n- Allow to set scopes/authorities per service/plan with environment variable\n- New section in the readme about asynchronous broker operations\n\n### Fixed\n- Propagate some XSUAA errors to the client side\n- Change X-Broker-Api-Version check in order to work with XSA\n\n## 1.4.0 - 2017-10-25\n\n### Added\n- Add support for hashed broker password\n- Script for generating hashed broker password\n- Allow to embed SBF in an express.js application\n- Support new SBSS version\n- Script for generating unique ids in service catalog\n- Pass generated credentials to the `onBind` hook\n- Java examples\n- Added \"Security\" section in README.md\n- Verify service catalog for consistency\n- Log warning if broker password is shorter than 15 characters\n\n### Fixed\n- Deprovision does not fail if UAA cloning is already deleted (Allow to retry deprovision operation)\n- Properly encode URL parameters in outbound requests\n\n## 1.3.0 - 2017-08-16\n\n### Added\n- Allow for custom parameters in create service operation\n- New section in the readme about providing custom parameters\n- Simple example to register the broker automatically with MTA descriptor\n\n## 1.2.0 - 2017-08-03\n\n### Added\n- Troubleshooting section in the readme\n- New section in the readme about extending the service broker\n- Example for OAuth authentication with client credentials grant\n- Example for OAuth authentication with user token grant\n- Example using MTA and deploy service\n- Provide catalog suffix via broker URL\n\n## 1.1.0 - 2017-06-02\n\n### Added\n- OAuth authentication with UAA\n\n## 1.0.1 - 2017-05-18\n\n### Fixed\n- Broker will fail if `serviceConfig` contains service that is not defined in *catalog.json*\n- Only `onBind` hook is required to be implemented if `autoCredentials: false`\n","downloadsCurrentMonth":19076,"downloadsCurrentFortnight":8915,"downloads365":232446,"downloadsFortnightGrowth":-4.89,"downloadsHistory":[{"yearMonth":"2023-04","downloads":19277},{"yearMonth":"2023-05","downloads":17901},{"yearMonth":"2023-06","downloads":17546},{"yearMonth":"2023-07","downloads":20626},{"yearMonth":"2023-08","downloads":19307},{"yearMonth":"2023-09","downloads":20695},{"yearMonth":"2023-10","downloads":21567},{"yearMonth":"2023-11","downloads":21595},{"yearMonth":"2023-12","downloads":19933},{"yearMonth":"2024-01","downloads":18600},{"yearMonth":"2024-02","downloads":16512}],"versions":[{"version":"created","date":"2020-06-11T23:18:41.225Z"},{"version":"5.1.0","date":"2020-06-11T23:18:41.660Z"},{"version":"modified","date":"2024-01-21T09:54:56.481Z"},{"version":"6.0.0","date":"2020-06-11T23:18:50.056Z"},{"version":"5.1.1","date":"2020-06-11T23:18:57.353Z"},{"version":"6.2.0","date":"2020-06-11T23:19:04.206Z"},{"version":"5.0.0","date":"2020-06-11T23:19:11.134Z"},{"version":"4.1.0","date":"2020-06-11T23:19:19.622Z"},{"version":"6.1.0","date":"2020-06-11T23:19:29.394Z"},{"version":"6.2.2","date":"2020-09-24T14:01:03.947Z"},{"version":"6.2.3","date":"2020-12-17T12:43:35.717Z"},{"version":"6.2.4","date":"2021-01-11T22:36:18.485Z"},{"version":"6.2.5","date":"2021-02-03T13:05:38.356Z"},{"version":"6.2.6","date":"2021-03-02T14:17:03.665Z"},{"version":"6.2.7","date":"2021-03-03T22:15:59.271Z"},{"version":"6.2.8","date":"2021-03-15T16:27:34.971Z"},{"version":"6.2.9","date":"2021-03-16T09:00:51.974Z"},{"version":"6.2.10","date":"2021-05-11T08:20:44.098Z"},{"version":"6.2.11","date":"2021-06-22T13:01:54.877Z"},{"version":"6.2.12","date":"2021-07-25T14:42:36.202Z"},{"version":"6.2.13","date":"2021-08-13T11:02:14.361Z"},{"version":"6.3.0","date":"2021-08-22T07:33:47.820Z"},{"version":"6.3.1","date":"2021-08-22T14:13:07.311Z"},{"version":"6.4.0","date":"2021-09-29T07:13:26.456Z"},{"version":"6.4.1","date":"2021-11-10T14:37:11.262Z"},{"version":"6.4.2","date":"2021-11-25T13:28:45.614Z"},{"version":"6.4.3","date":"2022-01-20T11:39:10.231Z"},{"version":"6.4.4","date":"2022-01-24T15:57:41.100Z"},{"version":"6.4.5","date":"2022-03-21T15:57:23.867Z"},{"version":"6.4.6","date":"2022-04-17T13:53:44.637Z"},{"version":"6.4.7","date":"2022-05-18T10:46:17.948Z"},{"version":"6.4.9","date":"2022-06-02T15:34:59.804Z"},{"version":"6.4.10","date":"2022-06-18T07:38:36.327Z"},{"version":"6.5.0","date":"2022-07-05T11:58:31.863Z"},{"version":"6.5.1","date":"2022-07-10T21:18:17.172Z"},{"version":"6.5.2","date":"2022-07-13T17:17:10.631Z"},{"version":"6.5.3","date":"2023-01-13T09:31:26.841Z"},{"version":"6.5.4","date":"2023-02-28T12:50:31.897Z"},{"version":"6.5.6","date":"2023-03-29T10:16:11.342Z"},{"version":"6.5.7","date":"2023-04-03T11:44:14.320Z"},{"version":"6.5.8","date":"2023-06-25T08:46:01.134Z"},{"version":"6.5.9","date":"2023-07-30T08:22:25.336Z"},{"version":"6.6.0","date":"2023-09-21T06:10:40.527Z"},{"version":"6.6.1","date":"2023-11-16T07:44:45.497Z"},{"version":"6.6.2","date":"2023-11-22T10:25:16.863Z"},{"version":"6.6.4","date":"2023-12-07T15:29:31.075Z"},{"version":"6.6.5","date":"2024-01-08T15:24:25.484Z"},{"version":"6.6.6","date":"2024-01-10T11:49:15.399Z"},{"version":"6.6.7","date":"2024-01-21T09:54:56.262Z"}],"npmlink":"https://www.npmjs.com/package/@sap/sbf"},{"name":"sbss","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:29:01.859Z","updatedAt":"2024-03-05T09:22:25.145Z","readme":"# @sap/sbss\nNode.js client library for SBSS (Service Broker Security Support)\n\nSBSS provides secure generation, storage and validation of credentials (user name and password).\nThis functionality is aimed at service implementations to protect access to their resources.\nSee [Custom Services](https://docs.cloudfoundry.org/services/) in Cloud Foundry documentation for detailed description how to provide custom services.\n\nSBSS uses a database to do its job and provides a DB API in the form of stored procedures and views.\nThis package provides a JavaScript API to access SBSS.\n\n## Requirements\n\nSBSS should be installed and configured. The credentials to access it should be available.\n\n## Install\n```sh\nnpm install --save @sap/sbss\n```\n\n## Usage\n\n```js\nvar sbssLib = require('@sap/sbss');\nvar xsenv = require('@sap/xsenv');\nvar assert = require('assert');\n\nvar options = xsenv.cfServiceCredentials({ tag: 'hana', plan: 'sbss' });\nvar sbss = sbssLib(options);\n\nfunction generateCredentials(options, cb) {\n  sbss.createCredentials({\n    instanceId: options.instanceId,\n    bindingId: options.bindingId,\n    serviceId: options.serviceId,\n    planId: options.planId,\n    appGuid: options.appGuid,\n    subaccountId: options.subaccountId\n  }, (err, credentials) => {\n    if (!err) {\n      // credentials.username - generated user name\n      // credentials.password - generated password\n    }\n    cb(err);\n  });\n}\n\nfunction validateCredentials(username, password, cb) {\n  sbss.validateCredentials(username, password, (err, result) => {\n    if (!err) {\n      // provided credentials are valid\n      // result.instanceId - instanceId provided to createCredentials that generated these credentials\n      // result.bindingId - bindingId provided to createCredentials that generated these credentials\n      // result.serviceId - serviceId provided to createCredentials that generated these credentials\n      // result.planId - planId provided to createCredentials that generated these credentials\n      // result.appGuid - appGuid provided to createCredentials that generated these credentials\n      // result.subaccountId - subaccountId provided to createCredentials that generated these credentials\n    }\n    cb(err);\n  });\n}\n```\n\n## API\n\n### `sbss(options)`\n* `options` - database connection options, normally the `credentials` object of a SAP HANA or PostgreSQL service binding.\n\nConstructs and returns a new SBSS client. All subsequent functions are accessed through this object.\n\n**Note:** When using PostgreSQL it is recommended to provide restricted DB user credentials via the `restrictedUser` property. When `restrictedUser` property is present it is mandatory to specify both `restricted-dbuser-name` and the corresponding `restricted-dbuser-password`. They are normally taken from the user-provided service used when populating PostgreSQL schema with SBSS stored procedures.\n\n* `options`\n  * `<postgres service credentials>`\n  * `restrictedUser`\n    * `restricted-dbuser-name`\n    * `restricted-dbuser-password`\n\nSample usage:\n\n```js\nvar sbssLib = require('@sap/sbss');\nvar xsenv = require('@sap/xsenv');\n\nvar options = xsenv.cfServiceCredentials({ label: 'postgresql', tag: 'sbss' });\noptions.restrictedUser = xsenv.cfServiceCredentials('restriced-dbuser-ups');\nvar sbss = sbssLib(options);\n```\n\n### `createCredentials(options, callback)`\n* `options`\n  * `instanceId` - {string} service instance ID\n  * `bindingId` - {string} service binding ID\n  * `serviceId` - {string} service ID\n  * `planId` - {string} service plan ID\n  * `appGuid` - {string} (optional) application guid\n  * `subaccountId` - {string} subaccount ID (only supported on PostgreSQL)\n* `callback` - `function(error, credentials)`\n  * `error` - Error object in case of error, `null` or `undefined` otherwise\n  * `credentials` - {object}\n    * `username` - {string} generated user name\n    * `password` - {string} generated password\n\nGenerates a new set of credentials and persists them in the database together with the given `options`.\nIt is possible to generate multiple credentials for the same instance ID and binding ID.\n\n**Note:** If SBBS version is older than 1.5.4, then `serviceId`, `planId` and `appGuid` options will not be persisted.\n**Note:** If SBBS version is older than 1.5.11, then `subaccountId` will not be persisted.\n\n### `deleteCredentials(instanceId, bindingId, callback)`\n* `instanceId` - {string} service instance ID\n* `bindingId` - {string} service binding ID\n* `callback` - `function(error, result)`\n  * `error` - Error object in case of error, `null` or `undefined` otherwise\n  * `result` - {object}\n    * `deletedCredentials` - number of deleted credentials, 0 if there are no credentials to delete\n\nDeletes all previously generated credentials for the given `instanceId` and `bindingId`.\n\n### `deleteAllInstanceCredentials(instanceId, callback)`\n* `instanceId` - {string} service instance ID\n* `callback` - `function(error, result)`\n  * `error` - Error object in case of error, `null` or `undefined` otherwise\n  * `result` - {object}\n    * `deletedCredentials` - number of deleted credentials, 0 if there are no credentials to delete\n\nDeletes all previously generated credentials for the given `instanceId` no matter the binding ID.\n\n### `validateCredentials(username, password, callback)`\n* `username` - {string} user name\n* `password` - {string} password\n* `callback` - `function(error, result)`\n  * `error` - Error object in case of error, `null` or `undefined` otherwise\n  * `result` - {object}\n    * `instanceId`- {string} service instance ID associated with the given credentials\n    * `bindingId` - {string} service binding ID associated with the given credentials\n    * `serviceId` - {string} (optional) service ID\n    * `planId` - {string} (optional) service plan ID\n    * `appGuid` - {string} (optional) application guid\n    * `subaccountId` - {string} (optional) subaccount ID\n\nChecks if the given credentials match any previously generated credentials. If a match is found,\nthe `callback` is called with the associated instance ID and binding ID. Otherwise it is called with an error.\n\n**Note:** `serviceId`, `planId` and `appGuid` options will not be provided if:\n * the credentials are generated with versions of SBSS before 1.5.4, or\n * the credentials are generated via the `createCredentials({ instanceId, bindingId }, callback)` call.\n\n**Note:** `subaccountId` will not be provided if:\n  * the credentials are generated with versions of SBSS before 1.5.11\n  * the credentials are generated with SBSS on HANA\n  * the property is not provided in the call to `createCredentials`\n\n## Troubleshooting\n\nTo enable debug traces set this environment variable:\n```\nDEBUG=sbss\n```\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 7.0.0 - 2024-02-29\n\n### Removed\n- Removed node 12.x, 14.x and 16.x support and tests\n\n## 6.2.0 - 2024-01-19\n\n### Updated\n- Update `@sap/hdbext` to 8.0.2\n\n## 6.1.0 - 2023-11-22\n\n### Added\n- Added node 20.x support\n\n## 6.0.0 - 2023-08-02\n\n### Added\n- Added sslkey for GCP postgres support\n\n### Removed\n- Removed node 10.x support and tests\n\n### Fixed\n- check and use of ssl options\n\n\n## 5.4.0 - 2023-02-08\n\n### Added\n- Added node 18.x support\n\n### Updated\n- Update `filter-node-package` to 3.1.1\n\n\n## 5.3.1 - 2022-04-11\n\n### Removed\n- Removed node 8.x support and tests\n \n### Changed\n- Changed istanbul test framework with c8\n \n## 5.3.0 - 2022-01-30\n\n### Fixed\n- Update `@sap/hdbext` to 7.6.0\n- Update `debug` to 4.3.3\n\n### Added\n- Node.js 16 support\n\n## 5.2.0 - 2021-10-08\n\n### Added\n- Added ssl certificate option \n\n## 5.1.1 - 2021-01-22\n\n### Fixed\n- Update `@sap/hdbext` to 7.1.3\n- Update `lodash` to 4.17.21\n\n## 5.1.0 - 2021-01-13\n\n### Fixed\n- Update `@sap/hdbext` to 7.1.0 to support Node.js 14\n- Update `lodash` to 4.17.20\n- Update `debug` to 4.2.0\n\n### Added\n- Node.js 14 support\n\n## 5.0.0 - 2020-08-25\n\n### Fixed\n- Update `@sap/hdbext` to 7.0.0 to fix dependency to an old lodash version\n\n### Removed\n- Support for Node.js 6\n\n### Added\n- Node.js 12 support\n\n## 4.1.2 - 2020-07-30\n\n### Fixed\n- Update `lodash` to 4.17.19\n\n## 4.1.1 - 2019-07-11\n\n### Fixed\n- Update `lodash` to 4.17.13\n- Update `@sap/hdbext` to 6.0.1\n\n## 4.1.0 - 2019-05-21\n\n### Added\n- Node.js 10 support. **Note**: To use SBSS on HANA with Node.js 10,\na version of `@sap/hdbext` (peer dependency of `@sap/sbss`) that supports Node 10 should be added to application's dependencies.\nRefer to the _package.json_ file of `@sap/sbss` for the version range of `@sap/hdbext`.\n\n## 4.0.1 - 2019-02-15\n\n### Fixed\n- Closed idle connection left from SBSS version check on PostgreSQL client\n- Added `'error'` event handler on connection pool of PostgreSQL client\n\n<a name=\"4.0.0\"></a>\n## 4.0.0 - 2019-01-18\n\n### Removed\n- The `createCredentials(instanceId, bindingId, callback)` signature\n- Support for Node.js v4\n\n### Changed\n- `@sap/hdbext` is now declared as a peer dependency\n\n### Fixed\n- Supported Node.js versions field in _package.json_\n\n## 3.4.0 - 2019-01-07\n\n### Added\n- Support for Postgre SBSS v1.3 (since SBSS 1.5.11)\n\n## 3.3.0 - 2018-10-01\n\n### Added\n- Switch to @sap/hana-client via @sap/hdbext version 5.0.0\n\n## 3.2.2 - 2018-09-19\n\n### Fixed\n- Update `lodash` to 4.17.11\n- Update `@sap/hdbext` to 4.7.5\n\n## 3.2.1 - 2018-04-05\n\n### Fixed\n- Update dependencies\n\n## 3.2.0 - 2018-02-19\n\n### Added\n - Support for PostgreSQL restricted user credentials\n - npm-shrinkwrap.json\n\n## 3.1.1 - 2017-08-28\n\n### Fixed\n- Updated documentation with new SBSS features\n- `options.appGuid` argument to `createCredentials` is now optional also with PostgreSQL\n\n## 3.1.0 - 2017-08-25\n\n### Added\n- Support new SBSS version (both HANA and PostgreSQL)\n- Use connection pooling with HANA\n\n### Fixed\n- Fix code execution vulnerability https://node-postgres.com/announcements#2017-08-12-code-execution-vulnerability\n\n## 3.0.0 - 2017-05-09\n\n### Changed\n- Renamed property `user` to `username` in the result of `createCredentials`\n\n## 2.0.0 - 2017-05-03\n\n### Changed\n- Renamed function `deleteBindingCredentials` to `deleteCredentials`\n","downloadsCurrentMonth":19474,"downloadsCurrentFortnight":9134,"downloads365":224250,"downloadsFortnightGrowth":-4.33,"downloadsHistory":[{"yearMonth":"2023-04","downloads":18453},{"yearMonth":"2023-05","downloads":17054},{"yearMonth":"2023-06","downloads":17018},{"yearMonth":"2023-07","downloads":18974},{"yearMonth":"2023-08","downloads":18002},{"yearMonth":"2023-09","downloads":19579},{"yearMonth":"2023-10","downloads":20635},{"yearMonth":"2023-11","downloads":20914},{"yearMonth":"2023-12","downloads":19508},{"yearMonth":"2024-01","downloads":18464},{"yearMonth":"2024-02","downloads":16593}],"versions":[{"version":"created","date":"2020-06-11T18:29:01.859Z"},{"version":"4.0.1","date":"2020-06-11T18:29:02.316Z"},{"version":"modified","date":"2024-03-05T09:22:25.145Z"},{"version":"4.1.0","date":"2020-06-11T18:29:08.993Z"},{"version":"4.0.0","date":"2020-06-11T18:29:15.586Z"},{"version":"4.1.1","date":"2020-06-11T18:29:22.509Z"},{"version":"4.1.2","date":"2020-09-01T07:54:21.152Z"},{"version":"5.0.0","date":"2020-09-08T10:18:15.611Z"},{"version":"5.1.0","date":"2021-01-14T08:50:29.549Z"},{"version":"5.1.1","date":"2021-02-22T16:42:13.141Z"},{"version":"5.2.0","date":"2021-10-14T07:06:59.597Z"},{"version":"5.3.0","date":"2022-01-31T13:48:02.064Z"},{"version":"5.3.1","date":"2022-04-11T13:47:50.018Z"},{"version":"5.4.0","date":"2023-02-08T12:01:19.058Z"},{"version":"6.0.0","date":"2023-08-09T09:39:59.126Z"},{"version":"6.1.0","date":"2023-11-22T11:49:14.383Z"},{"version":"6.2.0","date":"2024-01-19T09:42:14.179Z"},{"version":"7.0.0","date":"2024-03-05T09:22:24.706Z"}],"npmlink":"https://www.npmjs.com/package/@sap/sbss"},{"name":"service-provider-apis","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-02-25T13:39:24.228Z","updatedAt":"2024-01-22T15:41:43.231Z","readme":"# @sap/service-provider-apis\n## Overview\n**service-provider-apis** is an npm package that provides the APIs necessary for exposing services using the 'SAP Service Center'.\n\n## Usage\nTo add this package as a dependency in your **package.json** file, under the \"dependencies\" section, add the following dependency: `\"@sap/service-provider-apis\": [Version]`\n\n## APIs\nThis object exposes APIs for the exploration of SAP systems and services.\n\n### __getServices__  \n\nThis API retrieves a list of services from a specific provider system.  \n\n  `getServices(options?: Record<string, any>): Promise<Service[]>;`  \n  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; *credentials (this is optional)*: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; *filter (this is optional)*: used to filter for relevant services.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.      \n\n### __getMetadata__  \n\nThis API retrieves the metadata of a specific service.  \n\n  `getMetadata(\n    service: Service,\n    encoding: EncodingMode,\n    options?: Record<string, any>,\n    relativeUrl?: string,\n    credentials?: Authentication\n  ): Promise<ServiceMetadata>;`  \n  \n**service**: Defines the service from which the metadata will be retrieved.  \n**encoding**: Defines the required encoding requested by the consumer.  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; *credentials (this is optional)*: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; *filter (this is optional)*: used to filter for relevant services.  \n&nbsp;&nbsp;&nbsp;&nbsp; *relativeUrl* (this is optional)*: for a non-full URL - provides the relative URL to the service.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.   \n\n### __getAnnotations__  \n\nThis API retrieves the annotations of a specific service.  \n\n  `getAnnotations(service: Service, options?: Record<string, any>): Promise<Annotation[]>`  \n  \n**service**: Defines the service from which the metadata will be retrieved.  \n**options (this is optional)**: The following parameters are optional:   \n&nbsp;&nbsp;&nbsp;&nbsp; *credentials (this is optional)*: for services that require authentication.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.   \n\n### __getJsonLiveData__  \n\nThis API retrieves data for a specific service's entity.  \n\n  `getJsonLiveData(service: Service, entity: string, options?: Record<string, any>): Promise<ServiceCommon>`  \n  \n**service**: The service for which to return the entity's data.</br> \n**entity**:  The name of the entity for which we are retrieving the data.  \n**options (this is optional)**: The following are optional:   \n&nbsp;&nbsp;&nbsp;&nbsp; *credentials*: For services that require authentication. </br> \n&nbsp;&nbsp;&nbsp;&nbsp; *relativeUrl*: The relative path to the service (used in a non-full URL service). </br> \n&nbsp;&nbsp;&nbsp;&nbsp; *filter*: A map of OData request parameters that affect the data response for the entity.  \n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for example: `new Filter(new Map([[\"$top\", [\"2\"]]]]))` returns only the two top data rows.   \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error type.   \n\n\n## Optional Parameters  \n*Create credentials object - used to access a system or service that requires authentication*  \n`const credentials = getCredentialsObject(\"username\", \"password\");`  \n\n- **credentials**: *an object that enables you to add credentials to your system request.  \n    &nbsp;&nbsp;&nbsp;&nbsp; *USER*: system username  \n    &nbsp;&nbsp;&nbsp;&nbsp; *PSW*: system password  \n    Credentials can be built as follows:*  \n    credentials = new Authentication(<USR>, <PSW>);  \n\n*Create a filter object - used to filter for needed services*  \n`const filter = getNewFilter(\"protocol\", [\"odatav2\"]);`  \n\n- **filter**: an object that enables you to filter for systems that you want to receive.  \n    &nbsp;&nbsp;&nbsp;&nbsp; *FILTER_KEY*: (string) A key used to filter the list of systems.  \n    &nbsp;&nbsp;&nbsp;&nbsp; *FILTER_VALUES*: (array of strings) accepted values of the filter key, separated by commas.  \n    Filters can be built as follows:  \n    filter = new Filter(new Map([[<FILTER_KEY>, <FILTER_VALUES>]]));  \n\n### Git and GitHub\n\n1. Open Git Bash, go to the local repository directory and sync with the remote repository.\n2. Develop in a **Local** branch.\n\n- Create a new descriptive branch `git checkout -b my-local-branch-name` <br>**OR** rename the previous one `git branch -m my-local-branch-name`.\n- Make sure _my-local-branch-name_ is **NOT master** and that there is **no existing** branch with this name.\n\n3. Sync with the remote repository.\n\n- Fetch the code from the master branch by running `git fetch; git merge`.\n\n4. Make your local changes.\n\n- Run `npm install` to install dependencies.\n- Run `npm run test` to compile the TypeScript code to JavaScript and run tests.\n\n5. Commit and push.\n\n- **Do not push directly to master!!!**\n- Commit your changes and push to create a new branch on GitHub by running `git push origin my-local-branch-name`\n- On consecutive commits **DO NOT** use `commit amend`. You should create a new commit and push to the same feature branch again. This will add an extra commit to your pull request and retrigger the voters.\n\n6. Open a pull request.\n\n- Click 'New pull request' next to your branch.\n- Edit the pull request name with BLI or BCP. For example: _\"BLI DEVXCORE-123: my new feature\"_ or _\"BCP 1670451810: Fix my bug\"_.\n- A new branch _(my-local-branch-name)_ is created in the GitHub repository.\n- The new code should enable all voters and code review to pass successfully.\n\n7. Update the existing pull request.\n\n- Stage your changes and create a new commit.\n- Perform Git fetch.\n- Perform Git merge on origin/master - Merge your changes with the most updated master branch.\n- Push your changes to your _my-local-branch-name_ (Git push origin _my-local-branch-name_).\n\n8. Merge the pull request.\n\n- If all voters passed (XMake + JaaS Voter), click 'Merge pull request'.  \n- If your pull request contains several commits, you combine them in one commit from GitHub by selecting the 'Confirm squash and merge' option from the Merge dropdown list.\n\n9. Delete your branch.\n\n- After the merge is complete, go to **Code > Branches**.\n- Look for your merged pull request and click the delete branch icon.\n\n### Tests and Coverage\n\n- Run `npm run test` to run the unit tests written in Mocha and the coverage test.\n\n## Release\n\nBump the version in the \"package.json\" GitHub file.\n\n  \n**_Notes:_**\nMake sure to follow this versioning concept:\n- When providing new features (when releasing at end of the sprint or when a new feature is ready), bump a major version (for example, from 1.1.0 to 1.2.0).\n- When providing a bug fix to an existing version (\"hotfix\"), bump a minor version (for example, from 1.1.0 to 1.1.1).\n","downloadsCurrentMonth":10784,"downloadsCurrentFortnight":4962,"downloads365":1055426,"downloadsFortnightGrowth":-8.38,"downloadsHistory":[{"yearMonth":"2023-04","downloads":53063},{"yearMonth":"2023-05","downloads":61191},{"yearMonth":"2023-06","downloads":61268},{"yearMonth":"2023-07","downloads":62508},{"yearMonth":"2023-08","downloads":99852},{"yearMonth":"2023-09","downloads":122711},{"yearMonth":"2023-10","downloads":127459},{"yearMonth":"2023-11","downloads":120502},{"yearMonth":"2023-12","downloads":165093},{"yearMonth":"2024-01","downloads":146602},{"yearMonth":"2024-02","downloads":10932}],"versions":[{"version":"created","date":"2021-02-25T13:39:24.228Z"},{"version":"1.2.1","date":"2021-02-25T13:39:24.596Z"},{"version":"modified","date":"2024-01-22T15:41:43.231Z"},{"version":"1.2.2","date":"2021-03-24T09:36:42.425Z"},{"version":"1.2.3","date":"2021-04-21T16:20:16.274Z"},{"version":"1.2.4","date":"2021-05-10T09:37:43.508Z"},{"version":"1.2.5","date":"2021-06-16T19:34:55.090Z"},{"version":"1.3.0","date":"2021-07-01T07:13:04.940Z"},{"version":"1.4.0","date":"2021-07-21T08:32:36.504Z"},{"version":"1.5.0","date":"2022-03-09T11:55:57.491Z"},{"version":"1.6.1","date":"2022-04-26T07:01:48.873Z"},{"version":"1.6.3","date":"2022-05-10T14:25:04.217Z"},{"version":"1.6.4","date":"2022-06-01T14:09:53.784Z"},{"version":"1.6.5","date":"2022-06-20T12:56:36.353Z"},{"version":"1.6.6","date":"2022-07-27T09:07:32.059Z"},{"version":"1.6.7","date":"2022-11-14T15:42:20.095Z"},{"version":"1.8.1","date":"2023-02-13T10:38:26.882Z"},{"version":"1.9.0","date":"2023-04-02T18:11:04.964Z"},{"version":"1.9.1","date":"2023-05-01T13:39:43.015Z"},{"version":"1.11.0","date":"2023-07-12T09:27:38.690Z"},{"version":"1.12.1","date":"2023-08-10T12:35:42.464Z"},{"version":"1.12.2","date":"2023-11-13T10:09:14.110Z"},{"version":"1.13.0","date":"2023-11-20T12:22:44.830Z"},{"version":"1.13.2","date":"2023-11-20T15:22:52.150Z"},{"version":"1.13.3","date":"2023-11-21T13:37:27.839Z"},{"version":"2.0.0","date":"2023-11-29T12:59:31.966Z"},{"version":"2.0.1","date":"2024-01-22T15:41:43.016Z"}],"npmlink":"https://www.npmjs.com/package/@sap/service-provider-apis"},{"name":"site-app-server","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T20:18:39.045Z","updatedAt":"2023-02-26T11:25:30.554Z","readme":"This component is a static resources web server for applications that run in a Fiori Launchpad site on XSA.\n\nDuring startup it persists to the portal-service all configuration (tiles, groups, routes, uaa) that is needed for this application to run in a Fiori Launchpad portal site.\n\nThis component is coupled with the @sap/site-entry node module, which in turn acts as the web entry server of the Fiori Launchpad site.\n\nThis component uses the portal-service that exists in the XSA environment.\n\nThis component can be used only on HANA XSA SP1 and latest environment.\n","changelog":"All notable changes to this project will be documented in this file.\n\n## 1.9.14 - 2022-07-24\n### Updated dependencies\n - deps: @sap/logging@6.1.3\n\n## 1.9.13 - 2022-06-14\n### Updated dependencies\n - deps: commander@9.3.0\n ### Added\n - LICENSE file\n\n## 1.9.12 - 2022-04-12\n### Updated dependencies\n - deps: @sap/logging@6.1.1\n - deps: commander@9.1.0\n - deps: serve-static@1.15.0\n\n## 1.9.11 - 2021-03-15\n### Updated dependencies\n - deps: @sap/logging@6.0.x\n - deps: commander@7.1.0\n\n\n## 1.9.10 - 2020-06-03\n### Updated dependencies\n - deps: @sap/logging@5.1.0\n - deps: commander@5.1.0\n - deps: connect@3.7.0\n - deps: serve-static@1.14.1\n ### Added\n Node.js 12.x support\n","downloadsCurrentMonth":384,"downloadsCurrentFortnight":180,"downloads365":1762,"downloadsFortnightGrowth":-5.26,"downloadsHistory":[{"yearMonth":"2023-04","downloads":66},{"yearMonth":"2023-05","downloads":35},{"yearMonth":"2023-06","downloads":37},{"yearMonth":"2023-07","downloads":54},{"yearMonth":"2023-08","downloads":84},{"yearMonth":"2023-09","downloads":93},{"yearMonth":"2023-10","downloads":245},{"yearMonth":"2023-11","downloads":62},{"yearMonth":"2023-12","downloads":75},{"yearMonth":"2024-01","downloads":319},{"yearMonth":"2024-02","downloads":371}],"versions":[{"version":"created","date":"2020-06-11T20:18:39.045Z"},{"version":"1.11.0","date":"2020-06-11T20:18:39.607Z"},{"version":"modified","date":"2023-02-26T11:25:30.554Z"},{"version":"1.9.7","date":"2020-06-11T20:18:46.003Z"},{"version":"1.9.3","date":"2020-06-11T20:18:55.303Z"},{"version":"1.14.1","date":"2020-06-11T20:19:02.148Z"},{"version":"1.16.2","date":"2020-06-11T20:19:09.398Z"},{"version":"1.15.0","date":"2020-06-11T20:19:16.431Z"},{"version":"1.9.10","date":"2020-06-11T20:19:25.585Z"},{"version":"1.14.0","date":"2020-06-11T20:19:31.840Z"},{"version":"1.17.0","date":"2020-06-11T20:19:38.838Z"},{"version":"1.9.4","date":"2020-06-11T20:19:46.047Z"},{"version":"1.9.8","date":"2020-06-11T20:19:55.518Z"},{"version":"1.9.5","date":"2020-06-11T20:20:04.077Z"},{"version":"1.9.13","date":"2022-06-29T08:21:45.751Z"},{"version":"1.9.14","date":"2022-07-25T11:27:54.817Z"},{"version":"1.9.15","date":"2023-02-26T11:25:30.468Z"}],"npmlink":"https://www.npmjs.com/package/@sap/site-app-server"},{"name":"site-content-deployer","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T23:14:24.500Z","updatedAt":"2023-11-16T13:30:28.842Z","readme":"This component is used to deploy the Fiori Launchpad portal site configuration (configuration of tiles, groups and catalogs) into the XSA environment. \nThis component is coupled with the @sap/site-entry node module, which in turn acts as the web entry server of the Fiori Launchpad portal site. \nThis component uses the portal-service that exists in the environment.\n\nThis component can be used only on HANA XSA SP1 and above environment.\n","downloadsCurrentMonth":647,"downloadsCurrentFortnight":295,"downloads365":6880,"downloadsFortnightGrowth":-7.23,"downloadsHistory":[{"yearMonth":"2023-04","downloads":759},{"yearMonth":"2023-05","downloads":392},{"yearMonth":"2023-06","downloads":405},{"yearMonth":"2023-07","downloads":375},{"yearMonth":"2023-08","downloads":441},{"yearMonth":"2023-09","downloads":466},{"yearMonth":"2023-10","downloads":702},{"yearMonth":"2023-11","downloads":964},{"yearMonth":"2023-12","downloads":411},{"yearMonth":"2024-01","downloads":664},{"yearMonth":"2024-02","downloads":685}],"versions":[{"version":"created","date":"2020-06-11T23:14:24.500Z"},{"version":"1.9.9","date":"2020-06-11T23:14:24.889Z"},{"version":"modified","date":"2023-11-16T13:30:28.842Z"},{"version":"1.19.1","date":"2020-06-11T23:14:31.435Z"},{"version":"1.9.7","date":"2020-06-11T23:14:37.495Z"},{"version":"1.18.0","date":"2020-06-11T23:14:43.702Z"},{"version":"1.9.11","date":"2020-06-11T23:14:49.887Z"},{"version":"1.15.1","date":"2020-06-11T23:14:56.087Z"},{"version":"1.12.0","date":"2020-06-11T23:15:02.530Z"},{"version":"1.15.0","date":"2020-06-11T23:15:08.419Z"},{"version":"1.16.0","date":"2020-06-11T23:15:14.457Z"},{"version":"1.10.0","date":"2020-06-11T23:15:22.812Z"},{"version":"1.20.0","date":"2020-06-11T23:15:29.408Z"},{"version":"1.19.0","date":"2020-06-11T23:15:35.599Z"},{"version":"1.9.4","date":"2020-06-11T23:15:41.654Z"},{"version":"1.9.8","date":"2020-06-11T23:15:47.776Z"},{"version":"1.9.5","date":"2020-06-11T23:15:54.082Z"},{"version":"1.9.16","date":"2022-06-28T15:20:26.856Z"},{"version":"1.9.17","date":"2023-02-12T08:02:11.493Z"},{"version":"1.9.18","date":"2023-04-03T15:26:57.330Z"},{"version":"1.9.19","date":"2023-04-19T09:15:25.041Z"},{"version":"1.9.20","date":"2023-04-30T07:48:12.679Z"},{"version":"1.9.21","date":"2023-11-16T13:30:28.689Z"}],"npmlink":"https://www.npmjs.com/package/@sap/site-content-deployer"},{"name":"site-entry","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T20:54:19.648Z","updatedAt":"2023-12-21T11:02:52.817Z","readme":"# Portal Site entry - Web entry for Fiori Launchpad sites\n\nThis component is the web entry for Fiori Launchpad portal sites.\nIt wraps an Approuter component that serves as its web server for serving client side resources and backend calls.\nThis componet should perform binding to the sap-portal-service that exists in the environment.\n\nThis component can be used only on HANA XSA SP1 and above environment.\n\n## Table of contents\n\n* [Prerequisites](#prerequisites)\n* [Configuration](#configuration)\n* [Supported](#supported)\n\n\n\n## Prerequisites\nPerform bind to portal-services with plan site-host\n\n\n## Configuration\nUsing xs-app.json file the wrapped Approuter component can be configured.\n\n\n## Supported\nThis component can be used only on HANA XSA SP1 and above environment with a compatible versions of:\nSAP UI5\nportal-service\nsap-site-content-deployer\n\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 1.9.40 - 2022-09-12\n### Fixed\n - Node.js 16 support\n### Updated dependencies\n - deps: @sap/approuter@11.4.0\n\n## 1.9.39 - 2022-07-20\n### Updated dependencies\n - deps: @sap/approuter@11.2.1\n - deps: @sap/logging@6.1.3\n - deps: async@3.2.4\n\n## 1.9.38 - 2022-04-11\n### Updated dependencies\n - deps: @sap/approuter@10.15.1\n - deps: @sap/logging@6.1.1\n - deps: async@3.2.3\n\n## 1.9.37 - 2022-03-09\n### Updated dependencies\n - deps: @sap/approuter@10.14.2\n\n## 1.9.36 - 2022-03-09\n### Updated dependencies\n - deps: @sap/approuter@10.13.2\n\n## 1.9.35 - 2022-01-25\n### Updated dependencies\n - deps: @sap/approuter@10.11.3\n\n## 1.9.34 - 2021-11-12\n### Updated dependencies\n - deps: @sap/approuter@10.9.2\n - deps: async@3.2.2\n - deps: jwt-decode@3.1.2\n\n## 1.9.33 - 2021-11-01\n### Updated dependencies\n - deps: @sap/approuter@10.9.1\n\n## 1.9.32 - 2021-03-14\n### Updated dependencies\n - deps: @sap/approuter@10.0.0\n\n## 1.9.31 - 2021-02-24\n### Updated dependencies\n - deps: @sap/approuter@9.3.0\n - deps: @sap/logging@6.0.3\n - deps: lodash@4.17.21\n\n## 1.9.30 - 2020-10-07\n### Updated dependencies\n - deps: @sap/logging@5.3.1\n - deps: @sap/approuter@8.5.2\n\n## 1.9.29 - 2020-05-20\n### Updated dependencies\n - deps: @sap/logging@5.1.0\n\n## 1.9.28 - 2020-05-07\n### Added\n - CHANGELOG.md\n### Fixed\n### Updated dependencies\n - deps: @sap/approuter@7.1.1\n","downloadsCurrentMonth":1031,"downloadsCurrentFortnight":450,"downloads365":11264,"downloadsFortnightGrowth":-14.61,"downloadsHistory":[{"yearMonth":"2023-04","downloads":1020},{"yearMonth":"2023-05","downloads":661},{"yearMonth":"2023-06","downloads":740},{"yearMonth":"2023-07","downloads":849},{"yearMonth":"2023-08","downloads":796},{"yearMonth":"2023-09","downloads":903},{"yearMonth":"2023-10","downloads":1449},{"yearMonth":"2023-11","downloads":901},{"yearMonth":"2023-12","downloads":915},{"yearMonth":"2024-01","downloads":999},{"yearMonth":"2024-02","downloads":1022}],"versions":[{"version":"created","date":"2020-06-11T20:54:19.648Z"},{"version":"1.30.0","date":"2020-06-11T20:54:20.067Z"},{"version":"modified","date":"2023-12-21T11:02:52.817Z"},{"version":"1.25.0","date":"2020-06-11T20:54:27.572Z"},{"version":"1.17.1","date":"2020-06-11T20:54:33.922Z"},{"version":"1.9.7","date":"2020-06-11T20:54:40.935Z"},{"version":"1.14.1","date":"2020-06-11T20:54:49.077Z"},{"version":"1.26.0","date":"2020-06-11T20:55:00.280Z"},{"version":"1.9.29","date":"2020-06-11T20:55:10.398Z"},{"version":"1.27.0","date":"2020-06-11T20:55:16.873Z"},{"version":"1.27.1","date":"2020-06-11T20:55:53.639Z"},{"version":"1.9.27","date":"2020-06-11T20:56:00.394Z"},{"version":"1.24.0","date":"2020-06-11T20:56:08.642Z"},{"version":"1.22.1","date":"2020-06-11T20:56:15.266Z"},{"version":"1.26.1","date":"2020-06-11T20:56:25.898Z"},{"version":"1.17.0","date":"2020-06-11T20:56:36.428Z"},{"version":"1.23.1","date":"2020-06-11T20:56:44.143Z"},{"version":"1.9.6","date":"2020-06-11T20:56:52.048Z"},{"version":"1.9.14","date":"2020-06-11T20:56:58.883Z"},{"version":"1.9.17","date":"2020-06-11T20:57:05.404Z"},{"version":"1.9.9","date":"2020-06-11T20:57:12.009Z"},{"version":"1.9.26","date":"2020-06-11T20:57:18.931Z"},{"version":"1.9.20","date":"2020-06-11T20:57:26.314Z"},{"version":"1.9.24","date":"2020-06-11T20:57:33.251Z"},{"version":"1.9.15","date":"2020-06-11T20:57:41.612Z"},{"version":"1.12.1","date":"2020-06-11T20:57:48.462Z"},{"version":"1.9.22","date":"2020-06-11T20:57:55.267Z"},{"version":"1.9.18","date":"2020-06-11T20:58:02.783Z"},{"version":"1.14.0","date":"2020-06-11T20:58:11.131Z"},{"version":"1.9.10","date":"2020-06-11T20:58:20.096Z"},{"version":"1.17.2","date":"2020-06-11T20:58:30.683Z"},{"version":"1.21.1","date":"2020-06-11T20:58:38.442Z"},{"version":"1.20.1","date":"2020-06-11T20:58:46.710Z"},{"version":"1.29.0","date":"2020-06-11T20:58:53.459Z"},{"version":"1.9.23","date":"2020-06-11T20:58:59.926Z"},{"version":"1.9.38","date":"2022-04-20T12:56:56.339Z"},{"version":"1.9.39","date":"2022-07-24T11:46:53.740Z"},{"version":"1.9.40","date":"2022-09-14T09:21:41.152Z"},{"version":"1.9.41","date":"2023-02-06T10:29:33.132Z"},{"version":"1.9.42","date":"2023-02-27T10:11:54.633Z"},{"version":"1.9.43","date":"2023-04-16T13:12:16.816Z"},{"version":"1.9.44","date":"2023-04-24T08:37:15.065Z"},{"version":"1.9.45","date":"2023-07-26T15:13:09.533Z"},{"version":"1.9.46","date":"2023-11-20T13:11:37.686Z"},{"version":"1.9.47","date":"2023-12-06T11:50:33.753Z"},{"version":"1.9.48","date":"2023-12-21T11:02:52.619Z"}],"npmlink":"https://www.npmjs.com/package/@sap/site-entry"},{"name":"subaccount-destination-service-provider","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2021-02-25T13:55:16.399Z","updatedAt":"2023-11-13T11:29:37.241Z","readme":"# @sap/subaccount-destination-service-provider\n\n## Overview\n\n**subaccount-destination-service-provider** is an npm package that provides the APIs necessary for exposing subaccount destination systems and services.\n\n## Usage\n\nTo add this package as a dependency in your **package.json** file, under the \"dependencies\" section, add the following dependency: `\"@sap/subaccount-destination-service-provider\": [Version]`\n\n## APIs\n\nThis repository exposes APIs for the exploration of SAP systems and services that are consumed from the Business Application Studio (BAS) subaccount.\n\n### init\n\nThis API initializes a provider repository representing a given subaccount.\n\n`async init(): Promise<void>`\n\n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getSystems\n\nThis API retrieves systems exposed by the subaccount.\n\n`async getSystems(filter?: Filter): Promise<ProviderSystem[]>`\n\n**filter (this is optional)**: Only retrieves systems that comply with the given filter.\n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if data cannot be retrieved from the system.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getServices\n\nThis API retrieves services exposed by a specific system.\n\n`async getServices(options?: Record<string, any>): Promise<Service[]>`\n\n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; _filter (this is optional)_: Used to filter for relevant services.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if data cannot be retrieved from the system.\n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n### getMetadata\n\nThis API retrieves metadata exposed by a specific system.\n\n`async getMetadata( service: Service, encoding: EncodingMode, options?: Record<string, any> ): Promise<ServiceMetadata>`\n\n**service**: Defines the service from which the metadata will be retrieved.  \n**encoding**: Defines the required encoding requested by the consumer.  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n&nbsp;&nbsp;&nbsp;&nbsp; _filter (this is optional)_: Used to filter for relevant services.\n&nbsp;&nbsp;&nbsp;&nbsp; _relativeUrl_ (this is optional)*: for a non-full URL - provides the relative URL to the service.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; *RETRIEVE_DATA*: This error is displayed if metadata cannot be retrieved from the service.  \n&nbsp;&nbsp;&nbsp;&nbsp; *INTERNAL_ERROR\\*: This error is displayed for any other exception.\n\n### getAnnotations\n\nThis API retrieves an array of annotations exposed by a specific system.\n\n`async getAnnotations(service: Service, options?: Record<string, any>): Promise<Annotation[]`\n\n**service**: Defines the service from which the annotations will be retrieved.  \n**options (this is optional)**: The following parameters are optional:  \n&nbsp;&nbsp;&nbsp;&nbsp; _credentials (this is optional)_: for services that require authentication.  \n**throws ServiceProviderError**: If there is an error, this throws a \"ServiceProviderError\" error message.  \n&nbsp;&nbsp;&nbsp;&nbsp; _RETRIEVE_DATA_: This error is displayed if annotations cannot be retrieved from the service.  \n&nbsp;&nbsp;&nbsp;&nbsp; _INTERNAL_ERROR_: This error is displayed for any other exception.\n\n## Examples\n\n_Initialize repository_\n`await saRepo.init();`\n\n_List subaccount systems (destinations)_  \n`const saSystems = await saRepo.getSystems();`\n\n_Create credentials object - Used to access a system or service that requires authentication._  \n`const credentials = getCredentialsObject(\"username\", \"password\");`\n\n_Select a system and list the catalog services that it provides._  \n_Note: Add credentials since the system needs authentication._  \n`const saSelectedSystem = findByName(saSystems, \"U1Y010_BASIC\");`  \n`const saServices = await saSelectedSystem.getServices({credentials: credentials});`\n\n_Create a filter object - Used to filter for required services._  \n`const filter = getNewFilter(\"protocol\", [\"odatav2\"]);`\n\n_Select a service and consume the metadata and annotations that it provides._  \n_Note: Add credentials since the system needs authentication._  \n`const saSelectedService = findByName(saServices, \"ZPAGE_BUILDER_CUST\");`  \n`const saMetadata = await saSelectedSystem.getMetadata(saSelectedService, saProvider.EncodingMode.XML, {credentials: credentials, filter: filter});`  \n`const saAnnotations = await saSelectedSystem.getAnnotations(saSelectedService, {credentials: credentials});`\n\n- **credentials**: An object that enables you to add credentials to your system request.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _USER_: system username  \n   &nbsp;&nbsp;&nbsp;&nbsp; _PSW_: system password  \n   Credentials can be built as follows:\\*  \n   credentials = new Authentication(<USR>, <PSW>);\n\n- **filter**: An object that enables you to filter for systems that you want to receive.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _FILTER_KEY_: (string) A key used to filter the list of systems.  \n   &nbsp;&nbsp;&nbsp;&nbsp; _FILTER_VALUES_: (array of strings) accepted values of the filter key, separated by commas.  \n   Filters can be built as follows:  \n   filter = new Filter(new Map([[<FILTER_KEY>, <FILTER_VALUES>]]));\n\n### Git and GitHub\n\n1. Open Git Bash, go to the local repository directory, and sync with the remote repository.\n\n2. Develop in a **Local** branch.\n\n- Create a new descriptive branch `git checkout -b my-local-branch-name` <br>**OR** rename the previous one `git branch -m my-local-branch-name`.\n- Make sure _my-local-branch-name_ is **NOT master** and that there is **no existing** branch with this name.\n\n3. Sync with the remote repository.\n\n- Fetch the code from the master branch by running `git fetch; git merge`.\n\n4. Make your local changes.\n\n- Run `npm install` to install dependencies.\n- Run `npm run test` to compile the TypeScript code to JavaScript and run tests.\n\n5. Commit and push.\n\n- **Do not push directly to master!!!**\n- Commit your changes and push to create a new branch on GitHub by running `git push origin my-local-branch-name`\n- On consecutive commits **DO NOT** use `commit amend`. You should create a new commit and push to the same feature branch again. This will add an extra commit to your pull request and retrigger the voters.\n\n6. Open a pull request.\n\n- Click 'New pull request' next to your branch.\n- Edit the pull request name with BLI or BCP. For example: _\"BLI DEVXCORE-123: my new feature\"_ or _\"BCP 1670451810: Fix my bug\"_.\n- A new branch _(my-local-branch-name)_ is created in the GitHub repository.\n- The new code should enable all voters and code review to pass successfully.\n\n7. Update the existing pull request.\n\n- Stage your changes and create a new commit.\n- Perform Git fetch.\n- Perform Git merge on origin/master - Merge your changes with the most updated master branch.\n- Push your changes to your _my-local-branch-name_ (Git push origin _my-local-branch-name_).\n\n8. Merge the pull request.\n\n- If all voters passed (XMake + JaaS Voter), click 'Merge pull request'.\n- If your pull request contains several commits, you combine them in one commit from GitHub by selecting the 'Confirm squash and merge' option from the Merge dropdown list.\n\n9. Delete your branch.\n\n- After the merge is complete, go to **Code > Branches**.\n- Look for your merged pull request and click the delete branch icon.\n\n### Tests and Coverage\n\n- Run `npm run test` to run the unit tests written in Mocha and the coverage test.\n\n## Release\n\nBump the version in the \"package.json\" GitHub file.\n\n**_Notes:_**\nMake sure to follow this versioning concept:\n\n- When providing new features (when releasing at the end of the sprint or when a new feature is ready), bump a major version (for example, from 1.1.0 to 1.2.0).\n- When providing a bug fix to an existing version (\"hotfix\"), bump a minor version (for example, from 1.1.0 to 1.1.1).\n","downloadsCurrentMonth":10283,"downloadsCurrentFortnight":4702,"downloads365":1052999,"downloadsFortnightGrowth":-9.35,"downloadsHistory":[{"yearMonth":"2023-04","downloads":52942},{"yearMonth":"2023-05","downloads":61029},{"yearMonth":"2023-06","downloads":61284},{"yearMonth":"2023-07","downloads":62386},{"yearMonth":"2023-08","downloads":99712},{"yearMonth":"2023-09","downloads":122681},{"yearMonth":"2023-10","downloads":127373},{"yearMonth":"2023-11","downloads":120110},{"yearMonth":"2023-12","downloads":164946},{"yearMonth":"2024-01","downloads":146136},{"yearMonth":"2024-02","downloads":10577}],"versions":[{"version":"created","date":"2021-02-25T13:55:16.399Z"},{"version":"1.2.0","date":"2021-02-25T13:55:16.808Z"},{"version":"modified","date":"2023-11-13T11:29:37.241Z"},{"version":"1.2.1","date":"2021-03-24T11:07:14.741Z"},{"version":"1.2.2","date":"2021-04-21T16:30:45.409Z"},{"version":"1.2.7","date":"2021-05-30T16:56:48.533Z"},{"version":"1.2.8","date":"2021-06-17T10:56:18.339Z"},{"version":"1.2.9","date":"2021-07-08T06:45:15.496Z"},{"version":"1.2.10","date":"2021-07-21T16:36:53.051Z"},{"version":"1.2.11","date":"2022-03-09T14:43:58.020Z"},{"version":"1.3.0","date":"2022-04-26T09:31:57.224Z"},{"version":"1.4.0","date":"2022-05-10T21:25:57.305Z"},{"version":"1.4.1","date":"2022-06-15T08:19:38.225Z"},{"version":"1.4.5","date":"2022-08-10T07:13:30.064Z"},{"version":"1.5.3","date":"2023-02-14T09:30:40.938Z"},{"version":"1.8.2","date":"2023-11-13T11:29:37.021Z"}],"npmlink":"https://www.npmjs.com/package/@sap/subaccount-destination-service-provider"},{"name":"swa-for-sapbas-vsx","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-08-13T10:38:16.269Z","updatedAt":"2024-02-28T18:05:42.234Z","readme":"# SAP Web Analytics npm package for VSCode Extensions\n\nWrapper for application insights meant to be used in VSCode Extensions running in SAP Bussiness Application Studio.\n\n## Usage\n\n### Installation\n\n```typescript\nnpm install @sap/swa-for-sapbas-vsx\n```\n\n### API\n\n#### Initialize the client telemetry settings\n\nThis can be done in the `activate` stage of a vscode extension.\n\n```typescript\nimport { initTelemetrySettings } from \"@sap/swa-for-sapbas-vsx\";\n\ninitTelemetrySettings(extensionName: string, extensionVersion: number);\n```\n\nNote to take the `extensionName` and the `extensionVersion` dynamically from the `package.json`.\nThe `extensionName` is constructed from the vsxPublisher and vsxPackageName: `<vsxPublisher>.<vsxPackageName>`.\n\n#### report API\n\n```typescript\nimport { BASClientFactory, BASTelemetryClient } from \"@sap/swa-for-sapbas-vsx\";\n\nconst basTelemetryClient: BASTelemetryClient = BASClientFactory.getBASTelemetryClient();\n\n// Prepare any string/numeric telemetry data to be submitted\nconst properties: { [key: string]: string } = {\n  customProperty1: \"HIGH\",\n  customProperty2: \"DEFAULT\",\n  customProperty3: \"LOW\",\n};\n\nconst measurements: { [key: string]: number } = {\n  customMeasure1: 100,\n  customMeasure2: 0.73,\n  customMeasure3: 2019,\n};\n\n// Submit telemetry data\nbasTelemetryClient.report(\"eventName\", properties, measurements);\n```\n\n---\n\n#### Example of usage from a VSCode extension\n\n```typescript\nimport * as vscode from \"vscode\";\nimport { initTelemetrySettings } from \"@sap/swa-for-sapbas-vsx\";\nimport { BASClientFactory, BASTelemetryClient } from \"@sap/swa-for-sapbas-vsx\";\nconst packageJson = require(\"./package.json\");\n\n// this method is called when your extension is activated\nexport function activate(context: vscode.ExtensionContext) {\n  const extensionName = `${packageJson.publisher}.${packageJson.name}`; // e.g. SAP.vscode-close-editor\n  initTelemetrySettings(extensionName, packageJson.version);\n  void vscode.commands.registerCommand(\"extension.closeActiveEditor\", () => {\n    void vscode.commands.executeCommand(\"workbench.action.closeActiveEditor\");\n\n    const basTelemetryClient: BASTelemetryClient = BASClientFactory.getBASTelemetryClient();\n    // Only eventName is mandatory.\n    basTelemetryClient.report(\"Close Active Editor\");\n  });\n}\n```\n\n### Configuring Telemetry Settings for BAS Usage Tracking\n\nThis module is designed to track usage metrics for BAS, and it requires the VSCode setting `sapbas.telemetryEnabled` to be explicitly set to `true` for telemetry data to be transmitted.\n\nThe tool gathers anonymized information regarding your interaction with the software to enhance its offerings. Should you prefer to opt-out of this data collection, simply adjust the `sapbas.telemetryEnabled` setting to `false`.\n\n## Utilizing Application Insights Events for Report Generation\n\nThe following fields can be used for creating reports:\n\n| Application Insights Field | Origin                                                                                            |\n| -------------------------- | ------------------------------------------------------------------------------------------------- |\n| **evenName**               | The \"eventName\" parameter sent via report API. It is constructed by the `extensionName/eventName` |\n| **properties**             | Additional data used to filter events and metrics in the portal. Defaults to empty.               |\n| **measurements**           | Metrics associated with this event. Defaults to empty.                                            |\n\nYou can assume the following properties are automatically being added to each report:\n\n| Property Name              | Value                                                                                                                                                                                                     |\n| -------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| **iaas**                   | Refers to the Infrastructure as a Service provider where the extention is running. This could be a cloud provider like AWS, Azure, Google Cloud, etc., indicating the underlying infrastructure platform. |\n| **landscape**              | The specific environment where the application operates.                                                                                                                                                  |\n| **is_sap_user**            | A boolean flag indicating whether the user is associated with SAP.                                                                                                                                        |\n| **bas_mode**               | Indicates the mode of SAP Business Application Studio. Can be 'free', 'standard', 'buildCodeFree', 'buildCodeStandard'                                                                                    |\n| **extension_run_platform** | Indicates the platform on which the reporting VSCode extension is running.                                                                                                                                |\n| **extension_version**      | Specifies the version of the extension or tool being used                                                                                                                                                 |\n","downloadsCurrentMonth":5670,"downloadsCurrentFortnight":2758,"downloads365":543149,"downloadsFortnightGrowth":2.91,"downloadsHistory":[{"yearMonth":"2023-04","downloads":47930},{"yearMonth":"2023-05","downloads":52918},{"yearMonth":"2023-06","downloads":52484},{"yearMonth":"2023-07","downloads":52409},{"yearMonth":"2023-08","downloads":55685},{"yearMonth":"2023-09","downloads":55232},{"yearMonth":"2023-10","downloads":57165},{"yearMonth":"2023-11","downloads":52518},{"yearMonth":"2023-12","downloads":48873},{"yearMonth":"2024-01","downloads":44073},{"yearMonth":"2024-02","downloads":5405}],"versions":[{"version":"created","date":"2020-08-13T10:38:16.269Z"},{"version":"1.0.3","date":"2020-08-13T10:38:16.656Z"},{"version":"modified","date":"2024-02-28T18:05:42.234Z"},{"version":"1.0.4","date":"2020-08-18T14:23:04.838Z"},{"version":"1.1.0","date":"2020-08-31T13:57:20.292Z"},{"version":"1.1.1","date":"2020-09-15T12:33:35.249Z"},{"version":"1.1.2","date":"2020-09-22T12:40:15.921Z"},{"version":"1.1.3","date":"2020-11-02T12:22:11.333Z"},{"version":"1.1.5","date":"2020-11-15T14:34:33.761Z"},{"version":"1.1.8","date":"2020-12-17T13:09:54.107Z"},{"version":"1.1.9","date":"2020-12-22T15:57:31.784Z"},{"version":"1.1.11","date":"2020-12-31T09:21:53.834Z"},{"version":"1.1.12","date":"2021-01-27T14:21:18.196Z"},{"version":"1.1.13","date":"2021-02-17T11:56:47.159Z"},{"version":"1.2.3","date":"2021-03-09T08:29:59.431Z"},{"version":"1.2.7","date":"2021-03-11T07:48:45.322Z"},{"version":"1.2.14","date":"2021-04-04T11:19:37.399Z"},{"version":"1.2.15","date":"2021-04-20T11:50:02.635Z"},{"version":"1.2.18","date":"2023-09-07T14:07:12.447Z"},{"version":"2.0.0","date":"2024-02-19T08:58:16.336Z"},{"version":"2.0.1","date":"2024-02-20T09:05:38.570Z"},{"version":"2.0.2","date":"2024-02-20T11:46:10.911Z"},{"version":"2.0.3","date":"2024-02-21T09:22:29.358Z"},{"version":"2.0.4","date":"2024-02-28T18:05:41.792Z"}],"npmlink":"https://www.npmjs.com/package/@sap/swa-for-sapbas-vsx"},{"name":"textbundle","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T17:25:24.757Z","updatedAt":"2024-03-01T09:17:22.771Z","readme":"@sap/textbundle\n==========\n\nSimple tool for text internationalization in Node.js. Based on the same concept as SAP UI5, this module works with UTF-8 encoded properties files.\nLanguage defaulting is also borrowed from SAP UI5 with the idea the UI and server-side code\nuse the same text internationalization approach.\n\n## [API documentation](./API.md)\n\n## Usage\n\nAssuming you have these files in directory ./test/properties:\n\n*i18n_en_EN.properties*\n```\ngreeting = Hello {0}, you are {1} years old.\n```\n\n*i18n_de.properties*\n```\ngreeting = Hallo {0}, Sie sind {1} Jahre alt.\n```\n\n## Single quote inconsistency\nWhen there is a single quote in a resource, then several cases must be kept in mind:\n- whether there is one or more placeholders in the resources\n- whether the textbundle user is passing an array for the placeholders to `getText`\n\nThe result is summarized in the following table, where `N/A` means that no parameters were provided (not even an empty array of parameters):\n\n| Resource (example) | Parameters          | `getText()` result      | Counter intuitive |\n|--------------------|---------------------|-------------------------|:-----------------:|\n| `It's me`          | N/A                 | `It's me`               |                   |\n| `It's me`          | `[]`                | `Its me`                |        :x:        |\n| `It's {0}`         | N/A                 | `It's {0}`              |                   |\n| `It's {0}`         | `[]` or `['Bryan']` | `Its {0}`               |      :x: :x:      |\n| `It''s really {0}` | N/A                 | `It''s really {0}`      |        :x:        |\n| `It''s really {0}` | `[]`                | `It's really undefined` |                   |\n| `It''s really {0}` | `['Bryan']`         | `It's really Bryan`     |                   |\n\n### Creating a TextBundle\n#### Old API\n```js\nvar TextBundle = require('@sap/textbundle').TextBundle;\n\nvar bundle = new TextBundle({path: 'test/properties/i18n', locale: 'en_EN' } );\n```\n\n#### New API\n```js\nvar TextBundle = require('@sap/textbundle').TextBundle;\n\nvar bundle = new TextBundle('test/properties/i18n', 'en_EN');\n```\n\n#### Constructing localized messages\n```js\nvar TextBundle = require('@sap/textbundle').TextBundle;\n\nvar bundle = new TextBundle(path.resolve(__dirname, 'test/properties/i18n'), 'en_EN');\n\nbundle.getText('greeting'); // will return 'Hello {0}, you are {1} years old.'\nbundle.getText('greeting', ['Stefan']); // will return 'Hello Stefan, you are undefined years old.'\nbundle.getText('greeting', ['Stefan', '21']); // will return 'Hello Stefan, you are 21 years old.'\n\n// using DE locale\nvar bundle = new TextBundle(path.resolve(__dirname, 'test/properties/i18n'), 'de');\nbundle.getText('greeting', ['Stefan', '21']); // will return 'Hallo Stefan, Sie sind 21 Jahre alt.'\n```\n\n### Loading bundles\nBundles can be loaded by providing the absolute path to the resource bundle or relative path. If relative a path is used it will be resolved with respect to your JavaScript file. Absolute path to the resource bundle should be favored for TextBundles. \n\nDefault file extension is `.properties`. If your file has a different extension, you just need to append it to the path you provide.\nThe format of the file still has to be UTF-8, and the structure has to be properties-like.\n\n```js\nvar TextBundle = require('@sap/textbundle');\nvar txtBundle = new TextBundle({path: './test/txt/i18n.txt'});\n```\n\n### Getting texts and language defaulting\n\nGetting text is straight forward - shown on the examples above already.\n\nMessage retrieval from properties files is done using fall-back mechanism that searches for the provided key\nin a hierarchical order and returns the text associated with this key from the first occurrence in some of the files.\n\nFollowing order is applied when text is retrieved for specific locale:\n\n```\n  language -> country -> en -> root -> 'not-found, return the key'\n```\n\n\nA simple example:  locale is 'de_DE', bundle name is 'i18n', the order in which properties files are checked for key existence is following:\n\n```\n  i18n_de_DE\n  i18n_de\n  i18n_en\n  i18n\n  // if not found, the key is returned back\n```\n\n### Locale fallback\nThe static function `TextBundle.fallbackLocale` returns the fallback of a given locale (e.g. 'fr_FR' => 'fr' => 'en' => ''). \nThis lets you set up a locale fallback chain for your own purpose.\n \n```js\nvar TextBundle = require('@sap/textbundle').TextBundle;\n\nvar parent = TextBundle.fallbackLocale('en_US');\n```\n\n### ResourceManager \nResourceManager class allows managing resources for your module by caching the various TextBundle in order to avoid repeatedly loading them. \n\n```js\nvar ResourceManager = require('@sap/textbundle').ResourceManager;\nvar rm = new ResourceManager(path.resolve(__dirname, 'test/properties/i18n'));\n\nvar bundle = rm.getTextBundle('en_EN');\nbundle.getText('greeting');\n```\n\n### Asynchronous resource loading\nIn order to improve server scalability, resources should be loaded through asynchronous file system operations.   \n\n```js\nvar ResourceManager = require('@sap/textbundle').ResourceManager;\nvar rm = new ResourceManager(path.resolve(__dirname, 'test/properties/i18n'));\n\nrm.loadTextBundle('en_EN')\n    .then(function (bundle) {\n        bundle.getText('greeting');\n    });\n```\n\n### Resource loading middleware\n\n```js\nvar ResourceManager = require('@sap/textbundle').ResourceManager;\nvar rm = new ResourceManager(path.resolve(__dirname, 'test/properties/i18n'));\nvar express = require('express');\n\nvar app = express();\n\nfunction requestLocale(req) {\n    var locale = req.locale = req.acceptsLanguages(['en-US', 'en', 'de-DE', 'de', 'fr-FR', 'fr']) || 'en';\n    return locale;\n}\n\napp.use('/', rm.getMiddleware(requestLocale));\n\napp.use('/myHandler', function (req, res, next) {\n    // resources for request locale have been loaded at this stage \n    var bundle = rm.getTextBundle(req.locale);\n    bundle.getText('greeting');\n});\n```\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 5.0.0 - 2024-02-29\n\n### Removed\n- Node.js 12.x, 14.x and 16.x support and tests\n\n## 4.3.0 - 2023-11-07\n\n### Added\n- Node.js 20.x support.\n\n### Updated\n- filter-node-package to 3.2.0\n\n## 4.2.0 - 2023-02-22\n\n### Added\n- Node.js 18.x support.\n\n### Updated\n- filter-node-package to 3.1.1\n\n## 4.1.0 - 2022-01-12\n\n### Added\n- Node.js 16.x support.\n\n## 4.0.0 - 2021-02-04\n\n### Added\n- Node.js 14.x support.\n\n### Fixed\n- Reworked the \"langtag\" regex\n\n### Removed\n- Node.js 6.x support\n\n## 3.1.0 - 2019-12-06\n\n### Added\n- Node.js 12.x support.\n\n## 3.0.0 - 2019-05-02\n\n### Removed\n- Node.js v0.12 support\n- Node.js v4 support\n\n## 2.3.0 - 2018-12-18\n\n### Added\n- Node.js version 10 support\n\n## 2.2.1 - 2018-02-07\n\n### Fixed\n- Missing typings from package\n\n## 2.2.0 - 2018-01-09\n\n### Added\n- Node.js version 8 support\n- CHANGELOG.md\n- Typings\n\n## 2.1.0 - 2017-07-04\n\n### Added\n- Static function TextBundle.fallbackLocale.\n\n## 2.0.6 - 2017-01-25\n\n### Changed\n- Rename package to use @sap scope.\n","downloadsCurrentMonth":51289,"downloadsCurrentFortnight":24852,"downloads365":518452,"downloadsFortnightGrowth":1.54,"downloadsHistory":[{"yearMonth":"2023-04","downloads":41953},{"yearMonth":"2023-05","downloads":49339},{"yearMonth":"2023-06","downloads":57021},{"yearMonth":"2023-07","downloads":40465},{"yearMonth":"2023-08","downloads":39374},{"yearMonth":"2023-09","downloads":35005},{"yearMonth":"2023-10","downloads":40557},{"yearMonth":"2023-11","downloads":43650},{"yearMonth":"2023-12","downloads":39023},{"yearMonth":"2024-01","downloads":37460},{"yearMonth":"2024-02","downloads":43917}],"versions":[{"version":"created","date":"2020-06-11T17:25:24.757Z"},{"version":"2.1.0","date":"2020-06-11T17:25:25.137Z"},{"version":"modified","date":"2024-03-01T09:17:22.771Z"},{"version":"3.0.0","date":"2020-06-11T17:25:33.197Z"},{"version":"2.3.0","date":"2020-06-11T17:25:40.391Z"},{"version":"3.1.0","date":"2020-06-11T17:25:47.208Z"},{"version":"2.2.0","date":"2020-06-11T17:25:53.374Z"},{"version":"2.0.6","date":"2020-06-11T17:25:59.367Z"},{"version":"2.2.1","date":"2020-06-11T17:26:07.087Z"},{"version":"4.0.0","date":"2021-02-05T07:29:50.669Z"},{"version":"4.1.0","date":"2022-01-26T15:01:46.100Z"},{"version":"4.2.0","date":"2023-02-22T10:53:26.789Z"},{"version":"4.3.0","date":"2023-11-16T12:22:03.969Z"},{"version":"5.0.0","date":"2024-03-01T09:17:22.324Z"}],"npmlink":"https://www.npmjs.com/package/@sap/textbundle"},{"name":"ucl-provider","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-02-14T09:30:48.841Z","updatedAt":"2024-03-18T08:45:38.275Z","readme":"\r\n# The ucl-provider Repository\r\n## Overview\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;The ucl-provider is an npm package that provides the APIs necessary for exposing UCL systems, packages and services.\r\n\r\nThe UCL is working with cert and key. In BAS this is transperent to the user as it happens behind the scenes\r\n\r\n[UCL Docs](https://help.sap.com/docs/bas/sap-business-application-studio/unified-customer-landscape-service-provider)   \r\n\r\n\r\n## Usage\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;To add this package as a dependency in your **package.json** file, under the \"dependencies\" section, add the following dependency: `\"@sap/ucl-provider\": [Version]`\r\n\r\n# Public APIs\r\n\r\n## UclProviderRepository\r\n### getSystems\r\n**Description:** *Provides a list of UCL systems.*  \r\n**Signature:** \r\n  ```typescript\r\n  async getSystems(): Promise<UclSystemProviderSystem[]>\r\n  ```\r\n**Input:** none.\r\n\r\n**Output:** A list of [UCL Systems.](#uclSystemprovidersystem)   \r\n\r\n### getServiceRetriever\r\n**Description:** *Retrieves an instance of the UCL Service Retriever implementation of the ServiceRetriever interface.*  \r\n**Signature:** \r\n  ```typescript\r\n  getServiceRetriever(): UclServiceRetrieverInterface\r\n  ```  \r\n**Input:** none.\r\n\r\n**Output:** An instance that implements the UclServiceRetrieverInterface.  \r\n\r\n## UclSystemProviderSystem\r\n### getPackages\r\n**Description:** *Provides a list of the UCL system's packages.*  \r\n**Signature:** \r\n  ```typescript\r\n  getPackages(): Promise<UclPackageProviderSystem[]>\r\n  ```\r\n**Input:** none.\r\n\r\n**Output:** A list of the [UCL system's packages.](#uclpackageprovidersystem) \r\n\r\n## UclPackageProviderSystem\r\n### getServices\r\n**Description:** *Provides a list of UCL services.*  \r\n**Signature:** \r\n  ```typescript\r\n  async getServices(): Promise<Service[]>\r\n  ```\r\n**Input:** none.\r\n\r\n**Output:** A list of services.  \r\n\r\n### getMetadata\r\n**Description:** *Provides the metadata of the UCL service.*  \r\n**Signature:** \r\n  ```typescript\r\n  async getMetadata(\r\n        service: Service, \r\n        encoding: EncodingMode,\r\n        ): Promise<ServiceMetadata>\r\n  ```\r\n**Input:**\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*service*: The details of the service that you want to get the metadata for. \r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*encoding*: For metadata, you should use EncodingMode.XML.\r\n\r\n**Output:** An object that contains the metadata XML string of the service.  \r\n\r\n### getJsonLiveData\r\n**Description:** *Provides live data from the UCL service.*  \r\n**Signature:** \r\n  ```typescript\r\n  async getJsonLiveData(\r\n        service: Service, \r\n        destName: string, \r\n        entityName: string, \r\n        options?: Record<string, any>): Promise<ServiceCommon>\r\n  ```\r\n**Input:**\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*service*: The details of the service that you want to get the live data for.\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*destName*: The destination name of the live data.  \r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*entityName*: The name of the entity in the service that you want the live data for.\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;*options*: Accepts the following parameters:  \r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*filter* (optional): Provides query parameters to pass to the service. For example:\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;```new Filter(new Map([[ServiceRequestKey.TopRows, \"2\"\"]]))```\r\n\r\n**Output:** An object that contains a JSON string with live data from the service. \r\n\r\n## More Resources\r\n&nbsp;&nbsp;&nbsp;&nbsp;1. To create a key and certificate in **UCL Canary**, see this [wiki.](https://github.wdf.sap.corp/devx-wing/ucl-provider/wiki). \r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Note that the WS_BASE_URL in the lunch.json should be directed to UCL canary for the test flow to work.\r\n\r\n&nbsp;&nbsp;&nbsp;&nbsp;2. See a sample flow of ucl-provider APIs [here.](/test/flow/testFlow.ts)\r\n\r\n","downloadsCurrentMonth":422,"downloadsCurrentFortnight":227,"downloads365":1250,"downloadsFortnightGrowth":24.04,"downloadsHistory":[{"yearMonth":"2023-04","downloads":74},{"yearMonth":"2023-05","downloads":11},{"yearMonth":"2023-06","downloads":8},{"yearMonth":"2023-07","downloads":20},{"yearMonth":"2023-08","downloads":13},{"yearMonth":"2023-09","downloads":7},{"yearMonth":"2023-10","downloads":36},{"yearMonth":"2023-11","downloads":92},{"yearMonth":"2023-12","downloads":22},{"yearMonth":"2024-01","downloads":283},{"yearMonth":"2024-02","downloads":357}],"versions":[{"version":"created","date":"2023-02-14T09:30:48.841Z"},{"version":"0.0.9","date":"2023-02-14T09:30:49.191Z"},{"version":"modified","date":"2024-03-18T08:45:38.275Z"},{"version":"0.1.0","date":"2023-04-03T12:45:50.626Z"},{"version":"0.4.3","date":"2023-11-13T11:29:44.666Z"},{"version":"2.0.0","date":"2024-03-18T08:45:37.818Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ucl-provider"},{"name":"ux-annotation-modeler-bas-ext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-05T15:36:02.670Z","updatedAt":"2024-03-15T20:54:32.979Z","readme":"# SAP Fiori Tools - XML Annotation Language Server\n\n## Features\n\n<p>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** extension provides features that assist with defining annotations in the code editor thus improving the application development productivity by reducing the effort and contributing to the code consistency and correctness.\n\n</p>\n\n**Code Completion:**\n\n<p>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** modeler extension provides a list of suggestions based on the project metadata and OData vocabularies. An application developer can open such a list of suggested values for annotation targets, terms, and different elements of annotation values in the annotation file and accept one of the suggestions to add or change them. This eliminates the need to look up the valid values or type complete values thus improving the development efficiency.\n\n</p>\n\n**Micro-Snippets**\n\n<p/>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** extension provides a number of generic micro-snippets, which helps the application to accelerate the annotation definition. Bigger blocks of code get inserted and there is no need to trigger the code completion for each element or attribute. An application developer can insert repeating code patterns such as Annotations, Annotation, Record, and PropertyPath more efficiently.\n\n<p/>\n\n**Diagnostics (error-checking):**\n\n\n<p/>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** extension validates the annotation file against the project metadata, annotation vocabularies, and OData specification. An application developer can view the diagnostic messages and navigate to the related place in the annotation file to fix the issues.\n\n<p/>\n\n\n**Documentation (Vocabulary Information):**\n\n<p/>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** extension provides vocabulary information for annotation terms and their elements, such as property values, record types, etc. This information may include a description, applicability, type, etc. It also indicates if a term/element is experimental or deprecated and informs the developer if the element is mandatory. An application developer can use this information to make a better decision on how to use the annotation. The documentation scope depends on the information provided in the respective vocabulary.\n<p/>\n\n**Go to Definition:**\n<p/>\nThe Go To Definition feature helps you to navigate to the source of annotation or translatable string value and opens the result in a new tab.\n<p/>\n\n**Peek Definition:**\n<p/>\nThe Peek Definition feature lets you preview the definition of annotation or translatable string value without switching away from the code that you're writing.\n<p/>\n\n**i18n Support:**\n<p/>\n\nThe **SAP Fiori Tools - XML Annotation Language Server** provides diagnostic warning for translatable texts which are not maintained in the i18n.properties file.\nAn application developer can use code completion or quick fix to solve the issue.\n\n<p/>\n\n## Usage\n\n**To use the code completion:**\n\n- Trigger the code completion by pressing `CMD/Ctrl + Space`. The list of suggested values is displayed. The list is filtered by already typed characters. <br/>\nTip: You can filter it further by typing more characters.\n- Navigate to the desired value using up/down arrows or your mouse.\n- Accept the highlighted value using Enter key or a mouse click.\n\n**Note**: If the shortcut for triggering code completion `CMD + Space` does not work on Mac, it is most probably assigned for the other function (e.g. opens the spotlight search). This is a known VS Code issue on Mac. The recommended solution is to change the shortcut for suggestions in VS Code. Choose File->Preferences-> Keyboard shortcuts, press edit icon and set up a new shortcut. \n\n**To use the micro-snippets:**\n- Open the list of the micro-snippets available for the current position by pressing `CMD/Ctrl + Space` within the schema tag or its nested tags.\nThe list of suggested micro-snippets is displayed for the specific context.\n\n- Navigate to the desired value by using the up/down arrows or your mouse.\n- Accept the highlighted snippet by pressing Enter or by a mouse click.\n\n**To use the diagnostics:**\n- Change the annotation file. <br/>\n**SAP UX - XML Annotation Language Server** validates the annotation file against the metadata, OData specification and OData vocabularies and displays the diagnostic messages in the problems pane.\n- Click on the diagnostic message to navigate to the respective place in the document and fix the problem.\n\n**To use Go to Definition:**\n\nPlace your text cursor somewhere inside the path referencing to annotation term segment or translatable string value and\n\n* keyboard:  press F12 (in Visual Studio Code), or Ctrl + F11 (in SAP Business Application Studio)\n\n* mouse: right click and select Go To Definition, or.\n\n* keyboard and mouse: CTRL + Click (Win), command + Click (Mac)\n\n\n**To use Peek Definition:**\n\nPlace your text cursor somewhere inside path referencing to annotation term segment or translatable string value and\n\n- keyboard: press Alt + F12 (Win), Option + F12 (Mac), or\n\n- mouse: right click and select Peek Definition\n\n**To use the documentation**\n- In the code completion list, navigate to the desired value.\n\n## Prerequisites\nThe generated application requires the following software to be installed:\n- [NodeJS](https://nodejs.org/en/download/) Version 18.14.2 or higher\n- Local copy of OData metadata file to be present in the application folder structure.\n- `manifest.json` file to be present in the application folder structure and contain local URIs to the  metadata and annotation file(s) in its dataSources section.\n- The annotation file must be within the webapp folder or its sub-folders\n\n## Limitations\n- Annnotations directly embedded in the metadata are not supported\n- Dynamic expressions are not supported\n\n## Support\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: *SAP Fiori tools*\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation\n- Visit **SAP Help Portal** for [SAP Fiori Tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation. \n\n## License\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n## [1.12.2] - 2024-01-10\n### Added\n- Enhanced code completion to restrict the suggestions for annotation terms, complex types and properties to more meaningful based on `Validation.ApplicableTerms` set in OData vocabulary definitions . \n- Enhanced validation to display warning if the usage of annotation terms, complex types and properties is restricted in OData vocabulary definitions with `Validation.ApplicableTerms`\n\n## [1.9.4] - 2023-04-17\n### Added\n  - The **Show All References** option for metadata elements such as entity types, properties, and actions displays now also the references to these elements in annotation values.\n\n## [1.7.2] - 2022-08-25\n### Added\n  - Added a code action to transform self-closing tag in `Common.Text` annotation to simplify annotating it e.g. with `Common.TextArrangement`.\n## [1.2.3] - 2021-06-24\n### Added\n- Code completion, diagnostic and go to definition for string properties `CollectionPath` and `ValueListProperty` in `Common.ValueList` annotation.\n- Semantic highlighting of annotation elements.\n### Changed\n- Updated comprised OData vocabularies to include HTML5 vocabulary https://sap.github.io/odata-vocabularies/vocabularies/HTML5.html.\n\n## [1.2.0] - 2021-05-27\n### Changed\n- Updated comprised OData vocabularies.\n\n## [1.1.11] - 2021-05-13\n### Changed\n- Updated comprised OData vocabularies.\n\n## [1.1.9] - 2021-04-15\n### Changed\n- Removed paths to the same annotation and `/` segment for the absolute paths from the code completion. \n\n## [1.1.7] - 2021-03-31\n### Added\n- Go To References /Peek References / Show All References for the aggregared properties defined with the `Analytics.AggregatedProperties` annotation. You can now navigate to the place in the metadata or annotation file where the aggregated property is referenced.\n\n### Changed\n- Vocabulary description and long description for restricted `String` values are now displayed in Quick Info window of the completion lists. \n\n## [1.1.5] - 2021-03-18\n### Added\n- Code completion and diagnostics for comparison operators\n- Links to relevant development guides on hover over the annotation term\n\n## [1.1.4] - 2021-03-04\n### Added\n- Quick Fix to convert self-closing tags for `PropertyValue` and `LabeledElement`. You can now apply odata functions or annotate property values faster.\n- Code completion and diagnostics for logical operators. You can now define values based on certain conditions more efficient.\n\n## [1.1.2] - 2021-02-25\n\n### Added\n- Code completion, diagnostics and quick info for applying selected client-side odata functions:\n  - `odata.concat` \n  - `odata.fillUriTemplate`\n  - `odata.uriEncode`\n\n\n## [1.0.28] - 2021-02-04\n\n### Added\n- Peek Definition for target path segments. You can now see where and how the annotated targets (entity types, properties, function imports, etc) are defined.\n- Go To Definition for target path segments. You can now navigate to the place in the metadata where the annotated targets (entity types, properties, function imports, etc) are defined.\n- Peek Definition for the dynamically created aggregared properties. You can now see how and where the property used as an annotation value is defined also if it is  dynamically created using the `Analytics.AggregatedProperties` annotation.\n- Go To Definition for the dynamically created aggregared properties. You can now navigate to the place in the metadata or annotation file where the aggregated property is defined with the `Analytics.AggregatedProperties` annotation.\n\n\n## [1.0.26] - 2021-01-21\n\n### Added\n- Peek References for annotations referenced in other annotations. You can now see if and where the annotation is referenced.\n- Go To References for annotations referenced in other annotations. You can now navigate to the place in the project where the annotation is referenced (if any).\n- Peek Definition for entity type properties and actions used in annotations. You can now see where the entity type property or action is defined.\n- Go To Definition for entity type properties and actions used in annotations. You can now navigate to the place in the metadata where the entity type property or action is defined.\n- Dedicated validation and quick fix for wrong case in annotation terms, properties, record types, paths and enum values. You can now fix the typos related to wrong case with one click. \n- Dedicated validation for type mismatch in paths. \n\n### Changed\n- Omitted qualifier tab stops in code completion snippets for annotation not applied to entity type \n- Omitted attributes in code completion snippets for boolean type annotations with default value `true`.\n\n## [1.0.24] - 2020-12-10\n\n### Added\n- Code completion and diagnostics for referencing actions in DataFieldForAction\n- Code completion and diagnostics for properties of open complex types (e.g. Data property in UI.ConnectedFields)\n- String attribute included by default in code snippets for annotation properties of type `Edm.String`\n\n## [1.0.23] - 2020-11-26\n\n### Added\n- Display the type of annotation target on hover and in code completion lists\n\n## [1.0.22] - 2020-11-13\n\n### Changed\n- Excluded some irrelevant values from code completion lists in paths\n\n## [1.0.12] - 2020-08-12\n\n### Added\n- Code completion lists for property path values now include properties dynamically generated using the Analytics.AggregatedProperties annotation.\n- Diagnostics for property path values now consider properties dynamically generated using the Analytics.AggregatedProperties annotation.\n \n## [1.0] - 2020-06-16\nRelease status: GA\nWe are pleased to announce the official GA of the SAP Fiori tools - XMl Annotation Language Server extension. \n\n## [0.9] - 2020-05-20\nRelease status:Beta\n\n### Added\n- Basic code completion and diagnostics\n-\tComplex micro snippets for simplified annotation definition\n- Vocabulary documentation on hover and in code completion lists\n- Code snippet in documentation window for items in code completion lists\n- Internationalization support for language dependent strings: warnings with Quick Fix actions\n- Peek Definition support for annotation and internationalized text references\n- Go To Definition support for annotation and internationalized text references\n-\tAutomatic update of code completion lists and diagnostics on project changes\n-\tMultiple schema support in service metadata\n- Multiple services support in projects based on Overview Page template\n","downloadsCurrentMonth":644,"downloadsCurrentFortnight":289,"downloads365":4512,"downloadsFortnightGrowth":-14.75,"downloadsHistory":[{"yearMonth":"2023-04","downloads":203},{"yearMonth":"2023-05","downloads":404},{"yearMonth":"2023-06","downloads":257},{"yearMonth":"2023-07","downloads":303},{"yearMonth":"2023-08","downloads":358},{"yearMonth":"2023-09","downloads":363},{"yearMonth":"2023-10","downloads":325},{"yearMonth":"2023-11","downloads":306},{"yearMonth":"2023-12","downloads":265},{"yearMonth":"2024-01","downloads":523},{"yearMonth":"2024-02","downloads":687}],"versions":[{"version":"created","date":"2022-09-05T15:36:02.670Z"},{"version":"1.7.3","date":"2022-09-05T15:36:03.151Z"},{"version":"modified","date":"2024-03-15T20:54:32.979Z"},{"version":"1.7.4","date":"2022-09-15T19:56:25.029Z"},{"version":"1.7.5","date":"2022-09-30T12:30:00.127Z"},{"version":"1.7.6","date":"2022-10-17T17:42:20.271Z"},{"version":"1.8.0","date":"2022-11-01T09:33:38.136Z"},{"version":"1.8.1","date":"2022-11-22T20:14:36.396Z"},{"version":"1.8.2","date":"2022-11-24T13:05:26.586Z"},{"version":"1.8.3","date":"2022-12-09T11:54:05.301Z"},{"version":"1.8.5","date":"2023-01-20T18:20:27.203Z"},{"version":"1.8.6","date":"2023-02-02T16:54:35.931Z"},{"version":"1.9.0","date":"2023-02-16T12:12:07.784Z"},{"version":"1.9.1","date":"2023-03-03T10:10:21.168Z"},{"version":"1.9.2","date":"2023-03-16T12:43:44.025Z"},{"version":"1.9.3","date":"2023-04-02T21:03:52.236Z"},{"version":"1.9.4","date":"2023-04-17T10:22:15.564Z"},{"version":"1.9.5","date":"2023-05-03T10:59:04.256Z"},{"version":"1.9.6","date":"2023-05-11T10:45:42.559Z"},{"version":"1.9.7","date":"2023-05-25T16:05:23.743Z"},{"version":"1.10.0","date":"2023-06-08T16:16:25.803Z"},{"version":"1.10.1","date":"2023-06-27T15:19:36.731Z"},{"version":"1.10.2","date":"2023-07-11T12:05:20.184Z"},{"version":"1.10.3","date":"2023-07-21T12:00:53.338Z"},{"version":"1.10.4","date":"2023-08-03T15:48:39.910Z"},{"version":"1.10.5","date":"2023-08-17T15:13:42.255Z"},{"version":"1.10.6","date":"2023-09-01T16:36:53.509Z"},{"version":"1.11.0","date":"2023-09-15T09:27:24.997Z"},{"version":"1.11.1","date":"2023-09-29T08:26:14.855Z"},{"version":"1.11.2","date":"2023-10-12T15:25:03.485Z"},{"version":"1.11.3","date":"2023-10-26T15:11:35.920Z"},{"version":"1.11.4","date":"2023-11-09T17:22:19.321Z"},{"version":"1.11.5","date":"2023-11-24T08:22:45.931Z"},{"version":"1.12.0","date":"2023-12-13T10:59:52.013Z"},{"version":"1.12.1","date":"2023-12-20T12:28:44.857Z"},{"version":"1.12.2","date":"2024-01-19T14:26:51.380Z"},{"version":"1.12.3","date":"2024-02-02T09:23:49.684Z"},{"version":"1.12.4","date":"2024-02-15T16:04:36.388Z"},{"version":"1.12.5","date":"2024-03-01T16:24:19.984Z"},{"version":"1.13.0","date":"2024-03-15T20:54:32.331Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-annotation-modeler-bas-ext"},{"name":"ux-application-modeler-bas-ext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-05T15:12:40.602Z","updatedAt":"2024-03-15T20:54:14.083Z","readme":"# Application Modeler\n\nThe application modeler extension allows you to visualize and change the page routing of SAP Fiori elements applications (Page Map), and to configure individual pages via manifest settings, annotation properties, and UI flexibility changes (Page Editor).\n\nStarting as of version 1.10.1, the Page Editor supports adding and maintaining properties of [SAP Fiori elements building blocks](https://ui5.sap.com/test-resources/sap/fe/core/fpmExplorer/index.html#/buildingBlocks/buildingBlockOverview) for OData V4-based applications. This feature is currently an experimental one and is subject to changes and enhancements based on customer feedback.\n\n## Migration\n\nApplications created with the SAP Fiori Tools (see \"Integration with the Fiori: Application Generator\" topic below) are automatically enabled for application modeler. In order to migrate an existing project, which is already present in your workspace, execute the command `Fiori: Migrate Project for use in Fiori tools` from the Command Palette.\nSupported project types:\n\n- SAP Fiori elements for V2\n- SAP Fiori elements for V4\n- SAPUI5 freestyle\n- SAPUI5 Adaptation Project (only on SAP Business Application Studio)\n- Extension Project (only on SAP Business Application Studio)\n\n### Usage\n\n1. The SAP Fiori project cloned from a repository or filesystem has to be in your workspace.\n1. Execute the command `Fiori: Migrate Project for use in Fiori tools` from the Command Palette.\n1. Select your project(s) in project list\n1. Select a SAP System for your project's service (and reuse libraries in applicable) from the dropdown list , \nor select `Manual Input` to enter backend \"Hostname\" URL and SAP Client manually\n1. If the application has no backend service no input in needed.\n1. Click on \"Start Migration\" to upgrade the selected project(s).\n\nThe migration will update the `package.json`, `ui5*.yaml`, and `test\\*.html` files in your project folder.\n\n## Page Map\n\n### Features\n\nThe **SAP Fiori Tools - Page Map** provides a visual representation of the application's pages, navigations, and the service entities that it uses. The developer can add new navigations and pages, delete pages, and navigate to corresponding editing tools.\n\nThe Page Map extension reads and updates the `app.json` file containing the navigation and pages information in a compact and technology independent notation. The file also serves as a simple text-based interface. It is generated on demand and can be accessed from the application modeler tree view from SAP Fiori sidebar view by selecting the `Show Source Code` option from the `Map` node's right-click context menu. The application descriptor (`webapp/manifest.json`) of the application will be updated automatically when the `app.json` is saved, and changes to the `webapp/manifest.json` will be converted to `app.json`. The `app.json` is virtual and will not be written to the project folder.\n\n#### Supported Templates of SAP Fiori Elements\n\n* List Report Page with OData V2 and OData V4\n* Worklist Page with OData V2 and OData V4\n* Analytical List Page with OData V2 and OData V4\n* Overview Page with OData V2 and OData V4\n* From Entry Object Page with OData V4\n* Custom Page with OData V4\n\n### How to use Page Map\n\nSelect the root folder of your app or any folder in your workspace within Explorer, right-click and choose `Show Page Map`. If the project can't be determined from your selection, you will be presented with a quick pick to select the project.\n\nOR\n\nLeft-click on the `Map` node in application modeler tree view for the project from SAP Fiori side bar view.\n\nOR\n\nIn the text editor of the virtual `app.json` file choose the `Show Page Map` icon in the Editor Title menu\n\nOR\n\nFrom the Command Palette execute the command `Fiori: Show Page Map`\n\n### Notes\n\n* Undo/redo via menu options is not supported in SAP Application Studio\n\n### Prerequisites\n\n* [NodeJS](https://nodejs.org/en/download/) Version 18.14.2 or higher\n\n## Page Editor\n\n### Features\n\nThe **SAP Fiori Tools - Page Editor** provides an outline view of the configurable elements on the selected page. Settings can be changed within a property panel which opens on click on an element. The property panel displays the editable properties, provides a search filter option, info texts for properties, and via `Edit in source code` the option to see and edit the property directly in the associated file.\n\nThe Page editor reads and writes `pages/*.json` files containing the applicable manifest and UI5 flexibility based settings in a compact and technology independent notation. The files also serve as a simple text-based interface. They are generated on demand and can be accessed from the application modeler tree view from SAP Fiori sidebar view by selecting the `Show Source Code` option from the respective page's node's right-click context menu. Each page in your app has its own `json` file. The virtual files will be automatically synchronized with the `webapp/manifest.json` and UI5 flex changes in the `webapp/changes` folder.\n\n#### Annotation Support\n\nStarting as of version 1.4.1 of the application modeler and [`@sap/ux-specification`](https://www.npmjs.com/package/@sap/ux-specification) with the versions 1.84.25, 1.90.14 or higher, the Page Editor allows the creation and maintenance of the most common annotation-based UI elements for OData V4-based List report Object page and Form entry page applications. With this addition, the application modeler further strengthens the goal of SAP Fiori tools to ease and speed up the application development.\n\n#### Building Block Support\n\nStarting as of version 1.10.1 of the application modeler and [`@sap/ux-specification`](https://www.npmjs.com/package/@sap/ux-specification) 1.108.8, 1.96.41 or higher, the Page Editor supports adding and maintaining the properties of [SAP Fiori elements building blocks](https://ui5.sap.com/test-resources/sap/fe/core/fpmExplorer/index.html#/buildingBlocks/buildingBlockOverview) for OData V4-based applications. Building blocks within a custom page or custom section can be shown in the outline and their properties be modified in the property panel. The building blocks for the chart, filter bar, and table can be created from the outline using a link to the corresponding feature guides in the Guided Development tool.\n\nThis feature is currently experimental and subject to changes and enhancements based on customer feedback.\n\n#### Supported Templates of SAP Fiori Elements\n\n* List Report Page with OData V2 and OData V4\n* Worklist Page with OData V2 and OData V4\n* Analytical List Page with OData V2 and OData V4\n* Overview Page with OData V2 and OData V4\n* From Entry Object Page with OData V4\n\n### How to use Page Editor\n\nSelect the root folder of your app or any folder in your workspace within Explorer, right-click and choose `Show Page Map`. Choose a page you want to configure and click the pencil icon.\n\nOR\n\nLeft-click on the respective page's node in application modeler tree view for the project from the SAP Fiori side bar view.\n\nOR\n\nIn the text editor of the virtual JSON file of the page choose the `Show Page Editor` icon in the Editor Title menu.\n\n## How to Preview the Application\n\nProvided by [`@sap/ux-ui5-tooling`](https://www.npmjs.com/package/@sap/ux-ui5-tooling) the application modeler also comprises a live preview in a browser for non-CAP applications (for CAP the preview is handled via CDS tools), which is automatically refreshed when application project files are changed. The live preview starts an HTTP local server at default port 8080 (additional apps start at subsequent ports), where the application is run.\n\nSelect the root folder of your app or any app-related folder within the Explorer, right-click, and choose `Preview Application` to start the app in your default browser.\n\nOR\n\nFrom the Command Palette execute the command `Fiori: Preview Application`\n\nOR\n\nFrom the application modeler tree view for the project from the SAP Fiori sidebar view right-click on any folder, and choose `Preview Application`.\n\nIf the application can't be determined from your selection, you will receive a quick pick to select it from. Next, you receive a list of start scripts from the `package.json` with options on how you want the preview to be executed. The default options are:\n\n* `start` - starts the application with real service data\n* `start-mock` - starts the application with mock data\n* `start-local` - starts the application with mock data and a local copy of the SAPUI5 resources for offline work\n* `start-noflp` - starts the applications without the sandbox SAP Fiori launchpad\n\nThe preview command also offers the existing run configurations for the applications to start. Preview via run configurations gives the developer more flexibility in maintaining multiple preview setups and run with debugger attached. The command `Fiori: Open Run Configuration` allows you to create a new run configuration in VSCode. In SAP Business Application Studio the functionality is available also via the action `Create Configuration` under `View` -> `Run configurations`.\n\n### Enable App-to-App Navigation Preview\n\nTo enable the preview of app-to-app navigation for applications in the same workspace execute the command `Fiori: Enable App-to-App Navigation` from the Command Palette. It will ask you for a source and target application. Upon completion a new configuration `appconfig\\fioriSandboxConfig.json` is written to the source application folder. Navigations from source to target application are now available in preview.\n\n### Preview an Application in External Fiori Launchpad\n\nThis feature provides the user with the ability to test an application run without its redeployment. Running an application on the existing Fiori Launchpad requires the application to be deployed once and configured, so it is visible on the target Fiori Launchpad. The feature needs to be configured once with the command `Fiori: Add FLP Embedded Configuration`. Then a new start script `start-embedded` becomes available. Note that the SAP Launchpad service on SAP BTP does not support the use of this feature currently.\n\nPrerequisite: [`@sap/ux-ui5-tooling`](https://www.npmjs.com/package/@sap/ux-ui5-tooling) version 1.3.1 or higher\n\n### Developer variant creation\n\nThis feature provides the user with the ability to create variants which are delivered together with the application. The variants are stored as SAPUI5 flexibility changes in the project's `webapp/changes` folder and packaged with the application during the build step. The feature is delivered with the `@sap/ux-ui5-tooling` node module and its preview feature.\n\nDeveloper variant creation is supported from the SAPUI5 version 1.90 (OData V2 based applications) and 1.84 (OData V4 based applications). Currently, `@sap/ux-ui5-tooling` supports only ABAP service-based projects. The feature can be started from \"Preview Application\" context menu via the script `start-variants-management`. The script and necessary configuration are added with the palette command `Fiori: Add Configuration for Variants Creation`.\n\nPrerequisite: [`@sap/ux-ui5-tooling`](https://www.npmjs.com/package/@sap/ux-ui5-tooling) version 1.4.0 or higher\n\n## Documentation of Configuration Features\n\nThe manifest and UI5 flexibility properties of the respective SAP UI5 version shown in Page map and Page editor are provided by the `@sap/ux-specification` node module installed on project creation or migration. The version of the module is determined by the `minUI5Version` of the application project stored in the `manifest.json` file. The full list and documentation of available properties for the application, and the application's individual pages can be accessed independently from the Page Map and Page Editor via the right-click context menus in the application modeler tree view.\n\n## Integration with the SAP Fiori Tools - Application Generator\n\n### Installation\n\nInstalling the **Application Modeler** extension adds support for the application generator tool. The Application Generator allows the user to generate an application based on a number of different templates.\n\n### How to use Application Generator\n\nFrom the Command Palette execute the command `Fiori: Open Application Generator`\n\nThis will launch the application generator tool if installed.  If the application generator is not yet installed, it will install it the first time this command is executed.\n\n### Prerequisites\n\n* [NodeJS](https://nodejs.org/en/download/) Version 18.14.2 or higher\n\n## Application Information Page\n\nAfter application generation an information page will be automatically opened. This page comprises sections with information, links to tools and further actions.\n\n* Project Details - information like the title, the path, the pages, and type of application\n* Application Status - showing the status of required libraries\n* What you can do - a collection of tiles to access useful tools within the context of the application\n* What you can learn - resources for further reading\n\nThe information page can also be opened with the command `Fiori: Open Application Info`.\n\n## Data Editor\n\nPreviewing the application using 'npm run start-mock' generates mock-data on the fly. If you want to generate mock-data and store it in the `.json` file format, you can right-click on your project and launch `Open Data Editor`. Once generated, the mock-data is stored in the `.json` files under the `/webapp/localService/mockdata` folder. \n\nData Editor reads the `metadata.xml` file and generates mock-data. Data can be edited in the canvas by either double-clicking the cells of the Data Editor or changing the `.json` files directly.\n\n## Support\n\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: _SAP Fiori tools_.\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation\n- Visit **SAP Help Portal** for [SAP Fiori Tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation.\n\n## License\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n\nItems marked as [experimental] are subject to change.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.13.0] - 2024-03-07\n### Added\n- Added support to the Application Info page for SAPUI5 library projects that do not have a `manifest.json` file but have their configuration stored in a `.library` file\n- Added an additional documentation link to the properties in the Page Map and Page Editor, where available, showing information delivered with the `@sap/ux-specification` node module\n\n### Fixed\n- Fixed an issue with the loading of `@sap/ux-specification` after application generation, which resulted in the Page Map, Page Editor, and Guided Development not starting without a reload\n\n## [1.12.5] - 2024-02-22\n### Added\n- Enabled hiding the Edit and Delete buttons in an application UI statically, or based on the Boolean property\n- Added support for header sections for OData V2-based applications\n\n### Changed\n- Enhanced the logging information with better visualization and the connection to the log level setting in VS Code\n\n### Fixed\n- Fixed an issue where SAPUI5 flexibility change files created by other means were overwritten or deleted when property changes were made in the Page Editor\n- Fixed an issue with false positive warnings shown in the Page Map for valid navigations to custom pages\n- Fixed an issue with wrong routings being written to the manifest when adding an object page or custom page following a custom page (also needs `@sap/ux-specification` versions 1.96.57, 1.108.24, 1.120.5 or higher)\n- Fixed an issue with the deletion of custom views in the Page Editor\n\n## [1.12.4] - 2024-02-08\n### Added\n- Added the capability to quickly navigate through content groups via keyboard to the Application Info page, the Page Map, and the Page Editor webviews\n- Added an indication to the Page Editor when the annotation API returns an error\n- Added support for custom actions referencing extension controllers with the prefix '.extension' in the 'press' property\n\n### Changed\n- Enhanced the error message in case the minimum SAPUI5 version can't be changed to indicate the reason\n\n### Fixed\n- Fixed an issue with an empty `NavigationPropertyPath` annotation leading to a parsing error in the Page Map\n- Fixed an issue with the application modeler tree view not showing the warning message when something is wrong with the project\n- Fixed an issue with application type detection resulting in an \"Invalid application ID\" error shown when adding a custom section\n- Fixed multiple issues with `i18n` mass generation\n- Fixed an issue where a warning message was shown about the Variant Management property when adding a table building block in the Page Editor\n\n## [1.12.3] - 2024-01-25\n### Added\n- Enabled setting the criticality for actions based on `UI.DataFieldForAnnotations` in List Report table rows and the Object Page header and footer\n\n### Changed\n- Improved the error handling when `i18n` bundles can't be resolved\n\n### Fixed\n- Fixed an issue where the focus in the property panel was not correctly set after moving a node in the outline view\n- Fixed an issue where the custom page schema generation resulted in the Page Editor showing an error\n- Fixed an issue where the application modeler tree view was showing only the first part of an application's name if it contained a period (`.`)\n- Fixed an issue with the Page Editor outline showing wrong content if the annotation path to a table view doesn't exit\n\n## [1.12.2] - 2024-01-10\n### Added\n- Added support for adaptation projects in VS Code [experimental]\n- Added icons to the folders of the information panel\n\n### Changed\n- Changed the severity indicator of available node module updates in the status section of the Application Information Page from \"warning\" to \"info\"\n- Changed the icon of the status section header in the Application Information Page to show the aggregated state of the status checks\n- Enhanced how manifest changes are written to keep existing formatting whenever possible\n\n### Fixed\n- Fixed an issue with wrong schemas being generated for applications with similar names in multi-app projects\n- Fixed an issue with the schema of an application not always being re-generated in case a tool action triggers the creation of an annotation file\n- Fixed an issue where deleting a custom table view was not possible in a CAP application when no `lineitem` annotation was defined\n- Fixed an issue with non-filterable properties showing up in the drop-down lists for filters\n- Fixed an issue with drag & drop placeholders not showing correctly if the Page Editor toolbar wraps to multiple lines\n\n## [1.12.1] - 2023-12-18\n### Fixed\n- Fixed an issue with duplicate command IDs in SAP Business Application Studio preventing the SAP Visual Editor from working\n\n## [1.12.0] - 2023-11-29\n### Changed\n- Changed the parsing of `launch.json` files to be tolerant in regards to using comments\n- Optimized the schema generation for multi-app projects to reduce loading and roundtrip times \n\n### Fixed\n- Fixed an issue with opening the same file twice when using the navigate to source option and the file being open already\n- Fixed an issue with a lower border on dropdown boxes not visible with certain zoom levels\n- Fixed an issue with \"Use Existing View\" being selected in the custom section dialog even if there is no view available\n- Fixed an issue with drag & drop placeholders being wrongly positioned when a resizing of the window leads to a multi-row toolbar\n- Fixed an issue with losing the focus when moving toolbar actions to table columns\n\n## [1.11.5] - 2023-11-15\n### Added\n- Added support for annotation features based on inline compositions, e.g. adding table sections\n\n### Changed\n- Enhanced the multi-select dropdowns in dialogs to ensure they don't obstruct the action buttons when open\n- Enhanced the hover area of the tooltip for error markers\n\n### Fixed\n- Fixed issues with overlapping and misaligned texts\n- Fixed Value helps referenced from another service are now considered in the Display Type property\n\n## [1.11.4] - 2023-11-01\n### Added\n- Added an information panel to the activity bar item of SAP Fiori tools\n\n### Changed \n- Enhanced the validation check for the creation of OData V2-based custom columns ensuring that an existing fragment is reused for further columns\n- Enhanced the performance for the application modeler tree view: in the case of multiple apps in the project, a lazy load mechanism prevents the generation of all page configurations and schemas right from the start\n\n### Fixed\n- Fixed an issue with selected item focus in dropdown menus\n- Fixed an issue with touch events outside the menu not closing the dropdown\n- Fixed an issue with error messages shown on Page Map not disappearing after correcting the root cause\n- Fixed an issue with an empty string being considered invalid for `ValueListForValidation` annotation preventing the creation of new pages in the Page Map\n- Fixed an issue with the filter icon becoming invisible when resizing the Page Map\n- Fixed an issue with the Add Custom Column dialog that offered to select existing functions for a newly created handler file\n- Fixed an issue with reuse libraries being wrongly offered for run configurations\n- Fixed an issue with sections being displayed in selection dialogs for anchors showing the i18n key instead of the text\n- Fixed an issue with SAPUI5 flexibility changes created for contact person details on object page subsections of OData V2-based applications\n\n## [1.11.3] - 2023-10-18\n### Added\n- Enabled adding and maintaining filter fields based on associated properties\n- Added an enhanced visualization of error situations to the Page Map and Page Editor\n\n### Changed\n- Changed the minimum required [NodeJS](https://nodejs.org/en/download) version to 18.14.2 or higher\n\n### Fixed\n- Fixed an issue with the warning indicator missing in the application modeler tree view\n- Fixed an issue with dropdown boxes auto-selecting the wrong entry\n- Fixed an issue with extensions being allowed to be anchored on itself on creation\n- Fixed several issues with navigation to source code when working with building blocks (experimental)\n- Fixed an issue with a missing key property for action group building blocks (experimental)\n- Fixed an issue with an incorrect tab key being written to manifest when setting the tab key to empty in the Page Editor property panel\n- Fixed an issue with the Page Map being able to add pages for the same navigation property multiple times\n- Fixed an issue with the Page Editor losing selection focus when refreshing on manual external changes in the source file\n- Fixed an issue with scrolling via touch screen in the Page Editor property panel\n- Fixed several minor UX issues in dropdown boxes \n\n## [1.11.2] - 2023-10-04\n### Added\n- Added the support for custom header sections for OData V4-based applications in conjunction with `@sap/ux-specification` versions 1.84.75, 1.96.49, 1.108.16 or higher\n- Added the support for custom filter fields for OData V4-based applications in conjunction with `@sap/ux-specification` versions 1.84.75, 1.96.49, 1.108.16 or higher\n- Added the support for standard actions (like \"Share\") and their properties for OData V2-based applications in conjunction with `@sap/ux-specification` versions 1.71.95, 1.84.75, 1.96.49, 1.108.16 or higher\n- Added tiles for test deployment and undeploy features of libraries to their Application Information Page\n- Added the support for launching the Application Info page after migrating a reusable library to be compatible with SAP Fiori tools\n\n### Fixed\n- Fixed an issue with an already used custom column fragment not being presented as the only valid option to store new custom columns for OData V2-based applications\n\n## [1.11.1] - 2023-09-20\n### Fixed\n- Fixed an issue with the dropdown control for the Add Contact Column dialog in the Page Editor\n- Fixed an issue with Unicode characters not being shown correctly in the application modeler tree view\n- Fixed an issue where moving multiple custom columns per drag & drop to the first position didn't work with the Page Editor and OData V2-based applications\n- Fixed issues with adding custom columns not being successful with Page Editor and OData V2-based applications in conjunction with `@sap/ux-specification` versions 1.71.94, 1.84.74, 1.96.48, 1.108.14 or higher\n- Fixed an issue with custom pages as root pages of an application not offering the correct navigation targets for creating new pages in the Page Map\n- Fixed an issue with the minimum SAPUI5 version not being considered when the version of `@sap/ux-specification` that should be installed on the Application Info page is being determined\n\n## [1.11.0] - 2023-09-06\n### Added\n- Added support for projects of the type library to the Application Information Page; renamed the labels to reduce redundancy and make them sound more general\n- Added the run configuration to the preview command, hence developers can now access all preview options for an application in one place\n- Migration view now informs if Node.JS is not installed when migrating SAP Fiori projects in VSCode\n- Enabled adding, maintaining, and deleting the semantically connected fields in Form and Identification sections residing in the content area of the Object Pages\n\n### Fixed\n- Fixed an issue with missing tiles for test deployment and undeployment operations on the Application Information Page\n- Fixed an issue with the preview throwing an error when trying to start an SAPUI5 freestyle application via the preview command\n- Fixed an issue in the migration view when deleted projects are not removed from the migration table after refresh\n\n## [1.10.6] - 2023-08-23\n### Added\n- Added feature tiles `Maintain Mockdata` and `Manage XML Annotations` to the Application Info Page of SAPUI5 freestyle applications\n\n### Changed\n- Enhanced the version picker of the command `Fiori: Change the Minimum SAPUI5 Version` to separate between still-maintained and out-of-maintenance versions\n- Allow properties that were selected as part of the header section to be added to the body section of an Object Page and vice versa\n- Updated the Application Info Page being launched after the migration of a project to show the status of the node modules being installed\n\n### Fixed\n- Fixed an issue with new manifest entries for custom views not considering the namespace of the application\n- Fixed an issue with the first-time installation of `@sap/ux-specification` for a project that required a dev environment reload. The reload is still required for an upgrade to take effect\n- Fixed an issue with the Application Info Page incorrectly offering an `@sap/ux-specification` upgrade to a higher version than the one that matches the defined minimum SAPUI5 version for the application\n- Fixed an issue with the local preview of migrated SAP Fiori applications not loading font icons\n \n## [1.10.5] - 2023-08-09\n### Added\n- Enabled static and dynamic hiding of UI elements such as table columns, sections, and section fields\n\n### Fixed\n- Fixed an issue with the context menu not being shown in the file explorer for projects that were newly added to the workspace\n- Fixed an issue with the application's pages not being displayed in the Application Info Page after `@sap/ux-specification` was installed for the first time for the project\n- Fixed an issue with new pages that were added to OData V2-based applications via Page Map not being visualized\n- Fixed an issue with the Page Editor outline not having a maximum width\n- Fixed an issue with the Page Editor coming back up when quickly navigating to the Page Map after a property change\n- Fixed an issue with action divider colors in the Page Editor\n- Fixed an issue with the info tooltip icon being shown although no tooltip was defined in the table dialog of the property panel\n- Fixed various inconsistencies related to UI texts\n\n## [1.10.4] - 2023-07-27\n### Added\n- Enabled enhancing visual filters with fixed values based on properties of numeric, string, and boolean data types \n- Added support for building blocks that were defined using default aggregations (experimental)\n- Added support for multiple building block namespaces (experimental)\n- Added support for the creation of custom columns/sections for cases when there are no previous annotation-based columns/sections\n- Added a warning message for inconsistently defined building blocks in the Page Editor outline (experimental) \n\n### Changed\n- Harmonized error and validation messages across Application Modeler UIs\n- Enabled all navigation types in the Page Map in case the source is a custom page\n- Increased tolerance of Application Modeler against inconsistencies in the service metadata, e.g., duplicate alias definitions\n\n### Fixed\n- Fixed an issue with changes not being saved if the app's name is the prefix of another app's name in the same CAP project\n- Fixed an issue with the Light High Contrast theme usage in the Page Map\n- Fixed an issue with not being able to create multiple navigations from a **List Report** for multiple views\n- Fixed an issue with navigation links not working in the project validation results list\n- Fixed an issue with multi-select attempts in the Page Editor always opening the property panel\n- Fixed an issue with commands from Application Info Page tiles being started twice when the page was restored after a reload\n- Fixed an issue with the context menu not working for a project which is newly added to the workspace\n\n## [1.10.3] - 2023-07-12\n### Added\n- Added support in the Page Editor for reordering table columns and actions based on building blocks (experimental)\n- Added support for the generation of a new method code for custom actions in TypeScript-enabled projects\n- Added an option to the Page Map and Page Editor to open the \"Output\" panel showing the status messages from the Application Modeler to follow up on issues more easily\n\n### Changed\n- Changed the functionality of \"Go to Code\" for building blocks in the outline: it now navigates to the XML source only (experimental)\n\n### Fixed\n- Fixed an issue with manually-created action methods not being selectable in a custom action dialog when the dialog was already open in SAP Business Application Studio\n- Fixed an issue with missing icons for nodes representing table and chart views in the Page Editor outline view\n- Fixed an issue with incorrect context path generation in the Page Map for pages navigating out of a custom page\n- Fixed an issue with not showing the edit link in the property panel for value helps after inserting the annotation manually\n- Fixed an issue where editing properties of a custom column could result in the removal of another custom column\n- Fixed an issue with the `Fiori: Archive Project` command, mistakenly including the `.git` folder\n\n## [1.10.2] - 2023-06-29\n### Added\n- Added the capability to the Application Info page, Page Map, and Page Editor webviews to restore their previous content when the development environment is reloaded\n- Added a `force` flag to the command `Fiori: Delete Application from CAP Project` so programmatic callers can suppress the confirmation dialog\n- Added the option in the migration views to **Go Back** (from the **Results** view) and **Refresh** (the project list) so that the migration view doesn't need to be refreshed each time after project migrations\n\n### Fixed\n- Fixed an issue with custom sections not showing their `i18n` translated label text in the outline\n- Fixed an issue with the **Show Page Editor** button being displayed in toolbars of unrelated webviews\n- Fixed an issue with the failing deletion of a Visual Filter\n\n## [1.10.1] - 2023-06-15\n### Added\n- Added support for building blocks in custom pages and custom sections in OData V4-based applications (experimental)\n- Added support of controller artifacts using TypeScript in OData V2-based applications \n- Added support for custom (sub-)sections as part of group sections for OData V4-based applications\n- Added `contextPath` support for custom pages in OData V4-based applications\n- Added support for CAP projects using workspaces to organize applications and node modules\n- Enabled setting the label for default Value Help\n\n### Fixed\n- Fixed an issue with drag and drop of multiple items in the Page Editor outline not expanding the target node on hover\n- Fixed an issue with the command to change the minimum SAPUI5 version not working for CAP applications\n\n## [1.10.0] - 2023-06-01\n### Added\n- Added support for `contextPath` in page routing definitions for OData V4-based applications in conjunction with `@sap/ux-specification` versions 1.96.40, 1.108.7 or higher\n- Enabled external (outbound) navigation to a different app via the properties \"Semantic Object Name\" and \"Semantic Object Property Mapping\" for basic fields and columns. Note: launchpad configuration and inbound navigation in target app must be configured separately.\n- Added message when additional value help variants are defined besides the default one \n\n### Changed\n- Enhanced the error messages when starting Page Map or Page Editor to be more helpful in case required node modules are not installed\n- Refactored the outline tree of the Page Editor to become a reusable UI component\n\n### Fixed\n- Fixed an issue with context menu and command palette entries for preview not available for extension projects\n\n## [1.9.7] - 2023-05-17\n### Added\n- Enabled the ability to add external navigation actions to tables and sections. This assumes launchpad configuration for app-to-app navigation and inbound configuration in the target app are provided.\n- Added support for migrating extension projects that were generated with the personal edition of WebIDE\n\n### Changed\n- Enhanced the process for choosing properties from drop-down lists by enabling the ability to search for path segments. Type `/` to start searching for the next segment. Searching by property name remains supported.\n- Migrating reuse libraries no longer launches the SAP Fiori application information page, as this was invalid for these types of applications\n\n### Fixed\n- Fixed an issue with the display of Page Map tiles when using Light and Dark Modern color themes\n- Fixed an issue with Page Editor not working with multiple views on the list report in OData V2-based applications\n\n## [1.9.6] - 2023-05-03\n### Added\n- Enabled setting default sorting for the Result List table in the value help dialog\n\n### Changed\n- Changed the wording in the Application Modeler tree view in case no suitable applications could be found to be in line with other tools\n\n### Fixed\n- Fixed an issue with the Application Modeler tree view loading infinitely in case there is a project in the workspace with erroneous files\n- Fixed an issue with the `Fiori: Archive Project` command, that an empty `node_modules` folder is not included in the archive anymore\n\n## [1.9.5] - 2023-04-19\n### Fixed\n- Fixed an issue with the detection of missing node modules in the Application Info Page\n- Fixed an issue with the error message not being displayed on \"Test Connection\" when incomplete data is entered for a new \"ABAP On Premise\" system\n\n## [1.9.4] - 2023-04-05\n### Changed\n- Changed the entries of the context menu for the features of SAP Fiori tools to be context-sensitive and grouped. Only entries that are relevant for the project, folder, or file will be shown\n\n### Fixed\n- Fixed an issue where the migration of SAP Fiori projects would fail if the manifest file did not contain a `sap.ui5` section\n\n## [1.9.3] - 2023-03-23\n### Added\n- Enabled defining fields from associated entities in the result list of the value help\n- Enabled defining dependent fields in the result list of the value help\n\n### Fixed\n- Fixed an issue with the search function not finding properties by their display name\n- Fixed an issue with newly created local annotation files missing the xmlns reference\n- Fixed an issue with run configurations in SAP Business Application Studio wrongly showing the \"Configure Environment\" context action\n- Fixed placeholder texts for several dropdown boxes to reflect that they don't allow custom values\n\n## [1.9.2] - 2023-03-09\n### Changed\n- Changed the behaviour of dropdown menus, they now close also on click outside of the modal dialog, and the focus is restored to the input field\n\n### Fixed\n- Fixed an issue with incorrect manifest entries, for a new custom action on a multiple entity sets table\n- Fixed an issue with erroneous code being created when creating a new controller extension for an object page\n- Fixed an issue with some SAP Fiori projects not been correctly identified for migration to support SAP Fiori tools\n\n## [1.9.1] - 2023-02-23\n### Added\n- Enabled adding, maintaining, and deleting visual filters based on the line chart for properties of types `Edm.Date`, `Edm.Time`, `Edm.DateTime`, and `Edm.DateTimeOffset`\n- Enabled adding a custom view as first additional view, thus converting a table into multiple views mode\n- Added more tooltips for Page Map tiles\n\n### Changed\n- Removed the copy of the app descriptor (manifest) schema in favor of using the one dynamically provided by the UI5 language assistant\n\n### Fixed\n- Fixed an issue with the `Fiori: Archive Project` command downloading the wrong file when executed on a project located at the root of a workspace in SAP Business Application Studio\n- Fixed an issue with Application Info Page status section showing node modules as missing if the modules are loaded from monorepo\n- Fixed an issue with the search input field on Page editor not being cleared when switching pages \n\n## [1.9.0] - 2023-02-09\n### Added\n- Enabled setting the display type (value help, text area) for table column values\n- Enabled setting the restrictions (mandatory, optional, read only) for table column values\n- Added text and text arrangement for chart and visual filter dimensions\n- Added page names from manifest to the Page Map tiles\n- Added ability to copy the environment check results to clipboard using the command `Fiori: View and Copy results` \n\n### Changed\n- Renamed the \"Project Type\" property in Application Info Page to \"CAP Project Type\" and only display it for CAP projects to better fit its intended meaning\n\n### Fixed\n- Fixed an issue with cleanup feature not available when an empty extensions section exists in manifest\n- Added a missing input check for an already existing handler file if `Create New File` is choosen for a new custom action\n- Added a missing input check for duplicate IDs when creating a new custom action\n- Fixed the mouse over icon of draggable controller extension entries in Page Map \n\n## [1.8.6] - 2023-01-26\n### Added\n- Enabled defining unit of measure or currency, scaling factor and number of fractional digits for the visual filters\n- Added support for the creation of multiple outgoing navigations from list reports in Page Map\n\n### Changed\n- Lifted the experimental state of annotation support for OData V4 based applications in Application Modeler\n\n### Fixed\n- Fixed an issue with reordering of contact column addresses not being reflected correctly in Page Editor\n- Fixed an issue with the error message for missing property on create contact column not disappearing after value was set\n\n## [1.8.5] - 2023-01-12\n### Added\n- Enabled adding, deleting and modifying basic visual filters for analytical apps in conjunction with `@sap/ux-specification` versions 1.96.30, 1.102.15 or higher (experimental)\n- Enabled sorting charts and visual filters by measures based on transformation aggregations (experimental)\n- Added new action \"Add Mockserver Config\" (using command `npx @sap-ux/create add mockserver-config`) to Application Info Page\n- Added support of custom actions in list report page header\n- Added ability to migrate an Extension project so that SAP Fiori tools could be used\n- Enabled Environment Check for saved systems in the SAP Systems panel in VSCode\n- Added links to SAP Guided Answers to help troubleshoot when using saved systems in the SAP Systems panel\n\n### Changed\n- Changed default folder location of controller files for custom actions to `webapp/ext` to be consistent with other generated extension code\n- Harmonized the \"Add Chart\" and \"Add Chart View\" creation UIs\n- Increased screen content stability when toggling descriptions on/off and when using search\n\n### Fixed\n- Fixed issues with deletion or reordering of custom actions that could lead to an inconsistent application\n- Fixed an issue with keyboard command like ctrl/cmd+c not working for texts in input fields\n- Fixed an issue with combo boxes not opening on click in input field content area\n- Fixed an issue with tree dropdown input fields select and search\n\n## [1.8.3] - 2022-12-01\n### Added\n- Added support for creation and maintenance of custom views in list report using OData V4 in conjunction with `@sap/ux-specification` versions 1.96.29, 1.102.14 or higher\n- Migration view will now allow adding project(s) manually via `Add Project` button, if the project is not shown in current migration list\n\n### Changed\n- Changed label text \"Module Name\"  to \"Application Identifier\" in order to be in sync with the content from `manifest.json` being displayed\n- Changed outline so that the \"Add Chart View\" action is now immediately available when the service fulfills the pre-requisites like with the \"Add Chart\" action on top level\n- Improved robustness of run configuration command handling other entries in `launch.json`\n\n### Fixed\n- Fixed an issue with the only one available aggregate method not being selectable for virtual measure properties (experimental)\n- Fixed various issues, where scroll positions in property panel and outline were not updated or preserved correctly after actions\n- Fixed an issue which allowed a developer to use a space character as part of the ID of new custom actions\n- Fixed an issue where `dist` folders containing manifest were incorrectly shortlisted for migration\n- Fixed an issue where `rootIntent` value was lost from respective FLP html file(s) post migration\n- Fixed an issue where adding new SAP systems in VSCode showed warning to test connection even if it was performed earlier\n\n## [1.8.2] - 2022-11-17\n### Added\n- Added support for charts with measures based on transformation aggregations (experimental)\n- Added tooltips to disabled context menu items (experimental)\n- Added support of custom actions in object page header and footer\n- Added a new icon in Application Modeler tree view indicating the project/application type\n- Added ability to migrate SAP Fiori projects that do not have a `webapp` folder to support SAP Fiori tools\n\n### Changed\n- Updated SAP saved systems so that users do not need to validate the system connection before saving\n- Updated the text for the `Fiori: Open Environment Check` options to better reflect their meaning\n\n### Fixed\n- Fixed an issue that allowed the creation of subsequent object pages from an overview page application within Application Modeler tree view\n- Fixed an issue with a new fragment file for a custom element overwriting an existing one; the first character of the filename has to be always uppercase now as required by the `@sap-ux/fe-fpm-writer`\n- Fixed an issue where migrating an SAP Fiori project more than once would overwrite the original scripts on the second and subsequent time\n\n## [1.8.1] - 2022-11-03\n### Changed\n- Updated SAP Fiori migration tool to show a loading indicator when looking for projects to migrate and display a message if no suitable projects were found.\n- Enhanced the update feature for `@sap/ux-specification` node module in the Application Info Page \"Application Status\" section to consider the app's minimum SAPUI5 version, and to offer a reload to bring the change into effect\n\n## [1.8.0] - 2022-10-20\n### Added\n- Added support of controller artefacts using typescript, if an application is enabled for it\n- Added support of custom actions in object page form sections\n\n### Changed\n- Added tooltips to icons for page types in Page Map; introduced a new icon for custom pages which are enabled for the flexible programming model approach\n\n### Fixed\n- Fixed toast message on add/delete custom page\n\n## [1.7.6] - 2022-10-06\n### Added\n- Added an indicator for properties with unsuitable data types in Page Editor, that means a warning is shown if a Boolean is used where a numeric value is expected, for example (experimental)\n- Added support for the command `Fiori: Open Environment Check` when using VS Code so that users can retrieve details on their development environment for support cases\n\n### Fixed\n- Fixed an issue with wrong routing information generated in manifest by Page Map for 3rd level pages\n\n## [1.7.5] - 2022-09-22\n### Added\n- Added the Page Map ability to create and manage controller extensions for the page types list report and object page using OData V4, in conjunction with `@sap/ux-specification` versions 1.96.24, 1.102.9 or higher\n- Added support for SAP Fiori elements applications based on the flexible programming model approach, in conjunction with `@sap/ux-specification` versions 1.96.24, 1.102.9 or higher\n- Added support for `@sap-ux/ui5-middleware-fe-mockserver` to Application Info Page\n- Added the ability to show and hide individual properties displayed in the table in Data Editor; certain property groups are hidden by default and can be shown using the new 'Show Properties' functionality\n\n### Changed\n- Enhanced the usability for the Text Arrangement property: it's now always visible and is automatically preset once you choose the same Text property as defined for the value help (experimental)\n- Enhanced the Page Map to be able to handle applications based on OData V4 without defined pages and to assist with creating the first page, in conjunction with `@sap/ux-specification` versions 1.96.24, 1.102.9 or higher\n\n### Fixed\n- Fixed an issue that potentially resulted in the migration tool getting stuck during the migration of SAP Fiori projects\n\n## [1.7.4] - 2022-09-08\n### Added\n- Added tooltips for some of the the disabled context menu items (experimental)\n- Added a new command `Fiori: Change the Minimum SAPUI5 Version` to modify the app's required version and to update the `@sap/ux-specification` node module version accordingly\n\n### Changed\n- Updated dialogs for generating bullet micro chart columns and header sections to prompt for the fixed maximum value rather than property (path). Maximum value can still be changed to property (path) in the Properties pane once the chart is generated (experimental)\n\n### Fixed\n- Fixed an issue with wrong preview html file path generated for run configurations on some applications\n- Fixed an issue with Application Modeler tree not refreshing on project or parent folder renames\n- Fixed an issue with some Reuse libraries being detected for migration after they have already been migrated\n\n## [1.7.2] - 2022-08-25\n### Added\n- Added ability to use the properties from 1:many associations in basic table columns to display multiple values per cell (experimental)\n- Added support for custom pages in Application Modeler tree view when using `@sap/ux-specification` versions 1.96.20, 1.102.5 or higher\n- Added a visualization of the configuration documentation (manifest and UI5 flexibility changes) delivered with `@sap/ux-specification` node module; access options are added to the Application Info Page, and the right-click menus in the Application Modeler tree view\n- Added new field to the Migration tool that details the type of SAP Fiori project being migrated\n\n### Fixed\n- Fixed an issue showing `schema is invalid` message when using mass `i18n` reference generation in Page Editor\n- Fixed an issue with warning messages not being shown for invalid properties of OVP applications\n- Fixed an issue with global view properties being maintainable and not being removed even if multi table view mode is disabled\n- Fixed an issue with missing refresh when selection presentation variant annotations are changed  \n\n## [1.7.1] - 2022-08-11\n### Added\n- Added ability to filter properties in the property panel of Page Map And Page Editor by category\n- Added ability to define table grouping (experimental)\n- Added ability to define texts and text arrangement for table grouping nodes (experimental)\n- Added markers and information to outline and property panel about elements referring to invalid service properties (experimental)\n\n### Fixed\n- Fixed an issue with existing custom views being deleted when creating new table views \n- Fixed an issue with manifest properties for the view being deleted when removing the Selection Presentation Variant for the first table view using Page Editor\n- Fixed an issue with faulty navigation routing being created in the manifest for a new custom detail page following an initial List Report page\n- Fixed an issue with migration where Reuse library project's root during migration was wrongly identified\n\n## [1.7.0] - 2022-07-28\n### Added\n- Added ability to set default filters in list report tables, unless used with analytical chart (experimental)\n- Added ability to define Line and Area micro charts in table columns and object page header sections (experimental)\n- Added support for extension-based custom table toolbar actions; requires `@sap/ux-specification` versions 1.96.18, 1.102.3 or higher\n- Added the descriptions as tooltip to elements in the property panel when Show Descriptions is set to off  \n- Added ability to migrate a Reuse Library project to support deployment to ABAP environment using SAP Fiori tools\n\n### Changed\n- Removed unnecessary dropdown options in the Presentation Variant property for charts and tables (experimental)\n- Changed the visualization of custom table columns in OData V2 based applications, which do not match the currently selected table type, to show as a valid state, and allow editing of their properties\n\n### Fixed\n- Fixed the take over button not showing in value help dialog (experimental) \n\n## [1.6.7] - 2022-07-14\n### Added\n- Added ability to sort table data in object page and form sections (experimental)\n- Added ability to sort chart data in object page and form sections (experimental)\n\n### Changed\n- Changed display of table type property to be in line with other properties, `ResponsiveTable` is not shown as default value anymore even if no explicit value was set as this was not always correct\n\n### Fixed\n- Fixed icon style of checkmarks in Application Info Page on SAP Business Application Studio\n- Fixed an issue with the command `Fiori: Delete Application from CAP Project` not finding existing apps to delete\n- Fixed an issue with an invalid data source warning after migration if the project did not contain a data source\n- Improved detection of SAP Fiori projects that can be migrated to support SAP Fiori tools\n\n## [1.6.6] - 2022-06-29\n### Added\n- Added ability to sort table data in list report pages (experimental)\n- Added ability to configure multi input fields in object page sections (experimental)\n\n## [1.6.4] - 2022-06-16\n### Added\n- Enabled adding and maintaining chart sections based on to many associated entities analytically enabled with custom aggregate (experimental)\n- Added a busy loader for undo/redo operations\n- Added warning during migration of SAP Fiori tools projects if the project has no local copy of the metadata.xml file for use with SAP Fiori tools\n- Added the ability to search for data in Data Editor\n- Enabled keyboard navigation for Data Editor\n\n### Changed\n- Disabled editing elements defined in other applications within a CAP project to prevent cross references between apps (experimental)\n- Removed the old property panel layout code and the fallback option\n\n### Fixed\n- Fixed the resolution of extension columns in case of multiple table views with OData V4 applications\n- Enhanced the support for custom project structures\n- Fixed an issue with page name displayed in Application Modeler tree view after creating or deleting pages\n- Fixed an issue with infinite busy loader display when Page editor is closed while a changed field is focused\n- Fixed an issue with extension columns not assigned to the correct view when multiple table views is used\n- Fixed an issue with incorrect boolean values for the `visible` property in Page Editor\n- Fixed an issue with empty entries left in `manifest.json` when the last element inside was deleted\n\n## [1.6.3] - 2022-06-02\n### Added\n- Added logging of cleaned up annotations (experimental)\n\n### Changed\n- Improved performance of change operations in Page Map and Page Editor within SAP Business Application Studio \n\n### Fixed\n- Fixed an issue with all table view settings deleted in manifest if one view is deleted\n- Fixed more issues with a stuck loading indicator\n- Fixed an issue with annotation changes not updating in Page Editor\n- Fixed an issue with drop-down menus stuck open when underlying dialog window is moved\n- Fixed an issue with `i18n` text resolution not happening in anchor column selection of custom column dialog\n\n## [1.6.1] - 2022-05-19\n### Added\n- Enabled adding and maintaining table views in list report pages (experimental)\n- Enabled adding and maintaining chart views based on the entities with custom aggregations in list report pages (experimental)\n- Enabled sorting data in analytical charts and chart views in list report pages (experimental)\n- Enhanced cleanup to remove unused annotations with qualifier, such as `UI.DataPoint`, `UI.Chart`, `UI.LineItem`, `UI.FieldGroup`, `UI.PresentationVariant`, `UI.SelectionPresentationVariant`, `UI.SelectionVariant` (experimental)\n- Enhanced migration tool to pre-select the relevant `SAP System` if found in the `neo-app.json` of the project to be migrated\n- Added support for downloading the SAPUI5 sources to custom run configurations\n\n### Changed\n- Disabled cleanup functionality for applications with extensions (experimental)\n- Changed tooltips to use native VSCode tooltips whenever possible\n- Prevent deletion of the last table column if it is used as anchor for extensions in OData V4 applications\n\n### Fixed\n- Fixed issues with dialogs not closing after changes, and loading indicators not stopping in Page Editor\n- Fixed various smaller UI issues in Page Editor\n\n## [1.6.0] - 2022-05-05\n### Added\n- Enabled adding and maintaining micro chart sections in the object page and form header (experimental)\n\n### Fixed\n- Fixed an issue with outline and property panel not refreshing after add/delete actions\n- Fixed an issue with infinite loaders showing after add and re-order actions\n- Fixed an issue with wrong object reference showing in confirmation popup for add custom page action\n- Fixed an issue with app-to-app preview feature not configured in `ui5-mock.yaml` file\n\n## [1.5.5] - 2022-04-21\n### Added\n- Enabled adding and maintaining data point sections in the object page and form header (experimental)\n- Enabled maintaining additional properties of analytical chart: title and labels for measures/dimensions (experimental)\n- Added a marking text to table columns in Page Editor outline which are of type inline action\n\n### Changed\n- Improved the stability of add and delete operations by waiting and blocking the UI until the full sync cycle finished\n\n### Fixed\n- Fixed an issue with incorrectly created custom page routing when the custom page is the first detail page\n- Fixed an issue with artifact type not displayed for array-like properties\n- Fixed an issue with too big clickable areas on Application Info Page and the UI for maintaining run configurations\n- Fixed an issue with run configurations not using the set SAPUI5 version if the `ui5.yaml` file doesn't contain a \"version\" entry \n\n## [1.5.4] - 2022-04-07\n### Added\n- Added a warning message to the command `Fiori: Open Run Configurations` if no runnable application is found in the current workspace \n- Enabled adding analytical chart to list report pages based on aggregated entity (experimental)\n- Enabled maintaining basic properties of analytical chart (experimental)\n- Enabled adding and maintaining rating sections in the object page and form header (experimental)\n- Enabled adding and maintaining progress sections in the object page and form header (experimental)\n\n### Changed\n- Updated `Test Connection` for SAP Saved Systems so that it details if the OData V2 and V4 catalog service requests were successful\n- Improved suggested min SAPUI5 version when migrating an existing SAP Fiori application with a `neo-app.json` file\n\n### Fixed\n- Fixed an issue with SAPUI5 version evaluation on preview operation when using `ui5-local.yaml`\n- Fixed an issue with multiple undo steps leading to an empty Page Map\n- Fixed an issue with scroll position incorrectly resetting to previous field over change completion when the user does a change in Page Editor and immediately focus to another field\n- Fixed an issue with missing resolution of `i18n` texts for application title and description\n- Fixed an issue with extension table columns without type, they now display as \"unknown\"\n\n## [1.5.3] - 2022-03-24\n### Added\n- Added a new command to toggle the telemetry setting for the whole SAP Fiori tools suite `Fiori: Change Telemetry Settings`\n- Added the support for the annotation property to toggle whether a subsection is only displayed on demand (experimental)\n- Added a greatly enhanced run configuration UI with the command `Fiori: Open Run Configurations` replacing the simple quick-pick dialog in conjunction with `@sap/ux-ui5-tooling` release 1.5.3 or higher\n- Added \"flexEnabled\" property for OData V4 based applications to the Page map in conjunction with latest `@sap/ux-specification` releases\n- Added the support for multiple services to Data Editor with the Overview Page floorplan\n- Added a warning message to the Application Modeler tree view in case it can't be opened due to issues during schema generation\n\n### Changed\n- Removed the Application Modeler specific setting \"Enable Telemetry\", which is replaced by a central SAP Fiori tools setting in the command palette: `Fiori: Change Telemetry Settings`\n- Enhanced adding fields, columns, and other property selection dialogs to support deeply nested structures; now you can choose properties via the navigation paths consisting of more than 2 elements (experimental)\n- New icons for quick actions on Application Modeler tree view nodes\n\n### Fixed\n- Fixed an issue with the migration of SAP Fiori applications incorrectly overwriting the `minUI5Version` in the `manifest.json` in some cases\n- Fixed an issue with undo incorrectly requiring two attempts to undo the creation of a new page in Page Map\n- Fixed an issue with moving multiple custom table columns when moving to the end of the table\n- Fixed an issue with infinite repeat of value change in virtual files, when using both Page Editor and file edit\n- Fixed an issue where undo/redo could incorrectly change local annotation files for OData V2 applications\n\n## [1.5.2] - 2022-03-10\n### Added\n- Added the display of the column type for inline actions in tables\n- Added the option to start the Data Editor to the Application Info Page of OData v2 applications\n- Added the navigation to source code for inline actions in tables of OData v4 applications (experimental)\n\n### Changed\n- Changed some label texts for custom column and custom section dialogs for better consistency\n\n### Fixed\n- Fixed an issue with `i18n` key resolution in Page Map with multi-app CAP projects\n- Fixed an issue with Page Map not starting when a manifest-defined entity set is unknown, now a warning is displayed in Page Map   \n- Fixed an issue with custom columns created with Page Editor in OData V4 applications disappearing when using SAP Business Application Studio\n- Fixed an issue with the deletion of the `changes` folder not triggering an update in Page Editor UI\n\n## [1.5.1] - 2022-02-24\n### Added\n- Documentation of `@sap/ux-specification` provided features can be accessed from Application Modeler tree view\n- \"Add New Page\" operation can now be triggered from page nodes in the Application Modeler tree view\n- Added support for OData V2 projects in Data Editor\n- Added the support of creation and configuration for contact quick views on table columns and form fields in OData v4 applications (experimental)\n- Added the support of tooltip configuration for rating and progress indicator table columns in OData v4 applications (experimental)\n\n### Changed\n- Removed the possibility to choose unsupported 1:1 navigation attributes when creating a new page via \"Add New Page\" command in Page Map, and show a warning if such a routing is found in the application\n- Changed behavior of keyboard navigation to source code to follow the VSCode paradigm, enter key opens the file and sets focus, space key opens the file, but focus is preserved\n\n### Fixed\n- Fixed a bug where tabbing using keyboard navigation in Page Map skips the first property in the property panel\n- Fixed an issue with invisible icons in Page Map when using SAP Business Application Studio with Chrome\n- Fixed an issue with creating array-formatted properties of custom columns\n\n## [1.5.0] - 2022-02-10\n### Added\n- Added custom table column support for OData V4 based List report and Object page applications (using `@sap/ux-specification` version 1.96.4 or higher)\n- Added a new command `Fiori: Open Environment Check` enabling the user to zip a project, and check the environments connectivity for support cases (check feature is SAP Business Application Studio only)\n- Added `Importance` property for the table columns representing actions in OData v4 applications (experimental)\n\n### Changed\n- Unified the property panel UX of Page Map and Page Editor\n- Changed the search which now requires at least two characters of a search string to start filtering\n- Removed the shortcut to open local annotation XML files from Application Info Page for CAP CDS based projects\n- Changed the right-click option \"Show Page Map\" for non-eligable apps now also showing a quick-pick first in case only one eligable app is in the workspace\n\n### Fixed\n- Fixed an issue with buttons not appearing in Page Map after using zoom function with VSCode on Mac systems\n- Fixed positioning of custom sections when inserting two custom sections with the same anchor and relative position\n\n## [1.4.7] - 2022-01-27\n### Added\n- Enabled navigation to the source code from most of the annotation-based outline nodes, such as Filter Fields, Header, Sections, etc. (experimental)\n- Added the artefact type information (Manifest or UI5 Flexibility) for configuration properties in Page Editor\n- Added OData V2 application settings `statePreservationMode` and `draftDiscardConfirmationSettings` to the Page Map property panel (supported starting `@sap/ux-specification` version 1.96.3)\n- Support `template` manifest property alternatively to `name` for custom sections in OData V4 applications\n- Added launch of the Application Information page when migrating SAPUI5 freestyle applications\n\n### Changed\n- Changed the Value Help configuration dialog \"Display as Dropdown\" checkbox to use a switch control with the same name and impact (experimental) \n- Changed the padding of all dialog boxes, also dialog boxes can be moved now\n- Changed the option to choose an existing fragment for a custom page to be disabled in case no fragments are found in the project\n\n### Fixed\n- Fixed an issue with long texts in dropdown menus\n- Fixed an issue with overlapping content in Page Editor property panel\n- Fixed the usage of properties from manifest which are variables, they are now resolved via an existing `pom.xml` file if available\n- Fixed an issue with migration of OData V4 applications where the versions of SAPUI5 being offered was not restricted to those supporting OData V4\n\n## [1.4.6] - 2022-01-13\n### Added\n- Enabled defining measures and currencies for numeric fields and column values (experimental)\n- Enabled defining text and text arrangement for filter fields (experimental)\n- Enabled taking over text and text arrangement settings from the field to the value help and vice versa (experimental)\n- Enabled configuring results list table for value help (experimental)\n- Added the option to toggle descriptions in Page Editor property panel\n- Added UI loading indicators for Application Modeler views\n- Added ability to add and delete rows in Data Editor\n- Enabled adding and deleting rows in Data Editor\n\n### Changed\n- Removed technical navigation entities from page create dialog\n- Changed quick pick method for projects\n- Moved type indicators as tags after the entity name in Page Editor property panel\n- Unified source code navigation icons across Application Modeler views\n- Disable 'Use Existing' option if no files to select exist in custom column dialog\n\n### Fixed\n- Fixed incorrect `@sap/ux-specification` library version being added during project migration\n- Fixed an issue where older versions of UI5 could not be used during migration\n- Fixed an issue with manifest not being updated when multiple tables point to the same entity set (use `@sap/ux-specification` versions 1.96.2,1.90.17,1.84.28,1.71.48)\n- Fixed an issue where invalid values were written regardless of failed verification\n- Fixed an issue with opening an OVP application with Page Editor\n- Fixed an issue with Page Editor showing a blank page when deleting an `i18n` enabled text field\n- Fixed keyboard navigation issues in Page Editor property panel\n- Fixed issues with overlapping content in Page Editor property panel\n- Fixed issues with placement of icons and scroll bars\n\n## [1.4.4] - 2021-12-02\n### Added\n- Enabled configuring criticality for section fields in OData V4 applications (experimental)\n- Added task bar notifications for annotation file changes\n\n### Fixed\n- Fixed the moving of columns and sections with relationship to custom columns and sections\n- Fixed an issue with Page Editor when trying to modify the `i18n` key of a field after using search/filter\n\n## [1.4.3] - 2021-11-18\n### Added\n- Added type information and navigation to the source code in the properties panel for section fields and table columns based on annotations (experimental) \n- Enabled configuring image, icon, and initials in the object page header (experimental)\n- Enabled synchronizing text and text arrangement values for fields defined with value help (experimental) \n\n### Fixed\n- Fixed an issue where the wrong component name is written to the `ui5.yaml` file after migration\n- Fixed an issue where modifying the root `package.json` in a CAP project would incorrectly cause the migration prompt to appear\n- Fixed custom section creation for OData V4 applications to not accept reference sections without facet ID anymore\n- Fixed various issues in the Page Editor with no default themes\n\n## [1.4.2] - 2021-11-16\n### Fixed\n- Fixed an issue with deleting empty lines and comments when updating annotation files (experimental)\n\n## [1.4.1] - 2021-11-04\n### Added\n- Added an experimental feature in Page Editor for adding and maintaining the annotation-based UI elements in OData v4 applications\n- Added the ability to multi-select and drag & drop annotation-based elements like fields, columns and sections\n- Application Information page now supports SAPUI5 freestyle applications\n\n### Changed\n- Changed the Page map's property panel to now remember it's open/closed state\n\n### Fixed\n- Fixed scrolling using keyboard for multi-select comboboxes\n- Fixed add dialog now closing properly after pressing \"Add\" for array-like properties in Page editor\n- Fixed file formatting of newly inserted `i18n` keys\n- Fixed section extension fragments now correctly using the `i18n` key when a new key for section title is created\n- Fixed an issue with the migration view table alignment when listing projects for migration\n\n## [1.4.0] - 2021-10-21\n### Added\n- Added the ability to generate mock data for Freestyle V4 application\n- Added keyboard support for Page map, Page editor, and Application Information page\n- Added a new option to create delivery variants/views, which can be configured with the command `Fiori: Add Configuration for Variants Creation` and executed with a new start script `start-variants-management` (ux-ui5-tooling version 1.4.0 and higher)\n\n### Fixed\n- Fixed high contrast theme rendering in Page map and Page editor\n- Fixed application modeler tree, now updating correctly when deleting/adding CAP applications\n- Fixed an issue with Application Information page, now not showing the application quick-pick anymore\n\n## [1.3.7] - 2021-10-07\n### Added\n- Added \"Title\", \"Description\" and \"flexEnabled\" properties to the Page map in conjunction with newest `@sap/ux-specification` release\n- Added a new command `Fiori: Delete Application from CAP Project` to remove an application inside an multi-app CAP project and it's references cleanly\n- Enhanced the context menu of the Application modeler tree view entries for direct access to the application information page, the `manifest.json` and `package.json`\n- Added an ability to generate and edit mock-data, new command `Fiori: Open Data Editor`\n- Added automatic detection and notification for migration eligibility of Adaptation projects present in the workspace\n- Added ability to view details of a saved systems in VSCode and test its connection\n- Application Information page will now open post successful migration of SAP Fiori Elements project\n- Option to open Application Information page added from the migration results view\n\n### Changed\n- Removed the additional \"Apply\" step from Page map properties panel to simplify the usage flow\n- Refactored the run configuration script schema to be OS independent and enable easier future enhancements\n\n### Fixed\n- Fixed focus and selection of nodes to be now in sync between outline and property panel of the Page editor\n- Fixed Page map zoom in SAP Business Application Studio to work independent from browser zoom\n- Fixed seach box clearance in page editor not working\n- Fixed Application modeler tree virtual file generation for CAP OData V4 applications now working again\n\n## [1.3.5] - 2021-09-23\n### Changed\n- Improved support for migrating SAP Fiori applications with an OData V4 source to accommodate SAP Fiori tools\n\n### Fixed\n- Fixed an issue with application information page not showing title and page information for CAP based projects in VSCode on Microsoft Windows\n- Fixed an issue with Page map throwing an error message on quick navigate back, when the user switched pages before using the Application Modeler tree view\n\n## [1.3.3] - 2021-09-09\n### Added\n- Added a new option to preview an application within an external Fiori launchpad, which can be configured with the command `Fiori: Add FLP Embedded Configuration` (ux-ui5-tooling version 1.3.1 and higher)\n- Added a new application information page that is automatically displayed after generation or can be manually triggered with the command `Fiori: Open Application Info`\n- Migration now supports migrating Adaptation Projects to support the Visual Editor in SAP Business Application Studio\n\n### Fixed\n- Fixed an issue with the Page map not centered in the new canvas when splitting the screen\n\n## [1.3.2] - 2021-08-26\n### Added\n- All new properties panel in Page Editor. Improved page outline, scroll and search through all properties in one panel\n\n### Changed\n- There is a new syntax for OData V4 custom pages in `manifest.json` (SAPUI5 versions >= 1.90). Use new syntax for new custom pages, existing remain untouched\n- During migration, value of minUI5Version `\"minUI5Version\": \"${sap.ui5.dist.version}\"` in manifest.json will now be replaced with the UI5 version selected in the migration view\n### Fixed\n- For projects with newer version of UI5 (>= 1.90, determined by installed module `@sap/ux-specification`) a new OData V4 custom page controller template with dependency to `sap/fe/core/PageController` is used. This will fix error \"Cannot read property 'onBeforeBinding' of undefined\"\n\n## [1.3.1] - 2021-08-12\n### Added\n- Added support of the UI5 independent i18n key format `{{key}}` in the Page editor where applicable\n- Added support for generating run configurations when migrating Fiori projects\n\n### Changed\n- Migrated projects now update the existing package.json if present, rather than replace it\n- Existing SAP Fiori elements projects that already support SAP Fiori tools will not be detected for migration by default\n\n### Fixed\n- Fixed i18n icon display\n- Fixed an issue with the app-to-app navigation test displaying the source application twice on the local launchpad\n- Fixed a bug in the Migration window where column values were not scrolling as expected when user scrolled the window\n\n## [1.3.0] - 2021-07-29\n### Added\n- Added an input validation to the common configuration property `visible` in Page editor\n- In migration view, new columns `Destination` and `ui5 version` added to allow users to change their values before migration\n\n### Changed\n- Changed the preview default to not use the persistent iAppState in order to have source code changes always applied at auto-refresh (ux-ui5-tooling version 1.3.0 and higher)\n- Changed the search input field dialog to be consistent with other Fiori tools\n- Migration view will now not show the Fiori tools enabled projects. This can be changed via extension settings - `Show Fiori Tools Projects In Migration View`\n\n### Fixed\n- Fixed an issue which prevents older supported SAP UI5 versions to be selectable in run configuration create dialog\n\n## [1.2.5] - 2021-07-15\n### Added\n- Added an error message when trying to create a new custom column in a different fragment file than was used before in OData V2 based apps\n- Added support for multiple root workspaces when migrating projects for Fiori tools\n\n### Changed\n- Changed icon of the i18n key creation function into a symbolic globe to better reflect its purpose\n- Changed the text of delete page information popup to match that of add page information style\n\n### Fixed\n- Fixed an issue with undo/redo not preserving the history correctly when editing the JSON configuration file\n- Fixed multiple issues with icon visibility and selection highlighting behaviour\n- Fixed a synchronization issue between JSON file changes and Page editor view when selecting values for `enum` types\n- Fixed an issue with drop-down menu rendering on small screens\n- Fixed an issue with the `Show Page Map` sometimes disappearing on click in SAP Business Application Studio\n- Fixed an issue with undo/redo not properly restoring custom column definitions\n- Fixed an issue with file extension not changed for UI5 flexibility changes when the type is changed\n- Fixed an issue with scaling text in the `Global Page Settings` panel\n- Fixed an issue with creating a run configuration for a Fiori Freestyle project\n\n## [1.2.4] - 2021-07-01\n### Changed\n- Changed icon of the handle to drag and move custom sections in the Page editor outline for better recognizability \n\n### Fixed\n- Fixed an issue with Application modeler tree not recognizing a new project after `npm install` was executed \n\n## [1.2.3] - 2021-06-17\n### Changed\n- Simplified the Application modeler tree view and added more descriptive tooltips\n- Changed the Application modeler toggle setting `Show JSON schemas` to immediately apply without reload \n\n## [1.2.1] - 2021-06-03\n### Added\n- Added new UX for migration that can support the migration of multiple projects\n\n### Fixed\n- Fixed highligting in comboboxes\n- Fixed issue with i18n properties not being written into the i18n file\n\n## [1.2.0] - 2021-05-20\n### Changed\n- Changed the min UI5 version allowed to 1.84.0 for the command `Fiori: Add Launch Config` in case of OData V4\n\n### Fixed\n- Fixed and issue with the binding state of run configuations in SAP Business Application Studio when selecting `latest` as UI5 version\n\n## [1.1.11] - 2021-05-06\n### Changed\n- Updated the icons used for Application modeler tree view items for a better readability \n\n### Fixed\n- Resolved an issue resulting in entity type schema not found when the entity type name doesn't contain the word \"type\"\n\n## [1.1.10] - 2021-04-22\n### Fixed\n- Resolved an issue resulting in an error message if no destination systems are stored in VSCode\n\n## [1.1.9] - 2021-04-08\n### Added\n- Added new individual icons to Application modeler view entries\n- Added support to access virtual configuration files via the respective source code icon on mouseover in the Application modeler view entries\n\n### Changed\n- Changed view of projects in the Application modeler, which are now alphabetically sorted\n\n### Fixed\n- Fixed the navigation to i18n property files from the Page Editor so that it now works correctly with multi-application projects\n- Resolved an issue with the values of array-like properties so that they can once again be reordered and deleted in the outline of the Page Editor\n\n## [1.1.7] - 2021-03-25\n### Fixed\n- When creating a custom column or section with i18n key as title in Page editor, `Apply` now correctly creates the corresponding entries\n- Undo history is now correctly reset when switching pages in Page editor\n- OData V4: Routing for 3rd level pages is now correctly created in Page map\n- Migration of Fiori applications can now accommodate a configurable webapp path\n\n## [1.1.5] - 2021-03-11\n### Added\n- Support i18n key handling in Page editor\n- V4: Support new Object page type \"Form page\"\n- Preview can be started also from right-click menu of folders in Application modeler view\n- Migration of Fiori applications now supports loading reuse libraries from the Front-End server defined under \"sap.ui5\".\"dependencies\".\"libs\" in the manifest.json \n\n### Changed\n- Moved Application modeler view default position to \"SAP Fiori\" view container\n- Default actions for virtual configuration files now open Page map and Page editor respectively instead of file editor, files can be opened via right-click menu\n\n### Fixed\n- Issue with adding new pages after deleting a page\n\n## [1.1.4] - 2021-02-25\n### Added\n- V4: Support applications which start with an Object page instead of List report\n\n### Changed\n- When scroll bars are visible in Page map, mouse scroll moves vertically, `shift`+scroll moves horizontally, `ctrl`+scroll zooms\n- Further usability improvements to Page map and Page editor\n\n### Fixed\n- When using bind/unbind to change an existing run configuration in SAP Business application studio the windows.args are correctly updаted\n\n\n## [1.1.2] - 2021-02-11\n### Added\n- Existing run configurations for Fiori tools projects in SAP Business application studio can be modified\n- V4: Support table columns properties in Page editor\n- V4: Support properties of OData V4 based cards in OVP apps\n\n### Changed\n- Various smaller enhancements to the readbility of Page map and Page editor UI\n- Page editor: search only in name and value to make results more significant\n- Harmonized the UI for add run configuration in SAP Business application studio and the command `Fiori: Add Launch Config`\n\n### Fixed\n- V4: Custom section creation with existing fragment\n- Date range filter creation\n- V4: Reordering of custom sections\n\n## [1.1.0] - 2021-01-28\n### Added\n- Page editor supports create, delete and move entries within array-like properties\n- V4: Migration of OData V4 Fiori applications is now supported\n- Migration of Fiori applications without a datasource in the `manifest.json`\n- Migration of An SAP Fiori applications without a `package.json` or `pom.xml` (requires a `neo-app.json` file)\n\n### Changed\n- Fragments and view files are now discovered from all locations\n\n### Fixed\n- V4: Page map now correctly updates the routing when switching back from flexible to standard layout\n- V4: Re-ordering of custom sections now works correctly\n- Existing `propertyBindingChange` flexibility changes are now handled correctly\n- Run configurations are now working independently from chosen terminal shell\n- Virtual configuration files are now updated correctly when multiple projects start with the same name\n- The plus action on outline entries in Page editor is now always accessible regardless of the window size\n\n## [1.0.26] - 2021-01-14\n### Added\n- V2: Page editor supports creation and modification of custom table columns on Object Page tables (ux-specification version 1.84.1, 1.78.16, 1.71.22, 1.60.9 and higher)\n- New command `Fiori: Validate project`\n- Fiori projects in your workspace that need to be migrated to support the Fiori tools are now auto-detected.\n\n### Changed\n- Quick pick for app-to-app navigation test configuration always asks for source and target applications\n\n### Fixed\n- Change of table type now disables invalid custom columns in Page editor outline\n- Launch configurations work with Windows PowerShell as default shell type\n- Backspace in Page map popup doesn't delete characters in open `app.json` file\n- V4: deleting custom sections doesn't lead to invalid applications anymore\n\n## [1.0.24] - 2020-12-03\n### Added\n- V2: Support for Overview page in Page editor's outline and property panel\n\n### Fixed\n- Command `Fiori: Show Page Editor` now asks for the page to open instead of opening the Page map\n\n## [1.0.23] - 2020-11-18\n### Added\n- V4: Support for List Report, Object Page, and Analytical List Page with OData V4 services (SAPUI5 version 1.84 and higher)\n- V4: Page editor allows creation of custom pages for List Report and Analytical List Page projects (SAPUI5 version 1.84 and higher)\n- V2: Page editor supports creation and modification of custom table columns on List Report (ux-specification version 1.78.14, 1.71.20, 1.60.7, 1.52.5 and higher)\n- Support testing of app-to-app navigation in workspace\n- Support preview of applications bound to SAP API Business Hub services in SAP Business Application Studio (ux-ui5-tooling version 1.0.25 and higher)\n- Support for selecting a pre-defined destination when migrating a project\n\n### Fixed\n- Search in Page editor is not cleared anymore when a property value is changed\n\n### Changed\n- Currently not applicable properties are now disabled in Page editor instead of hidden\n\n## [1.0.22] - 2020-11-04\n### Fixed\n- Page map now correctly works with Safari browser\n- Page map now correctly updates when changes are made directly to `manifest.json` or changes files\n- Fixed the issue with search wrongly filtering out some Fiori tools projects in the workspace\n- Undo/redo buttons now work correctly with Autosave enabled in SAP Business Application Studio\n\n## [1.0.20] - 2020-10-21\n### Added\n- Create new run configuration for Fiori tools projects in SAP Business application studio\n- New command `Fiori: Add Launch Config` for VSCode\n\n### Changed\n- Renamed command `SAP Fiori tools - Application Generator: Launch` to `Fiori: Open Application Generator`\n- Renamed command `SAP Fiori tools - Application Modeller: Show Page Map` to `Fiori: Show Page Map`\n- Renamed command `SAP Fiori tools - Application Modeller: Preview Application` to `Fiori: Preview Application`\n- Renamed command `SAP Fiori tools - Application Modeller: Refresh Application Modeler config tree` to `Fiori: Refresh Application Modeler View`\n- Renamed command `SAP Fiori tools - Application Modeller: Show Page Editor` to `Fiori: Show Page Editor`\n- Renamed command `SAP Fiori tools - Migrate Web IDE Project for use in Fiori tools` to `Fiori: Migrate Web IDE Project for use in Fiori tools`\n\n### Fixed\n- Page now correctly opens when no sections are present in application\n- Performance improvements when starting Page map\n- Virtual configuration files are now correctly refreshed when updated programmatically\n\n## [1.0.19] - 2020-10-07\n### Changed\n- Page map's property panel will now be open per default and remember its status per project\n- Page editor's property panel shows property names with spaces for better readability\n- Page editor's property panel shows properties in alphabetical order\n\n### Fixed\n- Page map icon does not vanish anymore on `app.json` file editor when Page map is closed\n- Command \"Preview Application\" now works properly with CAP based projects\n\n## [1.0.17] - 2020-09-23\n### Added\n- Page editor allows creation, and positioning of custom sections in Object pages\n- Command \"Preview Application\" supports SAP Fiori tools freestyle applications\n\n### Fixed\n- Page map undo in SAP Business application studio only undos one step at a time again\n- Page map properly updates when changes are made in manifest by source control actions\n- Various issues during the migration process when using `SAP Fiori tools - Migrate Web IDE Project for use in Fiori tools` from the command palette \n\n## [1.0.16] - 2020-09-09\n### Added\n- New Page editor for application configuration of List report, Object page, and Analytical list page\n\n### Fixed\n- Sometimes newly created pages in Page map were not written into the manifest\n\n## [1.0.14] - 2020-08-26\n### Changed\n- The list of navigation properties is now sorted when adding a new page in Page map \n- Mandatory input fields are now marked with `*` in Page map\n- Application modeler tree view shows messages when searching for SAP Fiori projects and if no projects are found \n\n### Fixed\n- Quick picks list projects only once, even if their root folders are visible multiple times in the workspace\n\n## [1.0.13] - 2020-08-13\n### Added\n- Support for flexible column layout settings in Page map\n- A warning message is displayed for projects if the Application modeler version requires a newer version of ux-specification module than the one installed\n- When the window gets split by opening the source file from Page map, the Page map tree is moved to the new visible area\n- Configuration json files support binding changes for object page header actions (ux-specification version 1.78.6, 1.76.18, 1.71.13 and higher)\n\n### Changed\n- Command \"Preview Application\" let's you pick which start script to use (ux-ui5-tooling version 1.0.13 and higher, Application generator version 1.0.14 or higher)\n\n### Fixed\n- Button to open the Page map from source file is not shown anymore on Page map window itself\n- Migration command doesn't show an error message anymore if one or more not supported projects are in the user's workspace\n- Migration command shows an error message if the selected project is not supported\n\n## [1.0.9] - 2020-07-29\n### Changed\n- Renamed \"Preview in Browser\" context menu entry and palette command to \"Preview Application\"\n- Added quick-pick information texts to palette commands \n\n### Fixed\n- Page map visualization is centered again on window split avoiding occlusion by new window\n- Deletion of files from project's changes folder now updates configuration json files properly\n- Migration command now works correctly with new ui5 cli\n\n## [1.0.7] - 2020-07-15\n### Fixed\n- Quick pick entries are now sorted alphabetically\n\n## [1.0.6] - 2020-07-01\n### Fixed\n- Page map confirmation popup on delete correctly shows the text instead of the key value\n- Quick pick correctly closes after the application is selected and Page map is opened\n- Overview page applications migrated from Web IDE now preview correctly\n- Various fixes for command \"SAP Fiori tools - Migrate Web IDE Project for use in Fiori tools\"\n\n## [1.0.4] - 2020-06-17\n### Changed\n- Update templates for migrate command\n\n### Fixed\n- Open Page map in SAP Application Studio now always works on first attempt\n\n## [1.0.0] - 2020-06-16\nRelease status: GA\n\nWe are pleased to announce the official GA of the SAP Fiori tools - Application Modeler extension.\n\n## [0.0.27] - 2020-06-03\n### Added\n- New command \"SAP Fiori tools - Migrate Web IDE Project for use in Fiori tools\"\n- Support Analytical list page applications (ux-specification version 1.76.11 and higher)\n- Integration with Application Generator, new command \"SAP Fiori tools - Application Generator: Launch\"\n\n### Changed\n- Using new API for reading and writing UI5 flexibility changes to increase UI5 compatibility\n- Rename \"Edit Page\" to \"Configure Page\" in Page map to better reflect the meaning\n\n### Fixed\n- \"Open Preview in Browser\" in SAP Application Studio directly opens the application\n- Automatic application preview refresh on changes is working with \"Open Preview in Browser\" and SAP Application Studio\n- In SAP Application Studio undo/redo via keyboard shortcuts in Page map now works on Mac\n\n## [0.0.26] - 2020-05-20\n### Added\n- In Page map clicking on the pencil icon on the page tiles opens the corresponding configuration json file\n- Support for Worklist applications\n\n### Changed\n- Application modeler internal used texts are now translatable\n\n### Fixed\n- Preview of UI5 flexibility changes\n\n## [0.0.25] - 2020-05-06\n### Added\n- Application modeler collects usage statistics\n- Open Preview in Browser downloads the UI5 version specified in the `ui5-local.yaml` file (ux-ui5-tooling version 0.0.85 and higher)\n\n### Changed\n- Configuration json files (`app.json`, `pages/*.json`) are generated on demand and stored in a virtual filesystem\n- Removed obsolete `src` folder within projects\n\n### Fixed\n- Old version of UI5 was used for Open Preview in Browser\n- Configuration of OData V4 applications\n- Json files generation\n\n## [0.0.24] - 2020-04-22\n### Added\n- Selection dialog for navigation properties in Page map now has manual input and typeahead search\n- Destinations support in SAP Business Application Studio for application preview (ux-ui5-tooling version 0.0.82 and higher)\n\n### Changed\n- Syntax for table configuration settings simplified (ux-specification version 1.76.7 and higher)\n\n### Fixed\n- Show Page map command now correctly recognizes the current project\n- Page configuration files are now created correctly for Overview page applications\n- Session cookies are now properly cleaned up for application preview when using different backends (ux-ui5-tooling version 0.0.82 and higher)\n- CSRF token validation and refresh in application preview (ux-ui5-tooling version 0.0.82 and higher) \n\n## [0.0.21] - 2020-04-09\n### Added\n- Undo/redo buttons in Page map toolbar\n- Logging of events to output view \"SAP Fiori tools - Application Modeler\"\n- Added support of more UI5 flexibility and manifest configurations options for List report, Object page and Overview page \n- UI5 flexibility and manifest configuration support for V4 apps [experimental]\n\n### Changed\n- Using new ux-specification npm module providing the schemas for manifest and UI5 flexibility changes\n- Page map command is now also available on context menu of folders\n\n### Fixed\n- Page map in SAP Application Studio now supports undo/redo functionality via toolbar buttons (limitation: undo/redo via menu, and keyboard shortcuts on Mac don't work)\n- Invalid projects in workspace do not break `src` folder handling in other projects anymore\n\n## [0.0.20] - 2020-03-25\n### Added\n- Flexible column layout support in Page map for V4 apps [experimental]\n- ALP preview support\n\n### Changed\n- Removed VSCode internal preview (due to limited functionality), browser based preview is used in future\n- Add button for new pages in Page map is now disabled if no further navigation targets are available\n\n### Fixed\n- Code highlighting in conjunction with Guided help\n- `src` folder content is now working with layered lineitem annotations\n\n## [0.0.17] - 2020-03-11\n### Added\n- CAP project support in Page map [experimental]\n\n### Changed\n- Rework UI design of Page map (first iteration)\n- Update readme file\n\n### Fixed\n- `src` and `pages` folders will not be be recreated as a whole but only obsolete files\n\n## [0.0.14] - 2020-02-27\n### Added\n- Use UI5 tooling (ui5 serve, middlewares) for Page Editor preview\n- Ability to create custom pages for V4 apps [experimental]\n- Basic support of page map for V4 LP/OP pages [experimental]\n- CHANGELOG.md documenting changes\n\n## [0.0.13] - 2020-02-19\n### Added\n- Initial version\n","downloadsCurrentMonth":639,"downloadsCurrentFortnight":287,"downloads365":4678,"downloadsFortnightGrowth":-15.09,"downloadsHistory":[{"yearMonth":"2023-04","downloads":240},{"yearMonth":"2023-05","downloads":392},{"yearMonth":"2023-06","downloads":224},{"yearMonth":"2023-07","downloads":279},{"yearMonth":"2023-08","downloads":398},{"yearMonth":"2023-09","downloads":378},{"yearMonth":"2023-10","downloads":354},{"yearMonth":"2023-11","downloads":316},{"yearMonth":"2023-12","downloads":270},{"yearMonth":"2024-01","downloads":615},{"yearMonth":"2024-02","downloads":688}],"versions":[{"version":"created","date":"2022-09-05T15:12:40.602Z"},{"version":"1.7.3","date":"2022-09-05T15:12:41.016Z"},{"version":"modified","date":"2024-03-15T20:54:14.083Z"},{"version":"1.7.4","date":"2022-09-15T19:57:20.016Z"},{"version":"1.7.5","date":"2022-09-30T12:29:05.383Z"},{"version":"1.7.6","date":"2022-10-17T17:36:16.467Z"},{"version":"1.8.0","date":"2022-11-01T09:29:30.455Z"},{"version":"1.8.1","date":"2022-11-22T20:16:05.245Z"},{"version":"1.8.2","date":"2022-11-24T13:03:27.552Z"},{"version":"1.8.3","date":"2022-12-09T11:54:53.953Z"},{"version":"1.8.5","date":"2023-01-20T18:19:13.273Z"},{"version":"1.8.6","date":"2023-02-02T16:52:52.243Z"},{"version":"1.9.0","date":"2023-02-16T12:12:29.389Z"},{"version":"1.9.1","date":"2023-03-03T10:08:48.393Z"},{"version":"1.9.2","date":"2023-03-16T12:42:17.652Z"},{"version":"1.9.3","date":"2023-04-02T21:04:50.909Z"},{"version":"1.9.4","date":"2023-04-17T10:21:19.156Z"},{"version":"1.9.5","date":"2023-05-03T10:58:45.820Z"},{"version":"1.9.6","date":"2023-05-11T10:45:56.373Z"},{"version":"1.9.7","date":"2023-05-25T16:04:40.282Z"},{"version":"1.10.0","date":"2023-06-08T16:16:31.535Z"},{"version":"1.10.1","date":"2023-06-27T15:20:11.797Z"},{"version":"1.10.2","date":"2023-07-11T10:47:15.157Z"},{"version":"1.10.3","date":"2023-07-21T12:01:59.587Z"},{"version":"1.10.4","date":"2023-08-03T15:48:52.942Z"},{"version":"1.10.5","date":"2023-08-17T15:15:03.630Z"},{"version":"1.10.6","date":"2023-09-01T05:12:37.274Z"},{"version":"1.11.0","date":"2023-09-15T09:27:32.832Z"},{"version":"1.11.1","date":"2023-09-29T08:25:17.824Z"},{"version":"1.11.2","date":"2023-10-12T15:25:03.434Z"},{"version":"1.11.3","date":"2023-10-26T15:11:13.007Z"},{"version":"1.11.4","date":"2023-11-09T17:24:09.046Z"},{"version":"1.11.5","date":"2023-11-24T08:16:36.666Z"},{"version":"1.12.0","date":"2023-12-13T10:59:42.751Z"},{"version":"1.12.1","date":"2023-12-20T12:28:32.466Z"},{"version":"1.12.2","date":"2024-01-19T14:27:13.465Z"},{"version":"1.12.3","date":"2024-02-02T09:19:24.494Z"},{"version":"1.12.4","date":"2024-02-15T16:10:15.943Z"},{"version":"1.12.5","date":"2024-03-01T16:17:44.062Z"},{"version":"1.13.0","date":"2024-03-15T20:54:13.608Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-application-modeler-bas-ext"},{"name":"ux-cds-compiler-facade","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-10-26T15:30:54.999Z","updatedAt":"2024-03-15T20:36:43.553Z","readme":"# @sap/ux-cds-compiler-facade\n\nThe SAP Fiori Tools - CDS Compiler Facade is a wrapper module for CAP CDS compiler. It contains a set of specific APIs needed for annotation handling in CAP CDS projects.\n\nCompiler facade provides various API methods that allows the user to extract data from the CAP CDS compile model such as metadata, annotation index, compiler messages, annotation propagation map and others (see usage example below) in a compiler version agnostic way.\n\nIt supports all the officially supported CAP CDS compiler versions.\n\n## **Support**\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: *SAP Fiori tools*\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Installation\nNpm\n`npm install --save @sap/ux-cds-compiler-facade`\n\nYarn\n`yarn add @sap/ux-cds-compiler-facade`\n\nPnpm\n`pnpm add @sap/ux-cds-compiler-facade`\n\n## Usage\n\n\nCreate compiler facade object from existing CDS compile model.\n\n```Typescript\n    const cdsCompilerFacade = await createCdsCompilerFacade(compileModel);\n\n    const uris = cdsCompilerFacade.getAllSourceUris();\n\n```\n\nIf you don't have CDS compile model available, you can compile the project files and obtain compiler facade.\n\n```Typescript\n    import { readFile } from 'fs/promises';\n    import { getCdsArtifacts } from '@sap/ux-cds-compiler-facade';\n\n    const getFile = async (path: string): Promise<AdapterFile> => {\n        const relativeUri = path.split('/').join(pathSeparator);\n        const fileContent = await readFile(join(projectRootFolder, relativeUri));\n        return { relativeUri, fileContent };\n    };\n\n    const getProjectFiles = async (): Promise<AdapterFile[]> => {\n        return Promise.all([\n            getFile('db/schema.cds'),\n            getFile('srv/admin-service.cds'),\n            getFile('app/common.cds')\n        ]);\n    };\n\n    const getFileCache = (files: AdapterFile[]): Map<string, FileSystemFile> => {\n        const cache = new Map<string, FileSystemFile>();\n        for (const file of files) {\n            cache.set(file.relativeUri, {\n                fileContent: file.fileContent,\n                fileUri: file.relativeUri,\n                isDirty: false\n            });\n        }\n        return cache;\n    };\n\n    const projectFiles = await getProjectFiles();\n    const files = projectFiles.map((file) => file.relativeUri);\n    const cache = getFileCache(projectFiles);\n\n    // build CDS artifacts\n    const project = { root: projectRootFolder, apps: {}, type: ProjectType.Cap };\n    const { cdsCompilerFacade } = await getCdsArtifacts(project, 'myService', files, cache);\n\n    // Use of facade methods and properties\n    const metadata: MetadataElementMap = cdsCompilerFacade.getMetadata('myService');\n    const errors = cdsCompilerFacade.getCompilerErrors();\n\n```\n\n## Support\n\nJoin the [SAP Fiori tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.  \nPlease assign tag: _SAP Fiori tools_.\n\nTo log an issue with SAP Fiori tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation \n\n- Visit **SAP Help Portal** for [SAP Fiori tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation. \n\n## License\n\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n</details>\n\n## Keywords\nOData annotations CAP CDS compiler","downloadsCurrentMonth":7988,"downloadsCurrentFortnight":3475,"downloads365":14162,"downloadsFortnightGrowth":-20.17,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":0},{"yearMonth":"2023-09","downloads":0},{"yearMonth":"2023-10","downloads":65},{"yearMonth":"2023-11","downloads":200},{"yearMonth":"2023-12","downloads":85},{"yearMonth":"2024-01","downloads":1171},{"yearMonth":"2024-02","downloads":6823}],"versions":[{"version":"created","date":"2023-10-26T15:30:54.999Z"},{"version":"1.11.3","date":"2023-10-26T15:30:55.344Z"},{"version":"modified","date":"2024-03-15T20:36:43.553Z"},{"version":"1.11.4","date":"2023-11-09T17:29:09.065Z"},{"version":"1.11.5","date":"2023-11-24T08:14:32.312Z"},{"version":"1.12.0","date":"2023-12-13T11:07:06.499Z"},{"version":"1.12.2","date":"2024-01-19T14:28:16.101Z"},{"version":"1.12.3","date":"2024-02-02T09:23:51.089Z"},{"version":"1.12.4","date":"2024-02-15T16:03:43.249Z"},{"version":"1.12.5","date":"2024-03-01T16:24:31.891Z"},{"version":"1.13.0","date":"2024-03-15T20:36:43.101Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-cds-compiler-facade"},{"name":"ux-cds-odata-language-server-extension","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-10-08T17:59:48.026Z","updatedAt":"2024-03-15T20:36:07.026Z","readme":"# @sap/ux-cds-odata-language-server-extension\n\nThe SAP Fiori Tools - CDS OData Language Server enhances the functionality of [SAP Cloud Platform core data services plug-in for Visual Studio Code](https://marketplace.visualstudio.com/items?itemName=SAPSE.vscode-cds) with the features assisting you to define [OData annotations](https://cap.cloud.sap/docs/advanced/odata#annotations) in .cds files serving Fiori UIs.\n\n## **1. Code Completion**\n\nThe SAP Fiori Tools - CDS OData Language Server provides a list of suggestions based on the service metadata and OData vocabularies. An application developer can open such a list of suggestions for annotation aliases, terms, records, properties and their values and accept one of them to speed up applying OData annotations to service entities and elements. The suggestion lists are context sensitive, and include only the values that are allowed by OData vocabulary specification. This eliminates the need to look up the valid elements and values or type complete values. \n\n## **2. Micro-Snippets**\n\nThe SAP Fiori Tools - CDS OData Language Server  provides a number of generic micro-snippets in the suggestion lists. These are small blocks of code based on OData vocabulary definitions that can be inserted to avoid triggering the code completion for each annotation element separately. An application developer can insert repeating code patterns such as annotation aliases, terms, and records more efficiently.\n\n## **3. Diagnostics (error-checking)**\n\nThe SAP Fiori Tools - CDS OData Language Server validates the OData annotations against the project metadata, annotation vocabularies, and OData specification. An application developer can view the diagnostic messages and navigate to the related place in the annotation file to fix the issues.\n\n## **4. Documentation (Vocabulary Information)**\n\nThe SAP Fiori Tools - CDS OData Language Server provides vocabulary information for annotation terms and their elements, such as property values, record types, etc. This information may include a description, applicability, type, etc. It also indicates if a term/element is experimental or deprecated and informs the developer if the element is mandatory. An application developer can use this information to make a better decision on how to use the annotation. The documentation scope depends on the information provided in the respective vocabulary.\n\n## **5. Go to Definition/Peek Definition**\n\nThe Go To Definition feature helps you to navigate to the source of a referenced annotation and opens the result in a new tab.\n\nThe Peek Definition feature lets you preview the definition of a annotation without switching away from the code that you're writing.\n\n## **6. i18n Support**\n\nThe SAP Fiori Tools - CDS OData Language Server provides diagnostic warning for hard-coded translatable text values which do not match the expected i18n reference format. Together with the standard functions of SAP Cloud Platform core data services plug-in it simplifies maintaining translateable values.\n\n\n## **Out of Scope**\n\nCompletion items for path values are only provided based on files referenced via the `using` directive and annotations applied to the entities exposed from the same service.\nAdditionally, this version of annotation language server doesn’t support:\n- [Core Data Services Common](https://cap.cloud.sap/docs/cds/annotations) annotations\n- Annotations applied to complex elements\n    ```\n    annotate IncidentService.Priority with {\n        code {\n            @(Common.Text: 'aaa') value;\n        }\n    };\n    ```\n- Annotations embedded in entity definitions\n    ```\n    entity IncidentService @(UI.SelectionFields: [incidentStatus_code]) {\n        title @Common : {\n                Text            : name,\n                TextArrangement : #TextOnly\n        } @title: 'Title'\n    };\n    ```\n- Annotations on parameters of parameterized entities \n\n\n## Known Issues\n\n- CDS path notation mixed with OData path notation (string value in CDS) in annotations.\n    - Value paths use CDS notation e.g `LineItem : [ {Value : category.code} ]`\n    - Annotation path uses OData path notation e.g \n    ```\n    Facets : [{\n        $Type:'UI.ReferenceFacet',\n        Target: 'incidentFlow/@UI.LineItem'\n    }]\n    \n    ```\n- Using generated fields from association in annotations. This is needed for correct interpretation by SAP Fiori Elements framework. \n\n\n## Vocabulary Support Matrix\n\nThe following OData vocabularies are supported by CDS Compiler and Annotation Service\n\n| Vocabulary                            | Annotation Service | CDS Compiler |\n| ------------------------------------- | ------------------ | ------------ |\n| Org.OData.Aggregation.V1              | X                  | X            |\n| Org.OData.Authorization.V1            | X                  | X            |\n| Org.OData.Capabilities.V1             | X                  | X            |\n| Org.OData.Core.V1                     | X                  | X            |\n| Org.OData.Measures.V1                 | X                  | X            |\n| Org.OData.Repeatability.V1            | X                  | X            |\n| Org.OData.Temporal.V1                 | X                  |              |\n| Org.OData.Validation.V1               | X                  | X            |\n| Org.OData.JSON.V1                     | X                  | X            |\n| com.sap.vocabularies.Analytics.v1     | X                  | X            |\n| com.sap.vocabularies.CodeList.v1      | X                  | X            |\n| com.sap.vocabularies.Common.v1        | X                  | X            |\n| com.sap.vocabularies.Communication.v1 | X                  | X            |\n| com.sap.vocabularies.DataIntegration.v1 | X                | X            |\n| com.sap.vocabularies.DirectEdit.v1    | X                  |              |\n| com.sap.vocabularies.Graph.v1         | X                  | X            |\n| com.sap.vocabularies.Hierarchy.v1     | X                  | X            |\n| com.sap.vocabularies.HTML5.v1         | X                  | X            |\n| com.sap.vocabularies.ODM.v1           | X                  | X            |\n| com.sap.vocabularies.PDF.v1           | X                  |              |\n| com.sap.vocabularies.PersonalData.v1  | X                  | X            |\n| com.sap.vocabularies.Session.v1       | X                  | X            |\n| com.sap.vocabularies.UI.v1            | X                  | X            |\n\n## **Support**\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: *SAP Fiori tools*\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## **Documentation**\n\nFor more information see https://cap.cloud.sap/docs/advanced/fiori#fiori-annotations\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.12.2] - 2024-01-10\n### Added\n- Enhanced code completion to restrict the suggestions for annotation terms, complex types and properties to more meaningful based on `Validation.ApplicableTerms` set in OData vocabulary definitions . \n- Enhanced validation to display warning if the usage of annotation terms, complex types and properties is restricted in OData vocabulary definitions with `Validation.ApplicableTerms`. \n\n## [1.11.5] - 2023-11-15\n### Added\n- Enhanced code completion and validation to support annotating inline composition\n\n## [1.9.4] - 2023-04-17\n### Added\n- The **Show All References** option for service elements such as entities, properties, and actions displays now also the references to these elements in annotation values. You can use it before modifying a service element to understand if annotations will be affected by the change and avoid the related errors or easily fix them.\n\n## [1.5.4] - 2022-04-14\n### Fixed\n- Unjustified error for `LocalDataProperty` in `Common.ValueList` when the property is defined in the service using a `many` clause.\n- Unjustified error for `Action` in `UI.DataFieldForAction` if it contains the signatures (i.e. the parts in () ) . \n- Unjustified warning for CAP CDS native annotation `@mandatory` when applied to a parameter.\n\n## [1.3.5] - 2021-09-30\n### Fixed\n- Unjustified error \"path does not exist\" for paths pointing to entity elements defined as structured type. \n\n## [1.2.5] - 2021-07-22\n### Fixed\n- Unjustified warning for the 'assert.integrity' term when applied to the service.\n\n## [1.2.3] - 2021-06-24\n### Added\n- Code completion, diagnostic and go to definition for string properties `CollectionPath` and `ValueListProperty` in `@Common.ValueList` annotation defined on the service level.\n- Semantic highlighting in OData annotations.\n### Changed\n- Updated comprised OData vocabularies to include HTML5 vocabulary https://sap.github.io/odata-vocabularies/vocabularies/HTML5.html.\n\n\n## [1.2.0] - 2021-05-27\n### Changed\n- Updated comprised OData vocabularies.\n### Fixed\n- Unjustified error message for expected type\n\n## [1.1.11] - 2021-05-13\n### Changed\n- Updated comprised OData vocabularies.\n\n## [1.1.8] - 2021-04-15\n### Added\n- Syntax warning for `/` or `.` after annotation term name.  \n\n### Changed\n- Removed paths to the same annotation from code completion. \n\n## [1.1.7] - 2021-03-31\n### Added\n- Go To References /Peek References / Show All References for the aggregared properties defined with the `@Analytics.AggregatedProperties` annotation. You can now navigate to the place where the aggregated property is referenced.\n\n### Changed\n- Vocabulary description and long description for restricted `String` values are now displayed in Quick Info window of the completion lists. \n\n## [1.1.5] - 2021-0304\n\n### Added\n- Code completion, diagnostics and quick info for applying selected client-side odata functions:\n  -  `odata.concat`\n  -  `odata.fillUriTemplate`\n  -  `odata.uriEncode`\n- Peek References/ Go To References for annotations referenced in other annotations. You can now see if and where the annotation is referenced. \nLimitation: references in propagated annotations might be not included.\n\n## [1.1.4] - 2021-02-25\n\n### Changed\n- Error message \"Invalid property\" for `@Common.ValueList.entity` substituted with warning of deprecated non-standard property.\n\n\n## [1.1.2] - 2021-02-04\n\n### Added\n- Peek Definition for the dynamically created aggregared properties. You can now see how and where the property used as an annotation value is defined also if it is  dynamically created using the Analytics.AggregatedProperties  annotation.\n- Go To Definition for the dynamically created aggregared properties. You can now navigate to the place where the aggregated property is defined with the Analytics.AggregatedProperties annotation.\n- Code completion and diagnostics for annotating types with terms applicable to properties and parameters. \n\n## [1.0.9] - 2021-01-21\n\n### Added\n- Code completion and diagnostics for cds-specific alternatives to OData annotations \n- Code completion and diagnostics for annotating services (entity containers)\n- Code completion and diagnostics for properties `IsActiveEntity` and `HasActiveEntity` auto-generated on applying `@odata.draft.enabled`\n- Peek Definition for entity type properties and actions used in annotations. You can now see where the entity type property or action is defined.\n- Go To Definition for entity type properties and actions used in annotations. You can now navigate to the place in the service where the entity type property or action is defined.\n- Dedicated validation and quick fix for wrong case in annotation terms, properties, record types, `$Type`, `$value`, paths and enum values. You can now fix the typos related to wrong case with one click. \n- Dedicated validation for type mismatch in paths\n\n### Changed\n- Omitted qualifier tab stops in code completion snippets for annotation not applied to entity type \n- Omitted `:` in code completion snippets for boolean type annotations with default value `true`.\n\n## [1.0.7] - 2020-12-10\n\n### Added\n- Code completion and diagnostics for referencing actions in DataFieldForAction\n- Code completion and diagnostics for properties of open complex types (e.g. Data property in UI.ConnectedFields)\n- Code completion, diagnostics and hover information for a subset of cds [common annotations](https://cap.cloud.sap/docs/cds/annotations) recommended in SAP Cloud Application Programming documentation for [serving Fiori UIs](https://cap.cloud.sap/docs/advanced/fiori#prefer-title-and-description)\n- String attribute included by default in code snippets for annotation properties of type `Edm.String`\n\n\n## [1.0.6] - 2020-11-25\n\n### Changed\n- Enhanced error messages with additional information.\n\n### Fixed\n- Infinite loop at loading caused by unhandled block comments\n- Code completion and validation for $Return in annotations applied to bound actions or functions\n- Code completion and validation for paths starting with `_it` in annotations applied to bound actions or functions\n- Code completion and validation for relative paths to parameters\n\n## [1.0.5] - 2020-11-13\n\n### Added\n- Option to omit the redundant types if they are not mandatory based user setting omitRedundantTypesInSnippets.\n\n### Changed\n- Excluded some irrelevant path segments from the code completion in paths\n\n## [1.0.4] - 2020-11-11\n\n### Fixed\n- Performance for large projects\n\n## [1.0.3] - 2020-10-29\n\n### Added\n- Support for code completion, diagnostic and navigating to definition in paths to annotation. Example:\n    ```\n    KPI                 : {\n    SelectionVariant : ![@UI.SelectionVariant],\n    DataPoint        : ![@UI.DataPoint#test],\n    }\n    ```\n- Replacement behavior for editing annotations\n\n### Fixed\n- Code completion for adding annotation before existing annotation when a comma is missing\n- Code completion for path segments: removed actions from the completion lists\n- False validation for non-standard annotations `@Aggregation.default`, `@Capabilities.Insertable`, `@Capabilities.Updatable`, `@Capabilities.Deletable` and `@Capabilities.Readable`\n- False validation for 'Unknown Namespace ...'\n- False validation for 'Term cannot be applied ...'\n\n### Changed: \n- Removed qualifier tab stop in embedded annotation snippets, as qualifiers are not allowed there\n\n\n## [1.0.2] - 2020-10-16\n\n### Added\n- Hiding/showing the i18n-related diagnostic messages based on the user/workspace setting `Mark Missing I18n Default`\n- Support for flattened annotation structures\n- Support for annotating actions and functions\n\n### Fixed\n- Annotating annotations, e.g. annotating UI.LineItem with UI.Criticality\n\n## [1.0] - 2020-10-08\nRelease status: GA We are pleased to announce the official GA of the SAP Fiori tools - CDS OData Language Server.\n\n### Added\n- Basic code completion and diagnostics for annotating entities and elements\n- Complex micro snippets for simplified annotation definition\n- Vocabulary documentation on hover and in code completion lists\n- Internationalization support for language dependent strings: warnings with Quick Fix actions\n- Peek Definition support for referenced annotations \n- Go To Definition support for referenced annotations \n","downloadsCurrentMonth":84848,"downloadsCurrentFortnight":38244,"downloads365":751278,"downloadsFortnightGrowth":-10.88,"downloadsHistory":[{"yearMonth":"2023-04","downloads":40695},{"yearMonth":"2023-05","downloads":50966},{"yearMonth":"2023-06","downloads":52282},{"yearMonth":"2023-07","downloads":65281},{"yearMonth":"2023-08","downloads":64900},{"yearMonth":"2023-09","downloads":65735},{"yearMonth":"2023-10","downloads":60563},{"yearMonth":"2023-11","downloads":65573},{"yearMonth":"2023-12","downloads":58821},{"yearMonth":"2024-01","downloads":73811},{"yearMonth":"2024-02","downloads":81055}],"versions":[{"version":"created","date":"2020-10-08T17:59:48.026Z"},{"version":"1.0.0","date":"2020-10-08T17:59:48.452Z"},{"version":"modified","date":"2024-03-15T20:36:07.026Z"},{"version":"1.0.2","date":"2020-10-16T18:52:05.065Z"},{"version":"1.0.3","date":"2020-10-30T17:19:30.671Z"},{"version":"1.0.4","date":"2020-11-11T18:49:52.652Z"},{"version":"1.0.5","date":"2020-11-13T20:20:36.414Z"},{"version":"1.0.6","date":"2020-11-25T23:14:07.174Z"},{"version":"1.0.7","date":"2020-12-10T20:27:20.852Z"},{"version":"1.0.9","date":"2021-01-22T18:49:45.487Z"},{"version":"1.1.2","date":"2021-02-19T17:27:44.697Z"},{"version":"1.1.4","date":"2021-03-04T18:23:25.317Z"},{"version":"1.1.5","date":"2021-03-18T18:29:40.997Z"},{"version":"1.1.7","date":"2021-04-01T16:49:38.864Z"},{"version":"1.1.9","date":"2021-04-20T15:54:07.768Z"},{"version":"1.1.10","date":"2021-04-29T17:37:00.915Z"},{"version":"1.1.11","date":"2021-05-20T16:11:52.269Z"},{"version":"1.2.0","date":"2021-05-27T18:17:54.447Z"},{"version":"1.2.1","date":"2021-06-10T19:41:17.138Z"},{"version":"1.2.3","date":"2021-06-25T16:30:14.428Z"},{"version":"1.2.4","date":"2021-07-09T16:54:59.748Z"},{"version":"1.2.5","date":"2021-07-22T22:23:08.828Z"},{"version":"1.3.0","date":"2021-08-05T22:12:51.544Z"},{"version":"1.3.1","date":"2021-08-20T07:52:17.461Z"},{"version":"1.3.2","date":"2021-09-02T16:53:28.486Z"},{"version":"1.3.3","date":"2021-09-16T16:25:59.041Z"},{"version":"1.3.5","date":"2021-09-30T19:40:03.768Z"},{"version":"1.3.7","date":"2021-10-14T17:41:02.714Z"},{"version":"1.4.0","date":"2021-10-28T16:45:42.729Z"},{"version":"1.4.1","date":"2021-11-12T12:45:01.202Z"},{"version":"1.4.3","date":"2021-11-25T11:47:48.170Z"},{"version":"1.4.4","date":"2021-12-09T13:03:55.362Z"},{"version":"1.4.6","date":"2022-01-20T17:59:17.248Z"},{"version":"1.4.7","date":"2022-02-04T15:36:11.605Z"},{"version":"1.5.0","date":"2022-02-17T10:33:09.435Z"},{"version":"1.5.1","date":"2022-03-04T10:28:08.631Z"},{"version":"1.5.2","date":"2022-03-17T21:08:40.665Z"},{"version":"1.5.3","date":"2022-04-01T11:22:37.140Z"},{"version":"1.5.4","date":"2022-04-14T13:39:33.346Z"},{"version":"1.5.5","date":"2022-04-28T16:56:58.287Z"},{"version":"1.6.0","date":"2022-05-11T18:33:56.068Z"},{"version":"1.6.1","date":"2022-05-25T20:41:21.207Z"},{"version":"1.6.3","date":"2022-06-08T21:19:18.953Z"},{"version":"1.6.4","date":"2022-06-24T16:07:01.858Z"},{"version":"1.6.6","date":"2022-07-08T22:03:32.588Z"},{"version":"1.6.7","date":"2022-07-22T11:06:21.657Z"},{"version":"1.7.0","date":"2022-08-09T15:29:27.045Z"},{"version":"1.7.1","date":"2022-08-18T17:13:52.498Z"},{"version":"1.7.3","date":"2022-09-02T17:15:07.249Z"},{"version":"1.7.4","date":"2022-09-15T17:49:04.655Z"},{"version":"1.7.5","date":"2022-09-30T11:43:15.916Z"},{"version":"1.7.6","date":"2022-10-17T17:24:13.798Z"},{"version":"1.8.0","date":"2022-10-31T18:19:55.002Z"},{"version":"1.8.1","date":"2022-11-10T18:15:10.586Z"},{"version":"1.8.2","date":"2022-11-24T13:00:06.881Z"},{"version":"1.8.3","date":"2022-12-08T19:13:41.898Z"},{"version":"1.8.5","date":"2023-01-20T18:19:36.555Z"},{"version":"1.8.6","date":"2023-02-02T16:52:46.422Z"},{"version":"1.9.0","date":"2023-02-16T12:19:44.420Z"},{"version":"1.9.1","date":"2023-03-03T10:09:05.523Z"},{"version":"1.9.2","date":"2023-03-16T12:42:48.440Z"},{"version":"1.9.3","date":"2023-04-02T21:05:02.887Z"},{"version":"1.9.4","date":"2023-04-17T10:21:09.183Z"},{"version":"1.9.5","date":"2023-05-03T10:58:14.038Z"},{"version":"1.9.6","date":"2023-05-11T10:34:14.407Z"},{"version":"1.9.7","date":"2023-05-25T16:04:18.773Z"},{"version":"1.10.0","date":"2023-06-08T16:16:03.525Z"},{"version":"1.10.1","date":"2023-06-27T15:25:52.049Z"},{"version":"1.10.2","date":"2023-07-11T17:57:46.550Z"},{"version":"1.10.3","date":"2023-07-21T12:01:20.556Z"},{"version":"1.10.4","date":"2023-08-03T15:49:35.275Z"},{"version":"1.10.5","date":"2023-08-17T15:15:11.253Z"},{"version":"1.10.6","date":"2023-08-31T20:40:45.449Z"},{"version":"1.11.0","date":"2023-09-15T09:28:20.044Z"},{"version":"1.11.1","date":"2023-09-29T08:32:24.167Z"},{"version":"1.11.2","date":"2023-10-12T15:24:34.071Z"},{"version":"1.11.3","date":"2023-10-26T15:11:27.710Z"},{"version":"1.11.4","date":"2023-11-09T17:20:59.593Z"},{"version":"1.11.5","date":"2023-11-24T08:15:05.344Z"},{"version":"1.12.0","date":"2023-12-13T11:01:00.222Z"},{"version":"1.12.2","date":"2024-01-19T14:28:21.604Z"},{"version":"1.12.3","date":"2024-02-02T09:19:49.507Z"},{"version":"1.12.4","date":"2024-02-15T16:04:17.178Z"},{"version":"1.12.5","date":"2024-03-01T16:19:29.449Z"},{"version":"1.13.0","date":"2024-03-15T20:36:06.540Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-cds-odata-language-server-extension"},{"name":"ux-help-bas-ext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-05T15:35:38.188Z","updatedAt":"2024-03-15T20:55:23.485Z","readme":"# SAP Fiori Tools - Guided Development\n\n## Description\n\nThe **SAP Fiori Tools - Guided Development** provides access to How-To guides and tutorials that help the developers implement a feature functionality for their Fiori element application quickly. The user can read through the steps required to implement a feature and leverage the guided development approach to make the required changes to their project.\n\n## Features\n\n- Guided development allows the user to walk through the steps required to implement a specific functionality in the Fiori element application.\n- User can choose to insert the code snippet or copy the code snippet to the clipboard and make the relevant changes in the project\n\n## Usage\n\n### How to launch Guided Development\n\n- Use Command Palette -> `CMD/CTRL + Shift + P`\n- Type command -> `Fiori: Open Guided Development` or `Fiori: Open Guided Development to the Side`\n\nOR\n\n- From the File Explorer in your project, right click on project folder and Choose `SAP Fiori tools: Open Guided Development`\n\n### Using the Guided Development\n\nAfter launching the Guided development, a user can do the following:\n\n- **Searching How-to Guides**\n User can specify keywords in the search field and get a result of How-to guides will be shown that match the search criteria.\n User can expand a specific How-To guide and read through the description and included screenshots (if applicable)\n The Additional Documentation section also provides links to Fiori elements documentation that user can review to get more details\n\n- **Navigating through guide steps and step details**\n User can go through the steps required to incorporate the changes for a specific topic.\n If applicable, user will see an enabled Insert Snippet button next to the step. When clicked the required changes are included in the relevant file in the project.\n\n- **Insert the code snippet manually**\n If the Insert Snippet button is disabled or the user wants to make the changes manually, then after reviewing the code snippet, user can use the copy button which copies the code to the clipboard, allowing the user to paste the code snippet in the file.\n\n## Prerequisites\n\nThe generated application requires the following software to be installed:\n\n- [NodeJS](https://nodejs.org/en/download/) Version 18.14.2 or higher\n\n## Support\n\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: *SAP Fiori Tools*\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation\n\n- Visit **SAP Help Portal** for [SAP Fiori Tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation.\n\n## License\n\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    1.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    1. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    1. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    1.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    1.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    1.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    1.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    1.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    1.   TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    1.   LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    1.  MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\n\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.13.0] - 2024-03-07\n### Added\n- Added support for the UI.DataFieldForAction annotation in CAP variant of the _Add and edit table columns_ guide\n\n### Changed\n- Changed Inline and Determining parameters from required to optional\n- Reference information links now point to https://ui5.sap.com/ and https://sdk.openui5.org/ instead of https://sapui5.hana.ondemand.com/  and https://openui5.hana.ondemand.com/\n\n### Fixed\n- Fixed an issue where duplicate annotations were created even though the annotations already existed\n- Fixed an issue where using **Insert Snippet** led to an error in the case of CAP projects\n- Fixed an issue where the placeholder value was getting inserted into the code in the _Add a custom action to a page using extensions_ guide \n- Fixed an issue in the building block guides where the **View or Fragment File** parameter was filled only after the **Entity** parameter was selected\n- Fixed an issue where annotations defined in the associated entity were not considered in the _Add a filter bar building block_ guide\n\n## [1.12.5] - 2024-02-22\n### Added\n- Added support for the UI.DataFieldForAction annotation in the _Add and edit table columns_ guide\n- Added OData V2 and OData V4 variants for the _Configure multiple views for tables_ guide\n\n### Changed\n- Changed guide variant name from CDS Annotation to _CAP CDS Annotation_\n- Replaced the Target path with the Chart Annotation Path parameter which lists annotations supported on OData V2 and OData V4 in the _Add a smart chart facet to an object page_ guide\n\n### Fixed\n- Fixed an issue where the hierarchyQualifier parameter was not based on the table’s entity in the _Configure table type_ guide\n- Fixed an issue where UI.LineItem annotations with a qualifier were not considered\n\n## [1.12.4] - 2024-02-08\n### Added\n- Added support for additional table types in the _Configure table type_ guide based on the SAPUI5 version and project type\n- Added a feature in the _Configure table type_ guide to reflect the table type defined in the project\n\n### Fixed\n- Fixed an issue where existing UI.DataFieldForAnnotation was not considered but duplicated on click of the Insert Snippet button in the _Add a micro chart column to a table_ guide\n- Fixed an issue where the _Related Facets Annotation Term_ parameter was disabled in the _Add a custom section to an object page using extensions_ guide\n- Fixed multiple issues on Step 5 on the _Add a table card to an overview page_ guide to ensure that code snippet is correctly applied\n- Fixed an issue where an incorrect reference to Common Vocabulary was created in the annotations if it didn’t already exist\n\n## [1.12.3] - 2024-01-25\n### Added\n- Added an inline warning to the Entity Type parameter for missing function import in the _Add an Action Button_ guide\n- Added a CAP CDS variant for the _Add Multiple Fields to a Column in Responsive Tables_ guide\n- Added a feature that values of parameters are reset when they are deactivated\n- Added a new input field validation that checks the correctness of the URL and also considers SAP-specific image URLs\n\n### Changed\n- Removed the _Reorder columns in a table_ guide as the functionality is already covered by the _Add and edit table columns_ guide\n- The Page Name parameter is now marked as mandatory\n- The EntityType and Entity Type Property parameters are now marked as mandatory in the _Enable semantic Date range on smart filter bar_ guide\n\n### Fixed\n- Fixed an issue with Guided Development not opening directly for an app in case an SAP CAP project contained multiple apps\n- Fixed an issue where an invalid page type error was shown when clicking the insert snippet in the _Configure multiple views for table_ guide\n- Fixed an issue where an error was shown when inserting a snippet for the CDS Variant of the _Add semantic highlights to line items in a table_ guide\n\n## [1.12.2] - 2024-01-10\n### Added\n- Added an inline warning for duplicate function import validation to the _Add an Action Button_ guide\n- Added functionality that allows the update of existing annotations in the _Configure multiple views for tables_ guide by selecting an existing qualifier\n- Updated code snippets for Overview Page guides based on the installed _specification_ version\n\n### Changed\n- Removed unsupported chart types from the ABAP CDS variant of the _Add a micro chart column to a table_ guide\n- Changed the minimum SAPUI5 version for the ABAP CDS variant of the _Add a smart chart facet to an object page_ guide to 1.71.2\n\n### Fixed\n- Fixed an issue where an extra empty line was added to annotation code snippets\n- Fixed an issue where values were not taken over from previous steps in the _Add a micro chart column to table_ and _Add a key performance indicator (KPI) tag to a page_ guides\n- Fixed an issue where the `Entity Set` parameter was disabled in the _Add a key performance Indicator tag to a page_ guide\n- Fixed an issue where an incorrect inline error message was shown even when the selected entity was correct in the _Add a micro chart column to table_ guide\n- Fixed an issue where the chart type was not updated in the code snippet in the _Add an interactive chart_ guide\n- Fixed minor UX issues (missing icons and highlighting) in _Configure multiple views for tables_ and _Add a micro chart column to table_ guides\n\n## [1.12.0] - 2023-11-30\n### Changed\n- Updated guide names to reflect the floorplans the guides can modify.\n- Introduced the ability to edit existing field group annotations in the _Add a field group to an object page_ guide by selecting an existing qualifier.\n- Updated chart guides to provide a warning if a selected entity does not have measures available.\n- Updated the _Add a filter building block_, _Add a chart building block_, and _Add a table building block_ guides to feature validation for the `Building Block ID` parameter so that duplicate code snippets cannot accidentally be inserted into the project's fragment file.\n\n## [1.11.5] - 2023-11-16\n### Changed\n- Updated guides for creating charts so that the option to add values for `Dynamic Measures` or `Measures` is automatically set based on the type of measures available in the project.\n### Fixed\n- Resolved an issue where the _Add a micro chart to a table_ guide was not appearing in search results when searching by annotation terms. \n\n## [1.11.4] - 2023-11-02\n### Added\n- Introduced a new warning page for projects with virtual file system errors. \n### Changed\n- Updated overview page guides to automatically select the `Model` parameter if there is only one option available for the project.\n- Updated chart guides to only display `Dynamic Measures` or `Measures` parameter properties that can be used to successfully create charts for a given project.\n### Fixed\n- Fixed an issue with the code snippet inserted from the _Add a stack card to an overview page_ guide that used an invorrect variable type, causing an error. \n- Fixed an issue where the guided development window would not scroll up to display inline errors.\n- Fixed an issue in the _Add a new visual filter_ guide where selected properties were not displayed in the guide code snippet.\n- Fixed an issue in the _Add a table card to an overview page_ guide where the `Entity Type` parameter selected in earlier steps was not retained across all guide steps.\n\n## [1.11.3] - 2023-10-19\n### Changed\n- Updated CAP CDS guide variants to automatically select the `Service` parameter if there is only one service available for the project.\n### Fixed\n- Fixed an issue in the ABAP CDS variant of the _Add and edit table columns_ guide where the `Entity Type` parameter was missing.\n\n## [1.11.2] - 2023-10-05\n### Fixed\n- Fixed an issue where the extension would not open if a workspace with multiple projects in it had a package.json file that was not assigned to a project.\n\n## [1.11.0] - 2023-09-12\n### Added\n- Introduced an indicator for parameters that are pre-filled when a guide is opened from the Page Editor.\n### Changed\n- Minor UX changes to make the guide details screen render better on smaller screen sizes. \n### Fixed\n- Fixed an issue in the TypeScript variant of the `Add a custom action to a page using extensions` guide where the guide displayed a wrong file name.\n\n## [1.10.6] - 2023-08-24\n### Added\n- Introduced the _Configure default grouping in a table_ guide for OData V2 list report projects.\n### Changed\n- Updated the _Add a chart building block_ guide to add support for dynamic measure annotations. For custom measures, please continue using the `Measures` property. \n\n## [1.10.5] - 2023-08-10\n### Changed\n- Updated the CAP CDS variant of the _Add a new visual filter_ guide to use dynamic measures. For custom measures, please continue using the `Measures` parameter.\n- Consolidated steps in the _Configure multiple views_ to shorten the guide. All of the previous parameters remain available. \n### Fixed\n- Fixed an issue in the _Configure multiple selection in tables_ guide where the `Page Name` parameter was not automatically filled based on whether the guide is opened in the List Report or Object Page section of the guide list.\n\n## [1.10.4] - 2023-07-27\n### Added\n- Introduced a CAP CDS variant for the _Set default filter values_ guide.\n- Added warning pages for common errors that prevent Guided Development from opening, for example: node modules not being installed, issues parsing manifest and CDS files, no pages present in the project, or application modeler not being installed.\n### Fixed\n- Fixed an issue with keyboard navigation in guides with multiple code snippets in a single step where it was not possible to use the tab key to navigate to the second, third, or fourth code snippet.\n\n## [1.10.3] - 2023-07-13\n### Changed\n- Consolidated the three different _Add a custom filter to the filter bar of a list report page/analytical list page/overview page_ guides into a single guide: _Add a custom filter to the filter bar_. Guide parameters will update based on the page type of the project. \n## [1.10.2] - 2023-06-29\n### Changed\n- Removed the deprecated `Hide Descriptions` setting. Please continue to use its replacement `Show Descriptions`.\n\n## [1.10.1] - 2023-06-15\n### Added\n- Introduced the _Create a table building block_ guide for custom pages.\n\n### Changed\n- Simplified guides that feature multiple code snippets in a single step by adding the file buttons to the code snippet header.\n\n### Fixed\n- Fixed an issue in the _Add a progress indicator column to a table_ guide where a parameter updated in step 2 would not be retained after navigating to step 1.\n\n## [1.10.0] - 2023-06-01\n### Added\n- Introduced a CAP CDS variant for the _Add a value help to a field_ guide.\n- Introduced a TypeScript variant for the _Add a custom filter to the filter bar of a list report_ guide.\n\n### Changed\n- Updated the UI5 version warning page with a link that opens the _Fiori: Change the minimum UI5 version_ command.\n\n## [1.9.7] - 2023-05-18\n### Changed\n- Updated All Guides view to feature a warning when a project's UI5 version is too low or too high for a given guide variant.\n\n### Fixed\n- Fixed an issue where selecting the CAP CDS version of _Add a custom action to a page using extensions_ from the guide list opens a blank tab.\n- Fixed an issue where translations created in Guided Development were not compatible with Page Editor.\n\n## [1.9.6] - 2023-05-04\n### Added\n- Introduced the _Add a value help to a field_ guide for XML annotations.\n- Added a warning message for adaptation projects as they are not currently supported in SAP Fiori tools Guided Development.\n\n## [1.9.5] - 2023-04-20\n### Added\n- Added a CAP CDS variant to the _Create annotations for Key Performance Indicator (KPI) Tags_ guide. \n\n### Fixed\n- Fixed an issue where the `Group by` dropdown in the guide list was disabled if a project was not present in the workspace in SAP Business Application Studio.\n\n\n## [1.9.4] - 2023-04-06\n### Added\n- Added a TypeScript code snippet variant to the OData V4 version of the _Add a custom action to a page using extensions_ guide. \n\n### Changed\n- Updated global warning pages (such as those displayed when a project's SAPUI5 version is too low to use Guided Development) so that a different project can be selected or the guide list can be opened via the All Guides view.\n- Updated the _Configure multiple selection in tables_ guide so that the `Toggle Multi Select` (from the OData V2 variant) and `Selection Mode` (from the OData V4 variant) parameters default to the value in the project upon opening. \n\n## [1.9.3] - 2023-03-23\n### Changed\n- Updated CAP CDS guide variants to retain parameters from previous guide steps, similar to XML annotation guide variants. \n\n## [1.9.2] - 2023-03-09\n### Added\n- Introduced the ability to create i18n keys directly from values entered in guide input fields.\n\n### Fixed\n- Fixed an issue in the CAP CDS variant of the _Add a header facet using data points_ guide where the code snippet from the XML annotation variant was displayed after selecting values.\n\n## [1.9.1] - 2023-02-23\n### Fixed\n- Fixed an issue in the _Add custom columns to the table using extensions_ guide where the code snippet for step 3 was not displayed.\n- Corrected code snippet formatting for the ABAP CDS variant of the _Add a new section to a page_ guide.\n\n## [1.9.0] - 2023-02-09\n### Added\n- Introduced the _Configure mass edit via dialog_ guide for list report pages.\n- Added a CAP CDS code snippet variant for the _Configure object page header_ guide.\n\n### Changed\n- Enhanced `Card ID` and `Qualifier` validation to provide a warning message when unsupported characters are entered in the input field.\n- Updated the _Add a new section to a page_ guide to feature a new `Annotation Type` parameter that will filter the results displayed in the `Annotation Path` parameter.\n\n## [1.8.6] - 2023-01-26\n### Added\n- Added a warning to indicate if a project's UI5 version is too low to use Guided Development.\n\n### Changed\n- Updated the _Add a custom card to an overview page_ guide to consolidate its steps into a single step that can create and update the required fragment, component, controller, and manifest files.\n\n## [1.8.5] - 2023-01-12\n### Added\n- Added warnings to the All Guides view to indicate if a guide cannot be used with a given project due to insufficient UI5 version, incorrect floorplan, inability to read pages, or the selection of the wrong code snippet variant (CAP or non-CAP projects).\n- Added a CAP CDS code snippet variant for the _Add a new section to a page_ guide.\n\n## [1.8.4] - 2022-12-16\n### Fixed\n- Fixed an issue where project path was incorrectly added to telemetry data.\n\n## [1.8.3] - 2022-12-01\n\n### Added \n\n- Introduced a project-based experience based on UI5 version so that only guides that are compatible with a project's UI5 version are displayed in the Project Guides view.\n- Introduced the ability to add and update columns using `DataField for Annotation` annotations in the _Add and edit table columns_ guide.\n- Introduced dynamic mandatory parameter indicators that update based on previous parameter entries.\n\n## [1.8.2] - 2022-11-17\n\n### Added\n\n- Introduced a behavior where the Guided Development window will scroll to the first error message in a guide if the Insert Snippet button is clicked with errors still present.\n- Added a CAP CDS code snippet variant for the _Add a header facet using data points_ guide. \n\n### Fixed\n\n- Fixed an issue where the _Enable a Show Related Apps button_ guide would not appear in the guide list when filtering by Application Artifacts.\n- Fixed an issue in the _Enable semantic date range on smart filter bar_ guide where changes made to the `Selected Values` parameter would not be inserted into the page configuration file.\n\n## [1.8.1] - 2022-11-03\n\n### Changed\n\n- Updated the behavior of the Information Links menu in guides so that clicking on a link to the SAP Fiori elements reference documentation will open the documentation for the project's minimum UI5 version.\n\n### Fixed\n\n- Fixed an issue where error messages indicating duplicated parameters would not clear after removing the duplicate.\n- Fixed a validation issue in the _Specify refresh interval for cards_ guide where the `Refresh Interval` parameter would allow the input of non-integer values, causing an error after clicking `Insert Snippet`.\n\n## [1.8.0] - 2022-10-20\n\n### Added\n\n- Introduced the ability to add multiple dimensions and measures at once in the _Add a chart building block_ guide.\n\n### Fixed\n\n- Fixed an issue where opening the _Enable draft toggle buttons_ guide without a project in the workspace would open a blank Guided Development window instead.\n- Resolved an issue in the _Enable semantic date range on smart filter bar_ guide where the `Exclude` parameter would be disabled when the `Date Range` parameter was set to `True`.\n\n## [1.7.6] - 2022-10-06\n\n### Fixed\n\n- Fixed an issue in the ABAP CDS variant of the _Add a new section to a page_ guide where the `Position` and `Parent ID` parameters were not cleared after clicking the Reset button.\n- Fixed an issue in the _Add a table card to an overview page_ guide where characters entered in the `Label` parameter were unexpectedly deleted.\n\n## [1.7.5] - 2022-09-22\n\n### Added\n\n- Added a CAP CDS code snippet variant to the _Add a new visual filter_ guide.\n\n### Fixed\n\n- Fixed an issue in the _Add an analytical card to an overview page_ guide where an extra line of code not featured in the guide code snippet would be inserted into the project's annotation file after clicking `Insert Snippet`.\n\n## [1.7.4] - 2022-09-08\n\n### Added\n\n- Introduced the _Add a filter bar building block_ guide to implement filter bars in custom pages using the SAP Fiori elements Flexible Programming Model (XML Annotation for OData V4 and CDS Annotation variants available).\n- Introduced the _Add a chart building block_ guide to implement charts in custom pages using the SAP Fiori elements Flexible Programming Model (XML Annotation for OData V4 and CDS Annotation variants available).\n- Added an ABAP CDS code snippet variant to the _Add a new column as a contact view_ guide.\n\n## [1.7.2] - 2022-08-25\n\n### Added\n\n- Introduced the ability to add multiple table columns at once to a table card in the _Add a table card to an overview page_ guide.\n- Introduced the ability to add multiple list items at once to a list card in the _Add a list card to an overview page_ guide.\n\n### Changed\n\n- Changed the `Add` button in the _Add a table card to an overview page_ and _Add a list card to an overview page_ guides so that it is possible to select between adding `Data Field` or `Data Field for Annotation` annotations as columns or list items respectively.\n\n## [1.7.1] - 2022-08-10\n\n### Added\n\n- Added an ABAP CDS code snippet variant to the _Add a progress indicator column to a table_ guide.\n- Added an ABAP CDS code snippet variant to the _Add status colors and icons for a column_ guide.\n\n### Fixed\n\n- Resolved an issue where opening Guided Development from an annotation file would result in an empty guide list.\n\n## [1.7.0] - 2022-07-27\n\n### Fixed\n\n- Resolved an issue where the _Enable table to auto load data_ guide could not be found via search.\n- Updated the preview image for the _Configure object page header_ guide as the corresponding annotations were previously mislabeled.\n\n## [1.6.7] - 2022-07-13\n\n### Added\n\n- Added an ABAP CDS code snippet variant to the _Configure object page header_ guide.\n\n### Changed\n\n- Updated screen reader support across Guided Development to provide navigational information for toolbar dropdowns and guide steps.\n\n### Fixed\n\n- Fixed an issue where attempting to open Guided Development from an annotation file would display a blank window instead.\n\n## [1.6.6] - 2022-06-29\n\n### Added\n\n- Added an ABAP CDS code snippet variant to the _Add a smart chart facet to an object page_ guide.\n\n### Fixed\n\n- Fixed an issue where parameters would not activate in XML guide variants when working on projects using an OData V4 service.\n- Resolved an issue where parameters would not activate in the ABAP CDS variant of the _Add a smart micro chart to a table_ guide.\n- Fixed an issue where focus was lost when using the keyboard to select a navigation path.\n\n## [1.6.4] - 2022-06-15\n\n### Added\n\n- Introduced the ability to add multiple data fields at once to a new field group in the _Add a field group as a section to a page_ guide.\n- Added an ABAP CDS code snippet variant to the _Add a header facet using data points_ guide.\n\n### Changed\n\n- Updated opening behavior so that the initial focus is on the project selector to simplify keyboard navigation in the toolbar\n- Updated keyboard navigation in the guide footer when Wizard mode is enabled so that the `Back`, `Next`, and `Exit Guide` buttons can also be accessed with the Up and Down arrow keys once in the footer.\n- Updated keyboard navigation in the guide list so that guides can also be opened with the Spacebar.\n\n## [1.6.3] - 2022-06-01\n\n### Added\n\n- Introduced the ability to add labels to columns in the _Add and edit table columns_ guide.\n- Added an ABAP CDS code snippet variant to the _Add a new section to a page_ guide.\n\n### Changed\n\n- Updated the filter button in the guide list toolbar to indicate when filters have been applied to a search. The button will turn blue to indicate a filter is active.\n\n## [1.6.1] - 2022-05-18\n\n### Added\n\n- Added a CDS annotation variant to the _Add a field group as a section to a page_ guide.\n- Introduced five new chart types for the XML annotation variant of the _Add a smart micro chart to a table_ guide. Column, Harvey, Line, Radial, and Stacked charts are now available.\n\n## [1.6.0] - 2022-05-04\n\n### Added\n\n- Added guide variants featuring ABAP CDS code snippets to the following guides: _Add and edit table columns_, _Add and edit filter fields_, _Add a smart micro chart_, and _Add a field group_.\n\n### Changed\n\n- Updated the _Enable flexible column layout_ guide to feature configuration for the columns. It is now possible to set the default two column layout to either Begin-Expanded or Mid-Expanded and the default three column layout to Mid-Expanded or End-Expanded. The name of the guide has been changed to _Configure flexible column layout_ to reflect this.\n- Enhanced the _Enable multiple selection in tables_ guide to allow the setting to be disabled as well. The guide has been renamed to _Configure multiple selection in tables_ to reflect this.\n- Enhanced the _Enable selection of all rows in a table_ guide to allow the setting to be disabled as well. The guide has been renamed to _Configure selection of all rows in a table_ to reflect this.\n\n## [1.5.5] - 2022-04-20\n\n### Added\n\n- Added a second `Add` button to guides with collections of parameters (Currently _Add and edit table columns_ and _Add and edit filter fields_) in cases where the table of parameters is larger than five rows to reduce scrolling when adding new elements. This will appear dynamically only after the table exceeds five rows.\n\n## [1.5.4] - 2022-04-06\n\n### Changed\n\n- Renamed the _Add a new filter field to the Filter Bar_ guide to _Add and edit filter fields_ to reflect new capabilities. Multiple filter fields can now be added at once and new and existing filter fields can be rearranged, edited, and deleted.\n\n### Fixed\n\n- Fixed an issue where Guided Development would become unresponsive after clearing the guide search field to search for a second guide.\n\n## [1.5.3] - 2022-03-23\n\n### Changed\n\n- Updated overview page card guides so that the selection of the OData version of the card service happens automatically. As it is no longer required, the `OData Version` parameter in the `Enter the card settings in overview page config file` step has been removed.\n\n### Fixed\n\n- Fixed an issue where `Service` placeholders or selected services were not shown in guide code snippets.\n\n## [1.5.2] - 2022-03-09\n\n### Added\n\n- Added parameter validation to the _Add a custom action to a page using extensions_ guide.\n- Introduced a `Qualifier` parameter to step 1 of the _Add an interactive chart_ guide.\n- Added validation to `Data Point Qualifier` parameters.\n\n### Changed\n\n- Renamed the _Enable export of table data_ guide to _Configure spreadsheet export_ to reflect that it can now be used to enable and disable table data export to a spreadsheet.\n\n## [1.5.1] - 2022-02-23\n\n### Changed\n\n- Updated the behavior of the _Add an interactive chart_ guide so that the `Initial Expansion Level` parameter receives a default value if one is not provided.\n- Renamed Hide Descriptions mode to Show Descriptions mode. Show Descriptions is enabled by default but step and parameter descriptions can be hidden by deselecting the toggle.\n\n## [1.5.0] - 2022-02-09\n\n### Added\n\n- Introduced new validation to the `Data Point Qualifier` parameter in the _Add a smart micro chart to a table_ guide to ensure the required formatting.\n\n### Fixed\n\n- Fixed an issue where the placement of the guide list filter dropdown would change when focus moved in or out of the search bar.\n- Resolved an inconsistent behavior where the guide list filter dropdown needed to be double-clicked to be activated.\n- Fixed an issue with color themes where, after switching out of High Contrast to another theme, the highlight color from a previously selected theme would be used instead of the highlight color belonging to the newly selected theme.\n\n## [1.4.7] - 2022-01-26\n\n### Added\n\n- Introduced new validation to the `Entity` parameter in the _Add a smart micro chart to a table_ guide to notify users when an entity without properties has been selected.\n\n### Fixed\n\n- Fixed an issue with `Navigation Path` parameters where the field would not be cleared when a new `Entity Type` was selected.\n- Resolved a validation issue in the _Add and edit table columns_ guide so that users are once again notified when attempting to add a duplicate column.\n\n## [1.4.6] - 2022-01-12\n\n### Fixed\n\n- Fixed an issue in overview page card guides where attempting to add valid card settings to the code snippet for the overview page configuration file would result in an error.\n\n## [1.4.4] - 2021-12-01\n\n### Added\n\n- Introduced default page type selection so that guides chosen from a guide list filtered by page type will automatically populate `Page Type` dropdowns with the relevant selection.\n\n### Changed\n\n- Changed the name of `Advanced User` mode -- which hides parameter and step descriptions -- to `Hide Descriptions`.\n- Updated the minimum width of the guide list toolbar and guide details panel to prevent content from being cut off when the panels are adjusted to extremely narrow widths.\n- Updated the behavior of the `Add column` button in the _Add and edit table columns_ guide so that it returns to a deactivated state when guide parameters have been reset.\n\n## [1.4.3] - 2021-11-17\n\n### Fixed\n\n- Fixed an issue in the _Enable Show Related Apps button_ guide where pressing `Insert Snippet` with an object page selected would insert the code snippet into the related list report's configuration file.\n- Fixed an issue in `Split Editor` view where a narrow guide list would displace toolbar elements.\n- Fixed an issue with keyboard navigation so that the initial focus is consistently on the `Fullscreen view` button when opening another guide.\n\n## [1.4.1] - 2021-11-03\n\n### Added\n\n- Added tooltips to guide parameters with dependencies to indicate which selections are required before a particular parameter is activated.\n\n### Changed\n\n- Updated keyboard navigation so that it is possible to navigate out of a guide's code snippet using the Tab key.\n\n## [1.3.9] - 2021-10-20\n\n### Changed\n\n- Updated parameter selection and code snippet application notifications to use native Visual Studio Code notifications.\n- Modified the Chart Type parameter in the _Add a smart micro chart to a table_ guide to display a placeholder after resetting parameters, rather than defaulting to a chart type.\n\n### Fixed\n\n- Fixed an issue where navigation path dropdowns would automatically scroll up after being scrolled down.\n- Resolved a visual issue on guide description pages where the annotation terms used were not displayed as a single line.\n- Fixed an issue where a duplicate column error would be triggered in the _Add and edit table columns_ guide after trying to add a column that was previously rearranged and then deleted.\n\n## [1.3.7] - 2021-10-06\n\n### Added\n\n- Added the ability to rearrange columns in the _Add and edit table columns_ guide via the keyboard.\n- Added a loading indicator to the _Add and edit table columns_ guide to indicate when the code snippet is being updated.\n- Added a CDS variant for the _Add a new filter field to the filter bar_ guide.\n\n### Fixed\n\n- Resolved a guide search issue where entered text could not be cleared.\n- Fixed an issue with the guide list where selecting a guide would occasionally cause Guided Development to become unresponsive.\n- Revised dropdown behavior so that an expanded dropdown does not cover the guide list in side-by-side mode when the guide list is widened.\n\n## [1.3.6] - 2021-10-05\n\n### Fixed\n\n- Fixed an issue where applying custom extension guides (_Add a custom action to a page using extensions_, _Add a custom filter to the filter bar_, _Add a custom card to an overview page_) would result in a \"Target not found\" error message in apps deployed to an SAP Fiori launchpad. For users on older versions of Guided Development experiencing this issue, please see this knowledge base article: <https://launchpad.support.sap.com/#/notes/3102930>\n\n## [1.3.5] - 2021-09-22\n\n### Added\n\n- Added keyboard navigation to guide steps and wizard mode navigation buttons.\n\n### Changed\n\n- Updated the drag & drop behavior of the _Add and edit table columns_ guide so that users can click anywhere in the relevant parameter collection row to change its position.\n- Moved the guide `Exit` button so that it can be clustered with the `Back` and `Next` navigation buttons when wizard mode is enabled.\n- Updated the text in CDS variant of the _Add semantic highlights to line items in tables based on their criticality_ guide.\n\n## [1.3.3] - 2021-09-08\n\n### Added\n\n- Introduced the ability to view and edit existing table columns in the _Add and edit table columns_ guide, formerly named _Add a new column to a table_.\n- Added keyboard navigation to the Guide List and the Tag Selector List so that users can navigate via the arrow, Enter, Tab, Space, and Esc. keys.\n- Added two new guides: _Enable object creation in a table via dialog_ and _Define a filter facet_.\n\n### Changed\n\n- Updated error message behavior in the code snippet header so that error messages disappear once corrected.\n- Updated the _Add an action button_ guide so that it supports use with Object Pages.\n\n### Fixed\n\n- Fixed an issue where the `Info` button on a guide's detail page would link to the wrong documentation page.\n- Fixed an issue where the Wizard Mode and Advanced Mode toggles did not accurately reflect the guide view.\n\n## [1.3.2] - 2021-08-25\n\n### Added\n\n- Added keyboard navigation to the _Info Help_, _Info Links_, and _Settings_ dropdowns so that users can navigate via the arrow, Enter, and Esc. keys.\n\n## [1.3.1] - 2021-08-11\n\n### Changed\n\n- Updated the behavior of the `Navigation Path` dropdown so that it can open upwards in a small window, allowing users to view its contents without having to scroll.\n\n### Fixed\n\n- Fixed an issue where free text input lagged in the _Add an analytical card to an overview page_, _Add a static link list card to an overview page_, and _Add a table card to an overview page_ guides.\n\n## [1.3.0] - 2021-07-28\n\n### Added\n\n- Added validation to the _Add a new column to a table_ guide so that the `Property` parameter for an existing column cannot be selected. This ensures that users do not try to add columns that already exist in the project.\n\n### Changed\n\n- Updated the _Request a New Guide_ form so that it can be filled out without having to press `Start Guide` when Wizard Mode is enabled.\n\n### Fixed\n\n- Fixed an issue in the _Add a new column to a table_ guide where the `Property` parameter could not be selected via the keyboard.\n\n## [1.2.5] - 2021-07-14\n\n### Changed\n\n- Updated the behavior of Wizard Mode so that navigation to the guide description is possible using the `Back` button.\n- Updated the code snippet header so that it displays a warning message when trying to apply a code snippet to a project without an annotation file.\n\n### Fixed\n\n- Fixed an issue where an incorrect part of the code snippet was highlighted when inserting a parameter so that the correct parameter is highlighted.\n\n## [1.2.4] - 2021-06-30\n\n### Changed\n\n- Updated the behavior of the _Project Guides_ view so that only guides relevant to the page type of the selected project are displayed when guided development is opened.\n\n### Fixed\n\n- Revised the search functionality for the guides list so that the search bar is active when guided development is initially opened.\n\n## [1.2.3] - 2021-06-16\n\n### Changed\n\n- Updated the _Add a new column to a table_ guide so that multiple new columns can be added at once. The order of new columns can also be rearranged.\n\n### Fixed\n\n- Fixed an issue where guides not relevant to the current project could be accessed from the _Project Guides_ view so that only relevant guides are displayed\n- Resolved an issue where a code snippet from a guide not relevant to the current project could be applied so that only code snippets from project-appropriate guides can be applied\n- Resolved an issue where the code snippet from step 2 of the _Add a custom filter to the filter bar_ guide could not be applied when the Reset button was used\n\n## [1.2.1] - 2021-06-02\n\n### Added\n\n- Added new guide: _Extend object page headers using extensions_\n- Added support for subsections in the  _Add a custom section to an object page using extensions_ guide\n\n### Fixed\n\n- Fixed an issue where the Help button was hidden when using the _Open Guided Development to the side_ view so that it is now visible regardless of view\n- Fixed an issue where a code snippet would not update to reflect a Navigation Path chosen after the Property parameter has been selected\n- Resolved a navigation challenge resulting from the behavior of the _Request New Guide_ form when accessed from the Help button so that users can more easily navigate to the guide list\n\n## [1.2.0] - 2021-05-19\n\n### Changed\n\n- Changed the label on the button for applying code snippets from Apply to Insert Snippet\n- Updated guide texts to reference the renamed Insert Snippet button, formerly called Apply\n\n### Fixed\n\n- Fixed issue in the output console where an error was incorrectly displayed when successfully navigating and using guides\n- Resolved issue where Guided Development would not respond when clicking the link to the Application Modeler in manifest-based guides so that users can now successfully navigate using the link\n- Revised the behavior of the Project Guides view so that Guided Development reverts to the All Guides view when all projects have been removed from a workspace\n\n## [1.1.11] - 2021-05-05\n\n### Added\n\n- Added validation support to card guides for overview pages to ensure card IDs are entered properly\n- Added new guide: _Enable condensed table layout_\n\n### Changed\n\n- Modified the save procedure when applying code snippets. Now changes made to page config and manifest files will save automatically when snippets are applied to be consistent with other guides.\n\n### Fixed\n\n- Resolved issue in All Guides view so that it is maintained after closing a guide.  \n\n## [1.1.10] - 2021-04-21\n\n### Added\n\n- Added _Enable a Show Related Apps button_ guide for object pages\n- Added _Enable draft toggle buttons_ guide for list report pages\n- Added _Enable inline creation of table entries_ guide for object pages\n- Added _Add a static link list card to an overview page_ guide\n\n### Changed\n\n- Modified guide search functionality to accept only free text input. Tags have been moved to the filter function.\n- Modified how guides are displayed when initially opening guided development. Only guides relevant to the selected project's OData version will be shown at first. You can view all guides by selecting All Guides from the View dropdown.\n\n## [1.1.9] - 2021-04-07\n\n### Added\n\n- Added a new guide for List Report Object Page projects: _Add custom columns to the table using extensions_\n- Added a new guide for Object Page forms: _Extend forms in sections_\n\n### Changed\n\n- The following guides were updated:\n  - _Add a Table Card to an Overview Page_\n  - _Add an Analytical Card to an Overview Page_\n  - _Add a List Card to an Overview Page_\n\n### Fixed\n\n- When using the _Request New Guide_ form, the form now displays fields of a more appropriate width. Previously the fields were too narrow, making it difficult to review your text.\n\n## [1.1.7] - 2021-03-24\n\n### Added\n\n- A warning message will now be displayed if a selected guide is not currently available for a given OData service version\n- Support for selecting multiple values in a dropdown if appropriate\n- Support for adding annotations from services other than the mainService\n- The following guide has been added for analytical list pages: _Create annotations for Key Performance Indicator (KPI) Tags_\n\n### Fixed\n\n- When a guide available for multiple page types is selected, only the guide relevant to the page type of the current project is highlighted. Previously, the same guide would be highlighted multiple times – once for each applicable page type.\n\n## [1.1.5] - 2021-03-10\n\n### Changed\n\n- The following guides were updated:\n  - _Add a New Column as a Contact View_\n  - _Add Custom Filter to the Filter Bar_\n  - _Add a List Card to an Overview Page_\n  - _Add a Table Card to an Overview Page_\n  - _Add an Analytical Card to an Overview Page_\n  - _Enable Flexible Column Layout_\n  - _Enable Table to Auto Load Data_\n  - _Enable Selection of All Rows in a Table_\n  - _Enable Variant Management_\n  - _Configure Side Effects_\n  \n## [1.1.4] - 2021-02-24\n\n### Changed\n\n- The following guides were updated:\n  - _Update Header Facets Using Data Points_\n  - _Add a Smart Chart Facet to an Object Page_\n  - _Add Custom Section to an Object Page_\n  - _Configure Object Page Header_\n  - _Reorder Columns in a Table_\n  - _Set Selection Limit for Tables_\n  - _Set Table Type_\n  - _Enable Semantic Date Range on Smart Filter Bar_\n  \n### Fixed\n\n- _Add a Custom Card_ guide now pre-fills relevant parameters from previous steps. Previously users would have to re-enter parameters throughout the guide.\n- _Add a Custom Card_ guide parameters can now be entered and applied after reset.\n- Commented-out annotations are no longer applied.\n\n## [1.1.2] - 2021-02-10\n\n### Changed\n\n- The following guides were updated:\n  - _Add Analytical Card_\n  - _Specify Refresh Interval_\n  - _Specify Layout for the Card Container_\n  - _Set Selection Limit for Table_\n  - _Add Link List Card_\n  - _Add Table Column_\n  - _Enable Table Multiple Selection_\n  - _Enable Select All in a Table_\n  \n### Fixed\n\n- Enable Variant Management now works properly for CDS projects: previously it could not be enabled for “Pages” and would place the variantManagement property into the tables section of our config file.\n- When an error occurred while applying a code snippet (e.g. when trying to apply to a deleted page), the progress indicator spun indefinitely.\n\n## [1.1.0] - 2021-01-27\n\n### Added\n\n- Side-by-side mode is now the default Guided Development view mode. Can be changed from the extension settings\n\n## [1.0.26] - 2021-01-14\n\n### Added\n\n- New visual status indicator of a step being applied when Apply button is clicked\n- Parameter grouping for multiple guides\n\n### Changed\n\n- Toast messages will now be shown attached to the Entity Type dropdown for annotation guides\n\n### Fixed\n\n- Incorrect text highlight in comboxes when using light theme\n- Extra non-existent guide variant shown for some guides\n\n## [Holiday Version] - 2020-12-02\n\n### Added\n\n- New guide list-details side-by-side view mode to allow faster and more fluid navigation between guide details\n- New extension settings to make side-by-side view as default\n\n### Fixed\n\n- Code highlight after pressing apply button does not work for some selected annotation guides\n- Apply button is disabled even after filling in the mandatory fields for _Request a guide_ guide\n- In CDS guides, CDS file selector only shows one cds file even though multiple cds files are present\n- Refresh project list tooltip appears outside the refresh icon\n\n## [1.0.23] - 2020-11-18\n\n### Added\n\n- New help dropdown in the main toolbar to provide convenient direct links to SAP Fiori tools community, Contacting support, etc.\n- New guides added:\n  - _Enable data label in smart charts and KPI cards_\n\n### Fixed\n\n- Step tiles are not clickable in guide details Full View mode\n- In guide details Full View mode, description is shown when step 1 is selected\n- In SAP Business Application Studio, an error is shown when _Add a custom card to an overview page_ is applied\n- Step description disappears when a file is opened to the side\n- Unable to switch guide details view mode (Wizard/Full) or user mode (Advanced/Normal) when a project is changed from project selector dropdown\n- Wrong scroll position going from one step to another\n\n## [1.0.22] - 2020-11-03\n\n### Added\n\n- Ability to default parameters in a step from any previous step. E.g. Guide _Add a field group as a section to a page_\n- New guides added:\n  - _Add an interactive chart_\n  - _Configure visual filters_\n  - _Add semantic coloring for visual filter_\n  - _Add a header facet using data points_\n\n### Fixed\n\n- Clicking on apply for some guides throws an error in a CAP project\n\n## [1.0.20] - 2020-10-21\n\n### Added\n\n- New guide details view mode - Wizard (shows one step at a time) and Full (shows all steps at once)\n- Ability to switch between Wizard mode and Full mode either from Extension settings or through any guide details settings icon\n- Ability to see a thumbnail and larger view of a feature being added through a guide. E.g. Guide _Add a progress indicator column to a table_\n- New Guided Development user mode - Advanced (hides guide step(s) text for more advanced users). It can be toggled on/off from Extension settings or through any guide details settings icon\n\n### Fixed\n\n- Some dropdowns like \"Group By\", \"Page\" and \"Entity Type\" are disabled for V4 projects\n\n## [1.0.17] - 2020-09-23\n\n### Added\n\n- Multiple UX refinements like zebra layout for guide list, repositioning of code snippet action buttons and its associated messages\n- Support for enabling following guides for a CAP project:\n  - _Add status colors and icons for a column_\n  - _Add semantic highlights to line items in tables based on their criticality_\n  - _Add a rating indicator column to a table_\n  - _Add a progress indicator column to a table_\n\n### Changed\n\n- Parameters are now grouped in the step details for _Add a new section to a page_ guide\n- Apply functionality is now enabled for steps in _Add a custom filter to an overview page_ guide\n\n### Fixed\n\n- Property and Navigation Path dropdowns are empty in projects using OData V4 service\n- Clicking on Reset button in extension guides does not reset the previous values\n\n## [1.0.16] - 2020-09-09\n\n### Fixed\n\n- Open Guided development, opens another tab, if Guided development was already open\n- Selecting a service in _Model_ drop down for an overview page guide, does not update the corresponding entities in _Entity_ drop down\n\n## [1.0.14] - 2020-08-26\n\n### Fixed\n\n- Clicking on Reset in the guide, does not revert the parameters to their original state\n- If the annotation file using an I18N key for a string value, clicking on apply results in error\n- Drop down selection fields in the guide are missing a scrollbar\n- Specifying a parameter value results in highlighting only the first instance of the placeholder in the code snippet\n\n### Added\n\n- Support for clicking on the _Application Modeler view_ in the step description, to set focus to the view in the explorer side bar.\n\n### Changed\n\n- Support for sections for parameter groups in the step details for the following guides:\n  - _Add a field group as a section to a page_\n  - _Add a progress indicator column to a table_\n  - _Add a rating indicator column to a table_\n\n## [1.0.13] - 2020-08-12\n\n### Added\n\n- Support for highlighting code snippet, based on parameter value provided by the user\n\n### Changed\n\n- Support for sections for parameter groups in the step details for _Add a new column to a table_ guide\n- Support for apply functionality for the following guides:\n  - _Add a new section to a page_\n  - _Add a field group as a section to a page_\n\n## [1.0.10] - 2020-07-29\n\n### Fixed\n\n- Annotation path selector does not show the annotation term defined without a qualifier\n- Fix rendering issues with the tree control in light theme\n\n## [1.0.7] - 2020-07-15\n\n### Added\n\n- Support adding an indicator next to the mandatory fields required for applying a step\n- Support for input validation for the mandatory fields when the user clicks apply for a step\n\n### Fixed\n\n- Clicking on a guide link in SAP Business Application Studio opens a new tab\n- Qualifier drop down controls contains a default annotation term value when no entity type is selected\n- Qualifier drop down controls contain a default value that is not defined in the service or local annotations file\n- Changes in annotation file hierarchy are not reflected in Guided Development after refresh\n- Code snippet is not always correctly updated after entity type value is changed\n- _Open Guided Development_ should set focus to an already open Guided Development tab\n- _Entity Type_ and _Property_ drop down controls, show the last selected value when clicking _Reset_\n- Clicking _Refresh Guided Development_ doesn't update the _Model_ dropdown in the Overview page guides\n\n### Changed\n\n- Support for reading the `UI.LineItem` for the selected entity for adding a column in Step 2 for the following guides:\n  - _Add a progress indicator column to a table_\n  - _Add a rating indicator column to a table_\n  - _Add semantic highlights to line items in tables based on their criticality_\n- Update the _Additional Information_ links for all guides\n\n## [1.0.6] - 2020-07-01\n\n### Added\n\n- New Guide Added: _Add status colors and icons for a column_\n- Support for viewing guides based on application artifacts - manifest change, flex change, XML annotation\n- Support for handling service namespace alias when generating code snippet\n\n### Fixed\n\n- Updated category headers for OData version to OData V2 and OData V4\n\n### Changed\n\n- Support for defining `UI.DataPoint` as step 1, and reading the `UI.LineItem` for the selected entity for adding a column with a micro chart in guide _Add a smart micro chart to a table_\n- Support for navigating to _Add target entities for side effects_ and _Add target properties for side effects_ guides to complete step 2 in the following guides:\n  - _Add source entities for side effects_\n  - _Add source properties for side effects_\n- Add extension tag to guide _Add a custom filter to an overview page_\n- Support for showing input fields as mandatory in the following guide:\n  - _Specify refresh interval for cards_\n  - _Add a custom section to an object page using extensions_\n- Support for reading the `UI.LneItem` from the local or server annotaion definition for the selected entity, based on the annotation hierarchy defined in the project for the guide _Add a new column to a table_\n\n## [1.0.4] - 2020-06-17\n\n### Added\n\n- New Guide Added: _Add a custom action to a page using extensions_\n- Support for searching list of values in the guides\n- Information icon shows a link to the users guide for SAP Fiori tools\n\n### Fixed\n\n- Update Guided development to incorporate style changes\n- Information icon does not display tooltip\n\n### Changed\n\n- Support for a drop down control showing qualifier selection for the relevant property in the following guides\n  - _Add a progress indicator column to a table_\n  - _Add a rating indicator column to a table_\n  - _Add an analytical card to an overview page_\n- Update Guide: Support for apply functionality _Add a new column to a table_ guide\n\n## [1.0.0] - 2020-06-16\n\nRelease status: GA\nWe are pleased to announce the official GA of the SAP Fiori tools - Guided Development extension\n\n## [0.0.591] - 2020-06-03\n\n### Fixed\n\n- Code snippet in the guide cannot be applied after clicking on Reset  \n- Clicking apply in one of the guides for side effects results in overwriting code\n\n### Changed\n\n- Update Guide: _Add a smart micro chart to a table_\n  - fix the code snippet generated for bullet micro chart to remove Dimensions property\n  - add annotation terms used in the guide\n\n## [0.0.590] - 2020-05-20\n\n### Added\n\n- Support for showing an indicator for new guides added, since the last release\n- New Guide Added: _Add a custom filter to an overview page_\n- New Guide Added: _Add source entities for side effects_\n- New Guide Added: _Add source properties for side effects_\n- New Guide Added: _Add target entities for side effects_\n- New Guide Added: _Add target properties for side effects_\n\n### Fixed\n\n- Specifying the property without specifying the navigation target path, is not correctly formatting the parameter value in the code snippet  \n- Clicking on Refresh within the project selector drop down changes the order of the projects displayed in the control  \n\n### Changed\n\n- Update Guide: Support for worklist page type for the following guides\n  - _Add a smart micro chart to a table_\n  - _Add a new column as a contact view_\n  - _Add a new column to a table_\n  - _Add a progress indicator column to a table_\n  - _Add a rating indicator column to a table_\n  - _Enable display of multiple page types on a single page_\n  - _Enable multiple selection in tables_\n  - _Enable table data export_\n  - _Enable variant management_\n  - _Re-order columns in a table_\n  - _Set the table type of tables_\n\n## [0.0.589] - 2020-05-06\n\n### Added\n\n- Support for updating the config files for a project under the Application Modeler tree view in Explorer side bar\n- Support for submitting a request for a new guide to the SAP Fiori Tools development team using the _Request Guide Form_\n- New Guide Added: _Add a smart micro chart to a table_\n- New Guide Added: _Add a new filter field to the Smart Filter Bar_\n- New Guide Added: _Set selection limit for tables_\n- New Guide Added: _Configure side effects_\n- New Guide Added: _Add a custom card to an overview page_\n\n### Fixed\n\n- Performance issue when loading navigation property\n- Specifying the navigation property, property, and target value is not correctly formatting the parameter value in the code snippet  \n\n## [0.0.588] - 2020-04-22\n\n### Added\n\n- Support for searching guide metadata ignoring the case of the search term\n- Support for viewing the list of annotation terms used within a guide, and getting tooltip help on the annotation term  \n- Support for logging error messages in the output log\n- Support for selecting model when adding a card for an overview page guide\n\n### Fixed\n\n- Set the keyboard focus in the search field by default\n\n### Changed\n\n- Update Guide: Support for target value selector for _Add a rating indicator column to a table_ guide\n- Update Guide: Support for target value selector for _Add a progress indicator column to a table_ guide\n\n## [0.0.585] - 2020-04-09\n\n### Added\n\n- Support for showing the list of entities in alphabetical order\n- Support for displaying variants of the same guide as tabs for example content for different versions of the framework\n- Support for launching guided development without specifying the project\n- Support for switching projects\n- Support for searching guide metadata including step title, step description and code snippet\n- Support for specifying the page for which the code snippet for the step needs to be applied\n- New Guide Added: _Enable variant management_\n- New Guide Added: _Add a progress indicator column to a table_\n- New Guide Added: _Set the table type of tables_\n- New Guide Added: _Specify refresh interval for cards_\n- New Guide Added: _Specify layout for the card container_\n- New Guide Added: _Add semantic highlights to line items in tables based on their criticality_\n\n### Fixed\n\n- Code highlighting when applying code snippets from a guide switches the order of the inserted lines\n- Unable to copy selected text from code snippet on windows\n- Style for the filter icon when using VSCode light theme\n- Copy button, copies over the markers used for highlighting in the code snippet\n- Applying code snippet, should open the file in a column beside guided development\n\n### Changed\n\n- Update Guide: Support for apply button for _Add a rating indicator column to a table_ guide\n- Update Guide: Support for apply button for _Enable multiple selection in tables_ guide\n- Update Guide: Update description for _Enable table data export_ guide\n\n## [0.0.581] - 2020-03-11\n\n### Added\n\n- New Guide Added: Add semantic highlights to line items in tables based on their criticality\n- Support for viewing guides grouped by categories\n- Support for filtering guides by pre-defined tags\n- Highlight inserted code in text editors upon apply of a guide step\n- Use the open source Monaco Editor library for displaying code snippets in guides\n\n### Fixed\n\n- Search when multiple guided development web views are open\n\n## [0.0.578] - 2020-02-27\n\n### Added\n\n- Introduced tooltip when hovering over the information icon of a guide\n- Introduced right click context menu on the project in the explorer for launching Help\n- CHANGELOG.md documenting changes\n\n## [0.0.577] - 2020-02-19\n\n### Added\n\n- Initial version\n","downloadsCurrentMonth":646,"downloadsCurrentFortnight":292,"downloads365":4794,"downloadsFortnightGrowth":-13.61,"downloadsHistory":[{"yearMonth":"2023-04","downloads":232},{"yearMonth":"2023-05","downloads":358},{"yearMonth":"2023-06","downloads":254},{"yearMonth":"2023-07","downloads":275},{"yearMonth":"2023-08","downloads":389},{"yearMonth":"2023-09","downloads":400},{"yearMonth":"2023-10","downloads":309},{"yearMonth":"2023-11","downloads":285},{"yearMonth":"2023-12","downloads":278},{"yearMonth":"2024-01","downloads":763},{"yearMonth":"2024-02","downloads":717}],"versions":[{"version":"created","date":"2022-09-05T15:35:38.188Z"},{"version":"1.7.3","date":"2022-09-05T15:35:38.633Z"},{"version":"modified","date":"2024-03-15T20:55:23.485Z"},{"version":"1.7.4","date":"2022-09-15T19:57:06.258Z"},{"version":"1.7.5","date":"2022-09-30T12:29:36.833Z"},{"version":"1.7.6","date":"2022-10-18T08:40:50.538Z"},{"version":"1.8.0","date":"2022-11-01T09:32:36.212Z"},{"version":"1.8.1","date":"2022-11-22T20:13:49.746Z"},{"version":"1.8.2","date":"2022-11-24T13:10:56.358Z"},{"version":"1.8.3","date":"2022-12-09T11:53:56.138Z"},{"version":"1.8.5","date":"2023-01-20T18:19:22.215Z"},{"version":"1.8.6","date":"2023-02-02T16:53:57.197Z"},{"version":"1.9.0","date":"2023-02-16T12:12:24.388Z"},{"version":"1.9.1","date":"2023-03-03T10:10:27.632Z"},{"version":"1.9.2","date":"2023-03-16T12:43:26.272Z"},{"version":"1.9.3","date":"2023-04-02T21:04:54.175Z"},{"version":"1.9.4","date":"2023-04-17T10:21:34.240Z"},{"version":"1.9.5","date":"2023-05-03T10:59:02.583Z"},{"version":"1.9.6","date":"2023-05-11T10:46:02.657Z"},{"version":"1.9.7","date":"2023-05-25T16:04:54.843Z"},{"version":"1.10.0","date":"2023-06-08T16:15:33.971Z"},{"version":"1.10.1","date":"2023-06-27T15:25:53.042Z"},{"version":"1.10.2","date":"2023-07-11T10:42:45.484Z"},{"version":"1.10.3","date":"2023-07-21T12:01:29.942Z"},{"version":"1.10.4","date":"2023-08-03T15:49:33.852Z"},{"version":"1.10.5","date":"2023-08-17T15:16:55.847Z"},{"version":"1.10.6","date":"2023-09-01T17:03:39.939Z"},{"version":"1.11.0","date":"2023-09-15T09:28:06.604Z"},{"version":"1.11.1","date":"2023-09-29T08:26:18.975Z"},{"version":"1.11.2","date":"2023-10-12T15:24:33.125Z"},{"version":"1.11.3","date":"2023-10-26T15:11:57.484Z"},{"version":"1.11.4","date":"2023-11-09T17:21:03.312Z"},{"version":"1.11.5","date":"2023-11-24T08:15:27.696Z"},{"version":"1.12.0","date":"2023-12-13T11:00:18.945Z"},{"version":"1.12.1","date":"2023-12-20T12:28:35.803Z"},{"version":"1.12.2","date":"2024-01-19T14:27:55.865Z"},{"version":"1.12.3","date":"2024-02-02T09:17:03.711Z"},{"version":"1.12.4","date":"2024-02-15T16:03:54.051Z"},{"version":"1.12.5","date":"2024-03-01T16:17:48.074Z"},{"version":"1.13.0","date":"2024-03-15T20:55:23.065Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-help-bas-ext"},{"name":"ux-service-modeler-bas-ext","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2022-09-05T15:35:27.751Z","updatedAt":"2024-03-15T20:55:02.318Z","readme":"# SAP Fiori Tools - Service Modeler\n\n## Description\n\nThe **SAP Fiori Tools - Service Modeler** is a tool that provides visualization of OData service including its backend and local annotations. The Service Modeler helps you easily find entities or projection and their associated annotations. \n\n## Features\n\n- Visualization of OData service based on the local EDMX .xml and CAP CDS file within the project. \n- View and manage annotations associated with the entities and properties of a service. \n- Manage services required for Fiori Elements and Fiori FreeStyle applications, for example adding new services to a project or syncing services that already exist to ensure they are up to date. \n- Manage local annotation files associated to the different services of a Fiori Element project. Users can create local annotation files and set the hierarchy for local annotation for a service.\n\n## Usage\n\n### How to launch Service Modeler\n- Use Command Palette -> `CMD/CTRL + Shift + P`\n- Type command ->  `Fiori: Open Service Modeler` or `Fiori: Open Service Modeler to the Side`\n\nOR \n\n- From the File Explorer in your project, navigate to `webapp->localService->metadata.xml`\n- Right click on the file\n- Choose `Override Annotations`\n\nOR\n\n- Open the metadata.xml file in the text editor\n- Click on the Service Modeler icon in the text editor tool bar\n\n### How to launch Service Manager\n- From the File Explorer in your project, navigate to `webapp->manifest.json`\n- Right click on the file\n- Choose `Open Service Manager`\n\nOR\n\n- Click the 'Service Manager' button from the Service Modeler\n \n### How to launch Annotation File Manager\n- From the File Explorer in your project, navigate to `webapp->manifest.json`\n- Right click on the file\n- Choose `Open Annotation File Manager`\n\nOR\n\n- Click the 'Annotation Hierarchy' button from the Service Modeler\n\n### Using the Service Modeler\n\n- Users can browse and view the OData service in the tree list\n- Users can view all the entity types, entities and properties included in the service. \n- Users can select an entity and view the properties/annotations of that entity.\n- Users can select a property and view the annotations of that property.\n- Users can search for entity/property or annotations to filter the displayed data\n- Users can filter and only view the metadata targets that have annotations\n- Users can override the backend annotations using the Service Modeler.\n- Users can navigate to manage the Services and local Annotation files from the Service Modeler\n- If the Application Modeler or Annotation Modeler extensions are also installed the user can navigate to these tools from \n  the Service Modeler\n\n## Pre Requisites for using this extension\n\nThe generated application requires the following software to be installed\n\n- [NodeJS](https://nodejs.org/en/download/) Version 18.14.2 or higher\n\n## Support\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.\nPlease assign tag: *SAP Fiori tools*\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation\n- Visit **SAP Help Portal** for [SAP Fiori Tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation. \n\n## License\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n​\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.12.5] - 2024-02-22\n### Added\n- Added the ability to show/hide metadata namespaces which are hidden by default on webview load\n\n### Changed\n- Moved the annotations filter toggle to the new settings popup\n\n### Fixed\n- Fixed an issue with the tile \"Manage Service Models\" not working on Application Info Page\n\n## [1.12.4] - 2024-02-08\n### Added\n- Added the ability for one-click expand and collapse of all the nodes in the tree list to view/hide service metadata \n- Added the capability to the webview to restore content when the development environment is reloaded\n\n## [1.12.2] - 2024-01-10\n### Added\n- Added the ability to filter and only view the metadata targets that have annotations\n\n### Fixed\n- Fixed an issue with the `Create` and `Cancel` buttons not being accessible in Annotation File Manager if the window is too small\n- Fixed an issue where the 'up' navigation was enabled for the first active file in the Annotation File Manager\n\n## [1.12.0] - 2023-11-29\n### Added\n- Added the new Annotations side panel in the redesigned list view\n- Added the ability to launch the Service Manager from the Service Modeler\n- Enabled the SAP Business Application Studio to add services to applications\n\n### Changed\n- Redesigned the list view to add the ability to view or override annotations in the Annotations side panel\n- Enhanced the list to display the properties as part of the entities in a tree structure\n- Renamed the right-click option to launch the Service Modeler from file explorer to 'Override Annotations'\n- Deprecated the Compact and Expanded views from the Service Modeler\n\n## [1.11.0] - 2023-09-06\n### Changed\n- Changed the message appearing if no eligible app is found at the start of Service Manager or Annotation File Manager from a modal popup to a notification to be in line with the behavior of other tools\n\n### Fixed\n- Fixed several small UI inconsistencies in Service Manager and Annotation File Manager\n\n## [1.9.6] - 2023-05-03\n### Added\n- Added deprecation message for Compact and Expanded views; these views will be deprecated in future\n\n### Changed\n- Updated the tab name of the webview, it now displays the name of the project and service\n\n### Fixed\n- Fixed an issue in the Service Manager, the \"Refresh & Save\" option for metadata doesn't overwrite manifest model entries anymore\n- Fixed an issue in the Service Manager, adding a new service as the data source is now possible also in case a corresponding model entry already exists in manifest\n- Fixed an issue where the Service manager threw an error even if \"Refresh & Save\" was successful because the same data source was used in multiple models\n\n## [1.9.2] - 2023-03-09\n### Added\n- Added annotation copy and annotation file handling support for freestyle applications\n- Added missing tooltips for action icons in Service Manager and Annotation File Manager\n- Added a messsage that destination changes in Service Manager will only take effect on (re)start of preview\n- Added support for adding a fist service in Service Manager if none is bound to the project\n\n### Fixed\n- Fixed an issue in Service Manager with service metadata refresh when multiple backend entries exist in the yaml file\n- Fixed various servive source compatibility issues\n- Fixed minor usability issues\n\n## [1.8.6] - 2023-01-26\n### Changed\n- Changed the presented order of annotation files in Annotation File Manager to be the same as in `manifest.json`\n\n### Fixed\n- Fixed an issue with a change of the service destination within Service Manager not being reflected in `ui5.yaml` and therefore not being considered during preview\n\n## [1.7.2] - 2022-08-25\n### Fixed\n- Fixed an issue with metadata refresh not working in Service Manager on SAP Business Application Studio when using service destinations \n- Fixed various accessibility, usability and UI issues in Service Manager and Annotation Manager\n- Fixed various compatibility issues of Service Manager and Annotation Manager with migrated projects\n- Fixed various functional and stability issues in Service Manager and Annotation Manager\n\n## [1.0.26] - 2021-01-14\n### Fixed\n- In SAP Business Application Studio, if current active tab is a local annotation xml file, an error is shown when Service Modeler button is clicked\n\n## [1.0.23] - 2020-11-18\n### Fixed\n- Opening Service Modeler from context menu does not work when right-clicked on a folder which contains dot in the name\n\n## [1.0.22] - 2020-11-04\n### Fixed\n- From Service Manager, syncing Northwind OData service throws an error\n\n## [1.0.20] - 2020-10-21\n### Added\n- For OVP projects, Service Manager can now be used to add an OData service from a steampunk system\n- For Freestyle projects, Service Manager can be used to add OData service using steampunk system or OData url \n\n## [1.0.17] - 2020-09-23\n### Added\n- Ability to sync services of Freestyle projects\n\n## [1.0.16] - 2020-09-10\n### Added\n- Ability to copy, delete and view source code for annotations in CAP projects\n- Visual enhancements for consistenty and usability of Annotation List View\n\n### Changed\n- Namespace is no longer a required field when creating local annotation files from Annotation File Manager\n- When clicked on View Source button in Annotation List View, the highlighted code is now positioned in the center\n\n### Fixed\n- Clicking on Goto Annotation Modeler from SM toolbar throws an error\n- Annotation Detail View panel is visible when button to slide panel into view is clicked\n\n\n## [1.0.14] - 2020-08-27\n### Added\n- Ability to delete annotation terms from any local source\n- Service Manager and Annotation File Manager are not accessible for CAP projects\n\n### Fixed\n- When creating a new annotation file the accordion for the newly created annotation is collapsed on the Annotation List view \n\n## [1.0.13] - 2020-08-12\n### Added\n- When annotations are copied they now appear in the target annotation source highlighted\n- Ability to sync V4 services in the Service Manager\n- Ability to view source code in code editor open in read-only mode, for annotation terms coming from backend sources\n\n### Fixed\n- Icons representing services and projections in the List View are not displayed\n\n\n## [1.0.10] - 2020-07-29\n### Added\n- Ability to select a target like Entity Types, Entity Sets, etc through a breadcrumb navigation in Annotation View\n\n### Fixed\n- Annotation Term Common.ValueList when present in source metadata.xml does not display in Annotation View\n- Annotation or Service Manager once opened for one project, does not open for another project present in the same workspace\n\n## [1.0.8] - 2020-07-14\n### Added\n- Annotation File now opens to the side of the Service Modeler when the 'Show in Source' icon is clicked which enables \n  side-by-side development\n- Ability to change annotation target like Entity Types, Function Imports, Entity Sets in the Annotation List View\n- Ability to sync to a steampunk service\n\n### Fixed\n- Poor Performance in the Annotation List View and the Annotation File Manager when they are side-by-side\n- 'Copy locally' icon is not removed in the Annotation List View when all local annotation files are deleted or disabled\n- All annotation sources are expanded when an annotation is selected in the Annotation List View\n\n## [1.0.6] - 2020-07-01\n### Added\n- Annotation Description is now provided via tool tip in the Annotation List View and Annotation Detail view\n- Ability to search for annotation in the Annotation list View\n- Ability to a open service via command palette for projects that conatins multiple services\n- Ability to open service via the right click context menu from any directory in the project\n\n### Fixed\n- For workspace having mix of LROP and OVP projects, re-launching Service Modeler does not work once it has been launched and closed previously\n- Navigate to Annotation Modeler button in Service Modeler toolbar gives error when used in an OVP project having multiple services\n\n## [1.0.4] - 2020-06-17\n### Added\n- Navigation to Annotaion View is now possible by clicking on the View Annotations icon `@` next to the projections in Service Modeler List View mode.\n\n### Fixed\n- For workspace having more than one project, project selection dropdown in command pallete to open Service Modeler does not close after a project is selected\n- Actions like create and delete in Annotation File Manager causes error when opened side-by-side with Annotation View\n- For OVP projects containing multiple services, command to open Service Modeler does not show services option in SAP Business Application Studio\n- A new Service Modeler tab is opened everytime when launching Service Modeler, even though its already opened\n- No annotation icon is shown in the side panel when the service node is selected \n\n## [1.0.0] - 2020-06-16\nRelease status: GA \nWe are pleased to announce the official GA of the SAP Fiori tools - Service Modeler extension\n\n## [0.0.734] - 2020-06-03\n### Added\n- Command to launch Service Modeler from Command Palette now shows the option to select a service when multiple services are present in an OVP project\n\n### Changed\n- Annotation terms and types will now appear without the namespace in the Annotation View\n\n### Fixed\n- Adding a new service when existing metadata.xml file is open generates errors\n- Copy pop up does not show up when more than one local annotation file is present during copying of annotation term\n- Deleting of local annotation file from Annotation File Manager caused error when opened side-by-side with Annotation View\n- Local annotation file when created from Annotation File Manager did not show up in Annotation List View when open side-by-side\n\n​\n## [0.0.733] - 2020-04-22\n### Added\n- Ability to copy annotations from backend and local annotation files in the new wider annotation view\n- List View is now the default view of the service model\n\n## [0.0.732] - 2020-04-22\n### Added\n- Ability to add additional services to OVP projects\n- Ability to sync metadata files for an existing services\n- New annotation detail view for UI.LineItem annotations\n\n### Fixed\n- Annotation files not associated to the service being viewed are showing in Annotation List View\n\n## [0.0.729] - 2020-04-08\n### Added\n- Ability to see list of annotation files for a particular service.\n- Ability to view annoations and go to text editor for a particular annotation in the new wider annotation view.\n- Automatical update the Annotation List View panel with any changes that happen in the Annotation File Manager.\n\n### Fixed\n- Service Manager and Annotation File Manager doesn't appear well in VS light theme \n- Annotation File Manager table doesn't scroll\n- An unneccesary Active column displaying in Service table in Service Manager\n- Deleting an inactive Annotation File from Annotation File Manager throws an error \n- Switching between Annotation File Manager and Service Manager does not retain changes made on Annotation File Manager\n\n## [0.0.728] - 2020-03-25\n### Added\n- New tabbed view to manage data sources such as Services and Annotation files\n- To launch Service Manager, right click on `manifest.json` and select `Open Service Manager`\n- Ability to see list of services in Service Manager\n- Ability to delete local annotation files in Annotation File Manager\n- New larger view for listing annotations\n- New (initial) approach to render graph. Improvements include curved lines between nodes, faster initial load time, top to bottom diagram orientation, association lines only shown on node selection\n\n### Fixed\n- Path to parent directory in Annotation File Manager incorrectly shows slashes in two directions (Windows)\n- Incorrect update of data sources in `manifest.json` when two local annotation files with same name are created\n- Incorrect priority order between Service Manager annotation list view and `manifest.json` when some files are enabled/disabled from Annotation File Manager\n\n## [0.0.725] - 2020-03-11\n### Added\n- Annotation File Manager. To launch, Right click on manifest.json and select `Manage Annotation Files`\n- Ability to create a new local annotation file\n- Ability to drag and drop to change hierarchy of annotation source files\n- Ability to enable and disable any annotation source file\n​\n## [0.0.722] - 2020-02-27\n### Fixed\n- Service Modeler does not load when underlying service have invalid annotations\n- Service Modeler crashes when annotation icon @ is clicked\n- Order of local annotation files is not correct in the Annotation List View\n​\n### Added\n- New Annotation List view introduced which shows annotations from each source for a target\n- Ability to copy backend annotation to a local annotation file\n- Ability to jump to local annotation source file from Annotation List view\n- CHANGELOG.md documenting changes\n​\n## [0.0.721] - 2020-02-19\n### Added\n- Initial version\n","downloadsCurrentMonth":642,"downloadsCurrentFortnight":284,"downloads365":4359,"downloadsFortnightGrowth":-16.47,"downloadsHistory":[{"yearMonth":"2023-04","downloads":203},{"yearMonth":"2023-05","downloads":335},{"yearMonth":"2023-06","downloads":232},{"yearMonth":"2023-07","downloads":272},{"yearMonth":"2023-08","downloads":364},{"yearMonth":"2023-09","downloads":330},{"yearMonth":"2023-10","downloads":301},{"yearMonth":"2023-11","downloads":283},{"yearMonth":"2023-12","downloads":267},{"yearMonth":"2024-01","downloads":555},{"yearMonth":"2024-02","downloads":697}],"versions":[{"version":"created","date":"2022-09-05T15:35:27.751Z"},{"version":"1.7.3","date":"2022-09-05T15:35:28.126Z"},{"version":"modified","date":"2024-03-15T20:55:02.318Z"},{"version":"1.7.4","date":"2022-09-15T19:56:39.429Z"},{"version":"1.7.5","date":"2022-09-30T12:29:54.492Z"},{"version":"1.7.6","date":"2022-10-17T17:36:52.810Z"},{"version":"1.8.0","date":"2022-11-01T09:33:47.697Z"},{"version":"1.8.1","date":"2022-11-22T20:16:07.062Z"},{"version":"1.8.2","date":"2022-11-24T13:04:27.725Z"},{"version":"1.8.3","date":"2022-12-09T11:56:10.521Z"},{"version":"1.8.5","date":"2023-01-20T18:18:28.789Z"},{"version":"1.8.6","date":"2023-02-02T16:53:19.315Z"},{"version":"1.9.0","date":"2023-02-16T12:18:10.381Z"},{"version":"1.9.1","date":"2023-03-03T10:08:17.813Z"},{"version":"1.9.2","date":"2023-03-16T12:43:35.938Z"},{"version":"1.9.3","date":"2023-04-02T21:04:25.374Z"},{"version":"1.9.4","date":"2023-04-17T10:21:54.234Z"},{"version":"1.9.5","date":"2023-05-03T10:59:00.952Z"},{"version":"1.9.6","date":"2023-05-11T10:46:16.295Z"},{"version":"1.9.7","date":"2023-05-25T16:04:53.549Z"},{"version":"1.10.0","date":"2023-06-08T16:16:05.151Z"},{"version":"1.10.1","date":"2023-06-27T15:19:35.356Z"},{"version":"1.10.2","date":"2023-07-11T10:47:06.796Z"},{"version":"1.10.3","date":"2023-07-21T12:01:15.571Z"},{"version":"1.10.4","date":"2023-08-03T15:49:08.269Z"},{"version":"1.10.5","date":"2023-08-17T15:16:58.525Z"},{"version":"1.10.6","date":"2023-09-01T16:37:35.360Z"},{"version":"1.11.0","date":"2023-09-15T09:27:51.067Z"},{"version":"1.11.1","date":"2023-09-29T08:25:46.473Z"},{"version":"1.11.2","date":"2023-10-12T15:25:50.118Z"},{"version":"1.11.3","date":"2023-10-26T15:11:34.398Z"},{"version":"1.11.4","date":"2023-11-09T17:20:53.287Z"},{"version":"1.11.5","date":"2023-11-24T08:15:09.133Z"},{"version":"1.12.0","date":"2023-12-13T11:00:49.567Z"},{"version":"1.12.1","date":"2023-12-20T12:29:20.089Z"},{"version":"1.12.2","date":"2024-01-19T14:33:20.791Z"},{"version":"1.12.3","date":"2024-02-02T09:19:42.697Z"},{"version":"1.12.4","date":"2024-02-15T16:02:48.289Z"},{"version":"1.12.5","date":"2024-03-01T16:18:42.365Z"},{"version":"1.13.0","date":"2024-03-15T20:55:01.096Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-service-modeler-bas-ext"},{"name":"ux-specification","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-12T20:22:55.153Z","updatedAt":"2024-03-15T20:40:00.119Z","readme":"# @sap/ux-specification\n\nThis package specifies the structure of SAP Fiori elements templates in form of typescript types and JSON schema files. You can find the JSON schemas under dist/schema.\nThis package is used by SAP Fiori tools (see documentation link below) but can also be used independently of this application.\n\nEach major version of this specification package corresponds to one or more major versions of SAPUI5. A new major version is usually set up for each SAPUI5 version that has a long-term maintenance. The major versions of @sap/ux-specification differ in the scope of supported properties and capabilities, in analogy with the SAP Fiori elements' capabilities of the SAPUI5 major version.\nThe relevant SAPUI5 versions of a specification version are linked by tags.\n\nThe module supports both the OData V2 and the OData V4 version of the templates (aka FioriElementsVersion), so you can find two different access points for the typescript definitions:\n\n- src/v2.ts comprises the OData V2 definitions\n- src/v4.ts comprises the OData V4 definitions\n\n(Generic) JSON schemas are generated from the typescript definitions for the following schema types (enum TemplateType):\n\n- FioriElementsVersion.v2:  Application, ObjectPage, ListReport, AnalyticalListPage and OverviewPage\n- FioriElementsVersion.v4:  Application, ObjectPage, ListReport, AnalyticalListPage and FreestylePage\n\nYou can retrieve any generic schema via schemaAccess.ts.\n\nBesides the type definitions and schemas, src/api.(d.)ts provides functions that can be used by SAP Fiori apps in connection with the JSON schemas:\n\n- generateSchema: converts one generic schema to an application specific one, enriched by app-specific information such as the annotations (as far as they are relevant for setting up the schematic view of the app, for instance collections like facets, columns, actions).\n- importConfig: imports information from the app, like manifest settings or SAPUI5 flexibility changes, into one JSON configuration file that relates to a given schema (representing the central settings of the app or of a page of the app).\n- exportConfig: exports from one JSON configuration file, returning an updated manifest.json file and a complete list of all current SAPUI5 flexibility changes and view or fragments.\n- exportConfigEntityByPath: exports a single property or section from the given config.json that is specified by a path expression, returns only the updated artifacts. Supported for List Report, Object Page and Analytical List Page.\n- deleteConfigEntityByPath: deletes a single property or section from the given config.json that is specified by a path expression. Supported for List Report, Object Page and Analytical List Page.\n- importProject: imports information from the app and generates all schemas and JSON configuration files.\n- importProjectSchema: imports information from the app and generates all schemas but no JSON configuration files.\n- getApiVersion: returns the given API version. The API version starts with 1 and will be increased in case of incompatible changes to which the consumption layer must react.\n- generateCustomExtension: generates custom extensions, e.g. custom pages, custom Columns etc. for a V4 application by using the `@sap-ux/fe-fpm-writer`.\n\nWhen calling any API function you may pass a logger instance for collecting any messages. The interface of your logger must fit to the ExtensionLogger definition. If no logger is passed, the output channel for messages is the console.\n\n## Constraints\n\nThe API functions do not modify any OData annotations.\n\n## Support\n\nJoin the [SAP Fiori tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.  \nPlease assign tag: _SAP Fiori tools_.\n\nTo log an issue with SAP Fiori tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## Documentation\n\n- Visit **SAP Help Portal** for [SAP Fiori tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation. \n\n## License\n\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\n\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n# Prerequisites\n\n[NodeJS](https://nodejs.org/en/download/) Version `18.18.0` or higher\n\n## [1.120.6] - 2024-03-07\n\n### Added\n\n- New API functions exportConfigEntityByPath and deleteConfigEntityByPath have been added that allow a selective export or deletion of a single property or section from a config.json. The additional parameter entityPath must be applied. The new functions are released for List Report, Object Page and Analytical List Page of OData V2 and V4.\n- In the API result a change indicator is added that shows if the manifest was changed. In case of the new functions exportConfigEntityByPath and deleteConfigEntityByPath, only updated fragment files are returned (V2 flexibility changes are still returned completely due to compatibility, deletion is indicated by newValue = null).\n\n### Changed\n\n- Increased `fe-fpm-writer` api version to include fix for controller extension namespace\n- Actualization of the README file.\n\n### Removed\n\n### Deprecated\n\n### Fixed\n\n- An invalid app schema had been generated before, in case of table custom columns\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- eslint to v8.57.0\n- @types/semver: obsolete dependency deleted\n- esbuild to v0.20.1\n  \n## [1.120.5] - 2024-02-21\n\n### Added\n\n- OData V2:\n  - Support of Header facets on Object Page\n- UX adjustments of inplace documentation:\n  - Support for Screen Readers and Arrow Navigation\n\n### Changed\n\n- Increased `fe-fpm-writer` api version\n\n### Removed\n\n### Deprecated\n\n### Fixed\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- @sapui5/ts-types-esm to v1.120.6\n- @sap-ux/fe-fpm-writer to v0.24.7\n- @sap-ux/vocabularies-types to 0.10.5\n- @sap-ux/annotation-converter to 0.8.6\n- @types/semver to v7.5.7\n- @ui5/manifest to v1.62.1\n\n## [1.120.4] - 2024-02-08\n\n### Added\n\nOData V2:\n\n- Support of \"copy\" setting for tables in List Report, Analytical List Page and Object Page\n\n### Changed\n\n### Removed\n\n### Deprecated\n\n### Fixed\n\n- Invalid object-like descriptions and keys had been generated into the app-specific schemas if DataFieldForIntentBasedNavigation was defined with a path reference\n- An exception happened during app schema generation if a NavigationProperty pointed to an invalid target annotation\n- OData V4:\n  - Enum for macros table `variantManagement` property\n  - Wrong resolution of contextPath in case of containment as target for a page, leading to an exception during the schema generation\n  - Invalid '/' in app schema definition names replaced by '::'\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- esbuild to 0.20.0\n- axios to 1.6.7\n- switch from npm-run-all 4.1.5 to npm-run-all2 5.0.2\n- @sap-ux/fe-fpm-writer to 0.24.4\n- @sap-ux/vocabularies-types to 0.10.4\n\n## [1.120.3] - 2024-01-25\n\n### Added\n\n- OData V4:\n  - View columns set as view nodes\n\n### Fixed\n\n- OData V4:\n  - Schema is not generated for custom page when namespaces are not defined in view file\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- @sap-ux/annotation-converter to 0.8.2\n- @sap-ux/vocabularies-types to 0.10.2\n- @sap-ux/vocabularies-types to 0.10.2\n\n## [1.120.2] - 2024-01-11\n\n### Added\n\n- UX adjustments of inplace documentation:\n  - Support of Keyboard Navigation\n- OData V2: Support of global table settings for object pages\n- OData V4:\n  - OP: Added support for `Edit` and `Delete` standard actions considering draft support and capabilities annotation\n  - OP: Sequence of actions is now based on criticality annotation\n  - TBD\n  \n### Changed\n\n- Alignment of settings for sap.ovp:  \nThe global settings and card specific settings have been compared with the actual status of the documentation and the subschema as available at <https://www.npmjs.com/package/@ui5/manifest>. Missing settings have been added, obsolete settings have been eliminated.\nThe assignment of settings to the specific card types has been revised and adjusted.\n- Increased `fe-fpm-writer` api version\n- Increased api version\n- OData V2:  ALP root properties order\n\n### Removed\n\n### Deprecated\n\n### Fixed\n\n- OData V4:  Empty visualization throws unhandled error during sync\n- Prevent exception in case of illegal annotationPath references of fields or columns\n- OData V2:  ALP not displaying chart and properties\n- OVP:\n  - In case of unknown properties, other card settings like listFlavor or listFlavor could get deleted.\n  - Property \"Category\" was shown with an initial value as object, although being of type string.\n  - Properties enableAddToInsights, imageSupported, showLineItemDetail, valueSelectionInfo might not have been exported correctly to the manifest.\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- eslint to 8.56.0\n- esbuild to 0.19.11\n- reflect-metadata to 0.2.1\n- axios to 1.6.5\n- @sapui5/ts-types-esm to 1.120.4\n\n## [1.120.1] - 2023-11-30\n\n### Added\n\n- OData V2: Added missing `annotationPath` property for table definitions in schema\n\n### Changed\n\n- OVP card settings:\n  - Added missing properties\n  - Removed irrelevant settings from custom card settings\n  - Assignment of settings to card types has been generally aligned with the given capabilities of SAP Fiori elements\n\n- If problems had been posted to the log with regards to annotations, they normally ended with the information `location: webapp/localService/metadata.xml`. This location information might be misleading for edmx projects, as annotation may reside in a different file. It was always wrong for CAP projects.\nThus the location information is removed for annotation problems\n\n- If no line item annotation is present, no `annotationPath` property gets added to the schemas of OData V2 and V4\n  \n### Removed\n\n### Deprecated\n\n### Fixed\n\n- The check of minUI5Version against the dist tags raised wrong warnings in case of minUI5Version using the pattern 'UI5-xxx'\n- OData V4: Inconsistencies in the JSON schema for macros led to exceptions when generating the overall page schemas. Such exceptions are now caught and indicated in the error log\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- axios to 1.6.2\n- yarn to 1.22.21\n- esbuild to 0.19.7\n- eslint to 8.54.0\n- @sap-ux/fe-fpm-writer to 0.24.2\n- @sap-ux/annotation-converter to 0.8.1\n- @sap-ux/vocabularies-types to 0.10.1\n- @types/mem-fs-editor to 7.0.7\n- @types/semver to 7.5.6\n- @types/jquery to 3.5.29\n\n## [1.120.0] - 2023-11-16\n\n### Added\n\n- OData V4: \n  - Added support for TreeTable\n\n### Changed\n  \n### Removed\n\n### Deprecated\n\n### Fixed\n\n- Fixed an exception \"Cannot read properties of undefined (reading 'includes')\" when generating the app schemas\n\n- OData V4:\n  - If multiple facets refer to target annotations without an ID but with identical labels, only one of the facets was shown in the page editor\n  - An error message was added to the logger if the ID was missing for a reference facet. This was wrong, the ID is optional for reference facets. Instead, the error message is now added for missing IDs of collection facets\n  - Building blocks:\n    - The number of new lines that get created from the description of building block properties was decreased\n    - Missing 'enum' for multiple building block properties\n\n### Quality\n\n- Update transitive dependencies\n\nUpgrades\n\n- eslint to 8.53.0\n- axios to 1.6.0\n- @sap-ux/fe-fpm-writer to v0.24.1\n- @types/jquery to v3.5.27\n- @types/semver to v7.5.5\n- @types/d3 to v7.4.3\n- @types/mem-fs-editor to v7.0.6\n- @sapui5/ts-types-esm to 1.120.1\n","downloadsCurrentMonth":98193,"downloadsCurrentFortnight":45989,"downloads365":999470,"downloadsFortnightGrowth":-4.49,"downloadsHistory":[{"yearMonth":"2023-04","downloads":82844},{"yearMonth":"2023-05","downloads":92496},{"yearMonth":"2023-06","downloads":87821},{"yearMonth":"2023-07","downloads":72033},{"yearMonth":"2023-08","downloads":72872},{"yearMonth":"2023-09","downloads":69673},{"yearMonth":"2023-10","downloads":81782},{"yearMonth":"2023-11","downloads":88910},{"yearMonth":"2023-12","downloads":77504},{"yearMonth":"2024-01","downloads":89111},{"yearMonth":"2024-02","downloads":91881}],"versions":[{"version":"created","date":"2020-06-12T20:22:55.153Z"},{"version":"1.76.12","date":"2020-06-12T20:22:55.672Z"},{"version":"modified","date":"2024-03-15T20:40:00.119Z"},{"version":"1.71.7","date":"2020-06-30T20:42:46.261Z"},{"version":"1.76.13","date":"2020-06-30T20:59:46.621Z"},{"version":"1.78.1","date":"2020-06-30T21:22:41.059Z"},{"version":"1.71.8","date":"2020-07-09T00:37:10.897Z"},{"version":"1.76.14","date":"2020-07-09T00:42:47.084Z"},{"version":"1.78.2","date":"2020-07-09T01:05:36.939Z"},{"version":"1.71.9","date":"2020-07-29T23:07:31.992Z"},{"version":"1.76.15","date":"2020-07-29T23:44:38.309Z"},{"version":"1.78.3","date":"2020-07-29T23:54:04.947Z"},{"version":"1.71.10","date":"2020-07-31T14:30:41.439Z"},{"version":"1.71.11","date":"2020-08-06T23:59:12.418Z"},{"version":"1.76.16","date":"2020-08-07T00:04:25.367Z"},{"version":"1.78.4","date":"2020-08-07T00:10:28.247Z"},{"version":"1.71.12","date":"2020-08-07T17:10:34.519Z"},{"version":"1.76.17","date":"2020-08-07T17:20:41.096Z"},{"version":"1.78.5","date":"2020-08-07T17:25:58.220Z"},{"version":"1.60.0","date":"2020-08-21T15:26:36.538Z"},{"version":"1.71.13","date":"2020-08-21T15:40:11.335Z"},{"version":"1.76.18","date":"2020-08-21T15:56:47.334Z"},{"version":"1.78.6","date":"2020-08-21T17:38:28.187Z"},{"version":"1.78.7","date":"2020-08-27T06:13:24.219Z"},{"version":"1.60.1","date":"2020-09-04T05:05:35.974Z"},{"version":"1.71.14","date":"2020-09-04T05:10:59.012Z"},{"version":"1.76.19","date":"2020-09-04T05:15:30.854Z"},{"version":"1.78.8","date":"2020-09-04T05:17:52.858Z"},{"version":"1.52.0","date":"2020-09-17T21:57:05.122Z"},{"version":"1.60.2","date":"2020-09-17T22:04:45.532Z"},{"version":"1.71.15","date":"2020-09-17T22:21:16.598Z"},{"version":"1.78.9","date":"2020-09-17T22:29:45.024Z"},{"version":"1.52.1","date":"2020-10-08T22:21:16.889Z"},{"version":"1.60.3","date":"2020-10-08T22:25:48.281Z"},{"version":"1.71.16","date":"2020-10-08T22:30:31.798Z"},{"version":"1.78.10","date":"2020-10-08T22:36:42.306Z"},{"version":"1.52.2","date":"2020-10-16T19:06:40.112Z"},{"version":"1.60.4","date":"2020-10-16T19:14:19.229Z"},{"version":"1.71.17","date":"2020-10-16T19:53:23.914Z"},{"version":"1.78.11","date":"2020-10-16T20:00:37.956Z"},{"version":"1.52.3","date":"2020-10-30T19:22:04.944Z"},{"version":"1.60.5","date":"2020-10-30T19:26:09.501Z"},{"version":"1.71.18","date":"2020-10-30T19:47:14.066Z"},{"version":"1.78.12","date":"2020-10-30T20:42:23.162Z"},{"version":"1.52.4","date":"2020-11-13T18:28:45.477Z"},{"version":"1.60.6","date":"2020-11-13T18:35:32.408Z"},{"version":"1.71.19","date":"2020-11-13T18:44:31.577Z"},{"version":"1.78.13","date":"2020-11-13T18:47:36.061Z"},{"version":"1.52.5","date":"2020-11-25T23:38:10.818Z"},{"version":"1.60.7","date":"2020-11-25T23:46:20.777Z"},{"version":"1.71.20","date":"2020-11-25T23:55:50.687Z"},{"version":"1.78.14","date":"2020-11-25T23:59:18.491Z"},{"version":"1.60.8","date":"2020-12-10T19:23:52.720Z"},{"version":"1.71.21","date":"2020-12-10T19:26:05.786Z"},{"version":"1.78.15","date":"2020-12-10T19:28:16.007Z"},{"version":"1.84.0","date":"2020-12-10T19:32:00.256Z"},{"version":"1.60.9","date":"2021-01-22T18:26:34.019Z"},{"version":"1.71.22","date":"2021-01-22T18:42:37.496Z"},{"version":"1.78.16","date":"2021-01-22T18:47:48.027Z"},{"version":"1.84.1","date":"2021-01-22T18:50:50.571Z"},{"version":"1.60.10","date":"2021-02-04T18:57:09.553Z"},{"version":"1.71.23","date":"2021-02-04T19:00:20.502Z"},{"version":"1.78.17","date":"2021-02-04T19:08:43.165Z"},{"version":"1.84.2","date":"2021-02-04T19:20:25.194Z"},{"version":"1.60.11","date":"2021-02-19T17:40:47.705Z"},{"version":"1.71.24","date":"2021-02-19T17:42:58.288Z"},{"version":"1.78.18","date":"2021-02-19T17:44:42.086Z"},{"version":"1.84.3","date":"2021-02-19T17:46:45.741Z"},{"version":"1.84.4","date":"2021-02-24T19:14:44.831Z"},{"version":"1.52.6","date":"2021-03-04T20:36:53.591Z"},{"version":"1.60.12","date":"2021-03-04T20:39:34.041Z"},{"version":"1.71.25","date":"2021-03-04T20:50:35.751Z"},{"version":"1.78.19","date":"2021-03-04T20:55:45.681Z"},{"version":"1.84.5","date":"2021-03-04T20:58:11.960Z"},{"version":"1.60.13","date":"2021-03-18T18:30:00.616Z"},{"version":"1.71.26","date":"2021-03-18T18:32:42.714Z"},{"version":"1.78.20","date":"2021-03-18T18:40:20.283Z"},{"version":"1.84.6","date":"2021-03-18T18:55:44.283Z"},{"version":"1.60.14","date":"2021-04-01T19:13:14.919Z"},{"version":"1.71.27","date":"2021-04-01T19:29:28.119Z"},{"version":"1.78.21","date":"2021-04-01T19:31:18.090Z"},{"version":"1.84.7","date":"2021-04-01T19:43:38.683Z"},{"version":"1.60.16","date":"2021-04-20T16:38:43.882Z"},{"version":"1.71.29","date":"2021-04-20T16:41:28.258Z"},{"version":"1.78.23","date":"2021-04-20T16:44:53.150Z"},{"version":"1.84.9","date":"2021-04-20T16:47:48.521Z"},{"version":"1.52.9","date":"2021-04-29T18:06:04.820Z"},{"version":"1.60.17","date":"2021-04-29T18:10:17.359Z"},{"version":"1.71.31","date":"2021-04-29T18:14:05.009Z"},{"version":"1.78.24","date":"2021-04-29T18:16:48.794Z"},{"version":"1.84.10","date":"2021-04-29T18:19:14.174Z"},{"version":"1.60.18","date":"2021-05-20T15:41:52.672Z"},{"version":"1.71.32","date":"2021-05-20T15:44:34.493Z"},{"version":"1.84.11","date":"2021-05-20T15:48:29.866Z"},{"version":"1.60.19","date":"2021-05-27T19:10:04.521Z"},{"version":"1.71.33","date":"2021-05-27T19:35:39.418Z"},{"version":"1.84.12","date":"2021-05-27T19:39:02.210Z"},{"version":"1.90.0","date":"2021-05-27T19:41:23.908Z"},{"version":"1.60.20","date":"2021-06-10T19:38:03.673Z"},{"version":"1.71.34","date":"2021-06-10T19:41:50.523Z"},{"version":"1.84.13","date":"2021-06-10T19:45:22.823Z"},{"version":"1.90.1","date":"2021-06-10T19:47:55.997Z"},{"version":"1.60.21","date":"2021-06-25T16:31:43.508Z"},{"version":"1.71.35","date":"2021-06-25T16:42:10.212Z"},{"version":"1.84.14","date":"2021-06-25T16:45:03.476Z"},{"version":"1.90.2","date":"2021-06-25T16:48:15.769Z"},{"version":"1.90.3","date":"2021-06-29T14:34:45.580Z"},{"version":"1.60.22","date":"2021-07-09T17:03:03.013Z"},{"version":"1.71.36","date":"2021-07-09T17:05:43.246Z"},{"version":"1.84.15","date":"2021-07-09T17:09:55.288Z"},{"version":"1.90.4","date":"2021-07-09T17:16:48.843Z"},{"version":"1.52.11","date":"2021-07-23T02:21:20.252Z"},{"version":"1.60.23","date":"2021-07-23T02:28:08.938Z"},{"version":"1.71.37","date":"2021-07-23T02:30:39.706Z"},{"version":"1.78.26","date":"2021-07-23T02:33:43.788Z"},{"version":"1.84.16","date":"2021-07-23T02:36:44.877Z"},{"version":"1.90.5","date":"2021-07-23T02:41:08.630Z"},{"version":"1.60.24","date":"2021-08-06T05:22:40.355Z"},{"version":"1.71.38","date":"2021-08-06T05:25:28.855Z"},{"version":"1.84.17","date":"2021-08-06T05:28:19.238Z"},{"version":"1.90.6","date":"2021-08-06T05:32:04.769Z"},{"version":"1.71.39","date":"2021-08-20T07:39:30.347Z"},{"version":"1.84.18","date":"2021-08-20T16:50:36.730Z"},{"version":"1.90.7","date":"2021-08-20T16:54:05.135Z"},{"version":"1.52.12","date":"2021-08-23T14:15:08.967Z"},{"version":"1.60.25","date":"2021-08-23T14:24:32.367Z"},{"version":"1.60.26","date":"2021-09-02T18:15:37.377Z"},{"version":"1.71.40","date":"2021-09-02T18:15:53.787Z"},{"version":"1.84.19","date":"2021-09-02T18:16:13.130Z"},{"version":"1.90.8","date":"2021-09-02T18:16:29.512Z"},{"version":"1.60.27","date":"2021-09-16T17:19:07.981Z"},{"version":"1.71.41","date":"2021-09-16T17:19:20.747Z"},{"version":"1.84.20","date":"2021-09-16T17:19:33.289Z"},{"version":"1.90.9","date":"2021-09-16T17:19:46.115Z"},{"version":"1.60.28","date":"2021-09-30T21:39:55.319Z"},{"version":"1.71.42","date":"2021-09-30T21:40:06.366Z"},{"version":"1.84.21","date":"2021-09-30T21:40:16.645Z"},{"version":"1.90.10","date":"2021-09-30T21:40:26.867Z"},{"version":"1.60.29","date":"2021-10-14T21:28:25.340Z"},{"version":"1.71.43","date":"2021-10-14T21:28:35.123Z"},{"version":"1.84.22","date":"2021-10-14T21:28:45.870Z"},{"version":"1.90.11","date":"2021-10-14T21:28:56.665Z"},{"version":"1.84.23","date":"2021-10-18T19:54:14.980Z"},{"version":"1.90.12","date":"2021-10-18T19:54:26.154Z"},{"version":"1.60.30","date":"2021-10-28T19:09:05.003Z"},{"version":"1.71.44","date":"2021-10-28T19:09:15.820Z"},{"version":"1.84.24","date":"2021-10-28T19:09:26.766Z"},{"version":"1.90.13","date":"2021-10-28T19:09:37.007Z"},{"version":"1.60.31","date":"2021-11-12T13:18:42.563Z"},{"version":"1.71.45","date":"2021-11-12T13:18:52.837Z"},{"version":"1.84.25","date":"2021-11-12T13:19:03.577Z"},{"version":"1.90.14","date":"2021-11-12T13:19:13.985Z"},{"version":"1.60.32","date":"2021-11-25T14:27:46.428Z"},{"version":"1.71.46","date":"2021-11-25T14:27:57.541Z"},{"version":"1.84.26","date":"2021-11-25T14:28:10.788Z"},{"version":"1.90.15","date":"2021-11-25T14:28:26.188Z"},{"version":"1.60.33","date":"2021-12-09T15:13:20.127Z"},{"version":"1.71.47","date":"2021-12-09T15:13:31.058Z"},{"version":"1.84.27","date":"2021-12-09T15:13:42.956Z"},{"version":"1.90.16","date":"2021-12-09T15:13:59.480Z"},{"version":"1.96.0","date":"2021-12-09T15:14:14.337Z"},{"version":"1.71.48","date":"2022-01-20T18:32:55.960Z"},{"version":"1.84.28","date":"2022-01-20T18:33:09.880Z"},{"version":"1.90.17","date":"2022-01-20T18:33:20.191Z"},{"version":"1.96.2","date":"2022-01-20T18:33:31.773Z"},{"version":"1.71.49","date":"2022-02-04T15:00:11.820Z"},{"version":"1.84.29","date":"2022-02-04T15:00:22.362Z"},{"version":"1.90.18","date":"2022-02-04T15:00:32.542Z"},{"version":"1.96.3","date":"2022-02-04T15:00:43.405Z"},{"version":"1.71.50","date":"2022-02-17T11:11:24.081Z"},{"version":"1.84.30","date":"2022-02-17T11:11:33.414Z"},{"version":"1.90.19","date":"2022-02-17T11:11:41.988Z"},{"version":"1.96.4","date":"2022-02-17T11:11:54.839Z"},{"version":"1.71.51","date":"2022-03-04T13:51:56.071Z"},{"version":"1.84.31","date":"2022-03-04T13:52:07.596Z"},{"version":"1.90.20","date":"2022-03-04T13:52:20.065Z"},{"version":"1.96.5","date":"2022-03-04T13:52:37.059Z"},{"version":"1.71.52","date":"2022-03-17T22:13:48.652Z"},{"version":"1.84.32","date":"2022-03-17T22:13:57.003Z"},{"version":"1.90.21","date":"2022-03-17T22:14:06.235Z"},{"version":"1.96.6","date":"2022-03-17T22:14:18.452Z"},{"version":"1.71.55","date":"2022-04-01T08:27:21.890Z"},{"version":"1.84.35","date":"2022-04-01T08:27:30.514Z"},{"version":"1.90.24","date":"2022-04-01T08:27:39.069Z"},{"version":"1.96.9","date":"2022-04-01T08:27:48.635Z"},{"version":"1.100.0","date":"2022-04-14T13:31:45.605Z"},{"version":"1.71.56","date":"2022-04-14T13:31:54.249Z"},{"version":"1.84.36","date":"2022-04-14T13:32:03.613Z"},{"version":"1.90.25","date":"2022-04-14T13:32:13.249Z"},{"version":"1.96.10","date":"2022-04-14T13:32:22.118Z"},{"version":"1.100.1","date":"2022-04-28T18:54:14.149Z"},{"version":"1.71.57","date":"2022-04-28T18:54:23.321Z"},{"version":"1.84.37","date":"2022-04-28T18:54:35.399Z"},{"version":"1.90.26","date":"2022-04-28T18:54:44.061Z"},{"version":"1.96.11","date":"2022-04-28T18:54:52.246Z"},{"version":"1.100.2","date":"2022-05-11T21:36:21.857Z"},{"version":"1.71.58","date":"2022-05-11T21:36:30.368Z"},{"version":"1.84.38","date":"2022-05-11T21:36:39.334Z"},{"version":"1.90.27","date":"2022-05-11T21:36:47.900Z"},{"version":"1.96.12","date":"2022-05-11T21:36:56.417Z"},{"version":"1.100.3","date":"2022-05-25T19:51:25.412Z"},{"version":"1.71.59","date":"2022-05-25T19:51:33.907Z"},{"version":"1.84.39","date":"2022-05-25T19:51:44.677Z"},{"version":"1.90.28","date":"2022-05-25T19:51:54.976Z"},{"version":"1.96.13","date":"2022-05-25T19:52:04.228Z"},{"version":"1.100.4","date":"2022-06-08T22:01:45.830Z"},{"version":"1.71.60","date":"2022-06-08T22:01:57.070Z"},{"version":"1.84.40","date":"2022-06-08T22:02:05.264Z"},{"version":"1.90.29","date":"2022-06-08T22:02:14.217Z"},{"version":"1.96.14","date":"2022-06-08T22:02:23.020Z"},{"version":"1.102.0","date":"2022-06-24T15:01:06.141Z"},{"version":"1.71.61","date":"2022-06-24T15:01:14.551Z"},{"version":"1.84.41","date":"2022-06-24T15:01:24.966Z"},{"version":"1.96.15","date":"2022-06-24T15:01:33.761Z"},{"version":"1.102.1","date":"2022-07-06T07:34:06.958Z"},{"version":"1.71.62","date":"2022-07-06T07:34:15.072Z"},{"version":"1.84.42","date":"2022-07-06T07:34:24.051Z"},{"version":"1.96.16","date":"2022-07-06T07:34:32.789Z"},{"version":"1.102.2","date":"2022-07-22T12:52:26.897Z"},{"version":"1.71.63","date":"2022-07-22T12:52:35.047Z"},{"version":"1.84.43","date":"2022-07-25T15:04:18.075Z"},{"version":"1.96.17","date":"2022-07-25T15:04:29.652Z"},{"version":"1.100.6","date":"2022-08-09T11:18:45.881Z"},{"version":"1.102.3","date":"2022-08-09T11:18:56.626Z"},{"version":"1.71.64","date":"2022-08-09T11:19:07.779Z"},{"version":"1.84.44","date":"2022-08-09T11:19:18.219Z"},{"version":"1.96.18","date":"2022-08-09T11:19:26.672Z"},{"version":"1.102.4","date":"2022-08-19T17:25:50.762Z"},{"version":"1.71.65","date":"2022-08-19T17:25:58.890Z"},{"version":"1.84.45","date":"2022-08-19T17:26:07.474Z"},{"version":"1.96.19","date":"2022-08-19T17:26:15.724Z"},{"version":"1.102.5","date":"2022-09-01T16:58:58.434Z"},{"version":"1.71.66","date":"2022-09-01T16:59:07.633Z"},{"version":"1.84.46","date":"2022-09-01T16:59:16.812Z"},{"version":"1.96.20","date":"2022-09-01T16:59:26.059Z"},{"version":"1.102.6","date":"2022-09-15T16:36:11.788Z"},{"version":"1.71.67","date":"2022-09-15T16:36:20.527Z"},{"version":"1.84.47","date":"2022-09-15T16:36:30.830Z"},{"version":"1.96.21","date":"2022-09-15T16:36:40.653Z"},{"version":"1.102.9","date":"2022-09-30T20:11:24.282Z"},{"version":"1.71.70","date":"2022-09-30T20:11:32.171Z"},{"version":"1.84.50","date":"2022-09-30T20:11:41.303Z"},{"version":"1.96.24","date":"2022-09-30T20:11:50.909Z"},{"version":"1.102.10","date":"2022-10-18T06:43:22.563Z"},{"version":"1.71.71","date":"2022-10-18T06:43:33.812Z"},{"version":"1.84.51","date":"2022-10-18T06:43:43.985Z"},{"version":"1.96.25","date":"2022-10-18T06:43:53.577Z"},{"version":"1.102.11","date":"2022-10-31T09:02:34.486Z"},{"version":"1.71.72","date":"2022-10-31T09:02:42.814Z"},{"version":"1.84.52","date":"2022-10-31T09:02:51.817Z"},{"version":"1.96.26","date":"2022-10-31T09:03:03.270Z"},{"version":"1.102.12","date":"2022-11-10T23:49:15.109Z"},{"version":"1.71.73","date":"2022-11-10T23:49:23.558Z"},{"version":"1.84.53","date":"2022-11-10T23:49:33.000Z"},{"version":"1.96.27","date":"2022-11-10T23:49:43.511Z"},{"version":"1.102.13","date":"2022-11-24T13:44:01.778Z"},{"version":"1.71.74","date":"2022-11-24T13:44:10.538Z"},{"version":"1.84.54","date":"2022-11-24T13:44:20.327Z"},{"version":"1.96.28","date":"2022-11-24T13:44:30.407Z"},{"version":"1.100.8","date":"2022-12-09T12:12:45.389Z"},{"version":"1.102.14","date":"2022-12-09T12:12:56.664Z"},{"version":"1.71.75","date":"2022-12-09T12:13:07.196Z"},{"version":"1.84.55","date":"2022-12-09T12:13:17.629Z"},{"version":"1.96.29","date":"2022-12-09T12:13:28.977Z"},{"version":"1.102.15","date":"2023-01-20T12:53:46.736Z"},{"version":"1.71.76","date":"2023-01-20T12:53:59.726Z"},{"version":"1.84.56","date":"2023-01-20T12:54:09.093Z"},{"version":"1.96.30","date":"2023-01-20T12:54:20.323Z"},{"version":"1.102.16","date":"2023-02-02T17:53:35.229Z"},{"version":"1.71.77","date":"2023-02-02T17:53:44.996Z"},{"version":"1.84.57","date":"2023-02-02T17:53:58.073Z"},{"version":"1.96.31","date":"2023-02-02T17:54:10.232Z"},{"version":"1.102.17","date":"2023-02-16T12:09:05.824Z"},{"version":"1.71.78","date":"2023-02-16T12:09:26.224Z"},{"version":"1.84.58","date":"2023-02-16T12:09:42.293Z"},{"version":"1.96.32","date":"2023-02-16T12:09:58.095Z"},{"version":"1.102.18","date":"2023-03-03T13:02:15.928Z"},{"version":"1.108.0","date":"2023-03-03T13:02:26.908Z"},{"version":"1.71.79","date":"2023-03-03T13:02:38.177Z"},{"version":"1.84.59","date":"2023-03-03T13:02:47.829Z"},{"version":"1.96.33","date":"2023-03-03T13:03:05.302Z"},{"version":"1.102.19","date":"2023-03-16T22:29:54.404Z"},{"version":"1.108.1","date":"2023-03-16T22:30:04.497Z"},{"version":"1.71.80","date":"2023-03-16T22:30:13.279Z"},{"version":"1.84.60","date":"2023-03-16T22:30:23.723Z"},{"version":"1.96.34","date":"2023-03-16T22:30:33.154Z"},{"version":"1.100.9","date":"2023-03-31T22:22:06.507Z"},{"version":"1.102.20","date":"2023-03-31T22:22:15.717Z"},{"version":"1.108.2","date":"2023-03-31T22:22:25.694Z"},{"version":"1.71.81","date":"2023-03-31T22:22:35.062Z"},{"version":"1.84.61","date":"2023-03-31T22:22:44.162Z"},{"version":"1.90.31","date":"2023-03-31T22:22:54.178Z"},{"version":"1.96.35","date":"2023-03-31T22:23:04.084Z"},{"version":"1.102.21","date":"2023-04-17T11:21:37.568Z"},{"version":"1.108.3","date":"2023-04-17T11:21:49.531Z"},{"version":"1.71.82","date":"2023-04-17T11:21:59.280Z"},{"version":"1.84.62","date":"2023-04-17T11:22:09.105Z"},{"version":"1.96.36","date":"2023-04-17T11:22:20.389Z"},{"version":"1.102.22","date":"2023-05-03T12:06:13.093Z"},{"version":"1.108.4","date":"2023-05-03T12:06:22.780Z"},{"version":"1.71.83","date":"2023-05-03T12:06:31.917Z"},{"version":"1.84.63","date":"2023-05-03T12:06:41.169Z"},{"version":"1.96.37","date":"2023-05-03T12:06:51.298Z"},{"version":"1.102.23","date":"2023-05-11T13:23:49.912Z"},{"version":"1.108.5","date":"2023-05-11T13:24:02.083Z"},{"version":"1.71.84","date":"2023-05-11T13:24:12.119Z"},{"version":"1.84.64","date":"2023-05-11T13:24:22.794Z"},{"version":"1.96.38","date":"2023-05-11T13:24:34.107Z"},{"version":"1.108.6","date":"2023-05-25T06:54:09.639Z"},{"version":"1.71.85","date":"2023-05-25T06:54:18.517Z"},{"version":"1.84.65","date":"2023-05-25T06:54:27.745Z"},{"version":"1.96.39","date":"2023-05-25T06:54:37.858Z"},{"version":"1.108.7","date":"2023-06-08T16:43:34.072Z"},{"version":"1.71.86","date":"2023-06-08T16:43:45.532Z"},{"version":"1.84.66","date":"2023-06-08T16:43:58.163Z"},{"version":"1.96.40","date":"2023-06-08T16:44:08.893Z"},{"version":"1.102.24","date":"2023-06-27T14:10:07.806Z"},{"version":"1.108.8","date":"2023-06-27T14:10:20.859Z"},{"version":"1.71.87","date":"2023-06-27T14:10:32.709Z"},{"version":"1.84.67","date":"2023-06-27T14:10:42.441Z"},{"version":"1.96.41","date":"2023-06-27T14:10:52.463Z"},{"version":"1.102.25","date":"2023-07-11T14:12:50.853Z"},{"version":"1.108.9","date":"2023-07-11T14:13:19.689Z"},{"version":"1.71.88","date":"2023-07-11T14:13:33.955Z"},{"version":"1.84.68","date":"2023-07-11T14:13:46.874Z"},{"version":"1.96.42","date":"2023-07-11T14:13:57.671Z"},{"version":"1.102.26","date":"2023-07-21T12:11:09.983Z"},{"version":"1.108.10","date":"2023-07-21T12:11:22.944Z"},{"version":"1.71.89","date":"2023-07-21T12:11:47.486Z"},{"version":"1.84.69","date":"2023-07-21T12:12:07.609Z"},{"version":"1.96.43","date":"2023-07-21T12:12:20.223Z"},{"version":"1.108.11","date":"2023-08-03T15:33:06.103Z"},{"version":"1.71.90","date":"2023-08-03T15:33:15.645Z"},{"version":"1.84.70","date":"2023-08-03T15:33:25.176Z"},{"version":"1.96.44","date":"2023-08-03T15:33:35.968Z"},{"version":"1.108.12","date":"2023-08-17T16:18:50.431Z"},{"version":"1.71.91","date":"2023-08-17T16:18:59.680Z"},{"version":"1.84.71","date":"2023-08-17T16:19:11.085Z"},{"version":"1.96.45","date":"2023-08-17T16:19:24.308Z"},{"version":"1.108.13","date":"2023-09-01T17:39:55.394Z"},{"version":"1.71.92","date":"2023-09-01T17:40:04.284Z"},{"version":"1.84.72","date":"2023-09-01T17:40:14.212Z"},{"version":"1.96.46","date":"2023-09-01T17:40:24.173Z"},{"version":"1.108.14","date":"2023-09-15T11:01:13.766Z"},{"version":"1.71.93","date":"2023-09-15T11:01:31.836Z"},{"version":"1.84.73","date":"2023-09-15T11:01:47.591Z"},{"version":"1.96.47","date":"2023-09-15T11:01:59.472Z"},{"version":"1.108.15","date":"2023-09-29T09:17:44.824Z"},{"version":"1.71.94","date":"2023-09-29T09:17:55.633Z"},{"version":"1.84.74","date":"2023-09-29T09:18:05.491Z"},{"version":"1.96.48","date":"2023-09-29T09:18:16.078Z"},{"version":"1.102.27","date":"2023-10-12T16:20:37.106Z"},{"version":"1.108.16","date":"2023-10-12T16:21:02.515Z"},{"version":"1.71.95","date":"2023-10-12T16:21:45.083Z"},{"version":"1.84.75","date":"2023-10-12T16:21:56.064Z"},{"version":"1.96.49","date":"2023-10-12T16:22:07.048Z"},{"version":"1.102.28","date":"2023-10-27T08:54:49.145Z"},{"version":"1.108.17","date":"2023-10-27T08:54:59.349Z"},{"version":"1.71.96","date":"2023-10-27T08:55:10.251Z"},{"version":"1.84.76","date":"2023-10-27T08:55:20.385Z"},{"version":"1.96.50","date":"2023-10-27T08:55:31.501Z"},{"version":"1.102.29","date":"2023-11-09T16:57:05.607Z"},{"version":"1.108.18","date":"2023-11-09T16:57:17.154Z"},{"version":"1.71.97","date":"2023-11-09T16:57:27.846Z"},{"version":"1.84.77","date":"2023-11-09T16:57:38.911Z"},{"version":"1.96.51","date":"2023-11-09T16:57:49.466Z"},{"version":"1.102.30","date":"2023-11-24T10:40:57.340Z"},{"version":"1.108.19","date":"2023-11-24T10:41:07.592Z"},{"version":"1.120.0","date":"2023-11-24T10:41:18.081Z"},{"version":"1.71.98","date":"2023-11-24T10:41:28.867Z"},{"version":"1.84.78","date":"2023-11-24T10:41:38.492Z"},{"version":"1.96.52","date":"2023-11-24T10:41:49.171Z"},{"version":"1.102.31","date":"2023-12-13T21:15:16.098Z"},{"version":"1.108.20","date":"2023-12-13T21:15:26.179Z"},{"version":"1.120.1","date":"2023-12-13T21:15:36.090Z"},{"version":"1.71.99","date":"2023-12-13T21:15:45.987Z"},{"version":"1.84.79","date":"2023-12-13T21:15:54.967Z"},{"version":"1.96.53","date":"2023-12-13T21:16:04.942Z"},{"version":"1.102.32","date":"2024-01-24T17:22:35.504Z"},{"version":"1.108.21","date":"2024-01-24T17:22:45.521Z"},{"version":"1.120.2","date":"2024-01-24T17:22:55.688Z"},{"version":"1.71.100","date":"2024-01-24T17:23:04.925Z"},{"version":"1.84.80","date":"2024-01-24T17:23:14.250Z"},{"version":"1.96.54","date":"2024-01-24T17:23:24.739Z"},{"version":"1.102.33","date":"2024-02-02T18:04:32.029Z"},{"version":"1.108.22","date":"2024-02-02T18:04:42.565Z"},{"version":"1.120.3","date":"2024-02-02T18:04:54.152Z"},{"version":"1.71.101","date":"2024-02-02T18:05:03.497Z"},{"version":"1.84.81","date":"2024-02-02T18:05:13.195Z"},{"version":"1.96.55","date":"2024-02-02T18:05:23.119Z"},{"version":"1.102.34","date":"2024-02-16T08:09:20.927Z"},{"version":"1.108.23","date":"2024-02-16T08:09:34.042Z"},{"version":"1.120.4","date":"2024-02-16T08:09:45.896Z"},{"version":"1.71.102","date":"2024-02-16T08:09:58.623Z"},{"version":"1.84.82","date":"2024-02-16T08:10:10.935Z"},{"version":"1.96.56","date":"2024-02-16T08:10:22.857Z"},{"version":"1.102.35","date":"2024-03-01T16:39:42.468Z"},{"version":"1.108.24","date":"2024-03-01T16:39:57.093Z"},{"version":"1.120.5","date":"2024-03-01T16:40:07.605Z"},{"version":"1.71.103","date":"2024-03-01T16:40:17.840Z"},{"version":"1.84.83","date":"2024-03-01T16:40:28.627Z"},{"version":"1.96.57","date":"2024-03-01T16:40:40.491Z"},{"version":"1.102.36","date":"2024-03-15T20:33:33.563Z"},{"version":"1.108.25","date":"2024-03-15T20:33:44.248Z"},{"version":"1.120.6","date":"2024-03-15T20:33:56.768Z"},{"version":"1.71.104","date":"2024-03-15T20:34:07.318Z"},{"version":"1.84.84","date":"2024-03-15T20:34:17.866Z"},{"version":"1.96.58","date":"2024-03-15T20:34:29.347Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-specification"},{"name":"ux-ui5-tooling","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-14T02:36:25.166Z","updatedAt":"2024-03-15T20:36:39.731Z","readme":"# @sap/ux-ui5-tooling\n\nThe SAP Fiori Tools - UI5 Tooling contains a selection of custom [middlewares](https://sap.github.io/ui5-tooling/pages/extensibility/CustomServerMiddleware/) that can be used with the command `ui5 serve` as well as custom [tasks](https://sap.github.io/ui5-tooling/pages/extensibility/CustomTasks/) that can be used with the command `ui5 build`. \nFurthermore, the module expose the cli `fiori` offering e.g. the [`fiori run`](#run) command is a wrapper of the `ui5 serve` commands and provides some additional parameters as well as `fiori add deploy-config` and `fiori add flp-config` to extend an existing project.\n\n**IMPORTANT**: \n- Starting with version `1.10.5`, the minimum required `@ui5/cli` version is >= 3! For more information about migration to version 3 of the `@ui5/cli`, see [here](https://sap.github.io/ui5-tooling/v3/updates/migrate-v3/).\n- Starting with version `1.11.3`, the minimum required NodeJS version is 18.14.2 or higher!\n\n## [**Middlewares**](#middlewares)\n\nSAP Fiori tools use the capabilities of custom middlewares to start and preview SAP Fiori elements or SAPUI5 freestyle applications, e.g. to enable auto refresh, to switch the version of SAPUI5 sources or to serve static resources. Starting with version `1.3.0` the behaviour of the preview of the SAP Fiori applications has changed. Now the persistent iAppState is ignored in order to have the source code changes always apply when application is refreshed. If you want to enable the iAppState then you need to add the URL parameter `fiori-tools-iapp-state=true` to the browser URL, e.g. `http://localhost:8080/test/flpSandbox.html?fiori-tools-iapp-state=true#masterDetail-display`.\n\n### [**1. Application Reload**](#1-application-reload)\n\nThe application reload middleware allows developers to preview SAP Fiori applications while developing/configuring them. Whenever a file relevant for the SAP Fiori application is changed, the reload middleware will refresh the application preview.\n\n#### Example Configuration\n\nExecuting `npx fiori run` in your project with the configuration below in a `ui5.yaml` would start the application reload middleware with its default settings.\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-appreload\n    afterMiddleware: compression\n```\n\n#### Configuration options\n\nThe application reload middleware does not require any configuration parameters. However, there are optional parameters that can be used if the project structure differs from standard SAP Fiori projects.\n\n#### path\n\n- `<string>` (default: `webapp`)\nPath that is to be watched. By default the standard SAPUI5 `webapp` folder is used\n\n#### ext\n\n- `<string>` (default: `html,js,json,xml,properties,change`)\nChange this parameter to select a custom set of file extensions that are to be watched\n\n#### port\n\n- `<int>` (default: `35729`)\nPort to be used to communicate file system changes\n\n#### debug\n\n- `<boolean>` (default: `false`)\nSet this parameter to get more log information.\n\n### [**2. Proxy**](#2-proxy)\n\nThe proxy middleware provides you with the capabilities to connect to different back-end systems or to switch the SAPUI5 version of the application. The proxy is based on the [@sap-ux/ui5-proxy-middleware](https://www.npmjs.com/package/@sap-ux/ui5-proxy-middleware) for proxying the UI5 sources (starting with version `1.6.0`) and the [@sap-ux/backend-proxy-middleware](https://www.npmjs.com/package/@sap-ux/backend-proxy-middleware) for connecting to different back-end systems (starting with version `1.6.7`). Both `@sap-ux/ui5-proxy-middleware` and `@sap-ux/backend-proxy-middleware` are based on the [http-proxy-middleware](https://www.npmjs.com/package/http-proxy-middleware).\n\n### Configuration Examples\n\n#### [Connecting to a back-end system](#connecting-to-a-back-end-system)\n\nExecuting `npx fiori run` in your project with the configuration below in the `ui5.yaml` file would forward any request starting with the `path` parameter to the provided back-end `url`.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n```\n\n#### [Connecting to a back-end system with destination](#connecting-to-a-back-end-system-with-destination)\n\nIf the back-end is hidden behind a destination then you can also provide the `destination` in the configuration.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n      destination: my_backend\n```\n#### [Connecting to a back-end system with destination and principal propagation](#connecting-to-a-back-end-system-with-destination-and-principal-propagation)\n\nIf the back-end destination is configured to use principal propagation, then in some cases the requests might fail. If this occurs then you will need to set the optional property `xfwd` to `true`. This will add the x-forwared headers to the proxy requests.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n      destination: my_backend\n      xfwd: true\n```\n#### [Connecting to multiple back-end systems](#connecting-to-multiple-back-end-systems)\nYou can also connect to multiple back-end systems like this.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /northwind\n      url: https://my.backend_2.com:1234\n    - path: /sap\n      url: https://my.backend.com:1234\n```\n#### [Connecting to the SAP Business Technology Platform](#connecting-to-the-sap-business-technology-platform)\nIf you want to connect to an ABAP Environment on SAP Business Technology Platform then you will need to set the optional property `scp` to `true`. For any other target, remove this property or set it to `false`.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /sap\n      url: https://my.steampunk.com:1234\n      scp: true\n```\n\n#### [Connecting to the SAP Business Accelerator Hub](#connecting-to-the-sap-business-accelerator-hub)\nIf you want to connect to the SAP Business Accelerator Hub then you will need to set the optional property `apiHub` to `true`, and set the corresponding `path` and `url`, e.g.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /s4hanacloud\n      url: https://api.sap.com\n      apiHub: true\n```\n#### [Proxying WebSockets](#proxying-websockets)\nIf you want the proxy to handle also WebSockets, then you need to set the optional property `ws` to `true`, e.g.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n      ws: true\n```\n**Note: proxying WebSockets is currently not supported in SAP Business Application Studio.**\n\n#### [Changing the path to which a request is proxied](#changing-the-path-to-which-a-request-is-proxied)\nLet's that you want to configure the proxy to send requests from a certain path `/services/odata` to a destination with a specified entry path `/my/entry/path`. Then you need to do the following:\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    backend:\n    - path: /services/odata\n      pathPrefix: /my/entry/path\n      url: https://my.backend.com:1234\n      destination: my_backend\n```\n\n#### [Providing Proxy Configuration](#providing-proxy-configuration)\nBy the default the `fiori-tools-proxy` will read the proxy configuration from the Node.js environment variables `proxy`, `https-proxy` and `noproxy`. If those variables are not set, then you can also provide the proxy configuration in the `ui5.yaml` file. **Please note: if you want to exclude any domains from the proxy then you will need to set the `noproxy` variable, e.g. `npm config set noproxy \"sap.com\"`**.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    proxy: https://myproxy.com:8443\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n\n```\n#### [Ignoring Certificate Errors](#ignoring-certificate-errors)\nBy default, the `fiori-tools-proxy` will verify the SSL certificates and will throw an error if the validation fails. One can set the parameter `ignoreCertError: true` to ignore the certificate errors. Setting this parameter to `true` also allows the usage of self-signed certificates.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    ignoreCertError: true\n    backend:\n    - path: /sap\n      url: https://my.backend.com:1234\n\n```\n#### [Providing Credentials](#providing-credentials)\nStarting with version `1.6.7` it is now possible to provide the credentials for the backend service upfront in a `.env` file.\n\n```\nFIORI_TOOLS_USER=YOUR_USER\nFIORI_TOOLS_PASSWORD=YOUR_PASSWORD\n```\nWhen the two environment variables `FIORI_TOOLS_USER` and `FIORI_TOOLS_PASSWORD` are defined, then they will be used as credentials when connecting to the backend service.\n\n#### [Backend configuration options](#backend-configuration-options)\n\nHere is the full list of the available configuration options for the backend proxy.\n- `forward` (available with version 1.8.5): url string to be parsed with the url module\n- `ws` (available with version 1.1.5): true/false: if you want to proxy websockets\n- `xfwd` (available with version 1.1.9): true/false, adds x-forward headers\n- `toProxy` (available with version 1.8.5): true/false, passes the absolute URL as the path (useful for proxying to proxies)\n- `prependPath` (available with version 1.8.5): true/false, Default: true - specify whether you want to prepend the target's path to the proxy path\n- `ignorePath` (available with version 1.8.5): true/false, Default: false - specify whether you want to ignore the proxy path of the incoming request (note: you will have to append / manually if required)\n- `localAddress` (available with version 1.8.5): Local interface string to bind for outgoing connections\n- `changeOrigin` (available with version 1.8.5): true/false, Default: true - changes the origin of the host header to the target URL\n- `preserveHeaderKeyCase` (available with version 1.8.5): true/false, Default: false - specify whether you want to keep letter case of response header key\n- `auth` (available with version 1.8.5): Basic authentication i.e. 'user:password' to compute an Authorization header\n- `hostRewrite` (available with version 1.8.5): rewrites the location hostname on (301/302/307/308) redirects\n- `autoRewrite` (available with version 1.8.5): rewrites the location host/port on (301/302/307/308) redirects based on requested host/port. Default: false\n- `protocolRewrite` (available with version 1.8.5): rewrites the location protocol on (301/302/307/308) redirects to 'http' or 'https'. Default: null\n- `cookieDomainRewrite` (available with version 1.8.5): rewrites domain of set-cookie headers. Possible values:\n  - false (default): disables cookie rewriting\n  - String: new domain, for example cookieDomainRewrite: \"new.domain\". To   remove the domain, use cookieDomainRewrite: \"\"\n  - Object: mapping of domains to new domains, use \"*\" to match all domains\n- `cookiePathRewrite` (available with version 1.8.5): rewrites path of set-cookie headers. Possible values:\n  - false (default): disable cookie rewriting\n  - String: new path, for example cookiePathRewrite: \"/newPath/\". To remove the path, use cookiePathRewrite: \"\". To set path to root use cookiePathRewrite: \"/\"\n  - Object: mapping of paths to new paths, use \"*\" to match all paths.\n- `headers` (available with version 1.8.5): object, adds request headers\n- `proxyTimeout` (available with version 1.8.5): timeout (in millis) when proxy receives no response from target\n- `timeout` (available with version 1.8.5): timeout (in millis) for incoming requests\n- `followRedirects` (available with version 1.8.5): true/false, Default: false - specify whether you want to follow redirects\n\n#### [UI5](#ui5)\n\nThe proxy configuration contains also the configuration for loading the SAPUI5 resources when previewing the application, e.g.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    ui5:\n      path:\n      - /resources\n      - /test-resources\n      url: https://ui5.sap.com\n```\n\nBy using the proxy configuration one can also change the SAPUI5 version, which is used to preview the application. You can use the `version` parameter to change the SAPUI5 version as follows:\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    ui5:\n      path:\n      - /resources\n      - /test-resources\n      url: https://ui5.sap.com\n      version: 1.102.7\n```\n\nStarting with `ux-ui5-tooling` version `1.4.7`, if the `version` property is not set in the `ui5.yaml`, then the `minUI5Version` from `manifest.json` will be used for the application preview. If the `version` property is set, but it is empty, then the `latest` SAPUI5 version from https://ui5.sap.com will be used for the application preview. For any other case the value of the `version` property will be used for the application preview.\n\nStarting with `ux-ui5-tooling` version `1.7.1` a check for the SAPUI5 version of the application was added, which checks if the version is availble on the SAPUI5 SDK. If not, then the nearest, highest patch, version is used instead.\n\n**Note:** all UI5 requests are routed through the proxy. Sometimes this can cause performance issues. If you don't want route the UI5 requests through the proxy, then you can set parameter `directLoad: true`. This will inject the UI5 url in the HTML file of the application and thus the UI5 libs will be loaded directly.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    ui5:\n      path:\n      - /resources\n      - /test-resources\n      url: https://ui5.sap.com\n      directLoad: true\n```\n\nStarting with version `1.6.0` one can use the following syntax for proxying different UI5 requests to different URLs, e.g.\n\n```\n- name: fiori-tools-proxy\n  afterMiddleware: compression\n  configuration:\n    ui5:\n      paths:\n        - path: /resources\n          url: https://ui5.sap.com\n        - path: /test-resources\n          src: https://ui5.sap.com\n      version: '1.100.1'\n```\n\n### [**3. Serve Static**](#3-serve-static)\n\nThe serve static middleware provides the capability to serve any static resources locally from your machine. E.g. you can serve SAPUI5 locally or any other resources.\n\n\n#### [Example Configuration for serving locally SAPUI5](#example-configuration-for-serving-locally-ui5)\n\n**Pre-requisites:**\nSAPUI5 SDK version is downloaded and extracted locally on the machine. One can download UI5 resources from <https://tools.hana.ondemand.com/#sapui5>\n\nExecuting `npx fiori run` in your project with the configuration below in a `ui5.yaml` file would serve the UI5 sources from your machine. Any request starting with the `path` parameter will be forwarded to the local path provided in the `src` parameter.\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-servestatic\n    afterMiddleware: compression\n    configuration:\n      paths:\n        - path: /resources\n          src: \"Path/To/SAPUI5-SDK\"\n        - path: /test-resources\n          src: \"Path/To/SAPUI5-SDK\"\n```\n\n#### [Example Configuration for serving any resources locally](#example-configuration-for-serving-any-resources-locally)\nExecuting `npx fiori run` in your project with the configuration below in a `ui5.yaml` file would serve resources from your machine. Any request starting with the `path` parameter will be forwarded to the local path provided in the `src` parameter.\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-servestatic\n    afterMiddleware: compression\n    configuration:\n      paths:\n        - path: /images\n          src: \"Path/To/images\"\n        - path: /libs\n          src: \"Path/To/libs\"\n```\n\n#### [Example configuration for mocking the User API Service from @sap/approuter](#example-configuration-for-mocking-the-user-api-service-from-sapapprouter)\nIf you are using the [User API Service](https://www.npmjs.com/package/@sap/approuter#user-api-service) from `@sap/approuter` in your application, then you can mock by providing the following configuration.\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-servestatic\n    afterMiddleware: compression\n    configuration:\n      paths:\n        - path: /userapi/currentUser\n          src: \"Path/To/UserJson/user.json\"\n          index: false\n          fallthrough: false\n          redirect: false\n```\nwhereas the `user.json` can look like this e.g.\n\n```\n{\n   \"firstname\": \"John\",\n   \"lastname\": \"Doe\",\n   \"email\": \"john.doe@example.com\",\n   \"name\": \"john.doe@example.com\",\n   \"displayName\": \"John Doe (john.doe@example.com)\",\n   \"scopes\": \"openid,user_attributes,uaa.user\"\n}\n```\n\n### [Configuration options](#configuration-options-1)\nAdditionaly you can specify any of the configuration options (excluding `setHeaders`!) of the [serve-static](https://www.npmjs.com/package/serve-static) middleware.\n\nE.g. you can set `fallthrough: false`, which will cause the middleware to return 404 error, when it can't find a file on the local system:\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-servestatic\n    afterMiddleware: compression\n    configuration:\n      paths:\n        - path: /resources\n          src: \"Path/To/SAPUI5-SDK\"\n        - path: /test-resources\n          src: \"Path/To/SAPUI5-SDK\"\n      fallthrough: false\n```\n\nAlternatively you can set e.g. `fallthrough: false` only for specific requests:\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-servestatic\n    afterMiddleware: compression\n    configuration:\n      paths:\n        - path: /resources\n          src: \"Path/To/SAPUI5-SDK\"\n          fallthrough: false\n        - path: /test-resources\n          src: \"Path/To/SAPUI5-SDK\"\n```\n\n### [**4. Preview**](#4-preview)\nThe `fiori-tools-preview` middleware enables the developer variant creation for SAP Fiori applications.\n\n### Example configuration\nExecuting `npx fiori run --open preview.html` in your project with the configuration below in the `ui5.yaml` opens a new browser tab with the application switched to UI adaptation mode for variant creation. The file `preview.html` is created dynamically at runtime by the `fiori-tools-preview` middleware.\n\n```\nserver:\n  customMiddleware:\n  - name: fiori-tools-preview\n    afterMiddleware: fiori-tools-appreload\n    configuration:\n      component: myapp\n      ui5Theme: sap_fiori_3\n```\n\n### Configuration options\n- **`component`** - application component of the SAP Fiori application (value is prefilled when the application is generated with https://www.npmjs.com/package/@sap/generator-fiori).\n- **`ui5Theme`** - SAP Fiori theme of the application (value is prefilled when the application is generated with https://www.npmjs.com/package/@sap/generator-fiori).\n- **`libs`** - a comma separated list of additional libraries that should be loaded, e.g. `libs: my.custom.lib1, my.custom.lib2`\n\n## [**Tasks**](#tasks)\n\nSAP Fiori Tools use the capabilities of custom tasks to deploy the SAP Fiori projects to ABAP servers.\n\n### [Deployment to ABAP](#deployment-to-abap)\n\nThe deployment to ABAP task allows deploying SAP Fiori applications to SAP systems using the [SAPUI5 Repository OData service](https://ui5.sap.com/#/topic/a883327a82ef4cc792f3c1e7b7a48de8.html).\n\n**Pre-requisites:**\n\n* SAP component SAP_UI 7.53 or higher is installed in your SAP system\n* Service needs to be enabled and accessible from your development environment ([how to check this](https://help.sap.com/viewer/68bf513362174d54b58cddec28794093/7.52.5/en-US/bb2bfe50645c741ae10000000a423f68.html))\n* For operations on a SAPUI5 ABAP repository, you need the S_DEVELOP authorization.\n\n**Notes:**\n\n* the task does not create ABAP transports, therefore, it requires an existing transport if the target ABAP package requires a transport\n* only Basic Authentication (user/password based authentication) as well as OAuth2 with the SAP Business Technology Platform\n\n## Example Configuration\n\nExecuting `ui5 build --config ui5-deploy.yaml` in your project with the configuration below in a `ui5-deploy.yaml`, manually added to the project, would deploy all files of your `dist` folder except files ending with `.test.js` and the `internal.md` file. The target system is XYZ with client 200. Username and password for authentication will be read from the environment variables `XYZ_USER` and `XYZ_PASSWORD`.\n\nBased on this example, the application will be created/updated as `/TEST/SAMPLE_APP` in package `/TEST/UPLOAD` and all changes will be recorded in transport request `XYZQ300582`.\n\nContent of `ui5-deploy.yaml`\n\n```\nbuilder:\n  customTasks:\n  - name: deploy-to-abap\n    afterTask: replaceVersion\n    configuration:\n      target:\n        url: https://XYZ.sap-system.corp:44311\n        client: 200\n        auth: basic\n      credentials:\n        username: env:XYZ_USER\n        password: env:XYZ_PASSWORD\n      app:\n        name: /TEST/SAMPLE_APP\n        package: /TEST/UPLOAD\n        transport: XYZQ300582\n      exclude:\n      - .*\\.test.js\n      - internal.md\n```\n\n### Command to create the ui5-deploy.yaml file\n\nA newly created project does not contain a deployment configuration (`ui5-deploy.yaml`) but you can create it by executing `npx fiori add deploy-config`. You will be prompted for required information and then the file will be created based on your input and the content of the existing `ui5.yaml` file used for the preview. In addition to creating the configuration, the create deployment command will also update your `package.json` so that you can execute `npm run deploy` afterwards to deploy your application.\n\n### Setting environment variables in a .env file\n\nIf you prefer to keep the environment variables in a file, an option can be to create ```.env``` file at the root of your project which contains the environment variables that can be referenced in the ui5.yaml file.\n\nIMPORTANT: The username and password property will **only** accept environment variable references in the ```ui5-deploy.yaml```.\n\n```\nXYZ_USER=[MY_USER_NAME]\nXYZ_PASSWORD=[MY_PASSWORD]\n```\n\n## Command to deploy\n\nAfter completing the changes in the configuration files, execute the command `npm run deploy`. The deployment task is by default interactive and requires that the user confirms the deploy configuration. If such a confirmation is not required or desired then it can be disable by adding `-- -y` to the `deploy` script e.g. `ui5 build preload --config ui5-deploy.yaml -- -y`\n\n### Accessing the deployed app\n\nBased on the sample configurations above, after deploying the app, you can access the app using URL: <https://XYZ.sap-system.corp:44311/sap/bc/ui5-ui5/test/sample_app/index.html?sap-client=200#app-preview>\n\n## Documentation on the Configuration options\n\nIn addition to defining parameters in the main yaml file, every parameter can also be defined as environment variable that is referenced in yaml. Using the `dotenv` module, the task also supports project specific environment variables defined in a `.env` file in the root of your project. To reference an environment variable the pattern `env:VAR_NAME` must be used.\n\n### target\n\nThe target object contains properties identifying your target SAP system.\n\n#### url\n\n- `<string> pattern <protocol>://<hostname>[:<port>]` (required)\n- This parameter must contain a url pointing to your target SAP system\n\n#### client\n\n- `<number> range [0..999]` (optional)\n- The client property is used to identify the SAP client that is to be used in the backend system. It translates to the url parameter `sap-client=<client>` If the client parameter is not provide, the default client will be used.\n\n#### scp\n\n- `<boolean>` (default: `false`)\n- By default the deployment task will use basic authentication when connecting to the backend. If the target system is ABAP Environment on SAP Business Technology Platform, this parameter needs to be set to `true`.\n\n#### service\n\n- `<string>` (default: `/sap/opu/odata/UI5/ABAP_REPOSITORY_SRV`)\n- Path pointing to the SAPUI5 ABAP repository OData service in your target system. This parameter only needs to be used if the service is exposed at a different path in your backend system e.g. via alias.\n\n### credentials (optional)\n\nThe credentials object is mainly required for CI/CD based deployments and it needs to contain the required parameters to authenticate at your target system. It is only possible to use references to environment variables e.g. `env:MY_VARIABLE` here, plain username and password are not supported.\n\nFor local usage, we recommend to not use the credentials object at all. As result, the deployment task will utilize the operating systems secure storage maintain credentials.\n\n#### username\n\n- `<string>` (required)\n- SAP business user for the target system. The user requires authorizations to create/update the target ABAP development object.\n\n#### password\n\n- `<string>` (required)\n- Password required to authenticate the previously configured user. IMPORTANT: while technically possible to add the password to your config, we strongly DISCOURAGE that but recommend instead the use of environment variables.\n\n### app\n\nThe app object describes the backend object that is created/updated as result of the deployment.\n\n#### name\n\n- `<string>` (required)\n- Unique name of the application. The name is used as part of the application url as well as the name of the ABAP development object used as container for the app.\n\n#### package\n\n- `<string>` (required for new apps)\n- Name of an existing ABAP package that is used as parent of the deployed application. The parameter is required for the creation of the application in the backend. Any following deployment updating the application does not require the package parameter, i.e. it will be ignored.\n\n#### transport\n\n- `<string>` (optional)\n- The transport parameter refers to a transport request number that is to be used to record changes to the backend application object. The property is optional because it is only required if the package that is used for deployments requires transport requests.\n\n#### description\n\n- `<string>` (optional)\n- Optional description added to the created application object in the backend.\n\n### exclude\n\n- `<string[] array of regex>` (optional)\n- By default the deployment task will create an archive (zip file) of all build files and send it to the backend. By using exclude, you can define expressions to match files that shall not be included into the deployment. Note: `string.match()` is used to evaluate the expressions.\n\n### index\n\n- `true|false` (default: `false`)\n- If set to `true`, then an additional index.html will be generated and deployed to run the application standalone.\n\n### test\n\n- `true|false` (default: `false`)\n- If set to `true`, the task will run through all steps including sending the archive to the SAP backend. The backend will not deploy the app but run the pre-deployment checklist and return the result.\n\n## [Commands](#commands)\n### [fiori run](#fiori-run---starts-a-local-web-server-for-running-a-fe-application) - starts a local web server for running a FE application\n#### Options\n\n* `--config, c` - Path to config file (default: `ui5.yaml` in root folder of the project).\n* `--verbose` - Enable verbose logging (default: `false`).\n* `--port, -p` - Port to start the server on (default for HTTP: 8080, HTTPS: 8443).\n* `--open, -o` - Open web server root directory in default browser. Optionally, supplied relative path will be appended to the root URL.\n* `--https` - Enables HTTPS over the HTTP/2 protocol for the web server (default: `false`). If you provide the `--https` parameter, but you do not provide the `--key` and `--cert` parameters, then a private key and certificate will be created automatically. **Note: For the automatic key and certificate generation, you need to have OpenSSL installed on your OS. Using HTTPS over HTTP/2 is currently not supported in SAP Business Application Studio.**\n* `--key` - Path to the private key for https (default: `\"$HOME/.ui5/server/server.key\"`).\n* `--cert` - Path to the certificate for https (default: `\"$HOME/.ui5/server/server.crt\"`).\n* `--ui5` - UI5 version to use when running the application (default: version from `ui5.yaml`).\n* `--ui5Uri` - UI5 uri to load the UI5 resources from (default: uri from `ui5.yaml`).\n* `--proxy` - specify proxy configuration, e.g. `https://myproxy:8443` (default: uses host machine proxy configuration, if any).\n\n### [fiori add deploy-config](#fiori-add-deploy-config---adds-a-deployment-configuration-to-the-project) - adds a deployment configuration to the project\n\nThe command allows adding a deployment configuration to the project. The command supports the generation of a configuration for deployment to an ABAP system or to a Cloud Foundry space.\n\n#### Deployment to ABAP \nIf `ABAP` is chosen as target then the CLI will prompt the required information to generate a `ui5-deploy.yaml` required for the `deploy-to-abap` task.\n\n#### Deployment to Cloud Foundry (CF)\nFor the deployment to CF, an MTA configuration will be created. The command allows to create a new configuration i.e. a new `mta.yaml` file or updates an existing `mta.yaml` with the information required for deployment. After successfully creating the configuration, running `npm run build` in the MTA directory that contains the application will try to build a deployable mtar file that can then be deployed to CF with `npm run deploy`.\n\n**Pre-requisites:**\n\n* Availablity of the [`mta`](https://github.com/SAP/cloud-mta) executable in the path.\nUse `npm i -g mta` to install globally\n* Availability of Cloud Foundry CLI tools. Installation instructions: https://docs.cloudfoundry.org/cf-cli/install-go-cli.html\n* Availability of CF multiapps plugin. Installation instructions: https://help.sap.com/viewer/65de2977205c403bbc107264b8eccf4b/Cloud/en-US/27f3af39c2584d4ea8c15ba8c282fd75.html\n* A correctly configured destination to the backend system\n* User authorization on CF to deploy\n\n#### Artifacts & configuration created\n\nRunning the command/task, results in a directory structure that looks like this:\n```\nmta_directory\n|_ application_directory\n   |_ ...\n   |_ webapp\n      |_ ...\n      |_ manifest.json\n   |_ ui5.yaml\n|_ cf\n   |_ deployer\n   |_ router\n   |_ flp (optional)\n...\n|_ package.json\n|_ mta.yaml\n```\n#### Information required to generate the configuration\n##### Location of MTA Directory\nThe tool finds the nearest parent directory that contains a `mta.yaml` and offers that as the MTA directory. Failing that, it defaults to the parent directory of the application.\n\n##### Destination\nDestination configured to connect to the backend on Cloud Foundry. If there's a setting in `ui5.yaml`, that value is offered as the default.\n\n##### Prefix\nPrefix used for the ID of the MTA and the service names. It defaults to the namespace of the app. If a namespace is not found, it defaults to `test`. Please choose a prefix so that the service names are unique to your MTA. Otherwise deployment by multiple people will overwrite the same service.\n\nAt the end of the generation, it's possible to optionally generate  SAP Fiori launchpad configuration (default: no).\n\n### [fiori add flp-config](#fiori-add-flp-config---fiori-launchpad-configuration-generation) - Fiori Launchpad configuration generation\nIt's possible to create configuration and artifacts required to run the application in an SAP Fiori launchpad. Depending on the target, the command will update either only the application `manifest.json` with the required inbound navigation property, or will also enhance the MTA configuration to contain a standalone FLP on CF.\n\n### [fiori deploy](#fiori-deploy---performs-the-deployment-of-the-application-into-an-abap-system) - performs the deployment of the application into an ABAP system\nDeploys an application to an ABAP frontend server.\n\n#### Options\n\n* `--config, c` - Path to config file (default: `ui5-deploy.yaml` in root folder of the project).\n* `--noConfig` - Only CLI arguments will be used, no config file is read.\n* `--destination, -d` - The destination used in SAP Business Application Studio (default: destination from `ui5-deploy.yaml`).\n* `--url, -u` - The url of the service endpoint at the ABAP system (default: url from `ui5-deploy.yaml`).\n* `--username` - Name of environment variable containing a username to authenticate (default: username from `ui5-deploy.yaml`).\n* `--password` - Name of environment variable containing a password to authenticate (default: password from `ui5-deploy.yaml`).\n* `--client, -l` - The ABAP client (default: client from `ui5-deploy.yaml`).\n* `--transport, -t` - The id of the transport request (default: transport from `ui5-deploy.yaml`).\n* `--name, -n` - The application name (default: name from `ui5-deploy.yaml`).\n* `--package, -p` - The ABAP package (default: package from `ui5-deploy.yaml`).\n* `--description, -e` - The application description (default: description from `ui5-deploy.yaml`).\n* `--yes, -y` - Deploy without asking for confirmation.\n* `--failfast, -f` - Throw an error if something goes wrong and exit with a return code != 0.\n* `--testMode, -tm` - Shows the results of CRUD operations that would be done in a real deployment to help you make an informed decision.  \n\n## [FAQ](#faq)\n\n**My backend system contains the SAP_UI component version 7.53 or newer, but the SAPUI5 repository service cannot be reached.**\n\n*A: Please check if the service has been activated. More information at <https://help.sap.com/viewer/68bf513362174d54b58cddec28794093/7.52.5/en-US/bb2bfe50645c741ae10000000a423f68.html.>*\n\n**The SAPUI5 repository service is active and reachable but whenever I deploy an application I see the following error \"Request failed with status code 400\".**\n\nThis could have multiple reasons, please check the console for more information or open transaction `/IWFND/ERROR_LOG` and check the server logs. A common issue is that during the setup, configuring a virus scan profile has been forgotten. This can be corrected in transaction `/IWFND/VIRUS_SCAN`.\n\n**SSL certificate creation and installation fails with: `Unable to find openssl - please make sure it is installed and available in your PATH`.**\n\nMost probably the `OpenSSL` package is not installed on your OS. Please install it and make sure that it is available in your `PATH` environment variable.\n\n## [Support](#support)\n\nJoin the [SAP Fiori Tools Community](https://community.sap.com/search/?by=updated&ct=blog&mt=73555000100800002345). Ask Questions, Read the Latest Blogs, Explore Content.  \nPlease assign tag: _SAP Fiori tools_.\n\nTo log an issue with SAP Fiori Tools, please see [Contact SAP Support](https://help.sap.com/viewer/1bb01966b27a429ebf62fa2e45354fea/Latest/en-US).\n\n## [Documentation](#documentation) \n\n- Visit **SAP Help Portal** for [SAP Fiori Tools](https://help.sap.com/viewer/product/SAP_FIORI_tools/Latest/en-US) documentation. \n\n## [License](#license)\n\n<details>\n    <summary>SAP DEVELOPER LICENSE AGREEMENT</summary>\n    <p/>\n    Please scroll down and read the following Developer License Agreement carefully (\"Developer Agreement\").  By clicking \"I Accept\" or by attempting to download, or install, or use the SAP software and other materials that accompany this Developer Agreement (\"SAP Materials\"), You agree that this Developer Agreement forms a legally binding agreement between You (\"You\" or \"Your\") and SAP SE, for and on behalf of itself and its subsidiaries and affiliates (as defined in Section 15 of the German Stock Corporation Act) and You agree to be bound by all of the terms and conditions stated in this Developer Agreement. If You are trying to access or download the SAP Materials on behalf of Your employer or as a consultant or agent of a third party (either \"Your Company\"), You represent and warrant that You have the authority to act on behalf of and bind Your Company to the terms of this Developer Agreement and everywhere in this Developer Agreement that refers to 'You' or 'Your' shall also include Your Company. If You do not agree to these terms, do not click \"I Accept\", and do not attempt to access or use the SAP Materials.\n    <p/>\n    1.  LICENSE:\n    <br/>SAP grants You a non-exclusive, non-transferable, non-sublicensable, revocable, limited use license to copy, reproduce and distribute the application programming interfaces (\"API\"), documentation, plug-ins, templates, scripts and sample code (\"Tools\") on a desktop, laptop, tablet, smart phone, or other appropriate computer device that You own or control (any, a \"Computer\") to create new applications (\"Customer Applications\"). You agree that the Customer Applications will not: (a) unreasonably impair, degrade or reduce the performance or security of any SAP software applications, services or related technology (\"Software\"); (b) enable the bypassing or circumventing of SAP's license restrictions and/or provide users with access to the Software to which such users are not licensed; (c) render or provide, without prior written consent from SAP, any information concerning SAP software license terms, Software, or any other information related to SAP products; or (d) permit mass data extraction from an SAP product to a non-SAP product, including use, modification, saving or other processing of such data in the non-SAP product. In exchange for the right to develop Customer Applications under this Agreement, You covenant not to assert any Intellectual Property Rights in Customer Applications created by You against any SAP product, service, or future SAP development.\n    <p/>\n    2.  INTELLECTUAL PROPERTY:\n    <br/>(a) SAP or its licensors retain all ownership and intellectual property rights in the APIs, Tools and Software. You may not: a) remove or modify any marks or proprietary notices of SAP, b) provide or make the APIs, Tools or Software available to any third party, c) assign this Developer Agreement or give or transfer the APIs, Tools or Software or an interest in them to another individual or entity, d) decompile, disassemble or reverse engineer (except to the extent permitted by applicable law) the APIs Tools or Software, (e) create derivative works of or based on the APIs, Tools or Software, (f) use any SAP name, trademark or logo, or (g) use the APIs or Tools to modify existing Software or other SAP product functionality or to access the Software or other SAP products' source code or metadata.\n    <br/>(b) Subject to SAP's underlying rights in any part of the APIs, Tools or Software, You retain all ownership and intellectual property rights in Your Customer Applications.\n    <p/>\n    3. FREE AND OPEN SOURCE COMPONENTS:\n    <br/>The SAP Materials may include certain third party free or open source components (\"FOSS Components\"). You may have additional rights in such FOSS Components that are provided by the third party licensors of those components.\n    <p/>\n    4. THIRD PARTY DEPENDENCIES:\n    <br/>The SAP Materials may require certain third party software dependencies (\"Dependencies\") for the use or operation of such SAP Materials. These dependencies may be identified by SAP in Maven POM files, product documentation or by other means. SAP does not grant You any rights in or to such Dependencies under this Developer Agreement. You are solely responsible for the acquisition, installation and use of Dependencies. SAP DOES NOT MAKE ANY REPRESENTATIONS OR WARRANTIES IN RESPECT OF DEPENDENCIES, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT DEPENDENCIES WILL BE AVAILABLE, ERROR FREE, INTEROPERABLE WITH THE SAP MATERIALS, SUITABLE FOR ANY PARTICULAR PURPOSE OR NON-INFRINGING.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF DEPENDENCIES, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, UTILITY IN A PRODUCTION ENVIRONMENT, AND NON-INFRINGEMENT. IN NO EVENT WILL SAP BE LIABLE DIRECTLY OR INDIRECTLY IN RESPECT OF ANY USE OF DEPENDENCIES BY YOU.\n    <p/>\n    5.  WARRANTY:\n    <br/>a)  If You are located outside the US or Canada: AS THE API AND TOOLS ARE PROVIDED TO YOU FREE OF CHARGE, SAP DOES NOT GUARANTEE OR WARRANT ANY FEATURES OR QUALITIES OF THE TOOLS OR API OR GIVE ANY UNDERTAKING WITH REGARD TO ANY OTHER QUALITY. NO SUCH WARRANTY OR UNDERTAKING SHALL BE IMPLIED BY YOU FROM ANY DESCRIPTION IN THE API OR TOOLS OR ANY AVAILABLE DOCUMENTATION OR ANY OTHER COMMUNICATION OR ADVERTISEMENT. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  FOR THE TOOLS AND API ALL WARRANTY CLAIMS ARE SUBJECT TO THE LIMITATION OF LIABILITY STIPULATED IN SECTION 4 BELOW.\n    <br/>b)  If You are located in the US or Canada: THE API AND TOOLS ARE LICENSED TO YOU \"AS IS\", WITHOUT ANY WARRANTY, ESCROW, TRAINING, MAINTENANCE, OR SERVICE OBLIGATIONS WHATSOEVER ON THE PART OF SAP. SAP MAKES NO EXPRESS OR IMPLIED WARRANTIES OR CONDITIONS OF SALE OF ANY TYPE WHATSOEVER, INCLUDING BUT NOT LIMITED TO IMPLIED WARRANTIES OF MERCHANTABILITY AND OF FITNESS FOR A PARTICULAR PURPOSE. IN PARTICULAR, SAP DOES NOT WARRANT THAT THE SOFTWARE WILL BE AVAILABLE UNINTERRUPTED, ERROR FREE, OR PERMANENTLY AVAILABLE.  YOU ASSUME ALL RISKS ASSOCIATED WITH THE USE OF THE API AND TOOLS, INCLUDING WITHOUT LIMITATION RISKS RELATING TO QUALITY, AVAILABILITY, PERFORMANCE, DATA LOSS, AND UTILITY IN A PRODUCTION ENVIRONMENT.\n    <p/>\n    6.  LIMITATION OF LIABILITY:\n    <br/>a)  If You are located outside the US or Canada: IRRESPECTIVE OF THE LEGAL REASONS, SAP SHALL ONLY BE LIABLE FOR DAMAGES UNDER THIS AGREEMENT IF SUCH DAMAGE (I) CAN BE CLAIMED UNDER THE GERMAN PRODUCT LIABILITY ACT OR (II) IS CAUSED BY INTENTIONAL MISCONDUCT OF SAP OR (III) CONSISTS OF PERSONAL INJURY. IN ALL OTHER CASES, NEITHER SAP NOR ITS EMPLOYEES, AGENTS AND SUBCONTRACTORS SHALL BE LIABLE FOR ANY KIND OF DAMAGE OR CLAIMS HEREUNDER.\n    <br/>b)  If You are located in the US or Canada: IN NO EVENT SHALL SAP BE LIABLE TO YOU, YOUR COMPANY OR TO ANY THIRD PARTY FOR ANY DAMAGES IN AN AMOUNT IN EXCESS OF $100 ARISING IN CONNECTION WITH YOUR USE OF OR INABILITY TO USE THE TOOLS OR API OR IN CONNECTION WITH SAP'S PROVISION OF OR FAILURE TO PROVIDE SERVICES PERTAINING TO THE TOOLS OR API, OR AS A RESULT OF ANY DEFECT IN THE API OR TOOLS. THIS DISCLAIMER OF LIABILITY SHALL APPLY REGARDLESS OF THE FORM OF ACTION THAT MAY BE BROUGHT AGAINST SAP, WHETHER IN CONTRACT OR TORT, INCLUDING WITHOUT LIMITATION ANY ACTION FOR NEGLIGENCE. YOUR SOLE REMEDY IN THE EVENT OF BREACH OF THIS DEVELOPER AGREEMENT BY SAP OR FOR ANY OTHER CLAIM RELATED TO THE API OR TOOLS SHALL BE TERMINATION OF THIS AGREEMENT. NOTWITHSTANDING ANYTHING TO THE CONTRARY HEREIN, UNDER NO CIRCUMSTANCES SHALL SAP AND ITS LICENSORS BE LIABLE TO YOU OR ANY OTHER PERSON OR ENTITY FOR ANY SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR INDIRECT DAMAGES, LOSS OF GOOD WILL OR BUSINESS PROFITS, WORK STOPPAGE, DATA LOSS, COMPUTER FAILURE OR MALFUNCTION, ANY AND ALL OTHER COMMERCIAL DAMAGES OR LOSS, OR EXEMPLARY OR PUNITIVE DAMAGES.\n    <p/>\n    7.  INDEMNITY:\n    <br/>You will fully indemnify, hold harmless and defend SAP against law suits based on any claim: (a) that any Customer Application created by You infringes or misappropriates any patent, copyright, trademark, trade secrets, or other proprietary rights of a third party, or (b) related to Your alleged violation of the terms of this Developer Agreement.\n    <p/>\n    8.  EXPORT:\n    <br/>The Tools and API are subject to German, EU and US export control regulations. You confirm that: a) You will not use the Tools or API for, and will not allow the Tools or API to be used for, any purposes prohibited by German, EU and US law, including, without limitation, for the development, design, manufacture or production of nuclear, chemical or biological weapons of mass destruction; b) You are not located in Cuba, Iran, Sudan, Iraq, North Korea, Syria, nor any other country to which the United States has prohibited export or that has been designated by the U.S. Government as a \"terrorist supporting\" country (any, an \"US Embargoed Country\"); c) You are not a citizen, national or resident of, and are not under the control of, a US Embargoed Country; d) You will not download or otherwise export or re-export the API or Tools, directly or indirectly, to a US Embargoed Country nor to citizens, nationals or residents of a US Embargoed Country; e) You are not listed on the United States Department of Treasury lists of Specially Designated Nationals, Specially Designated Terrorists, and Specially Designated Narcotic Traffickers, nor listed on the United States Department of Commerce Table of Denial Orders or any other U.S. government list of prohibited or restricted parties and f) You will not download or otherwise export or re-export the API or Tools , directly or indirectly, to persons on the above-mentioned lists.\n    <p/>\n    9.  SUPPORT:\n    <br/>Other than what is made available on the SAP Community Website (SCN) by SAP at its sole discretion and by SCN members, SAP does not offer support for the API or Tools which are the subject of this Developer Agreement.\n    <p/>\n    10.  TERM AND TERMINATION:\n    <br/>You may terminate this Developer Agreement by destroying all copies of the API and Tools on Your Computer(s). SAP may terminate Your license to use the API and Tools immediately if You fail to comply with any of the terms of this Developer Agreement, or, for SAP's convenience by providing you with ten (10) day's written notice of termination (including email). In case of termination or expiration of this Developer Agreement, You must destroy all copies of the API and Tools immediately.  In the event Your Company or any of the intellectual property you create using the API, Tools or Software are acquired (by merger, purchase of stock, assets or intellectual property or exclusive license), or You become employed, by a direct competitor of SAP, then this Development Agreement and all licenses granted in this Developer Agreement shall immediately terminate upon the date of such acquisition.\n    <p/>\n    11.  LAW/VENUE:\n    <br/>a)  If You are located outside the US or Canada: This Developer Agreement is governed by and construed in accordance with the laws of the Germany. You and SAP agree to submit to the exclusive jurisdiction of, and venue in, the courts of Karlsruhe in Germany in any dispute arising out of or relating to this Developer Agreement.\n    <br/>b)  If You are located in the US or Canada: This Developer Agreement shall be governed by and construed under the Commonwealth of Pennsylvania law without reference to its conflicts of law principles. In the event of any conflicts between foreign law, rules, and regulations, and United States of America law, rules, and regulations, United States of America law, rules, and regulations shall prevail and govern. The United Nations Convention on Contracts for the International Sale of Goods shall not apply to this Developer Agreement. The Uniform Computer Information Transactions Act as enacted shall not apply.\n    <p/>\n    12. MISCELLANEOUS:\n    <br/>This Developer Agreement is the complete agreement for the API and Tools licensed (including reference to information/documentation contained in a URL). This Developer Agreement supersedes all prior or contemporaneous agreements or representations with regards to the subject matter of this Developer Agreement. If any term of this Developer Agreement is found to be invalid or unenforceable, the surviving provisions shall remain effective. SAP's failure to enforce any right or provisions stipulated in this Developer Agreement will not constitute a waiver of such provision, or any other provision of this Developer Agreement.\n\n</details>\n","changelog":"# Change Log\nAll notable changes to this project are documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/) and the changelog is formatted based on [Keep a Changelog](http://keepachangelog.com/).\n\n## [1.13.0] - 2024-03-07\n### Changed\n- The `fiori-tools-servestatic` middleware now uses [@sap-ux/serve-static-middleware](https://github.com/SAP/open-ux-tools/tree/main/packages/serve-static-middleware)\n\n### Fixed\n- Fixed an issue with self-signed certificates and the preview of adaptation projects\n\n## [1.12.4] - 2024-02-08\n### Fixed\n- Fixed an issue with CSRF token validation when previewing\n\n## [1.12.3] - 2024-01-25\n### Changed\n- Switched to using Bearer Token for connecting to ABAP Cloud systems.\n\n### Fixed\n- Fixed an issue with the fallback version of SAPUI5 when a custom source path is specified: the check will now only be performed if the SAPUI5 source is CDN\n\n## [1.12.2] - 2024-01-10\n### Added\n- Added support for previewing adaptation projects\n\n## [1.12.1] - 2023-12-18\n### Fixed\n- Fixed an issue preventing reuse libraries from being loaded when previewing with the `start-variants-management` script for creating developer variants\n\n## [1.12.0] - 2023-11-29\n### Fixed\n- Removed usage of the deprecated `@ui5/fs` version 2 package\n- Fixed an issue with the check of a newer version preventing the server from starting if the customer is behind a corporate proxy\n\n## [1.11.4] - 2023-11-01\n### Fixed\n- Fixed an issue with using `fiori-tools-servestatic` middleware in an npm monorepository\n\n## [1.11.3] - 2023-10-18\n### Changed\n- Changed the minimum required [NodeJS](https://nodejs.org/en/download) version to 18.14.2 or higher\n\n### Fixed\n- Fixed an issue with starting developer variant creation with an older UI5 version\n## [1.11.2] - 2023-10-04\n### Fixed\n- Removed usage of the deprecated `@ui5/logger` version 2 package \n\n## [1.11.0] - 2023-09-06\n### Fixed\n- Fixed an issue with newly created variants not being shown during the preview\n\n## [1.10.6] - 2023-08-23\n### Added\n- Check the `@ui5/cli` version of the project and advise the user on how to upgrade, if version < 3\n\n## [1.10.5] - 2023-08-09\n### Changed\n- The `fiori-tools-preview` is now using the [@sap-ux/preview-middleware](https://www.npmjs.com/package/@sap-ux/preview-middleware) for the support of developer variant creation\n- The `@sap/ux-ui5-tooling` middlewares now require the `@ui5/cli` version >= 3 to be installed in the project\n\n## [1.9.5] - 2023-04-19\n### Fixed\n- Fixed an issue with not finding the preview helper library `locate-reuse-libs.js` in older apps after its default location was changed\n\n## [1.9.2] - 2023-03-09\n### Fixed\n- Fixed an issue which prevented starting the fiori-tools-appreload middleware with default setting\n- Fixed an issue with FLP embedded preview failing to load when encountering unknown encodings\n\n## [1.9.1] - 2023-02-23\n### Fixed\n- Fixed an issue where checking the UI5 version fails when the user is behind a corporate proxy\n\n## [1.8.5] - 2023-01-12\n### Added\n- The `fiori-tools-proxy` now supports more configuration properties. Please see README for more details\n\n## [1.8.4] - 2022-12-16\n### Fixed\n- Fixed an issue where project path was incorrectly added to telemetry data\n\n## [1.8.2] - 2022-11-17\n### Changed\n- Minor improvements in `WorkspaceConnector.js` when using developer variant creation\n\n## [1.8.1] - 2022-11-03\n### Fixed\n- Improved Regex for determining if host is a trusted host, when using developer variant creation\n- Fixed an issue where the SAPUI5 version check breaks the starting of the preview\n\n## [1.8.0] - 2022-10-20\n### Fixed\n- Fixed an issue with previewing applications when the user is behind a corporate proxy\n\n### Added\n- The `fiori-tools-appreload` middleware now watches also for changes in typescript files\n\n## [1.7.4] - 2022-09-08\n### Fixed\n- Fixed an issue where the use of the `pathPrefix` property was not working\n  \n## [1.7.1] - 2022-08-11\n### Added\n- Added a check if the SAPUI5 version is available on the SAPUI5 SDK when starting the application. If not, the nearest highest patch version is used instead\n\n## [1.7.0] - 2022-07-28\n### Changed\n- Improved error handling of the `fiori-tools-proxy`\n\n### Fixed\n- Fixed an issue where previewing an application using a full url destination was not working\n\n## [1.6.7] - 2022-07-14\n### Changed\n- The `fiori-tools-proxy` is now using the [@sap-ux/backend-proxy-middleware](https://www.npmjs.com/package/@sap-ux/backend-proxy-middleware) for proxying requests to the backend\n\n## [1.6.0] - 2022-05-05\n### Changed\n- The `fiori-tools-proxy` is now using the [@sap-ux/ui5-proxy-middleware](https://www.npmjs.com/package/@sap-ux/ui5-proxy-middleware) for proxying the UI5 sources\n\n## [1.5.5] - 2022-04-21\n### Fixed\n- Fixed an issue with the `fiori-tools-servestatic` middleware not serving files starting with a dot\n\n## [1.5.4] - 2022-04-07\n### Fixed\n- Fixed an issue with escaping runtime arguments on Windows with Node.js version 16\n\n## [1.5.3] - 2022-03-24\n### Added\n- Added support of new run configuration UI options\n\n### Fixed\n- Fixed an issue where developer variant creation is not starting with SAPUI5 version 1.100.0 and higher\n- Fixed an issue where an exception was thrown for SAPUI5 versions <= 1.65 when starting the application preview\n\n## [1.5.2] - 2022-03-10\n### Fixed\n- Fixed an issue with the validation of SAPUI5 snapshot versions when starting developer variant creation\n\n### Changed\n- If a port is explictly defined when previewing the application, then this port is not automatically changed, if it is occupied\n\n## [1.5.1] - 2022-02-24\n### Fixed\n- Fixed an issue with reading and comparing UI5 versions\n- Fixed an issue with previewing applications using services behind a corporate proxy\n\n### Changed\n- Build is no longer executed automatically before starting the application in an external Fiori Launchpad to accomodate custom build procedures\n\n## [1.5.0] - 2022-02-10\n### Fixed\n- Fixed an issue with reading and comparing UI5 versions\n- Fixed an issue with previewing applications using project based destination\n\n### Changed\n- Requests are not forwarded anymore to next available middleware if UI5 proxy returns 404\n\n## [1.4.7] - 2022-01-27\n### Changed\n- Forward request to next available middleware if UI5 proxy response returns 404\n- Consolidate UI5 version handling\n\n## [1.4.6] - 2022-01-13\n### Fixed\n- Improved variant management validation logic\n\n## [1.4.3] - 2021-11-18\n### Changed\n- Updated help texts\n\n### Fixed\n- Fixed an issue with resetting the IAppState on the Object Page\n\n## [1.4.1] - 2021-11-04\n### Fixed\n- Fixed minor issues\n\n## [1.4.0] - 2021-10-21\n### Added\n- Added a new option to create delivery variants/views\n\n### Fixed\n- Removed wrong WARN messages in the terminal when executing `npx fiori run`\n\n## [1.3.7] - 2021-10-07\n### Changed\n- Fixed minor issues and refactoring\n\n## [1.3.5] - 2021-09-23\n### Added\n- Added help options for SAP Fiori tools CLI. Typing `npx fiori help` will give the list of commands that the command line tools support. Help text for individual `fiori` commands can also be displayed, e.g. `npx fiori add help`.\n\n### Fixed\n- Stability fixes\n\n## [1.3.3] - 2021-09-09\n### Added\n- Added instructions for users on how to retrieve the URL of a deployed application on Cloud foundry\n\n### Fixed\n- Fixed Regex for injecting the UI5 URL into the application's HTML file\n\n## [1.3.1] - 2021-08-12\n### Fixed\n- Fixed minor issues\n\n## [1.3.0] - 2021-07-29\n### Added\n- Provided the possibility to load UI5 libs directly from CDN, instead of loading via the fiori-tools-proxy\n- Introduced iAppState handling. The iAppState is now being deleted when an application is reloaded\n\n## [1.2.5] - 2021-07-15\n### Changed\n- Internal improvements and refactoring\n\n## [1.2.4] - 2021-07-01\n### Changed\n- Minor fixes and refactoring\n\n## [1.2.3] - 2021-06-17\n### Added\n- Added new configuration parameter `fallthrough` for the fiori-tools-servestatic middleware\n\n## [1.2.1] - 2021-06-03\n### Fixed\n- Updated dependencies versions because of security fixes\n\n### Added\n- Support for previewing application with destinations that have as URL the full path to the OData service\n\n## [1.2.0] - 2021-05-20\n### Fixed\n- Fixed previewing an application with MTA configuration\n\n## [1.1.11] - 2021-05-06\n### Added\n- Added new command `npx fiori undeploy` to undeploy an application from ABAP system\n\n### Fixed\n- Fixed an issue causing the application preview to fail if a custom port greater than 9010 is specified\n\n## [1.1.9] - 2021-04-08\n### Added\n* Added support in proxy for backend system credentials stored in secure store or in .env file\n* Added new proxy configuration property: xfwd\n* Added a client property to the YAML file to be used for proxy destination handling\n\n## [1.1.5] - 2021-03-11\n### Fixed\n* Improved handling of runtime arguments\n\n### Added\n* Added support for proxying WebSockets\n\n## [1.1.4] - 2021-02-25\n### Fixed\n* Fixed handling of the ui5 version parameter in the Fiori CLI\n* Hide credentials from proxy url\n\n### Added\n* Notify user when new version is available to install\n\n## [1.1.2] - 2021-02-11\n### Fixed\n* Fixed fetching of user information when creating a system\n\n## [1.1.0] - 2021-01-27\n### Fixed\n* Fixed HTTPS support for the Livereload of the application\n* Fixed automatic SSL certificate creation\n* Fixed handling of boolean parameters in the Fiori cli\n* Fixed caching issues\n\n## [1.0.28] - 2021-01-14\n### Added\n* Support preview of applications based on datasource url of a destination configuration inside a destination instance\n\n### Fixed\n* Fixed several issues in conjunction with preview start in SAP Business Application Studio\n* Improved UI of the web page for providing the service key to a service\n\n## [1.0.26] - 2020-12-03\n### Added\n* Preview support of applications based on SAP API Business Hub services\n* Additional instructions provided to the user when generating `flp-config` to allow integration with the Launchpad module using SAP Business Application Studio\n\n### Fixed\n* Fixed issue when reading the NO_PROXY configuration\n\n## [1.0.25] - 2020-11-18\n### Fixed\n* Use ATO Catalog to fetch ATO settings\n* Other minor fixes\n\n### Added\n* Proxy support for SAP API Business Hub in SAP Business Application Studio\n\n## [1.0.24] - 2020-11-05\n### Fixed\n* Fixed dependency installation in the application folder\n* Unable to change folder for a project while generating the deployment configuration on windows\n* Fixed the generated xs-app.json for non-SAP systems\n\n### Added\n* Added support for multiple paths configuration for the fiori-tools-servestatic middleware\n\n\n## [1.0.22] - 2020-10-21\n### Fixed\n* Reduced bundle size\n\n## [1.0.21] - 2020-10-07\n### Fixed\n* Build sources are no longer minified to improve debugging.\n* Error logging improved\n* Fixed issues with unit tests\n\n### Added\n* Provided API to read and remove flex changes from the user's workspace\n\n\n## [1.0.19] - 2020-09-23\n### Fixed\n* Connectivity service information was missing from the generated mta.yaml for destinations that require it for deployment \n\n### Added\n* Support for specifying username/password provided in an environment variable and passing these as CLI arguments, instead of entering these in ui5.yaml file for deployment\n* Provide API to write flex changes into the user's workspace\n\n## [1.0.18] - 2020-09-09\n\n### Fixed\n* Fixed issue with re-deployment to ABAP\n* Updated version of the livereload package\n* Fixed configuration for Fiori Launchpad when deploying to Cloud Foundry\n\n### Added\n* Support deployment to S/4HANA Cloud\n\n## [1.0.16] - 2020-09-02\n\n### Fixed\n* Fix for UI5 parameters provided as string instead of array\n* Fix for caching of ui5 sources\n* Correct documentation for command to add deployment config\n* Improvement for command prompt when creating deployment config for mta project\n\n### Added\n* Updated documentation with info relevant to Cloud Foundry\n\n## [1.0.15] - 2020-08-12\n\n### Fixed\n* Intent ID is not overwritten when creating the SAP Fiori Launchpad deploy configuration\n\n## [1.0.11] - 2020-07-29\n\n### Fixed\n* Fixed path re-write issue in App Studio\n* Fixed Windows bundling issue\n* Fixed issue with fiori run command on Windows\n* Other minor fixes\n\n### Added\n* Deploy to Cloud Foundry\n* Confirmation added when starting the deployment process\n* Confirmation added for app name during deploy config generation\n* Confirmation added for target name during deploy config generation\n* Confirmation added for sap client during deploy config generation\n\n## [1.0.9] - 2020-07-16\n\n### Fixed\n\n* Fix loading of custom libs\n\n### Added\n\n* Add run command to Fiori CLI\n* Read fiori run cli params in the proxy middleware\n* Readme file updated\n\n## [1.0.8] - 2020-07-01\n### Fixed\n- Readme file updated\n\n## [1.0.7] - 2020-06-17\n### Fixed\n- Minor stability fixes\n\n## [1.0.0] - 2020-06-16\nRelease status: GA\n\nWe are pleased to announce the official GA of the ux-ui5-tooling.\n\n## [0.0.89] - 2020-06-03\n### Added\n- Multiple back-ends support\n- Support for custom UI5 modules\n\n## [0.0.86] - 2020-05-20\n### Added\n - Additional deploy functionality (see `npx fiori help`)\n - New command `fiori add flp-config` to add Fiori launchpad configuration\n - System keys can be uploaded to users secure store\n \n### Fixed\n - Logged URL after deploy is now correct and can be opened\n - Namespace check for `z` space during deploy configuration is not case sensitive anymore\n - Package name is now all capitals when sending to backend during deployment\n - Warning before overwriting existing deploy configuration\n\n## [0.0.85] - 2020-05-08\n### Added\n - Downloading of UI5 sources from NPM\n\n### Fixed\n- Reading proxy configuration from VSCode\n- Loading UI5 sources in SAP Business Application Studio\n- Live reload configuration\n\n## [0.0.84] - 2020-04-22\n### Added\n- Destinations support for SAP Business Application Studio\n\n### Fixed\n- Cookies and CSRF token issues fixed\n\n## [0.0.81] - 2020-04-09\n### Added\n- Deploy to ABAP functionality with OAuth support\n- New middleware for serving local ui5 sources\n- Support of snapshot UI5 versions for internal users\n\n### Fixed\n- Fix preview with local UI5 resources\n- Add proper handling for ui5Uri arg\n- Add proper handling of space separated & quoted runtime args\n\n## [0.0.79] - 2020-03-24\n### Fixed\n- Resolved issue when requests are tunneled via proxy\n\n## [0.0.68] - 2020-02-07\n### Added\n- CHANGELOG.md documenting the changes\n- Internal: enhanced test coverage\n\n## [0.0.65] - 2020-01-31\n### Fixed\n- Resolved issues when proxying OData requests to SAP systems with CSRF protection enabled\n\n## [0.0.62] - 2020-01-17\n### Added\n- Initial version\n- Included proxy and live load middlewares\n","downloadsCurrentMonth":137141,"downloadsCurrentFortnight":65900,"downloads365":1399594,"downloadsFortnightGrowth":0.55,"downloadsHistory":[{"yearMonth":"2023-04","downloads":107639},{"yearMonth":"2023-05","downloads":125407},{"yearMonth":"2023-06","downloads":121943},{"yearMonth":"2023-07","downloads":105912},{"yearMonth":"2023-08","downloads":110459},{"yearMonth":"2023-09","downloads":105907},{"yearMonth":"2023-10","downloads":120056},{"yearMonth":"2023-11","downloads":115419},{"yearMonth":"2023-12","downloads":107875},{"yearMonth":"2024-01","downloads":123072},{"yearMonth":"2024-02","downloads":125859}],"versions":[{"version":"created","date":"2020-06-14T02:36:25.166Z"},{"version":"1.0.0","date":"2020-06-14T02:36:25.644Z"},{"version":"modified","date":"2024-03-15T20:36:39.731Z"},{"version":"1.0.6","date":"2020-06-30T21:56:15.493Z"},{"version":"1.0.8","date":"2020-07-10T19:15:34.861Z"},{"version":"1.0.9","date":"2020-07-24T16:24:24.069Z"},{"version":"1.0.10","date":"2020-07-29T05:35:52.485Z"},{"version":"1.0.12","date":"2020-08-06T20:34:46.535Z"},{"version":"1.0.15","date":"2020-08-20T22:09:23.812Z"},{"version":"1.0.16","date":"2020-09-03T21:18:42.996Z"},{"version":"1.0.18","date":"2020-09-17T20:57:06.778Z"},{"version":"1.0.19","date":"2020-10-08T17:49:03.047Z"},{"version":"1.0.21","date":"2020-10-16T19:05:28.144Z"},{"version":"1.0.22","date":"2020-10-30T17:39:51.245Z"},{"version":"1.0.24","date":"2020-11-13T19:33:48.503Z"},{"version":"1.0.25","date":"2020-11-25T23:10:32.094Z"},{"version":"1.0.26","date":"2020-12-10T20:22:58.838Z"},{"version":"1.0.27","date":"2020-12-14T23:15:36.775Z"},{"version":"1.0.28","date":"2021-01-22T18:47:50.851Z"},{"version":"1.1.0","date":"2021-02-04T21:14:57.853Z"},{"version":"1.1.2","date":"2021-02-19T17:35:15.399Z"},{"version":"1.1.4","date":"2021-03-04T18:22:23.034Z"},{"version":"1.1.5","date":"2021-03-18T20:25:49.427Z"},{"version":"1.1.7","date":"2021-04-01T16:47:37.904Z"},{"version":"1.1.9","date":"2021-04-20T15:50:38.965Z"},{"version":"1.1.10","date":"2021-04-29T17:34:27.614Z"},{"version":"1.1.11","date":"2021-05-20T16:09:26.129Z"},{"version":"1.2.0","date":"2021-05-27T18:15:36.184Z"},{"version":"1.2.1","date":"2021-06-10T19:39:23.611Z"},{"version":"1.2.3","date":"2021-06-25T16:28:46.219Z"},{"version":"1.2.4","date":"2021-07-09T16:52:39.560Z"},{"version":"1.2.5","date":"2021-07-22T22:19:57.965Z"},{"version":"1.3.0","date":"2021-08-05T22:13:07.202Z"},{"version":"1.3.1","date":"2021-08-20T07:54:07.308Z"},{"version":"1.3.2","date":"2021-09-02T16:49:53.658Z"},{"version":"1.3.3","date":"2021-09-16T16:24:37.318Z"},{"version":"1.3.5","date":"2021-09-30T19:37:18.962Z"},{"version":"1.3.7","date":"2021-10-14T17:40:06.181Z"},{"version":"1.4.0","date":"2021-10-28T16:41:14.354Z"},{"version":"1.4.1","date":"2021-11-12T15:13:33.243Z"},{"version":"1.4.3","date":"2021-11-25T11:48:05.235Z"},{"version":"1.4.4","date":"2021-12-09T12:40:37.060Z"},{"version":"1.4.6","date":"2022-01-20T18:00:16.717Z"},{"version":"1.4.7","date":"2022-02-04T15:36:57.628Z"},{"version":"1.5.0","date":"2022-02-17T10:33:40.804Z"},{"version":"1.5.1","date":"2022-03-04T10:28:05.910Z"},{"version":"1.5.2","date":"2022-03-17T20:35:20.110Z"},{"version":"1.5.3","date":"2022-04-01T11:22:42.579Z"},{"version":"1.5.4","date":"2022-04-14T13:41:59.137Z"},{"version":"1.5.5","date":"2022-04-28T16:53:43.790Z"},{"version":"1.6.0","date":"2022-05-11T19:46:34.534Z"},{"version":"1.6.1","date":"2022-05-25T20:23:47.004Z"},{"version":"1.6.3","date":"2022-06-08T21:19:22.451Z"},{"version":"1.6.4","date":"2022-06-24T16:08:17.419Z"},{"version":"1.6.6","date":"2022-07-08T22:03:47.323Z"},{"version":"1.6.7","date":"2022-07-22T11:07:07.860Z"},{"version":"1.7.0","date":"2022-08-09T11:40:07.583Z"},{"version":"1.7.1","date":"2022-08-18T16:52:48.038Z"},{"version":"1.7.3","date":"2022-09-02T17:15:10.738Z"},{"version":"1.7.4","date":"2022-09-15T17:50:20.254Z"},{"version":"1.7.5","date":"2022-09-30T11:43:02.912Z"},{"version":"1.7.6","date":"2022-10-17T17:25:16.915Z"},{"version":"1.8.0","date":"2022-10-31T18:09:24.450Z"},{"version":"1.8.1","date":"2022-11-10T18:54:37.520Z"},{"version":"1.8.2","date":"2022-11-24T13:00:42.840Z"},{"version":"1.8.3","date":"2022-12-08T19:10:42.954Z"},{"version":"1.8.4","date":"2022-12-16T21:51:48.970Z"},{"version":"1.8.5","date":"2023-01-20T18:20:31.773Z"},{"version":"1.8.6","date":"2023-02-02T16:54:49.506Z"},{"version":"1.9.0","date":"2023-02-16T12:11:53.863Z"},{"version":"1.9.1","date":"2023-03-03T10:10:00.522Z"},{"version":"1.9.2","date":"2023-03-16T12:42:50.269Z"},{"version":"1.9.3","date":"2023-04-02T21:03:42.350Z"},{"version":"1.9.4","date":"2023-04-17T10:20:44.519Z"},{"version":"1.9.5","date":"2023-05-03T10:58:53.566Z"},{"version":"1.9.6","date":"2023-05-11T10:34:43.154Z"},{"version":"1.9.7","date":"2023-05-25T16:05:05.744Z"},{"version":"1.10.0","date":"2023-06-08T16:15:14.902Z"},{"version":"1.10.1","date":"2023-06-27T15:38:30.439Z"},{"version":"1.10.2","date":"2023-07-11T10:47:54.279Z"},{"version":"1.10.3","date":"2023-07-21T12:00:52.745Z"},{"version":"1.10.4","date":"2023-08-03T15:48:37.586Z"},{"version":"1.10.5","date":"2023-08-17T15:17:12.666Z"},{"version":"1.10.6","date":"2023-08-31T20:26:05.736Z"},{"version":"1.11.0","date":"2023-09-15T09:28:13.701Z"},{"version":"1.11.1","date":"2023-09-29T08:32:53.155Z"},{"version":"1.11.2","date":"2023-10-12T15:26:08.151Z"},{"version":"1.11.3","date":"2023-10-26T15:12:28.711Z"},{"version":"1.11.4","date":"2023-11-09T17:28:38.751Z"},{"version":"1.11.5","date":"2023-11-24T08:14:45.079Z"},{"version":"1.12.0","date":"2023-12-13T11:01:34.221Z"},{"version":"1.12.1","date":"2023-12-20T11:30:45.003Z"},{"version":"1.12.2","date":"2024-01-19T14:27:26.094Z"},{"version":"1.12.3","date":"2024-02-02T09:22:49.564Z"},{"version":"1.12.4","date":"2024-02-15T16:03:40.755Z"},{"version":"1.12.5","date":"2024-03-01T16:20:59.159Z"},{"version":"1.13.0","date":"2024-03-15T20:36:39.255Z"}],"npmlink":"https://www.npmjs.com/package/@sap/ux-ui5-tooling"},{"name":"vscode-cds","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T17:34:26.753Z","updatedAt":"2024-02-26T11:56:03.718Z","readme":"# @sap/vscode-cds\n\n[![Visual Studio Code Marketplace](https://img.shields.io/visual-studio-marketplace/v/SAPSE.vscode-cds?color=green&label=VSCode%20Marketplace)](https://marketplace.visualstudio.com/items?itemName=SAPSE.vscode-cds)\n![Installs](https://img.shields.io/visual-studio-marketplace/i/SAPSE.vscode-cds?label=Installations)\n[![Rating](https://img.shields.io/visual-studio-marketplace/stars/SAPSE.vscode-cds)](https://marketplace.visualstudio.com/items?itemName=SAPSE.vscode-cds&ssr=false#review-details)\n\n\n\nThis package is not intended to be installed via `npm`. For installation, please refer to [SAP CDS language support](https://marketplace.visualstudio.com/items?itemName=SAPSE.vscode-cds) on the Visual Studio Marketplace.\n\nSee the [documentation](https://cap.cloud.sap/docs/get-started/tools) for further information on tools.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).\n","changelog":"# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](https://semver.org/).\nThe format is based on [Keep a Changelog](https://keepachangelog.com/)\n\n\n\n## Version 7.6.1 - 2024-02-26\n\n### Added\n- Add preview commands to editor title\n\n### Fixed\n- Elements snippet now works when annotating artifacts in namespaces and/or contexts or if the brace after the elements is still missing\n\n\n## Version 7.6.0 - 2024-02-07\n\n### Added\n- Hover over import path of `using` statement shows `README.md` or `package.json#description` if absolute (i.e. module) import\n\n### Changed\n- Formatting option `alignAfterKey` option now applies to views and projections as well\n\n### Fixed\n- Removed padding after unary plus, minus or parameter colon\n- Artifact-elements snippet in `annotate` statement now appears regardless of cursor position between braces (or logs reason for not appearing)\n- Highlighting after semicolon in certain contexts\n- On Windows editor potentially no longer updated diagnostics for sources with annotations\n- Wrong diagnostics about unused imports\n- First code completion could have been slow as workspace was scanned unnessarily\n- Code completion for annotations was not shown in certain cases\n- `untitled` i.e. new not yet saved files no longer worked in VSCode\n\n### Also see\n- `@sap/cds-lsp` 7.6.0\n- `@sap/cds-compiler` 4.6.2\n\n\n## Version 7.5.1 - 2024-01-19\n\n### Fixed\n- Retrieval of `@sap/cds-dk` global installation path is now more robust in SAP Business Application Studio\n- Activate extension also for `jsonc` files\n\n## Version 7.5.0 - 2023-12-20\n\n### Added\n- Unused imports are reported as warning and grayed out incl. quickfix to remove them\n- Snippet proposals for artifact elements in an `annotate` statement\n- New user setting `cds.contributions.enablement.additionalAnalyticalAnnotations` (default: off) to get\n  annotation support for analytical queries (experimental)\n\n### Fixed\n- CDS schema loading is more robust\n- Removed failing `copy` function for code blocks from `CAP Release Notes`\n- CAP with Typescript (beta): command line for creating types now also works correctly on Windows\n- Padding and highlighting of identifiers with Unicode characters\n- Highlighting of `stored` keyword\n\n### Also see\n- `@sap/cds-lsp` 7.5.0\n- `@sap/cds-compiler` 4.5.0\n\n\n## Version 7.4.0 - 2023-11-16\n\n### Changed\n- Formatting\n  + Projections now similar to that of views\n  + Markdown formatting inside doc comments is now done with `marked` parser AST instead of `remark`.\n    Previously, this was enabled by default but due to slightly different formatting this feature is\n    disabled by default, now. Thus, already formatted markdown won't be changed and thus\n    won't lead to file changes when used in CI/CD via `format-cds` command.\n    Enable it via format setting `formatDocComments`.\n- Simplified trace configuration - just use `cds.trace.level`\n\n### Fixed\n- Formatting\n  + Padding of quoted identifiers\n  + Treat only /** (no additional asterisks) as start of doc comments\n- Syntax highlighting of comments within braced select item lists\n- Update of diagnostic messages could have got lost\n\n## Removed\n- Workspace validation modes `OpenEditorsAndDirectSources` and\n  `OpenEditorsDirectSourcesAndDirectDependencies` are no longer supported.\n  In real-world models they led to high CPU usage and slow responsiveness.\n  Any of these user setting values are now treated as `ActiveEditorOnly`\n  if supported by IDE, else `OpenEditorsOnly`.\n\n### Also see\n- `@sap/cds-lsp` 7.4.0\n- `@sap/cds-compiler` 4.4.0\n\n\n## Version 7.3.0 - 2023-10-09\n\n### Added\n- support for `cdsc.moduleLookupDirectories`\n- Support for merged cds schemas returned by `cds-dk`\n\n### Changed\n- formatting of action and function parameters according to existing newlines\n- Minimum VSCode version is now 1.80.0. Note: This is likely the last version that supports NodeJS 16\n\n### Fixed\n- highlighting of identifiers, annotations, actions, functions, comments, and more\n- highlighting of queries in entity definitions\n- highlighting of keywords and literals in `type` statements\n- formatting of escaped names and `order by` clauses\n\n\n### Also see\n- `@sap/cds-lsp` 7.3.0\n- `@sap/cds-compiler` 4.3.0\n\n\n## Version 7.2.0 - 2023-09-04\n\n### Added\n- CAP with Typescript (beta): add setting to customize type generation command\n\n### Changed\n- New data structures and caching to improve performance of where-used requests (e.g. Find References) and code completion\n- Elements of `mixin`s now use `SymbolKind.Field` (was: Operator) in Outline\n\n### Fixed\n- CAP notebooks: Do not restrict running of CDS Server cell\n- Highlighting of custom types starting with built-in name\n- Outline now only shows first non-empty line of docs when in semantic mode (see user setting `cds.outline.semantical`) as VSCode does not support multi-line docs\n\n### Removed\n- Legacy `Vanilla` theme - we recommend to use the default theme e.g. `Light Modern` which is similar but covers more token classes\n\n### Also see\n- `@sap/cds-lsp` 7.2.0\n- `@sap/cds-compiler` 4.2.2\n\n\n## Version 7.0.2 - 2023-07-14\n\n### Fixed\n- CDS Welcome Page does not show an error message if page is not reachable during start up\n- CDS Welcome Page now starts with correct theme\n- CAP notebooks: Only allow resolving, but not setting of env vars in Magic command cells\n\n### Added\n- CAP notebooks: add support for backslash in shell and terminal cells for multiline scripts\n- CAP notebooks: Shell-type syntax highlighting for Terminal cells\n\n## Version 7.0.1 - 2023-06-27\n\n### Changed\n- Changed default output for generated types to `@cds-models`\n- Minimum VSCode version is now 1.77.0\n\n### Added\n- CAP notebooks: CDS server cell reacts to regular expression `/started application/i`.\n\n## Version 7.0.0 - 2023-06-13\n\n### Added\n- CAP with Typescript (beta): generate TS typings from CDS model files upon save - requires `@cap-js/cds-typer` to be installed in project\n- CDS language: Support highlighting, formatting and where-used for new language constructs: ternary operator, `stored` elements and annotated `returns` statements\n\n### Changed\n- CAP notebooks: Default code cell type is 'shell'\n- Minimum VSCode version is now 1.78.0\n\n### Fixed\n- CAP Release Notes page: remove superfluous footer section\n- CAP notebooks: Magic command newline issues on windows powershell\n\n### Also see\n- `@sap/cds-lsp` 7.0.0\n- `@sap/cds-compiler` 4.0.0\n\n\n## Version 6.8.2 - 2023-05-31\n\n### Added\n- CAP notebooks: magic command can also be written inside of line- and block-comments\n### Changed\n- Changed default output directory for generated CDS types from `@types` to a `node_modules` subfolder\n### Fixed\n- Links on CAP Release Notes page are now pointing to correct locations in Capire.\n\n## Version 6.8.1 - 2023-05-12\n### Changed\n- CAP notebooks: improved Java cell example notebook\n### Fixed\n- CAP notebooks: sample notebook `Shell` now uses a cross platform example\n- CAP notebooks: shellscript syntax highlighting for `Shell` cell\n- CAP notebooks: cells `CDS`, `Java` and `Javascript` now show error message if needed executable is not found\n- Fix CAP Release Notes page\n- `Report issues` url now points to correct SAP Answers location\n\n## Version 6.8.0 - 2023-05-03\n\n### Added\n- User setting `cds.typeGenerator.localInstallationOnly` has been added to allow more finely grained control for the user over the resolution of the type generation package\n- New command `Record Traces for Support Ticket` to assist creation of support tickets for CDS editor issues \n- CAP notebooks: new cell type `CDS Server`, which is also executable for CDS background processes.\n\n### Changed\n- Welcome page will be shown based on page's hash code\n- CDS type generation will now be enabled by default\n- Improved CAP Notebooks Welcome page (better layout, responsive icons, fixed buttons).\n- Changing some CDS user settings required a manual restart of the IDE. This is no longer necessary\n- Minimum VSCode version is now 1.76.0\n\n### Fixed\n- Where-used index could be incomplete with latest OData annotation plugin\n- Formatting of quoted identifiers enclosed in square brackets\n- Extension will no longer crash when using unknown compiler versions, though, compatibility is not guaranteed \n\n### Also see\n- `@sap/cds-lsp` 6.8.0\n- `@sap/cds-compiler` 3.9.2\n\n\n## Version 6.7.0 - 2023-03-31\n### Added\n- Code completion for `using` paths now\n  + supports mono repos\n  + for _npm package_ proposals show details of `description` property of `package.json` unless `README.md` exists\n  + improved ordering\n- **Experimental** user setting `cds.typeGenerator.binary` to specify the path to the type generator binary\n- CAP notebooks: new cell type `Java` is now executable. Requires `JDK` version `9` or higher.\n\n### Fixed\n- `format-cds` command-line tool failed to run\n- _Analyze Dependencies_\n  + Some clusters (folders) with same parent cluster were rendered outside\n\n### Changed\n- _Analyze Dependencies_\n  + Folders which are npm package roots are rendered with their package name, in brown color\n  + Enhance contrast - use white font color for dark background colors\n  + Improved UX when installing required Graphviz extension\n\n### Removed\n- Quickfix to migrate (long-time removed) `cds.doc` annotation to doc comment\n\n### Also see\n- `@sap/cds-lsp` 6.7.0\n- `@sap/cds-compiler` 3.8.2\n\n\n## Version 6.6.0 - 2023-03-02\n\n### Added\n- CAP notebooks: Uri handler to open notebooks coming from Capire in local VS Code workspaces.\n- CAP notebooks: All notebook features now have a brief description with examples, available on the CAP Notebooks Welcome page.\n- Type generation now detects project root\n\n### Fixed\n- Highlighting of the last of a number of element names in a projection\n- Formatting of query `from A:B`: removed colon padding\n- Type generation stopped working after failure until next LSP restart\n\n### Changed\n- Extension now uses vscode-languageclient 8.x\n  + API consumers may need to adapt access. See [changes](https://github.com/microsoft/vscode-languageserver-node#3170-protocol-800-json-rpc-800-client-and-800-server). Especially `onReady` is no longer needed and was removed.\n- Minimum VSCode version is now 1.74.0\n- Updated capire CDL docs - used in code completion details\n\n### Also see\n- `@sap/cds-lsp` 6.6.0\n- `@sap/cds-compiler` 3.7.2\n\n\n## Version 6.5.1 - 2023-02-20\n\n### Added\n- The special `up_` element is now supported in navigation\n\n### Changed\n- `mixin` is now mapped to `LSP.SymbolKind.Operator` (was default `String`)\n- a commit hash of the last commit is now included in release under _dist/state_\n- target platform back to `es2020`\n\n### Fixed\n- Closing a CDS file led to 'forgetting' the content in the index. This resulted in:\n  + `workspace/symbols` not showing all definitions\n  + error messages of symbols not found\n  + navigation broken for 'closed' definitions\n- formatting and highlighting of nested element and enum extensions\n- code completion for keywords and identifiers may have used wrong compiler messages, thus not working as expected\n\n### Also see\n- `@sap/cds-lsp` 6.5.1\n- `@sap/cds-compiler` 3.6.2\n\n\n## Version 6.5.0 - 2023-01-30\n\n### Added\n\n- **Experimental** user setting `cds.typeGenerator.enabled` to trigger a globally installed cds type generator when saving a model file.\n\n### Changed\n- CAP notebooks: code cells (`terminal` and `shell`) have now their own working directory\n- minimum VSCode version is now 1.73.0\n\n### Fixed\n\n- _workspace/symbols_ request didn't include definitions of a file after it was closed.\n\n### Removed\n\n- `@cds.doc` annotation, which was marked as deprecated for a long time, is no longer considered in requests like _document/hover_.\n   Please use doc comments (`/** ... */`) instead. The quick fix to migrate from _@cds.doc_ to _doc comments_ is still in place,\n   but is likely to be removed in near future.\n\n### Also see\n- `@sap/cds-lsp` 6.5.0\n- `@sap/cds-compiler` 3.6.0\n\n\n## Version 6.4.0 - 2022-12-15\n\n### Added\n- CAP notebooks:\n  + possibility to declare variables and use them in magic commands, shell cells and terminal cells\n  + magic command `%%systeminfo` to render system information into the notebook\n  + magic command `%%writefile` with append option `-a`\n- formatter: new options `whitespaceBeforeColonInAnnotation` and `whitespaceAfterColonInAnnotation` for specific configuration in annotations\n\n### Changed\n- minimum VSCode version is now 1.72.0\n- uses classic `cds-lsp` for compiler versions < 3\n- formatter: non-inline pre-annotations are now prefixed with an empty line to separate them from preceding elements\n\n### Removed\n- OS specific CAP notebook cell types `Windows Bat (bat)`, `PowerShell`, `Shell Script (Bash)` are now replaced by cross-platform `Native Shell (shell)`\n\n### Also see\n- `@sap/cds-lsp` 6.4.0\n- `@sap/cds-compiler` 3.5.0\n\n## Version 6.3.0 - 2022-11-01\n\n### Added\n- CAP notebook magic command '%%extendjson' can be used to extend and overwrite existing JSON files\n- CAP notebook now supports working directory for terminal cells\n- formatting of artifact and type extensions\n- syntax highlighting of element extensions\n- syntax highlighting of numbers and some known types\n\n## Fixed\n- fix various axios related bugs\n- formatting of extensions with selectItems\n- format-cds script didn't find .cdsprettier.json\n\n### Also see\n- `@sap/cds-lsp` 6.3.0\n- `@sap/cds-compiler` 3.4.0\n\n\n## Version 6.2.1 - 2022-10-17\n\n### Fixed\n- syntax highlighting of comments\n\n### Also see\n- `@sap/cds-lsp` 6.2.2\n\n\n## Version 6.2.0 - 2022-09-30\n\n### Added\n- document link resolution of 'folder' using paths to csn index files\n- new formatting options `keepPreAnnotationsInOriginalLine` and `keepPostAnnotationsInOriginalLine`\n- auto-exposed entities are now included in semantic Outline (user setting)\n- code completion for annotations on auto-exposed entities\n\n### Removed\n- removed `cds watch` snippet\n- removed formatting option `keepAnnotationsInOriginalLine` (will be migrated to the new options when set in .cdsrc.json)\n\n### Changed\n- improved Java compatibility of TextMate grammar\n\n### Fixed\n- fixed syntax highlighting for `extend`, attribute names, type structs, and some keywords\n- fixed formatting of bracketed expressions and annotations standing in their own lines\n- fixed alignment of multiple annotations per line\n\n### Also see\n- `@sap/cds-lsp` 6.2.0\n- `@sap/cds-compiler` 3.3.2\n\n\n## Version 6.1.1 - 2022-08-08\n### Fixed\n- fixed error when text editor is not found in CAP notebook decoration\n\n## Version 6.1.0 - 2022-08-01\n### Added\n- load cds based json schemas for `package.json`, `.cdsrc.json` and `.cdsrc-private.json` dynamically based on project's cds version\n\n## Version 6.0.4 - 2022-07-13\n\n### Fixed\n- show not-supported warning when opening CAP Notebook page in SAP Business Application Studio\n\n## Version 6.0.3 - 2022-07-08\n\n### Changed\n- support the latest release of cds-compiler 3.0.2\n- added authentication and new build task names to cds schema\n\n### Also see\n- `@sap/cds-lsp` 6.0.3\n- `@sap/cds-compiler` 3.0.2\n\n## Version 6.0.0 - 2022-07-01\n\n### Added\n- using native `notebook` support for `cap-notebook`\n- support for new major cds-compiler 3.0.0\n- new user setting `cds.workspaceSymbols.caseInsensitive` (default off) to search case-insensitive\n- new user setting `cds.outline.semantical` (default off) to show outline in a rather semantic structure as opposed to a flat list\n- analyze dependencies now supports coloring of layers for monorepos\n- env.cdsc is now also considered for code completion\n- custom requests to format given content with given options (e.g. for a _formatting options config UI_) and to get path of options file\n\n### Changed\n- now requires NodeJS `>=16.11` (included in recent VSCode)\n- now requires Visual Studio Code `>=1.66`\n- use `workspace.fs` for file IO during `cds preview`.\n\n## Fixed\n- fixed glitches in cds schema support for `package.json`, `.cdsrc.json` and `.cdsrc-private.json`\n- fixed highlighting for empty block comments `/**/`\n\n### Also see\n- `@sap/cds-lsp` 6.0.0\n- `@sap/cds-compiler` 3.0.0\n\n\n## Version 4.5.6 - 2022-05-09\n\n### Added\n- file icon for CDS files\n\n### Changed\n- updated included cpaire docs\n\n### Also see\n- `@sap/cds-lsp` 5.5.9\n\n\n## Version 4.5.5 - 2022-05-05\n\n### Added\n\n- support syntax highlighting for escape sequences in template strings\n\n### Fixed\n\n- find references could have shown wrong entries from localized context\n\n### Also see\n- `@sap/cds-lsp` 5.5.8\n\n\n## Version 4.5.4 - 2022-04-05\n\n### Changed\n- `CAP Release Notes` page now persists its state\n### Fixed\n- Syntax highlighting in Business Application Studio\n\n### Also see\n- `@sap/cds-lsp` 5.5.7\n- `@sap/cds-compiler` 2.13.8\n\n\n## Version 4.5.3 - 2022-03-31\n\n### Changed\n- Consume `package.json` and `.cdsrc.json` schemas from `@sap/cds-lsp`\n- Better error message in case `cds preview` could not compile a source file\n\n### Fixed\n- No loner set NODE_ENV to production which resulted in `npm i` only installing prod dependencies\n\n### Also see\n- `@sap/cds-lsp` 5.5.6\n- `@sap/cds-compiler` 2.13.6\n\n\n## Version 4.5.2 - 2022-03-03\n\n### Added\n\n- New code-formatting options for `action`s and `function`s:\n  + `alignActionNames` (aligns names)\n  + `alignActionReturns` (aligns `returns` keywords)\n\n### Changed\n\n- Removed obsolete code-formatting option `alignAsInElements` (calculated fields use `=` now)\n\n### Fixed\n- Saving a `cds` file now automatically refreshes all open previews for this file\n- _Show Formatting Options Configuration_\n  + Showed empty samples editor\n  + Editor no longer switches to typescript\n  + No longer _save changes_ popup when closing samples editor\n  + When not opened on existing file (CDS source or .cdsprettier.json) and workspace\n    has multiple workspace folders, user has now to pick the workspace folder\n- Code formatting:\n  + Separate post-annotation with blank\n  + Remove erroneous newlines around cardinality and filter in `select`\n  + Separate projection items with newlines\n- Code completion for annotations now correctly handle e.g: @aaa.| entity\n\n### Also see\n- `@sap/cds-lsp` 5.5.5\n\n\n## Version 4.5.1 - 2022-02-04\n\n### Fixed\n\n- extension did not start in Business Application Studio\n\n### Components\n- @sap/cds-lsp 5.5.2\n\n\n## Version 4.5.0 - 2022-01-28\n\n### Added\n\n- workspace symbols query now supports filters for kinds\n\n### Changed\n\n- consume cds-compiler 2.12.0\n- code completion for `index.cds` files will now render just the folder\n- CDS language server is now bundled and minified to speed up initialization\n- performance: revalidate file on focus got only if stale index\n- memory consumption: indexes are now cached per file, no longer per compilation\n\n### Fixed\n\n- `cds preview` is now refreshing the preview correctly when called after the underlying cds file has been changed\n- `enum` was not indexed\n- `composition` of aspect was not indexed\n- symbols contained localized entries with recent compiler versions\n- workspaces with _many_ workspace folders could lead to stop lsp\n- syntax highlighting is now better aligned with CDS grammar:\n  + multi-lined strings disabled\n  + backslash escaping disabled\n  + doubled quotes inside strings to reproduce single quotes\n  + element types now include scopes and length/size arguments\n\n### Components\n- @sap/cds-lsp 5.5.0\n- @sap/cds-compiler 2.12.0\n\n\n## Version 4.4.0 - 2021-12-03\n\n### Added\n- progress monitor for long runners like References and WorkspaceSymbols\n\n### Changed\n- new 'cold start' start-up behaviour:\n    + workspace is not scanned unless required (references, workspace symbols)\n    + file contents read during compilation is cached, incl. tried missing paths during path resolution\n    + many changes to improve performance and reduce required memory\n- `cds preview` now opens a read-only editor to show the cds file preview.\n\n### Components\n- @sap/cds-lsp 5.4.0\n- @sap/cds-compiler 2.11.0\n\n## Version 4.3.0 - 2021-09-23\n\n### Added\n\n- doc comments are automatically aligned\n- new command: Restart CDS Language Support\n\n### Fixed\n\n- certain localized elements were still indexed\n- new i18n entry in properties file has corrupted existing last entry\n- inconsistency in dependency calculation could have led to incorrect revalidations after a change\n\n### Changed\n\n- consume cds-lsp 5.3.0\n- consume cds-compiler 2.7.0\n- translation support is now lazy\n- performance improvements when translation files changed\n- last workspace/symbols are cached now to speed up CAP explorer\n- user setting cds.workspace.scanCsn has now three modes: Off, ByFileExtension (new default) and InspectJson\n\n\n## Version 4.2.0 - 2021-07-30\n\n### Added\n\n- validation mode _ActiveEditorOnly_ (new default).\n  The new mode reduces number of compilations during editing and thus improves responsiveness.\n- new command _Visualize CDS file dependencies_ to analyze using dependencies of CDS model files.\n  Getting an overview of file dependencies can help to keep your project architecture clean.\n  Requires the 3rd party extension _Graphviz (dot) language support for Visual Studio Code_ (joaompinto),\n  which can be installed with a single click.\n\n### Changed\n\n- consume cds-lsp 5.2.0\n- consume cds-compiler 2.5.0\n\n## Version 4.1.1 - 2021-07-05\n\n### Changed\n\n- consume cds-lsp 5.1.1\n- consume cds-compiler 2.4.4\n- new performance relevant user settings\n  + `cds.workspace.debounceFastChanges`:  skip intermediate compilations when typing - enabled by default\n  + `cds.workspace.scanDependentModules`: skip scanning of node_modules - enabled by default, speeds up start-up time\n\n    Note:\n    - when using code completion for global identifiers (see `cds.completion.workspaceSymbols.minPrefixLength`) this option needs to be enabled\n    - for code completion of import paths in `using` statements this option needs to be enabled\n    - to include definitions from nodejs dependent modules in workspace symbols this option needs to be enabled\n\n\n## Version 4.1.0 - 2021-06-22\n\n### Note\n\nThis is a quality release focusing on performance for large models.\nThere are new user settings and some have changed their defaults.\nBest performance is achieved with default settings,\nexcept `cds.contributions.enablement.odata` which should be switched `off` to speed up compilation, unless feature is needed.\n\nAdditonal hints to increase performance:\n- Within _SAP Business Application Studio_: close `CAP Data Models and Services` view. Otherwise, it will ask for all workspace symbols at every change.\n- Settings: `Cds › Contributions › Enablement: Odata`: switch off as already mentioned above\n- Settings: `Editor › Goto Location: Alternative Definition Command`: do not select `goToReferences`. Otherwise, being already on a definition will trigger find references which requires all dirty models to be recompiled.\n- Settings: `Workbench › Editor › Limit: Enabled`: switch on\n- Settings: `Workbench › Editor › Limit: Value`: lower the number. If open editors have `using` dependencies, a change in one editor will lead to a recompile of releated editors.\n- Commands `Go to References` / `Find All References` will recompile all models that might have changed due to a change in a depending model. If there are index models it often means the complete workspace is being recompiled.\nUntil a further change, reference calculation is resonably fast.\n- Command `Go to Symbol in Workspace` will recompile the complete workspace once, then it is reasonable fast\n- Changing settings in `CDS` section will currently perform a complete workspace invalidation i.e. required indexes will lead to recompilations on-demand as described above\n- Changing certain `cds.env` settings e.g. folder configurations will invalidate the workspace as well\n\n### Changed\n\n- consume cds-lsp 5.1.0\n- consume cds-compiler 2.3.2\n- user settings\n    + cds.workspaceValidationMode new default: OpenEditorsOnly\n    + cds.workspace.scanCsn new settings with default switch off (before implicitly on)\n    + cds.quickfix.importArtifact new setting with default off (before implicitly on)\n- command `Install CDS Development Kit (@sap/cds-dk) globally` will now show a progress dialog as long as it is running\n\n## Version 4.0.4 - 2021-05-11\n\n### Changed\n- uses `@sap/cds-lsp@5.0.5`\n- new user option `cds.env.fetch` to dynamically fetch _cds.env_ when using non-default i18n file/folder names\n\n### Fixed\n- asynchronous scanning of workspace blocked and led to high cpu usage (mostly on Linux/macOS)\n\n## Version 4.0.2 - 2021-05-06\n\n### Changed\n- uses `@sap/cds-lsp@5.0.3`\n- uses `@sap/cds-compiler@2.2.4`\n\n## Version 4.0.1 - 2021-04-22\n\n### Changed\n- now requires Visual Studio Code `>=1.54`\n- entry `Preview as hdbtable` replaces `Preview as hana` in `CDS Preview` menu\n- uses `@sap/cds-lsp@5.0.1` which includes fixes for namespace handling\n\n## Version 4.0.0 - 2021-03-31\n\n### Note\nThis is a major release which comes with @sap/cds-compiler v2.\nIt still supports cds-compiler v1 if used in your project\nor via global @sap/cds-dk.\n\n### Added\n- semantic highlighting - to be enabled via user setting `cds.semanticHighlighting.enabled`\n- new API for annotation handler to support semantic highlighting\n\n### Changed\n- consume cds-compiler 2.1.4\n\n## Version 3.4.0 - 2021-03-25\n\n### Added\n- preliminary support for cds-compiler 2.x\n\n### Changed\n- now requires Visual Studio Code `>=1.53`\n- uses `@sap/cds-lsp@4.4.1`\n- uses `@sap/cds-compiler@1.50.0`\n\n## Version 3.3.0 - 2021-02-01\n### Added\n- find references for annotations\n\n### Changed\n- extension is now called `SAP CDS language support`\n- uses `axios@0.21.1`\n- uses `@sap/cds-lsp@4.3.0` (see corresponding changelog for details)\n- uses `@sap/cds-compiler@1.49.0`\n- new user options for where-used requests<br/>\nuntil now this functionality was enabled by default and now needs to be enabled via user options\n  + generic annotations - where a certain annotation 'class' or 'namespace' is used\n  + strings literals - where same string literals are used\n\n### Fixed\n- temporary folder for `CDS Preview` commands is no longer part of project to avoid files being checked in\n- revalidates workspace after an initial annotation plugin installation to show annotation errors w/o the need of manual code edit\n\n## Version 3.2.0 - 2020-11-27\n\n### Added\n- quickfix for deprecated identifiers\n- support for quickfixes in annotation handler\n\n### Changed\n- using native submenu for `CDS Preview` commands\n- now requires Visual Studio Code `>=1.50`\n- updated npm modules\n  + `cds-lsp 4.2.0`\n  + `cds-compiler 1.46.4`\n\n### Fixed\n- improvements to the `cds section` scheme used in `.cdsrc.json` and `package.json`\n- bug fixes for annotation handler and others\n\n## Version 3.1.4 - 2020-11-12\n\n### Fixed\n- file system watching no longer worked with latest VSCode\n\n### Changed\n- updated npm modules\n  + `cds-lsp 4.1.2`\n\n## Version 3.1.3 - 2020-11-10\n\n### Fixed\n- internal refactoring and bug fixes\n\n## Version 3.1.2 - 2020-11-09\n\n### Fixed\n- support for mono repo file system layouts did not work in certain cases\n- completion proposals for annotations were not shown at top of the list if inside an annotation\n- only update workspace settings file if needed due to changed fileSystemWatch setting\n\n### Changed\n- updated npm modules\n  + `cds-lsp 4.1.1`\n\n## Version 3.1.0 - 2020-11-02\n\n### Added\n- release notes page shows loading text while loading content\n- user setting `cds.releaseNotes.showAutomatically` to enable or disable automatic display of `CAP Release Notes` when a new version is available\n- support mono repo file system layouts\n- user setting to disable odata plugin\n- detection of slow running odata plugin (when validating) incl. user settings to disable and fine tune\n- user setting for omitRedundantTypesInSnippets for annotations\n- user setting to enable file system watching to track installation of @sap/cds in project\n\n### Changed\n- install/update contributions completely async\n- completion no longer suggests types when values are meant\n- project cds-lsp settings overrule all\n- consume cds-compiler 1.45.0\n\n### Fixed\n- validation of annotation plugins led to 100% cpu load\n- globally installed cds was not reliably found\n- code completion for annotation plugins did not work inside annotations at @ characters\n- bug fixes\n\n\n## Version 3.0.1 - 2020-10-23\n\n### Changed\n- release notes page uses longer timeout (30sec) when waiting for content\n\n### Fixed\n- `preview as...` commands now overwrite preview file content instead of appending\n- `preview as...` commands only fail when `cds compile` returned with exit code != 0 (severe error)\n\n\n## Version 3.0.0 - 2020-09-30\n\n### Added\n- Plugin support for domain specific annotation handlers, featuring\n  + diagnostics\n  + code completion\n  + hover information\n  + goto definition\n  + quickfix to maintain translation\n  + auto-installation/update with user setting for npm registry\n\n- code completion inside string literals and `![...]` identifiers is automatically triggered by `/` character (additionally to `.` and `@`)\n\n- snippets applied via code completion are now formatted\n\n- `action`s and their parameters are now indexed and support code navigation, hover etc.\n\n### Changed\n- updated npm modules\n  + `cds-lsp 4.0.0`\n  + `cds-compiler 1.42.2`\n\n### Fixed\n- bug fixes\n\n\n## Version 2.6.1 - 2020-09-24\n\n### Changed\n- using `axios` for https access to CAP release notes\n- `CAP release notes` are now displayed when new version is available on `Capire`\n\n### Fixed\n- the `preview as...` commands are more robust and generate preview files without cds extension\n\n### Added\n- command `install cds-dk` now available to install `CDS Development Kit (@sap/cds-dk)` globally\n\n\n## Version 2.6.0 - 2020-09-01\n\n### Added\n- various commands for generating preview files from a cds file\n- Code completion proposes identifiers not yet imported in current file and generates corresponding `using` statement\n  + user setting: minimum number of characters required to propose those identifiers (`cds.completion.workspaceSymbols.minPrefixLength`). Default is -1 (=off)\n  + user setting: limit number of global identifiers (`cds.completion.workspaceSymbols.maxProposals`). Default is -1 (=unlimited)\n- Code formatting: options `whitespaceBeforeColon` and `whitespaceAfterColon` are now supported inside `Composition` structs\n- Code formatting: support configuration of alignment of `Composition` structs (option `alignCompositionStructToRight`)\n\n### Changed\n- updated npm modules\n    + `cds-lsp 3.5.0`\n    + `cds-compiler 1.39.0`\n\n\n## Version 2.5.0 - 2020-08-05\n\n### Added\n- various commands for generating preview files from a cds file\n\n### Changed\n- now requires Visual Studio Code `>=1.46`\n- updated npm modules\n    + `cds-lsp 3.4.3`\n    + `cds-compiler 1.35.0`\n\n\n## Version 2.4.2 - 2020-07-29\n\n### Added\n- issue reporting url pointing to `https://answers.sap.com/`\n- new user setting `cds.completion.workspaceSymbols` (default `off`) to add workspace symbols to code completion proposals\n\n### Changed\n- updated npm modules\n    + `cds-lsp 3.4.2`\n    + `cds-compiler 1.34.0`\n- internal refactorings\n\n## Version 2.4.1 - 2020-07-13\n\n### Changed\n- extension is now hosted on Visual Studio Marketplace and updates from there\n  + update configuration and update command have been removed\n\n## Version 2.4.0 - 2020-07-10\n\n### Added\n\n- support for docComments (/** ... */)\n  + hover over artifact will consider docComment\n  + snippet to create\n  + formatting will beautify docComments, incl. new option maxDocCommentLine\n  + quickFix to convert @cds.doc annotation to docComment incl. beautify\n  + distinct syntax highlighting for docComments\n- quickFix to generate using statement for not yet imported artifacts\n  + sorted by module and artifact name, beautified\n- semantic code completion for elements, enums, actions and parameters in annotate and extend (via cds-compiler 1.32.0)\n- syntax highlighting identifiers, including variants delimited with \\![...]\n- identifier completion proposals are prioritized by message severity\n- messages may now contain related information\n- added INSTALLATION.md for 3rd party IDE integrations\n\n### Changed\n- updated npm modules\n    + `cds-lsp 3.4.0`\n    + `cds-compiler 1.32.0`\n- improved `README.md`\n  + updated feature list\n\n### Fixed\n- enum keyword was wrongly syntax highlighted\n- when an ignored source file is closed, potential messages are wiped\n- annotations of extensions were not indexed\n- bug fixes\n\n## Version 2.3.3 - 2020-06-26\n\n### Added\n- added properties `dest` and `mtx` to code completion list for `tasks` and `for` in cap project package.json files\n\n### Fixed\n- syntax highlighting: colorize identifiers, including variants delimited with \\![...]\n- minor clean up in welcome page handling\n\n\n## Version 2.3.2 - 2020-06-17\n\n### Changed\n- using new npm modules\n    + got 11.1.4\n\n\n## Version 2.3.1 - 2020-05-25\n\n### Added\n- add a welcome page with current release information\n\n\n## Version 2.3.0 - 2020-04-26\n\n### Added\n- use global @sap/cds/common if locally not available\n\n### Changed\n- now requires Visual Studio Code 1.41+\n- using new npm modules\n    + cds-lsp 3.3.1\n    + cds-compiler 1.26.2\n- (alpha): diagnostics and hover support for external annotation providers\n\n### Fixed\n- Minor fixes and improvements\n\n\n## Version 2.2.0\n\n### Added\n- install/update global cds-dk\n\n### Changed\n- using new npm modules\n    + cds-lsp 3.2.0\n    + cds-compiler 1.24.3\n- remove option for compiler origin - compiler will always be picked in that order: Project -> Global(via DK&CDS) -> BuiltIn\n- remove irrelevent formatting option (trimTrailingWhitespace)\n\n### Fixed\n- global npm root for Business App Studio was not found with compiler origin option ProjectThenGlobalThenBuiltIn\n\n\n## Version 2.1.4\n\n### Changed\n- using new npm modules\n    + cds-lsp 3.1.3\n    + cds-compiler 1.23.2\n\n### Added\n- pick up compiler and env via global cds-dk if cds not (yet) in project\n\n\n## Version 2.1.3\n\n### Changed\n- using new npm modules\n    + cds-lsp 3.1.2\n    + cds-compiler 1.23.1\n\n### Added\n- code formatting\n    - options can now be overridden in source comments e.g. // @formatter tabSize:3\n    - new option to add/remove final line break\n    - new option to trim trailing whitespace\n\n### Fixed\n- in some cases csn files with .json extension where not detected and thus workspace symbols were incomplete\n\n\n## Version 2.1.2\n\n### Fixed\n- Minor bugs and improvements\n\n\n## Version 2.1.1\n\n### Changed\n- using new npm modules\n    + cds-lsp 3.1.1\n\n### Added\n- code formatting\n    - option to keep original empty lines\n    - ability to start config UI from any .cdsprettier.json\n    - use most relevant .cdsprettier.json when starting from source file\n    - use .cdsprettier.json in user home when none available in project\n\n### Fixed\n- formatting options were taken from homedir instead of preferring from project\n\n\n## Version 2.1.0\n\n### Changed\n- using new npm modules\n    + cds-lsp 3.1.0\n    + cds-compiler 1.22.0\n\n### Added\n- extended translation support\n    - now all runtime-supported formats (.properties, .json, .csv) incl. quick fixes to create missing entries\n    - now all runtime-supported customizations (filename, folder name, fallback_bundle, default_language)\n        - if entries of fallback language are missing but are defined for default language the latter ones are used\n        - quick fix will use default language if file/json-node/section for fallback language does not exist\n        - quick fix will try to keep entries sorted\n- allow .cdsprettier.json to be located in user home dir\n\n### Changed\n- code formatting\n    - improve alignment of types, values, and preceding `:` or `=` operators\n\n### Fixed\n- code formatting\n    - fix, improve, and allow to better adjust alignments and whitespace\n    - fix alignment of annotations in `annotate` statement\n    - fix casing of and indentation after `Association` and `Composition`\n    - fix formatting of parts of `select` statement in case of nesting and after `in`\n    - fix positioning of brace `{` after annotation if requested to be kept in previous line\n    - fix bug where token starting with `$` was merged\n- config UI\n    - fix cap/issues#3498 - prettierrc file appears with content\n    - fix: no longer selects editor content\n- file watching for cds related files did no longer work in recent versions of VSCode e.g. package.json, .cdsrc.json, all supported translation file formats, ignore files\n\n\n## Version 2.0.0\nOfficial support for code formatting\n\n### Changed\n- consume cds-lsp 3.0.0\n    - code completion\n        - more snippet variants for extend\n        - no longer differ entity suggestions between within service or outside\n        - base types with parameters now suggested as simply keyword w/o params and additional suggestion as snippet (param names now enclosed in < >)\n        - changed label indicator for snippets from <> to ellipsis\n    - code formatting\n        - rework formatting options: add/remove options according to relevance, rename/group options for clarity, change default behavior in some cases\n        - various improvements, including in case statements and bracketed conditions\n- consume cds-compiler 1.21.1\n\n### Fixed\n- code formatting\n    - fix alignment of annotations in views\n    - safely identify unreserved keywords\n\n\n## Version 1.4.0\n\n### Changed\n- **requires `Visual Studio Code` version `1.40.0` or higher**\n- consume cds-lsp 2.1.21\n- consume cds-compiler 1.20.3\n\n### Added\n- support LSP configuration via settings file in workspace incl. logs in workspace\n\n### Fixed\n- Fix indentation after element definitions using Association or Composition\n- fix: extraction of root models did no longer work since @sap/cds#3.19\n- code formatting\n    - Fix indentation of keywords `union`, `except`, and `minus`\n    - Make alignments more consistent generally\n    - Improve readability by padding operators with blanks\n    - Improve alignment of bracketed conditions\n\n\n## Version 1.3.1\n- fix reloading formatting options in config UI\n- consume cds-lsp 2.1.19\n    - fixes and enhancements for code formatting\n- consume cds-compiler 1.20.0\n\n## Version 1.3.0\n- configuration UI for formatting options\n- consumes cds-lsp 2.1.17\n    - fixes and enhancements for code formatting\n        - renamed settings file to .cdsprettier.json\n- renamed tmLanguage for syntax highlighting\n- consume cds-compiler 1.19.2\n- requires `Visual Studio Code` version `1.38.0` or higher\n\n## Version 1.2.12\n- deprecate `updatesite` setting\n- requires `Visual Studio Code` version `1.36.0` or higher\n\n## Version 1.2.11\n- consumes cds-lsp 2.1.10\n    - fixes and enhancements in syntax highlighting and code formatting\n\n## Version 1.2.10\n- requires `Visual Studio Code` version `1.35.0` or higher.\n- consumes cds-lsp 2.1.9\n    - Syntax highlighting now uses different classifications (=colors) for annotations and comments\n    - Support user settings in $LSP/.cds-lsp/.settings.json for IDEs which do not support user settings (Eclipse, Intellij, ...)\n    - No longer report compiler messages for csn files\n    - Preparation for config editor for formatting options\n    - Deadlock detection and prevention for code formatting incl. option to cancel or try best in case\n    - Use json parsing from compiler for csn files (which allows comments etc.)\n    - Fixes and enhancements in source formatting\n- consume cds-compiler 1.17.3\n\n## Version 1.2.9\n- consume cds-lsp 2.1.8\n    - code formatting - many fixes and enhancements\n        - now on by default but still experimental\n    - syntax highlighting reworked for CDL and CQL keywords\n    - where-used index now with using path segments\n    - updated cds documentation (in code completion)\n    - outline now shows contexts and services with fully qualified name\n    - other fixes and improvements\n- consume cds-compiler 1.17.0\n\n## Version 1.2.8\n- consume cds-lsp 2.1.7\n  - consume cds-compiler 1.16.2\n\n## Version 1.2.7\n- consume cds-lsp 2.1.6\n\n## Version 1.2.6\n- consume cds-lsp 2.1.5\n- take syntax file form LSP\n\n## Version 1.2.5\n- use internal extension install command instead of command line call to `code` executable to install vsix file.\n- requires `Visual Studio Code` version `1.33.0` or higher.\n- consume cds-lsp 2.1.4\n  - consume cds-compiler 1.15.0\n  - experimental support for beautify\n\n## Version 1.2.3\n- consume cds-lsp 2.1.3\n  - consume cds-compiler 1.14.0\n\n## Version 1.2.2\n- consume cds-lsp 2.1.2\n  - consume cds-compiler 1.13.4\n- Use cds-compiler from project workspace by default (option now called 'cds.compiler.origin' with default 'Project_Then_BuiltIn')\n- Option to log internal compiler errors: 'cds.compiler.showInternalErrors' (default true). Same errors are reported at most once per minute.\n- minor fixes\n\n\n## Version 1.2.1\n- consume cds-lsp 2.1.1\n  - consume compiler 1.13.1\n  - performance improvements (less compilations and reduced memory footprint)\n  - Links to folders in using statement are now resolved\n\n## Version 1.2.0\n- consume cds-lsp 2.1.0\n  - consume compiler 1.12.1\n  - new where-used index with less memory consumption and support for references of custom annotations, built-in types, string constants and better tracking of identifiers in CQL\n  - targets of using statement now rendered as links (via documentLink request)\n\n## Version 1.1.5\n- Updated cds-lsp to 2.0.8\n  - performance optimizations for translation support\n  - consume cds-compiler 1.10.0\n- Updated json schema to reflect latest cap config changes.\n- Use json schema also for `.cdsrc.json` file.\n\n## Version 1.1.4\n- Updated cds-lsp to 2.0.7\n    - new user setting: cds.compiler.markMissingI18nDefault (default: off) to show problem markers for unresolved i18n references\n\n## Version 1.1.3\n- Updated cds-lsp to 2.0.6 - bugfixes plus\n- Updated cds-compiler to 1.9.0\n\n## Version 1.1.2\n- Updated cds-lsp to 2.0.5 with\n    - suggest @sap/cds/common as default path in using snippet if dependency to @sap/cds is present\n- Updated cds-compiler to 1.8.1\n\n### Also see\n- Changes of `@sap/cds-lsp@2.0.5`\n- Changes of `@sap/cds-compiler@1.8.1`\n\n## Version 1.1.1\n- Updated cds-lsp to 2.0.3 with\n    - doc support (snippet for localization, hover on translation id)\n- Updated cds-compiler to 1.8.0\n\n### Also see\n- Changes of `@sap/cds-lsp@2.0.3`\n- Changes of `@sap/cds-compiler@1.8.0`\n\n## Version 1.1.0\n### Added\nSupport for documentation and translation in CDS source files\n\n### Also see\n- Changes of `@sap/cds-lsp@2.0.0`\n- Changes of `@sap/cds-compiler@1.6.0`\n\n## Version 1.0.37\n- Updated cds-lsp to 1.4.25 with\n    - support for documentation tags and translation\n        - show documentation when hovering\n        - show documentation at code completion\n        - take @title, @description and @cds.doc into account\n        - resolve translation and show warning marker when translation not available\n        - quickfix to create missing translation\n        - snippet for @cds.doc\n- Updated compiler to 1.6.0\n    - especially with support for code completion of items in using statement\n\n## Version 1.0.36\n- Updated cds-lsp to 1.4.24\n- Updated compiler to 1.5.0\n\n## Version 1.0.35\n- New icon\n- Updated cds-lsp to 1.4.23\n- Updated compiler to 1.3.0\n- Added code completion for paths in using statement\n- CSN files are now detected and including in where-used index e.g. for workspace symbols\n- Introduce per-file compilation mode which speeds up where-used features expecially for large workspaces. User setting cds.compilation.mode (default PerFile)\n- Installation of dependencies in package.json files\n    - now configurable via user setting cds.autoInstallDependencies (default off)\n    - if turned on it only reinstalls if dependency definitions exist and have changed since last install. Other changes in package.json files are ignored\n    - package.json files are no longer reformatted when installing dependencies\n    - cdsignore can be used to exclude paths from installation e.g. test folders with package.json files\n- Check for updates when user changes update config\n- Bug fixes\n\n## Version 1.0.34\n- Updated compiler to 1.1.3\n- bug fixes\n\n## Version 1.0.33\n- Updated compiler to 1.1.2\n- bug fixes\n\n## Version 1.0.32\n- Snippets now with language documentation\n- New snippets for annotate and enum type\n- Add json validator for cds entry in package.json\n- Add package.json snippet for npm script \"watch\"\n- Replace auto build with npm script (see npm script \"watch\")\n- Robustness\n- No more logging from LSP to CDS console\n\n## Version 1.0.31\n- Support for multiple workspace folders\n- Editor now detects much more identifiers\n- Compiler 1.1.0\n- Improve error handling when update site is invalid or incorrectly configured\n\n## Version 1.0.30\n- Bug fixes (update, ...)\n\n## Version 1.0.29\n- Use cds-lsp 1.4.12\n\n## Version 1.0.28\n- Use cds-lsp 1.4.10\n\n## Version 1.0.27\n- Use os environment proxy settings as fallback when available (http_proxy, https_proxy, no_proxy)\n\n## Version 1.0.26\n- Use cds-lsp 1.4.8\n- Proxy settings (http.proxy, http.proxyAuthorization, http.proxyStrictSSL) will be used when downloading update\n- Bug fixes\n\n## Version 1.0.25\n- Use cds-lsp 1.4.7\n\n## Version 1.0.24\n- Bug fixes (installation, ...)\n\n## Version 1.0.23\n- Use cds-lsp 1.4.4\n    - New setting: cds.workspaceValidationMode\n        - OpenEditorsOnly\n        - OpenEditorsAndDirectSources\n        - OpenEditorsDirectSourcesAndDirectDependencies\n- Show compiler version on status bar when it changes for 10secs\n- Bug fixes (code completion, ...)\n\n## Version 1.0.22\n- Add external update mechanism\n","downloadsCurrentMonth":8589,"downloadsCurrentFortnight":5548,"downloads365":1597132,"downloadsFortnightGrowth":96.18,"downloadsHistory":[{"yearMonth":"2023-04","downloads":141271},{"yearMonth":"2023-05","downloads":165933},{"yearMonth":"2023-06","downloads":167400},{"yearMonth":"2023-07","downloads":175889},{"yearMonth":"2023-08","downloads":170056},{"yearMonth":"2023-09","downloads":165524},{"yearMonth":"2023-10","downloads":150376},{"yearMonth":"2023-11","downloads":143019},{"yearMonth":"2023-12","downloads":143081},{"yearMonth":"2024-01","downloads":117524},{"yearMonth":"2024-02","downloads":6305}],"versions":[{"version":"created","date":"2020-06-11T17:34:26.753Z"},{"version":"2.1.4","date":"2020-06-11T17:34:27.189Z"},{"version":"modified","date":"2024-02-26T11:56:03.718Z"},{"version":"2.2.0","date":"2020-06-11T17:34:36.237Z"},{"version":"2.3.0","date":"2020-06-11T17:34:45.421Z"},{"version":"2.5.0","date":"2020-08-06T15:23:58.546Z"},{"version":"2.6.0","date":"2020-09-03T13:00:06.134Z"},{"version":"3.0.0","date":"2020-10-14T08:06:13.710Z"},{"version":"3.0.1","date":"2020-10-26T11:58:04.213Z"},{"version":"3.1.0","date":"2020-11-04T14:29:51.824Z"},{"version":"3.1.3","date":"2020-11-10T12:17:10.416Z"},{"version":"3.2.0","date":"2020-12-04T14:54:13.612Z"},{"version":"3.3.0","date":"2021-02-03T14:22:46.328Z"},{"version":"4.0.0","date":"2021-04-07T12:52:39.719Z"},{"version":"4.0.1","date":"2021-04-29T10:09:38.061Z"},{"version":"4.0.2","date":"2021-05-10T11:03:42.638Z"},{"version":"4.0.4","date":"2021-05-11T18:39:07.721Z"},{"version":"4.1.0","date":"2021-06-24T08:59:46.898Z"},{"version":"4.1.1","date":"2021-07-09T11:44:25.623Z"},{"version":"4.2.0","date":"2021-08-10T09:30:39.574Z"},{"version":"4.3.0","date":"2021-09-27T12:23:53.660Z"},{"version":"4.4.0","date":"2021-12-06T15:06:14.770Z"},{"version":"4.5.0","date":"2022-01-31T09:33:58.394Z"},{"version":"4.5.1","date":"2022-02-07T08:29:34.110Z"},{"version":"4.5.2","date":"2022-03-04T09:19:27.265Z"},{"version":"4.5.3","date":"2022-03-31T15:17:03.948Z"},{"version":"4.5.4","date":"2022-04-07T06:15:20.162Z"},{"version":"6.0.0","date":"2022-07-04T15:03:33.098Z"},{"version":"6.0.3","date":"2022-07-11T11:29:35.134Z"},{"version":"6.0.4","date":"2022-07-14T07:06:23.827Z"},{"version":"6.1.1","date":"2022-08-11T17:03:39.854Z"},{"version":"6.2.0","date":"2022-10-10T09:49:43.507Z"},{"version":"6.2.1","date":"2022-10-18T07:47:20.478Z"},{"version":"6.3.0","date":"2022-11-02T09:25:47.486Z"},{"version":"6.4.0","date":"2022-12-15T20:24:01.479Z"},{"version":"6.5.0","date":"2023-01-30T15:02:33.296Z"},{"version":"6.5.1","date":"2023-02-20T11:52:12.794Z"},{"version":"6.6.0","date":"2023-03-03T08:16:06.345Z"},{"version":"6.7.0","date":"2023-04-03T14:34:11.032Z"},{"version":"6.8.0","date":"2023-05-04T10:39:54.817Z"},{"version":"6.8.1","date":"2023-05-12T09:10:59.199Z"},{"version":"6.8.2","date":"2023-05-31T15:08:33.526Z"},{"version":"7.0.0","date":"2023-06-14T17:55:56.720Z"},{"version":"7.0.1","date":"2023-06-27T07:31:40.826Z"},{"version":"7.0.2","date":"2023-07-14T09:55:33.044Z"},{"version":"7.2.0","date":"2023-09-06T08:10:46.057Z"},{"version":"7.3.0","date":"2023-10-10T09:13:59.210Z"},{"version":"7.4.0","date":"2023-11-17T11:41:50.356Z"},{"version":"7.5.0","date":"2023-12-20T18:06:58.684Z"},{"version":"7.5.1","date":"2024-01-19T10:54:51.137Z"},{"version":"7.6.0","date":"2024-02-07T18:50:31.248Z"},{"version":"7.6.1","date":"2024-02-26T11:56:03.274Z"}],"npmlink":"https://www.npmjs.com/package/@sap/vscode-cds"},{"name":"webide-hdi-base-feature-vscode","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-16T14:58:25.119Z","updatedAt":"2024-03-13T17:12:28.609Z","readme":"# SAP HANA Calculation View Editor Base\r\n\r\n## Installation\r\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\r\n\r\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\r\n\r\n## License\r\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"## 1.27.0\n\n### New Features\n- The impact of columns is shown across external analytic privileges\n\n### Fixes\n- The \"find data sources\" dialog filter does not work reliably\n- Rechecking the \"generate grants files\" option removes the roles assignment while creating synonym during cross container access\n- Not able to select user-defined functions without input parameters in the calculated column expression editor of a calculation view\n\n## 1.26.1\n\n### Fixes\n- Synonym name is not added in the hdbsynonym file if generate hdbsynonymconfig is checked during synonym\n- HTTP request url is truncated when search string contains at least one '#'\n- hdbgrants file that is generated during the Add Data Source dialog using an HDI-service does not reference via the service key\n- In Add Data Source dialog when generating hdbgrants file: value help for roles uses application user instead of hdi-service user even in HDI service context\n\n## 1.26.0\n\n### New Features\n- External objects are included when showing column impact across objects\n\n## 1.25.0\n\n### New Features\n- Group objects by schema in find data sources dialog\n\n### Fixes\n- Don't list tables in Find Data Sources for Star Join\n- Opening editors should not be blocked if the editor cannot find a .hdiconfig file\n- The deployment is not triggered when the 'Create synonym configuration file' option is checked.\n\n## 1.24.0\n\n### Fixes\n- Namespaces could be generated as \"null\" in the synonym editor\n- A synonym could be used instead of a user-defined function in the expression editor\n\n## 1.23.0\n\n### New Features\n- Multiple output parameters can be listed in the UDF tab of the expression editor\n\n### Fixes\n- Add \"previous\" and \"next\" buttons to associations dialog\n- Fixed incorrect filter behavior for types in the \"Add data source\" dialog\n- Unable to search database artifact in calculation view edit with connection to service manager\n\n## 1.22.0\n\n### New Features\n- Business context information is shown if available when modeling joins.\n\n### Fixes\n- Only offer side-effect free procedures for input parameters derived by procedure\n\n## 1.21.0\n\n### Fixes\n- More than two data sources can be added to a non-equi join node\n\n## 1.20.0\n\n### New Features\n- User-defined functions support in SQL Expressions (filter & calculated attributes)\n\n## 1.19.0\n\n### Fixes\n- Able to add same data source multiple times in projection node\n- Create synonym button does not work in add data source dialog\n\n## 1.18.0\n\n### Fixes\n- Fetching roles while creating synonym throws service error\n- Mass generation of synonyms creates synonyms also in unselected schemas\n\n## 1.17.0\n\n### Fixes\n- Internal hierarchy views are listed for modelling\n- Unable to add the table while creating a calculation view when the table name is of only one character\n- Service name is blank in find and add dialog of nodes\n\n## 1.16.0\n\n### Fixes\n- The calculation view editor could hang when running in VS Code\n- Creating a synonym for a synonym in the Add Data Source dialog could lead to a deployment error\n\n## 1.15.0\n\n### Fixes\n- Adaptations for running in VS Code\n\n## 1.14.0\n\n### Fixes\n- Manage joins wizard is blank on replacing dimension in star join\n- Unexpected warning message when creating synonym to the object in an HDI container\n\n## 1.13.0\n\n### Fixes\n- Table generation through \"Maintain Time Tables\" does not show table syntax and shows build error\n\n\n## 1.12.0\n\n### New Features\n- Calculation views can define a snapshop view for a specific query\n\n## 1.11.0\n\n### Fixes\n- Schema filter on \"Add Data Source\" dialog\n- \"Add data source\" dialog does not display objects with same name as calculation view without any warning\n- Table function nodes should also allow searching for synonyms\n- Table function in another hdi-container is not found in the \"Add Data Source\" dialog if only a container service is selected\n\n## 1.10.0\n\n### Fixes\n- The column metadata is not read when creating synonym in the \"Add Data Source\" dialog\n\n## 1.9.0\n\n### Fixes\n- The \"create synonym\" dialog could hang when adding a data source if external objects are referenced\n- The synonym editor added the schema name for target objects that are in the same container\n\n## 1.8.0\n\n### New Features\n- Parameter mappings can be managed when replacing a data source\n\n### Fixes\n- Object types are displayed consistently in the \"Add Data Source\" dialog\n\n## 1.7.1\n\n### Fixes\n- The analytical privilege editor displays the procedure correctly when selecting dynamic analytical privileges\n- External objects are now shown when adding data sources in the synonym editor\n\n## 1.7.0\n\n### New Features\n- Improved usability and user experience of the find objects dialog\n\n### Fixes\n- The \"Finish\" button is enabled when only one item is selected\n- Fixed an issue when opening the \"Find data sources\" dialog in the analytical privileges dialog\n\n## 1.6.0\n\n### Fixes\n- The add data source dialog displays a warning message when adding objects with same name as a calculation view\n\n## 1.5.0\n\n### New Features\n- Roles can be chosen graphically when creating a synonym\n\n### Fixes\n- Filtering columns when adding a data source could lead to unexpected behavior\n- A synonym created when adding a data source could be missing the schema field\n- Columns of an external object could be missing\n- The \"Finish\" button could be enabled if a synonym already exists\n\n## 1.4.0\n\n### New Features\n- It is now possible to display the name of the service through which an external object is accessible when adding an object\n\n### Fixes\n- User-provided services using the target container credentials are handled correctly\n\n## 1.3.0\n\n### Fixes\n- The search result now shows synonyms as expected when \"Target Container Service\" is selected with external service(s)\n- The option \"use existing synonym\" is no longer enabled by default for synonym creation\n- The schema name is now set correctly in generated hdbsynonymconfig files\n\n## 1.2.0\n\n### New Features\n- Simplify using objects outside of a project\n- Improved \"replace data source\" dialog\n\n### Fixes\n- Mass import of synonyms now filters by the selected schema\n- Further reduced size of headers of requests sent to the backend\n- Fix an issue where wrong results could be displayed in the search box\n- Updated the UI library\n- Metadata of synonyms whose names start with a whitespace is displayed correctly\n- The \"Create Synonym\" button is disabled if there is no data\n\n## 1.1.0\n\n### Fixes\n- Reduced size of headers of requests sent to the backend\n- Fixed a bug in the Import elements dialog which caused the editor to hang\n\n## 1.0.0\n\nInitial release\n","downloadsCurrentMonth":3240,"downloadsCurrentFortnight":1715,"downloads365":883235,"downloadsFortnightGrowth":21.98,"downloadsHistory":[{"yearMonth":"2023-04","downloads":77649},{"yearMonth":"2023-05","downloads":87584},{"yearMonth":"2023-06","downloads":87058},{"yearMonth":"2023-07","downloads":86657},{"yearMonth":"2023-08","downloads":91907},{"yearMonth":"2023-09","downloads":90530},{"yearMonth":"2023-10","downloads":96039},{"yearMonth":"2023-11","downloads":88302},{"yearMonth":"2023-12","downloads":79976},{"yearMonth":"2024-01","downloads":69570},{"yearMonth":"2024-02","downloads":2984}],"versions":[{"version":"created","date":"2020-12-16T14:58:25.119Z"},{"version":"1.0.0","date":"2020-12-16T14:58:25.580Z"},{"version":"modified","date":"2024-03-13T17:12:28.609Z"},{"version":"1.1.0","date":"2021-04-15T14:41:39.953Z"},{"version":"1.2.0","date":"2021-06-11T13:47:24.711Z"},{"version":"1.3.0","date":"2021-07-28T21:58:29.952Z"},{"version":"1.4.0","date":"2021-09-10T11:41:40.135Z"},{"version":"1.5.0","date":"2021-10-22T07:27:14.971Z"},{"version":"1.6.0","date":"2021-12-16T11:58:06.863Z"},{"version":"1.7.0","date":"2022-01-13T21:06:42.339Z"},{"version":"1.7.1","date":"2022-02-01T08:27:24.338Z"},{"version":"1.8.0","date":"2022-03-09T20:45:00.825Z"},{"version":"1.9.0","date":"2022-04-05T08:37:58.721Z"},{"version":"1.10.0","date":"2022-05-10T07:25:54.085Z"},{"version":"1.11.0","date":"2022-06-03T14:53:23.451Z"},{"version":"1.12.0","date":"2022-07-04T14:48:01.979Z"},{"version":"1.13.0","date":"2022-08-04T10:30:59.628Z"},{"version":"1.14.0","date":"2022-09-23T19:33:57.665Z"},{"version":"1.15.0","date":"2022-10-14T09:42:16.398Z"},{"version":"1.16.0","date":"2022-11-11T13:39:37.193Z"},{"version":"1.17.0","date":"2022-12-07T15:15:13.596Z"},{"version":"1.18.0","date":"2023-01-17T10:43:48.539Z"},{"version":"1.19.0","date":"2023-03-09T08:52:38.571Z"},{"version":"1.20.0","date":"2023-04-12T10:57:10.503Z"},{"version":"1.21.0","date":"2023-05-31T15:18:51.957Z"},{"version":"1.22.0","date":"2023-07-10T19:44:26.317Z"},{"version":"1.23.0","date":"2023-08-14T21:48:19.597Z"},{"version":"1.24.0","date":"2023-09-27T11:00:58.403Z"},{"version":"1.25.0","date":"2023-11-13T12:26:42.644Z"},{"version":"1.26.0","date":"2023-12-16T20:57:25.088Z"},{"version":"1.26.1","date":"2024-01-25T15:59:50.372Z"},{"version":"1.27.0","date":"2024-03-13T17:12:28.154Z"}],"npmlink":"https://www.npmjs.com/package/@sap/webide-hdi-base-feature-vscode"},{"name":"webide-hdi-feature-vscode","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-12-16T15:02:17.270Z","updatedAt":"2024-03-14T14:15:39.105Z","readme":"# SAP HANA Calculation View Editor\n\n## Installation\nThis module is intended to be used only within the [SAP Business Application Studio](https://help.sap.com/viewer/9d1db9835307451daa8c930fbd9ab264/Cloud/).\n\nSee the [documentation](https://help.sap.com/viewer/product/HANA_CLOUD/latest/en-US?task=develop_task) for more details.\n\n## License\nThis package is provided under the terms of the [SAP Developer License Agreement](https://tools.hana.ondemand.com/developer-license-3_1.txt).","changelog":"## 1.29.0\n\n### New Features\n- Propose pre and post fix to make column names unique\n- New option \"deprecate and block queries\"\n- The impact of columns is shown across external analytic privileges\n\n### Fixes\n- 'Add to output' option does not work if the source name contains '/'\n- Fix descriptions of execution hint buttons\n- Scale values of decimal datatype is not propagated while mapping input parameters from a user-defined function in a calculation view\n- Refreshing metadata doesn't work in the target view when the changes are made via recursive propagation to the consuming view.\n- The \"Where Used\" dialog cannot be opened anymore when closed via escape key\n- Fix aggregation attributes hint text\n- Fix some issues deleting nodes in calc view editor\n\n## 1.28.1\n\n### Fixes\n- Cleaned up refactoring dialog\n- The check impact operation of hangs when propagating renaming a calculation view\n- Disable \"where used outside of the calculation view\" when multiple parameters are selected\n- Switch the positions of the rename icon with the generate label icon.\n- The message strip for the system time is too wide\n- Remove TEXT and VARBINARY from list of input parameter data types\n- For some data sources the option \"Replace With Node\" is not visible in the mapping pane, and it is always not visible in the join definition\n- The dialog does not appear when clicking \"Replace With Node\" option in the mapping pane\n- Refactor dialog doesn't show impacted input parameter in external hdi container\n- Renaming a column without recursive refactoring leads to inconsistent state\n- Output column name may contain colons\n- The editor could generate many popup html element when click validation info button for UDFs\n- Prevent mapping of columns of type VECTOR or BLOB in an aggregation or star-join\n- Option \"Evaluate Early\" should only be shown when connected to a HANA Cloud database\n- Check calc view name across schema when renaming calc view\n- Fixed more situations where a context menu may display out of bounds of the window\n- Disable scale for String data type\n- Fix texts in column name unique dialog\n- Unclear hint for label generation failure when CF token is expired\n- Info for generate currency column should be improved in non-semantic nodes\n- Duplicate entries for Timestamp datatype in input parameter datatypes list of Calculation view\n- Renaming parameter does not correctly adjust filter expression\n- The Duplicate icon button should be disable when there is no data for Restrictions\n- Replace node breaks join\n- Joins on constants in non-equi-joins do not write operator information to XML\n- Add Data Source dialog of star-join nodes shows also synonyms that point to non-calculation views\n- Propagate Adding fail for the Star Join node\n\n## 1.28.0\n\n### New Features\n- External objects are included when showing column impact across objects\n\n### Fixes\n- A column label may not be saved\n- SQL execution failure does not show error details\n- No hint for label generation failure when logged out of Cloud Foundry\n- A snapshot is lost if mdsCubes is not empty\n- Buttons disappear for larger number of parameters\n- Removing a column from a node created on a link is not working correctly\n- Set the calculation view editor as 'read only' when the XML includes the embedded moonlight\n- Propagate the deletion of a node doesn't work correctly\n- Fixed some issues with propagating recursively adding/deleting columns\n- Track which application has originally generated the XML\n- Cannot add result column for newly created window function nodes\n- Auto layout with join node is not saved\n- The context menu can be out of bounds\n- The length and scale of variables are sometimes set to NaN\n\n## 1.27.0\n\n### New Features\n- Adding and deleting a column can be propagated through all dependent views\n- Filter mapping is also possible for non-equi joins\n- Data sources can be refreshed while a calculation view is open\n- Labels for columns can be generated automatically\n- Reference information in the references dialog is grouped\n\n### Fixes\n- The synonym editor displays a \"*.configure\" column\n- Variant cannot be fetched when generating fiscal time data\n- Unclear message when parsing calculation view fails\n- Line comments are not correct for filters and in the expression editor\n- Removing a mapping can fail when mapping three columns to one\n- Deployments could fail after undo\n- The \"keep\" flag cannot be set for one attribute of a shared dimension\n- Icons are not shown when connecting columns in non-equi join node for the first time\n- Window function arguments not updated after renaming columns\n- Dynamic join does not work with technical join\n- Filter expressions are not saved when sources are not connected in a multi-join node\n- Buttons disappear for larger number of parameters\n- Window function result column validation message is inconsistent\n- Change \"star join\" to \"non-equi join\" in warning message\n- Removing a column from a node created on link is not working correctly\n- Window function result column is available in expression editor\n- The target value field of rank node behaves inconsistently\n\n## 1.26.0\n\n### New Features\n- Removal of outlier values before aggregation in restricted columns\n- Multiple nodes can be selected in a calculation view\n\n### Fixes\n- Special characters are allowed in window function in result column\n- Text fixes\n- \"restrictionExpressionLanguage\" was added redundantly to the XML\n- Rename of column in hierarchy function node causes build failure\n- Nonexistent standard tables are getting auto-populated in quantity with unit of measure semantics dialog\n- Data preview in XS Advanced projects does not work\n- Provide Where Used Outside Current View functionality also for input parameters and variables\n- Auto synonym generation does not work in time table generation in BAS\n- 'Where Used outside current view' does not work when the column is used in expression and reference\n- 'Cancel' button looks disabled in rename dialog of analytic privilege\n\n## 1.25.0\n\n### New Features\n- Allow selecting specific T009/T009B tables or synonyms pointing to T009/T009B as an alternative when generating fiscal timetable data\n- Renaming a column is propagated through all dependent views\n- Column impact can be displayed in addition to column lineage\n- Multiple output parameters can be listed in the UDF tab of the expression editor\n\n### Fixes\n- The deployment with input parameters is not working\n- Restricted column aggregation behavior lists both attributes and columns\n- Able to remove data source in read only debug mode\n- Greedy pruning setting doesnt work in Non equi join node\n- Fixed a warning message when opening the parameters pane\n- Value help for synonyms in analytic privilege uses wrong schema\n- Proposed cardinality is 0..0 when there is no data in the underlying data source\n- Replace With Node doesn't work\n- The editor remains in busy state after extracting a variable\n- Reading data from a hierarchy could fail\n- Unable to search database artifact in calculation view edit with connection to service manager\n- Dragging a view node onto a link is not working\n- Unable to set the first level in hierarchy node of leveled function generation\n- Unexpected text 'Adjust the expression manually' appears when checking where-used of a column\n- When replacing data source, remove mapping option doesn't work in the step manage mappings\n- Window Function output column data type not populated\n- Set \"Execute in SQL Engine\" as default for new calculation views created via new-file dialog\n- Join Definition can't be shown after switch table\n\n## 1.24.0\n\n### New Features\n- Business context information is shown if available when modeling joins.\n\n### Fixes\n- Hierarchy data in the analytic privilege editor could be missing\n- Fixed some inconsistent behaviour when no value is selected for restricted columns\n- A null value could be mapped to a calculated column\n- Regular columns can show reference information\n- The filter icon could be shown for nodes after the removal of a filter\n- The filter mapping was not saved in star joins if no join was defined\n- The dialog for currency conversion does not open for already defined measures\n- Refactor of column used in analytic privilege doesn't work\n- The expression editor for temporal tables allows columns and calculated columns as inputs\n- A misleading join validation message could be displayed in debug mode\n- Only offer side-effect free procedures for input parameters derived by procedure\n\n## 1.23.0\n\n### New Features\n- The default view of the data preview can be set via the setting \"Calculation View Editor > Data Preview: Default Display Option\".\n- A new object type filter \"table type\" is available.\n- Filter mappings can be maintained graphically, similar to join mappings.\n- Exception aggregation attributes are checked for consistency.\n- An SQL Editor can be opened from the context menu of calculation view nodes.\n- The join cardinality and optimize join column can be set for non-equi-joins.\n- Support \"between/and\" and \"from/to\" option for system-versioned tables.\n\n### Fixes\n- The hierarchy could be missing in the data preview if a calculation view has input parameters\n- Always generate technical join in join node\n- The value help of \"associated attribute restrictions\" could be empty in the analytic privilege editor\n- Integrity constraint should not be filled for joins other than referential joins\n- Rank nodes could be edited in read only mode\n- Cannot remove rank column by unselecting \"Generate Rank Column\" checkbox\n- Fields are wrongly marked as mandatory in add constant dialog of union node\n- Renaming dialog does not show reason why renaming fails\n- Rank node of type \"Rank\" could be created with wrong XML initially\n- The data preview could fail if called from a CAP project\n- Debug query does not contain Fuzzy Search input parameters\n- Refactoring dialog changes cursor positions if temporarily an invalid namespace is typed in\n- Unable to add data source into Minus node\n- Debugging a calcuation view with input parameters proposes wrong input value\n- The mapping pane could show an incorrect tooltip\n- A grey rectangle appears if the working area is too small\n- The text of the selected items in the mapping control pane is displayed in bold font to make the selection more visible\n\n## 1.22.0\n\n### New Features\n- Support modify (drag/drop) link symbol in join editor\n- Allow reordering of sources in each node\n- User-defined functions support in SQL Expressions (filter & calculated attributes)\n- Allow selecting the direction of filter mappings\n- Offer exception aggregation for (calculated) measures that is written to BIMC\n\n### Fixes\n- The variant could be missing in the generated data for fiscal time tables\n- No option to change the column type of the result_column of a window function\n- The deployment could fail after replace with data source\n- Rename column and adjust reference doesnt work if the column is used in variable\n- Renaming analytic privilege adds a namespace\n- Input parameter mapping to multiple table functions doesn't work correctly\n- Text joins only allow 1:1 cardinalities but N:1 should also be supported\n- Validation procedure wrongly called for column engine expressions\n\n## 1.21.0\n\n### Fixes\n- Output columns could show incorrect error status.\n- A message is displayed if a dynamic join is used in a calculation view\n- Unrelated files could get corrupted when refactoring calculation views\n- SQL views were shown as calculation views in the data lineage view\n- The Data Preview Button was not displayed for window functions\n- Added missing up/down buttons\n- Expression in non-equi join is not flushed after data source replacement\n- The value help for Currency does not show any value.\n- Graphical changes to join columns in non-equi-joins are not persisted\n- Join node definition drag issue when a join node got more than two inputs\n- Add missing space between list box and label\n- Fixed tooltip for remove button in synonym editor\n- Removing columns that feed into join nodes with filter mapping leads to an inconsistent XML\n- Improve dialog messages for filter mapping\n- SQL comment is not removed correctly when validating an expression\n\n## 1.20.0\n\n### New Features\n- Deploy/undeploy interface calculation view for snapshots\n- Allow changing the sequence of mapped columns in the mapping pane\n- Added an option to apply filters to both partners of a join\n\n### Fixes\n- Fixed a Javascript error reported in performance mode\n- The limit for start and end year is not correct in Maintain Time Tables\n- Undo/Redo not synchronized with display for temporal table entries\n- Navigation Tab bottom border changed to 2 bold lines\n- Add a reload button when not logged in to Cloud Foundry\n- Fixed a console error \"menubutton cannot be child of sap.ui.common.toolbar\"\n- Restricted column editors offer wrong types of input parameters\n- Removed the modeling commands from the command palette\n- Red error indicator of Static list parameters doesn't go off in calculation view\n- Wrong expression type for graphically modeled restricted columns\n- Mass generation of synonyms creates synonyms also in unselected schemas\n- Deployment of Calculation view with HDI_REQUIRES_1 Execution Hint fails.\n\n## 1.19.0\n\n### New Features\n- Search functionality for columns in the \"Columns\" tab\n- The impact editor displays a dedicated icon for synonyms\n\n### Fixes\n- Switching from column to expression in non equi join doesn't work if one of the data source is an alias\n- Display folder dialog doesn't list all the attributes\n- Error when changing output column used as window function partition\n- Can't copy/paste NonEquiJoin node\n- Join node in Cal View corrupted after removing incorrect mapping\n- Fixed an issue with undo renaming view node\n- Able to add operators in filter expression in read only mode\n- Replace node option does not appear for nodes that are used more than once\n- No Validation is set for Variant Table and Variant field while creating FISCAL calendar Table\n- Calculation views could become corrupted\n- The suffix name displayed on the object definition tab is incorrect\n- Inline data preview failed on a function data source\n- Rank node: input parameters cannot be selected as option to provide value for field Offset\n- Consuming table function via synonyms doesn't give expected result\n- Only one value comes up for Hierarchy value help for variable\n- Offset is not copied while copying rank node\n\n## 1.18.0\n\n### New Features\n- The calculation view editor allows undo and redo of actions with history\n\n### Fixes\n- Impact analysis doesn't work after refactoring\n- Could not able to unselect selected 'Client Column' in Properties Section of a data source\n- Optimized the memory consumption of modeling objects\n- Order by in Window function node changes to other column when it is not available\n- Fix \"SAP HANA Modeling: Maintain Time Tables\" command for VS Code\n- Data Preview Doesn't Work in VS Code\n- Input parameter used in rank node goes off\n- Window function node can't work for copy/paste\n- Don't include applicationTime1 for hdbsystemversioning\n- Error while creating Raw view in BAS\n- Fix SQL hierarchies for value help on HANA Cloud\n- Shortcuts don't work in VS Code\n- Can't save mapping after replace with data source in new BAS with VS Code\n- Cannot remove output columns used as order attributes in window function or rank nodes\n- Replace node changes properties of join\n- Refactor page is blank when rename one calculation file name in VS Code\n- Maintain Time Table doesn't work on VS Code\n- Able to add more than two data sources in non equi join node\n- Propagate to Semantics option does not work after renaming of column\n\n## 1.17.0\n\n### New Features\n- Pruning option \"Greedy Pruning\"\n- Enhanced execution hints with greedy pruning options\n- System versioning and application time tables as data sources\n- Lineage and impact analysis are shown across HDI container boundaries\n\n### Fixes\n- Opening a calculation view or analytic privilege was not possible when the database module was not bound\n- The calculation view editor could hang while opening a calculation view\n- A warning message was displayed when opening the semantics \"Advanced\" tab\n- All temporal fields are kept after replacing data source\n- The calculation view editor could hang while executing a debug query\n- Removed option to map variable to parameter of function that is used in an input parameter derived by function\n- Opening the value help on dimensional calculation view columns in a calculated column of a star calculation view could hang the whole model\n- Rename and refactor of calculation views works in read only mode\n- Variable warning message has null as table name\n- Input parameters could not be shown\n\n## 1.16.0\n\n### Fixes\n- Optimize join column flag goes off when set in join dialog\n- Manage joins wizard is blank on replacing dimension in star join\n- Cannot remove apply filter column from variable if column comes from dimension view\n- Join information is lost in the new copied node after swapping the table\n- Create Constant dialog in Union node offers VARCHAR per default which should be replaced by NVARCHAR\n- Value help does not work for input parameters under certain circumstances\n- Input parameter should not have single quotes in SVT expressions\n- Union pruning configuration table not created in same folder like calculation view\n- The search function does not work in value help under certain circumstances\n- The data type could be missing in details columns pane\n- One node can connect to join node multiple times\n- Cannot search name in Add Execution Hints dialog\n- Don't delete all filters in Apply Filter for Variable\n- Renamed calculated column not updated in expressions of e.g., filters and other calculated columns\n- Undo after adding a node does not work completely\n- NonEquiJoin show red error marker if you add its source node after NonEquiJoin node\n- Input parameter mapping dialog maps wrong views and mappings cannot be removed\n- Check for allowed years in generate time data is too strict\n- Rank not copied correctly\n- The Rank Partition Column can not be replaced after renaming the column\n\n## 1.15.0\n\n### Fixes\n- Node deletion combined with mapping leads to an inconsistent XML\n- Clear the previous query result set for a new query in snapshot\n- Multi-join node connection to more than one nodes causes invalid view and broken relationships\n- Renaming of Calculation view design-time artifact shows invalid snapshot procedure during deployment\n- Table icon disappears on entering performance analysis mode when consuming partitioned tables.\n- For snapshot interface use run-time snapshot table\n- A join node having more than 2 input can not save note text\n- Incorrect icon for .hdbviews when consumed in a Calculation View\n- No warning is shown when apply filter column is not populated\n- Union configuration table can not edited\n- In filter expression renaming an input parameter changes take place after re-opening the view and filter expression language is changed to \"Column Engine\"\n\n## 1.14.0\n\n### Fixes\n- Data preview on multi-join node\n- Snapshot interface - Parameter type should be static list\n- Renamed columns do not get updated in definition tab\n- Virtual table icon is missing for virtual tables created via Non-HANA remote sources\n- Rename/adjust references of input parameter does not work when input is provided via find and replace option\n- Rename of input parameter in a Calculation View does not reflect changes in the filter expression editor tab\n- \"defaultExpressionLanguage\" is missing when multiple expressions for input parameter default value is defined\n- Analytic Privilege editor does not allow adding more than six rows\n- Renamed calculated column not updated in expressions of filters, and other calculated columns\n- \"Value Help\" of input parameter leads to metadata call failure when defined on a synonym\n- Analytic Privilege deployment in \"SAP Business Application Studio\" is unstable\n- Window functions are not in the alphabetic order\n- Client column is not visible for some data sources\n- Non-equal join does not reflect renaming\n- Rank node of type \"Sum\" requires \"Sort Column\" and it is not marked as mandatory\n- Join reordering leads to inconsistency in join definition\n\n## 1.13.0\n\n### New Features\n- Calculation views can define a snapshop view for a specific query\n\n### Fixes\n- When executing the debug query, the error message is now selectable for copy/paste\n- The \"add-table-function\" item is displayed properly \n- Restricted column that have been renamed can be copied\n- Variable extraction of shared dimension in star join retains reference column\n- Mapping of an input parameter to a table function is prevented\n- Currency conversion allows the selection of a calculated columns from dimensions\n- The detail column panel allows multiple column selection\n- Generated timetable has no content and leads to deployment failure when the namespace is not empty\n- Rename input parameter and adjust references causes build failure when the impacted objects are hdbroles\n\n## 1.12.0\n\n### New Features\n- Median as aggregation function\n- Session variables can be mapped into data sources\n\n### Fixes\n- Performance Analysis shows incorrect info about the datasource\n- Auto Parameter Mapping does not propagate parameter's type\n- Error message is not clear for time table creation when is not logged-in to Cloud Foundry\n- Mass synonym creation requires at least one external service to work\n- Variable extraction from underlying view does not work\n- \"Red X\" is shown when XML modified by GUI for dimensions having column with dot sign in star join\n- Creation of Pruning configuration table fails with no content in \".hdbtable\" file\n- Currency conversion semantics of a measure goes off when calculation view is closed and re-opened in BAS\n- Copying multi-join node loses copied data information that results into inconsistent XML\n- ComboBox list becomes uneditable after selecting median aggregation\n- Incorrect alias proposal causes build failure\n- Auto mapping parameter hangs on redoing the auto mapping\n\n## 1.11.0\n\n### Fixes\n- Remove superfluous Input ID in properties of data sources in Union nodes\n- The option \"Mass Import of Synonyms\" filters out schemas\n- Improve the filter selection in data preview\n- Relax fiscal calendar variant type format for more tolerance towards whitespaces\n- Auto Parameter Mapping Issue\n- Change default hierarchy type to SQL\n- \"Maintain Time Tables\" not working in Business Application Studio\n\n## 1.10.0\n\n### New Features\n- Prune data sources that do not contribute to requested measures in a union\n- Objects referecing an input parameter, variable, calculated column, or restricted column can be displayed\n\n### Fixes\n- Show errors if virtual table parameters cannot be retrieved\n- Fixed an error that could lead to an empty parameter pane\n- Fixed an error that could lead to an empty details pane\n- Data preview could fail if multiple views with the same name exist\n- Usability improvements\n\n## 1.9.0\n\n### New Features\n- The data preview can show hierarchies\n- Parameter mappings can be managed when replacing a data source\n\n### Fixes\n- The replace data source dialog contained unexpected steps\n- A user-friendly message is shown if a connection to Cloud Foundry cannot be established\n- The data type of count columns is displayed correctly\n- The synonym editor did not fill-in schema name when using target container service\n- The calculation view editor details pane shows content when more than 3 editors are open\n\n## 1.8.2\n\n### Fixes\n- External objects are now shown when adding data sources in the synonym editor\n- Time data generation now works when generating fiscal data with variants\n\n## 1.8.1\n\n### Fixes\n- The configuration option to explicitly configure whether a data preview query should be automatically executed did not work correctly under some circumstances\n\n## 1.8.0\n\n### New Features\n- Improved usability and user experience of the find objects dialog\n- A new configuration option was added to explicitly configure whether a data preview query should be automatically executed\n- The data preview allows the preview of hierarchies on SAP HANA Cloud\n\n### Fixes\n- The input parameter/variable mapping dialog is refreshed correctly\n- The non-equi-join cardinality is set correctly\n- An error message is shown if the generation of time data fails\n- Fixed the conversion of graphical restricted columns to expressions\n- Fixed the data preview after reordering dimensions\n- Fixed the display of the parameter pane when multiple calculation view editor instances are open\n- Time data is generated correctly if the project is inconsistent\n- Fixed the aggregatable flag for count distinct columns\n- Stacking multi-join nodes could lead to erratic behavior\n- Spatial join information could be lost in XML or wrong\n\n## 1.7.0\n\n### New Features\n- Calculation views can be configured to use the session user when evaluating masked data\n- Improved value help for calculation view execution hints\n\n### Fixes\n- Improved message if a debug query fails\n- Fixed the deletion of a hiarchical privilege in the analytical privilege editor\n- Fixed an error when mapping fuzzy search parameters\n\n## 1.6.0\n\n### New Features\n- Additional keyboard shortcuts\n- Roles can be chosen graphically when creating a synonym\n- Calculated columns, input parameters, and restricted columns can be filtered\n- The default join in a star join is set to left-outer instead of referential\n- Improved usability when debugging a calculation view\n- Enable data preview using a different database user\n- Input parameters of calculation views can be mapped to input parameters of SQL views\n\n### Fixes\n- It is now possible to show the source service when creating a synonym\n- Improved usability when copying a variable with a filter\n- Opening a dimension calculation view when debugging a start join works as expected\n- It is now possible to set a client column when the data source is a calculation view\n- The default values for generating time tables are no longer invalid\n- Expressions in non-equi-joins are validated correctly\n- The expressions for new default values of input parameters and variables are now marked as SQL\n- Warn when assigning a variable to an attribute that already has a variable assigned\n- Fixed an inconsistency when replacing a data source with a node\n- Fix shortcuts on MacOS\n\n## 1.5.0\n\n### New Features\n- It is now possible to display the name of the service through which an external object is accessible when adding an object\n\n### Fixes\n- Fix an issue that could lead to orphaned table nodes in multi-join node models\n- Fixed replace with data source in star join models\n- User-provided services using the target container credentials are handled correctly\n- Set \"Aggregate All nodes\" to true by default\n- Column remapping works now if the DEL key is used to remove the old mapping\n- Fixed an issue that could lead to an inconsistency between the model in the file and the model in memory\n- Fixed incorrect display of SQL and column engine functions\n- Removed the field \"Default Member\" from node \"Semantics\" --> \"General\"\n- Fix quoting of numeric input parameters\n- Add the \"Like\" operator to the expression editor\n- Function keys are now working correctly when used as shortcuts\n- Include notes when copying a parameter\n\n## 1.4.0\n\n### New Features\n- Add keyboard shortcuts for commmon modeling actions\n- Keep join type and cardinality in the properties view when a non-equi-join uses an expression\n- Enable copy and paste of input parameters, variables, calculated columns, restricted columns, and hierarchies\n\n### Fixes\n- Fix an issue that could lead to deployment failures when using non-equi joins\n- Fix an issue where changes in a calculation view are not saved after deploying\n- Add infobox information to flags under Semantics --> Advanced\n- Fix generated XML for variables of type \"Single Value\" that use an expression as default value\n- Add \"aggregate all nodes\" option for migrated calculation views\n- Fix an issue where filter expressions on a multi-join node could disappear after closing the editor\n- Fix an issue where the validation of a newly added filter expression on a multi-join node fails\n- Fix an issue where adding an expression to a multi-join nodes results in deployment failure for the calculation view\n- Fix an issue where changes to column \"Label\" could be lost\n- Fix wrong expression when creating a non-equi join\n- Add missing cancel button in non-equi join \"Create Constant\" dialog\n- Fix value help dialog for \"Single Value\" parameter value\n- Remove deprecated field \"Count Star Column\" from Semantics --> General\n\n## 1.3.0\n\n### New Features\n- Reordering of variables and parameters in the semantics node\n- Replace a data source with an existing node\n- Improved \"Replace data source\" dialog\n\n### Fixes\n- Fix editor conflicts by consuming new UI library version\n- The result column is no longer offered as a sort column in rank nodes\n- Further reduced size of headers of requests sent to the backend\n- Refactoring improvements\n- The \"Dynamic Ordering\" or \"Dynamic Partitioning\" flags could be lost after reopening the editor\n- The synonym editor now allows selecting multiple synonyms for deletion\n- The settings of a non-equi join node could be lost after reopening the editor\n- A column engine expression in calculated columns can now be switched to an SQL expression\n- Fixed an error where no information is displayed in aggregation nodes if a column has a defined currency conversion\n- Non-equi-join nodes now display all nodes\n- Join expressions display all columns\n- It is now possible to manually enter a restriction value for an analytical privilege\n- The to_alphanum expression is not available in SAP HANA Cloud\n\n## 1.2.0\n\n### New Features\n- Calculation view refactoring\n- Data preview of calculation views\n\n### Fixes\n- Reduced size of headers of requests sent to the backend\n\n## 1.1.0\n\n### New Features\n- Intermediate data preview from calculation view nodes\n\n### Fixes\n- Long analytical privilege names are no longer cut off in the analytical privilege editor\n- Fixed an issue with the background color in the analytical privilege dialog\n- Fixed the auto-creation of temporal data when starting from an empty calculation view file\n\n## 1.0.0\n\nInitial release\n","downloadsCurrentMonth":3183,"downloadsCurrentFortnight":1680,"downloads365":765756,"downloadsFortnightGrowth":20.69,"downloadsHistory":[{"yearMonth":"2023-04","downloads":66687},{"yearMonth":"2023-05","downloads":75754},{"yearMonth":"2023-06","downloads":75234},{"yearMonth":"2023-07","downloads":75741},{"yearMonth":"2023-08","downloads":80264},{"yearMonth":"2023-09","downloads":78737},{"yearMonth":"2023-10","downloads":83288},{"yearMonth":"2023-11","downloads":76296},{"yearMonth":"2023-12","downloads":69144},{"yearMonth":"2024-01","downloads":60060},{"yearMonth":"2024-02","downloads":2888}],"versions":[{"version":"created","date":"2020-12-16T15:02:17.270Z"},{"version":"1.0.0","date":"2020-12-16T15:02:17.732Z"},{"version":"modified","date":"2024-03-14T14:15:39.105Z"},{"version":"1.1.0","date":"2021-03-15T10:05:53.427Z"},{"version":"1.2.0","date":"2021-04-16T15:55:13.303Z"},{"version":"1.3.0","date":"2021-06-11T13:47:23.856Z"},{"version":"1.4.0","date":"2021-07-28T21:58:31.980Z"},{"version":"1.5.0","date":"2021-09-10T11:41:42.573Z"},{"version":"1.6.0","date":"2021-10-22T07:27:15.043Z"},{"version":"1.7.0","date":"2021-12-16T11:54:50.716Z"},{"version":"1.8.0","date":"2022-01-13T21:06:19.838Z"},{"version":"1.8.1","date":"2022-01-17T10:30:04.483Z"},{"version":"1.8.2","date":"2022-02-01T08:26:57.052Z"},{"version":"1.9.0","date":"2022-03-09T20:45:50.577Z"},{"version":"1.10.0","date":"2022-04-05T08:38:15.099Z"},{"version":"1.10.1","date":"2022-04-13T08:24:41.832Z"},{"version":"1.10.2","date":"2022-04-28T16:07:08.972Z"},{"version":"1.11.0","date":"2022-05-10T07:25:55.251Z"},{"version":"1.12.0","date":"2022-06-03T14:49:57.295Z"},{"version":"1.13.1","date":"2022-07-04T16:36:37.619Z"},{"version":"1.14.0","date":"2022-08-04T09:55:28.050Z"},{"version":"1.15.0","date":"2022-09-08T07:13:22.898Z"},{"version":"1.16.0","date":"2022-09-23T19:33:58.918Z"},{"version":"1.17.0","date":"2022-10-14T09:43:01.348Z"},{"version":"1.18.0","date":"2022-11-11T13:40:26.606Z"},{"version":"1.18.1","date":"2022-11-16T11:29:28.383Z"},{"version":"1.19.0","date":"2022-12-07T14:17:52.059Z"},{"version":"1.20.0","date":"2023-01-17T12:21:13.219Z"},{"version":"1.21.0","date":"2023-03-09T08:50:45.261Z"},{"version":"1.22.0","date":"2023-04-12T10:57:08.132Z"},{"version":"1.23.0","date":"2023-05-31T15:19:17.544Z"},{"version":"1.24.0","date":"2023-07-10T19:44:46.580Z"},{"version":"1.25.0","date":"2023-08-14T10:44:39.434Z"},{"version":"1.25.1","date":"2023-08-18T13:32:58.291Z"},{"version":"1.26.0","date":"2023-09-27T11:00:41.965Z"},{"version":"1.27.1","date":"2023-11-13T12:26:49.771Z"},{"version":"1.28.0","date":"2023-12-16T20:57:27.280Z"},{"version":"1.28.1","date":"2024-01-25T15:59:49.396Z"},{"version":"1.29.0","date":"2024-03-13T17:12:09.028Z"},{"version":"1.29.1","date":"2024-03-14T14:15:38.646Z"}],"npmlink":"https://www.npmjs.com/package/@sap/webide-hdi-feature-vscode"},{"name":"wing-service-explorer","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"See LICENSE.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:05:58.389Z","updatedAt":"2023-06-29T07:05:19.300Z","readme":"# @sap/wing-service-explorer\n\n## Overview\n\n**Wing-service-explorer** is an npm package that provides the ability to explore SAP services.\n\n## API\n\n**Wing-service-explorer** exposes 3 different objects for 3 different SAP systems:\n\n### ServiceURLExplorer\n\n---\n\nThis object exposes APIs for exploration of systems and services defined as OData odata_gen in the account destination list.\n\n#### getDestinations\n\nReturns a list of destinations filtered with WebIDEUsage = odata_gen\n\n#### isFullUrlDestination\n\nGets as an input a destination object (received from the getDestinations API) and returns **true** if this is a destination to a system\nor a service (i.e. if the destination includes a property named full_url and its value is true).\n\n#### getMetadata\n\nGets as an input a ConnectionDetails object (which contains the details to connect to a service) and returns the metadata (XML format)\nwhich the service exposes.\n\n### APIHubExplorer\n\n---\n\nThis object exposes APIs for exploration of APIs from the APIHub system.\n\n#### getDestinations\n\nReturns a list of destinations filtered by WebIDEUsage = apihub_catalog\n\n#### getListOfAPIs\n\nGets as an input a destination object (received from the getDestinations API) and returns a list of APIs exposed by the APIHub system.\n\n#### getApiKey\n\nGets as an input a destination object and user authetication details (user/password) and returns the user's API key from the APIHub system. (Required for getting the API metadata.)\n\n#### getMetadata\n\nGets as an input a ConnectionDetails object (which contains the details to connect to an API) and returns the metadata (XML format)\nwhich the API exposes.\nNote: The APIHub requires a definition of 2 destinations. The first one for the APIHub system and the second for the API sandbox.\n\n### ExtensionFactoryExplorer\n\n---\n\nThis object exposes APIs for exploration of systems exposed by the Extension Factory.\n\n#### getDestinations\n\nReturns a list of destinations which contain an additional property named **XFSystemName**.\n","downloadsCurrentMonth":8523,"downloadsCurrentFortnight":3924,"downloads365":1231168,"downloadsFortnightGrowth":-7.61,"downloadsHistory":[{"yearMonth":"2023-04","downloads":105693},{"yearMonth":"2023-05","downloads":122044},{"yearMonth":"2023-06","downloads":122316},{"yearMonth":"2023-07","downloads":124496},{"yearMonth":"2023-08","downloads":125851},{"yearMonth":"2023-09","downloads":123143},{"yearMonth":"2023-10","downloads":127768},{"yearMonth":"2023-11","downloads":120107},{"yearMonth":"2023-12","downloads":112939},{"yearMonth":"2024-01","downloads":98824},{"yearMonth":"2024-02","downloads":8670}],"versions":[{"version":"created","date":"2020-06-11T19:05:58.389Z"},{"version":"1.4.1","date":"2020-06-11T19:05:58.905Z"},{"version":"modified","date":"2023-06-29T07:05:19.300Z"},{"version":"1.4.0","date":"2020-06-11T19:06:06.359Z"},{"version":"1.2.0","date":"2020-06-11T19:06:13.204Z"},{"version":"1.5.4","date":"2020-07-22T10:21:17.880Z"},{"version":"1.5.5","date":"2020-08-04T08:04:02.850Z"},{"version":"1.5.7","date":"2020-08-12T09:06:46.935Z"},{"version":"1.6.0","date":"2020-08-31T09:37:04.630Z"},{"version":"1.6.1","date":"2020-11-08T06:53:45.315Z"},{"version":"1.6.7","date":"2021-02-08T15:06:26.155Z"},{"version":"1.6.10","date":"2021-07-07T15:15:10.280Z"},{"version":"1.7.2","date":"2021-08-03T08:42:45.598Z"},{"version":"1.7.3","date":"2023-06-19T11:49:29.786Z"},{"version":"1.8.0","date":"2023-06-29T07:05:19.175Z"}],"npmlink":"https://www.npmjs.com/package/@sap/wing-service-explorer"},{"name":"xs-tools","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2023-08-14T11:18:17.662Z","updatedAt":"2023-12-16T20:39:27.700Z","readme":"# Overview\n\nThis package provides a set of APIs to help you develop applications in SAP HANA XSA. You can use these APIs to manage apps, service instances, orgs, spaces, and users in your environment. Mostly, this is a wrapper of the XS command line client, which runs a particular command and parses the output to the suitable JSON file. If an error or failure occurs, the runtime exception throws with relevant problem information.\n\n\n## Prerequisite\n\nMake sure you have installed the XS CLI\n\n## Examples of usage\n\nExample 1\n\n```\ntry {\n\tconst result = await xsLogin(\"https://xs_endpoint_url\", \"user\", \"password\");\n\tif (result === \"OK\") {\n\t\t// successful\n\t}\n} catch (e) {\n\t// display or/and log error\n}\n```\n\nExample 2\n\n```\ntry {\n\tconst spaces = await xsGetAvailableSpaces(\"myOrg\");\n\tfor (const space of spaces) {\n\t\tconsole.log(\"Space label is \" + space.label + \" guid is \" + space.guid);\n\t}\n} catch (e) {\n\t// display or/and log error\n}\n```\n","changelog":"## 1.2.0\n\n### Fixes\n- Security fixes\n\n## 1.1.0\n\n### Fixes\n- Security fixes\n- Switch build to Node.js 18\n\n\n## 1.0.0\n\nInitial release","downloadsCurrentMonth":22094,"downloadsCurrentFortnight":20324,"downloads365":138147,"downloadsFortnightGrowth":1154.57,"downloadsHistory":[{"yearMonth":"2023-04","downloads":0},{"yearMonth":"2023-05","downloads":0},{"yearMonth":"2023-06","downloads":0},{"yearMonth":"2023-07","downloads":0},{"yearMonth":"2023-08","downloads":78},{"yearMonth":"2023-09","downloads":10},{"yearMonth":"2023-10","downloads":87},{"yearMonth":"2023-11","downloads":41049},{"yearMonth":"2023-12","downloads":57152},{"yearMonth":"2024-01","downloads":15721},{"yearMonth":"2024-02","downloads":2861}],"versions":[{"version":"created","date":"2023-08-14T11:18:17.662Z"},{"version":"1.0.0","date":"2023-08-14T11:18:17.956Z"},{"version":"modified","date":"2023-12-16T20:39:27.700Z"},{"version":"1.1.0","date":"2023-10-31T14:06:19.131Z"},{"version":"1.2.0","date":"2023-12-16T20:39:27.464Z"}],"npmlink":"https://www.npmjs.com/package/@sap/xs-tools"},{"name":"xsenv","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T21:54:43.280Z","updatedAt":"2023-11-21T16:59:03.390Z","readme":"# @sap/xsenv\n\nUtility for easily reading application configurations for bound services and certificates in the SAP Cloud Platform Cloud Foundry environment, SAP XS advanced model and Kubernetes (K8S).\n\n\n## Install\n\n```sh\nnpm install --save @sap/xsenv\n```\n\n## Usage\n\n```js\nvar xsenv = require('@sap/xsenv');\n\n// Read the configuration for all bound service instances\nvar services = xsenv.readServices();\nconsole.log(services.serviceInstance); // prints { credentials: { user: ..., pass:... }, name: 'serviceInstance', tags: [...], label: ...\n\n// Read the credentials for all bound service instances matching a given service query\nvar services = xsenv.filterServices({ label: 'hana' });\nconsole.log(services); // prints [ { credentials: { ... } }, { credentials: { ... } } ]\n\n// Read only the credentials portion of the configuration for a service instance matching a given service query\nvar svc = xsenv.serviceCredentials({ tag: 'hana' });\nconsole.log(svc); // prints { host: '...', port: '...', user: '...', password: '...', ... }\n\n// Read configuration for a service instance matching a given service query\nvar services = xsenv.getServices({ hana: { name: 'hanaInstance' }}); // returns { hana: { host: '...', port: '...', user: '...', password: '...', ... } }\nvar hanaInstanceCredentials = services.hana;\n\n```\nFor specifics in the usage in different environments, read below.\n\n## Usage in Cloud Foundry and SAP XS Advanced\n\nCloud Foundry and SAP XS advanced both provide application configurations via environment variables.\nThe properties of the bound services are in [VCAP_SERVICES](http://docs.cloudfoundry.org/devguide/deploy-apps/environment-variable.html#VCAP-SERVICES) environment variable in both cases.\n\n### Service Lookup\n\nNormally in Cloud Foundry you bind a service instance to your application with a command like this one:\n```sh\ncf bind-service my-app aservice\n```\n\nHere is how you can get this service configuration in your Node.js application if you don't know the instance name in advance:\n```js\nvar xsenv = require('@sap/xsenv');\n\nvar services = xsenv.readServices();\nvar svc = services[process.env.SERVICE_NAME];\n```\n\nYou can look up services based on their metadata:\n```js\nvar svc = xsenv.serviceCredentials({ tag: 'hdb' });\nconsole.log(svc); // prints { host: '...', port: '...', user: '...', password: '...', ... }\n```\nThis example finds a service binding with `hdb` in the tags.\nSee [Service Query](#service-query) below for description of the supported query values.\n\nYou can also look up multiple services in a single call:\n```js\nvar xsenv = require('@sap/xsenv');\n\nvar services = xsenv.getServices({\n  hana: { tag: 'hdb' },\n  scheduler: { label: 'jobs' }\n});\n\nvar hanaCredentials = services.hana;\nvar schedulerCredentials = services.scheduler;\n```\nThis example finds two services - one with tag `hdb` and the other with label `jobs`.\n`getServices` function provides additional convenience that default service configuration can be provided in a JSON file.\n\nTo test the above example locally, create a file called `default-services.json` in the working directory of your application.\nThis file should contain something like this:\n```json\n{\n  \"hana\": {\n    \"host\": \"localhost\",\n    \"port\": \"30015\",\n    \"user\": \"SYSTEM\",\n    \"password\": \"secret\"\n  },\n  \"scheduler\": {\n    \"host\": \"localhost\",\n    \"port\": \"4242\",\n    \"user\": \"my_user\",\n    \"password\": \"secret\"\n  }\n}\n```\n**Note:** The result property names (`hana` and `scheduler`) are the same as those in the query object and also those in `default-services.json`.\n\n[Local environment setup](#local-environment-setup) describes an alternative approach to provide service configurations for local testing.\n\n### User-Provided Service Instances\n\nWhile this package can look up any kind of bound service instances, you should be aware that [User-Provided Service Instances](https://docs.cloudfoundry.org/devguide/services/user-provided.html) have less properties than managed service instances. Here is an example:\n```json\n  \"VCAP_SERVICES\": {\n    \"user-provided\": [\n      {\n        \"name\": \"pubsub\",\n        \"label\": \"user-provided\",\n        \"tags\": [],\n        \"credentials\": {\n          \"binary\": \"pubsub.rb\",\n          \"host\": \"pubsub01.example.com\",\n          \"password\": \"p@29w0rd\",\n          \"port\": \"1234\",\n          \"username\": \"pubsubuser\"\n        },\n        \"syslog_drain_url\": \"\"\n\t  }\n    ]\n  }\n```\nAs you can see the only usable property is the `name`. In particular, there are no tags for a user-provided services.\n\n\n## Usage in Kubernetes\n\nKubernetes offers several ways of handling application configurations for bound services and certificates. @sap/xsenv expects that such configurations are handled as Kubernetes Secrets and mounted as files to the pod at a specific path. This path can be provided by the application developer, but the default is `/etc/secrets/sapcp`. From there, @sap/xsenv assumes that the directory structure is the following `/etc/secrets/sapcp/<service-name>/<instance-name>`. Here `<service-name>` and `<instance-name>` are both directories and the latter contains the credentials/configurations for the service instance as files, where the file name is the name of the configuration/credential and the content is respectively the value.\n\nFor example, the following folder structure:\n```sh\n\n/etc/\n    /secrets/\n            /sapcp/\n                 /hana/\n                 |    /hanaInst1/\n                 |    |          /user1\n                 |    |          /pass1\n                 |    /hanaInst2/\n                 |               /user2\n                 |               /pass2\n                 /xsuaa/\n                       /xsuaaInst/\n                                  /user\n                                  /pass\n```\nresembles two instances of service `hana` - `hanaInst1` and `hanaInst2` each with their own credentials/configurations and one instance of service `xsuaa` called `xsuaaInst` with its credentials.\n\nIn Kubernetes you can create and bind to a service instance in the following way using the Service Catalog:\n\n```sh\nsvcat provision xsuaaInst --class xsuaa --plan application\nsvcat bind xsuaaInst --name xsuaaBind\n```\nUpon creation of the binding, the Service Catalog will create a Kubernetes secret (by default with the same name as the binding) containing credentials, configurations and certificates. This secret can then be mounted to the pod as a volume.\n\nThe following *deployment.yml* file would generate the file structure above, assuming we have bindings `hanaBind1`, `hanaBind2` and `xsuaaBind` for service instances `hanaInst1`, `hanaInst2` and `xsuaaInst` created with Service Catalog:\n```sh\n...\n     containers:\n      - name: app\n        image: app-image:1.0.0\n        ports:\n          - appPort: 8080\n        volumeMounts:\n        - name: hana-volume-1\n          mountPath: \"/etc/secrets/sapcp/hana/hanaInst1\"\n          readOnly: true\n        - name: hana-volume-2\n          mountPath: \"/etc/secrets/sapcp/hana/hanaInst2\"\n          readOnly: true\n        - name: xsuaa-volume\n          mountPath: \"/etc/secrets/sapcp/xsuaa/xsuaaInst\"\n          readOnly: true\n      volumes:\n      - name: hana-volume-1\n        secret:\n          secretName: hanaBind1\n      - name: hana-volume-2\n        secret:\n          secretName: hanaBind2\n      - name: xsuaa-volume\n        secret:\n          secretName: xsuaaBind\n\n```\n\nOf course, you can also create Kubernetes secrets directly with `kubectl` and  mount them to the pod. As long as the mount path follows the `<root-path>/<service-name>/<instance-name>` pattern, @sap/xsenv will be able to read and filter the bound services configurations.\n\n**Note**: The library attempts to parse property values which represent valid JSON objects.\nProperty values representing arrays are not being parsed.\n\nThe following service credentials:\n\n```\n/etc/\n    /secrets/\n            /sapcp/\n                 /some-service/\n                       /some-instance/\n                                  /url   - containing https://some-service\n                                  /uaa   - containing { \"url\": \"https://uaa\", \"clientid\": \"client\", \"clientsecret\": \"secret\" }\n                                  /other - containing [1, \"two\"]\n```\n\nWill be available to the application as:\n\n```js\n{\n  url: 'https://some-service',\n  uaa: {\n    url: 'https://uaa',\n    clientid: 'client',\n    clientsecret: 'secret'\n  },\n  other: '[1, \"two\"]'\n}\n```\n\n### Service Lookup\n\nService look up in the Kubernetes environment looks the same way as it does in the Cloud Foundry one.\n\nLooking at the above example of bound services here is how you can get the service configuration of `hanaInst1` in your node application:\n\n```js\nvar xsenv = require('@sap/xsenv');\n\nvar services = xsenv.readServices();\nconsole.log(services.hanaInst1.credentials); // prints { user1: '...', pass1: '...', ... }\n```\n\nHere is how to lookup the service based on its metadata in Kubernetes:\n```js\nvar svc = xsenv.serviceCredentials({ label: 'hana' });\nconsole.log(svc); // prints { host: '...', port: '...', user: '...', passwrod: '...', ... }\n```\nThis example finds a service binding with `hana` as a label. Note that for Kubernetes lookup based on metadata is limited. See [Service Query](#service-query) below for description of the supported query values in Cloud Foundry and Kubernetes.\n\n\nIf you have mounted your secrets to a different path, you can pass it to @sap/xsenv like so:\n\n```js\nvar xsenv = require('@sap/xsenv');\n\nvar services = xsenv.getServices('/some/user/path', {\n  hana: { name: 'hanaInst1' },\n  xsuaa: { label: 'xsuaa' }\n});\n\nvar hanaCredentials = services.hana;\nvar schedulerCredentials = services.xsuaa;\n```\n\n## Local Usage\n\nFor local testing you can provide configurations by yourself. This package allows you to provide default configurations in a separate configuration file.\n* This reduces clutter by removing configuration data from the app code.\n* You don't have to set env vars manually each time you start your app.\n* Different developers can use their own configurations for their local tests without changing files under source control. Just add this configuration file to `.gitignore` and `.cfignore`.\n\nYou can provide default configurations on two levels:\n* For bound services via `getServices()` and `default-services.json`\n* For any environment variable via `loadEnv()` and `default-env.json`\n\n## Service Query\n\nBoth `getServices` and `filterServices` use the same service query values. Due to specifics of the environment the queries in Cloud Foundry can be richer - see property table below.\n\nQuery value | Description\n------------|------------\n{string}    | Matches the service with the same service instance name (`name` property). Same as `{ name: '<string>' }`.\n{object}    | All properties of the given object should match corresponding service instance properties as they appear in VCAP_SERVICES or the Kubernetes secret. See below what is supported on each platform.\n{function}  | A function that takes a service object as argument and returns `true`, only if it is considered a match.\n\nIf an object is given as a query value, it may have the following properties:\n\nProperty | CF  | K8S | Description\n---------|-----|-----|------------\n`name`   | yes | yes |Service instance name - the name you use to bind the service\n`label`  | yes | yes |Service name - the name shown by `cf marketplace`\n`tag`    | yes | no  |Should match any of the service tags\n`plan`   | yes | no  |Service instance plan - the plan you use in `cf create-service`\n\nIf multiple properties are given, _all_ of them must match.\n\n**Note:** Do not confuse the instance name (`name` property) with the service name (`label` property).\nSince you can have multiple instances of the same service bound to your app,\ninstance name is unique while service name is not.\n\nHere are some examples.\n\nFind a service instance by name:\n```js\nxsenv.serviceCredentials('hana');\n```\n\nLook up a service by tag:\n```js\nxsenv.serviceCredentials({ tag: 'relational' });\n```\n\nMatch several properties:\n```js\nxsenv.serviceCredentials({ label: 'hana', plan: 'shared' });\n```\n\nPass a custom filter function:\n```js\nxsenv.serviceCredentials(function(service) {\n  return /shared/.test(service.plan) && /hdi/.test(service.label);\n});\n```\nNotice that the filter function is called with the full service object as it appears in VCAP_SERVICES, but `serviceCredentials` returns only the `credentials` property of the matching service. The behaviour is the same in Kubernetes - the function will return only the contents of the `credentials` portion of the mounted secret.\n\n## API\n\n### getServices([path], query, [servicesFile])\n\nLooks up bound service instances matching the given query.\nIf a service is not found - returns default service configuration loaded from a JSON file. The order of lookup is VCAP_SERVICES -> mounted secrets path in K8S -> default service configuration.\n\n* `path` - (optional) A string containing the mount path where the secrets are located in Kubernetes. By default is \"/etc/secrets/sapcp\". For example, by default the credentials for an instance \"inst-name\" of service \"service-name\" would be located under \"/etc/secrets/sapcp/service-name/inst-name\".\n* `query` - An object describing requested services. Each property value is a filter as described in [Service Query](#service-query)\n* `servicesFile` - (optional) path to JSON file to load default service configuration (default is default-services.json).\nIf `null`, do not load default service configuration.\n* _returns_ - An object with the same properties as in query argument where the value of each property is the respective service credentials object\n* _throws_ - An error, if for some of the requested services no or multiple instances are found\n\n### serviceCredentials([path], filter)\n\nLooks up a bound service instance matching the given filter works for both the Kubernetes and Cloud Foundry environments.\n\n**Note:** This function does not load default service configuration from default-services.json.\n\n* `path` - (optional) A string containing the mount path where the secrets are located in Kubernetes. By default is \"/etc/secrets/sapcp\".\n* `filter` - Service lookup criteria as described in [Service Query](#service-query)\n* _returns_ - Credentials object of found service\n* _throws_ - An error in case no or multiple matching services are found\n\n### filterServices([path], filter)\n\nReturns all bound services that match the given criteria. Works in Cloud Foundry and Kubernetes.\n\n* `path` - (optional) A string containing the mount path where the secrets are located in Kubernetes. By default is \"/etc/secrets/sapcp\".\n* `filter` - Service lookup criteria as described in [Service Query](#service-query)\n* _returns_ - An array of credentials objects of matching services. Empty array, if no matches found.\n\n### readServices([path], [options])\n\n* `path` - (optional) A string containing the mount path where the secrets are located in Kubernetes. By default is \"/etc/secrets/sapcp\".\n* `options` - (optional) An object with options to customize behavior. Only supports field `disableCache` to disable K8s secrets caching.\n* _returns_ Returns an object where each service instance is mapped to its name. Works in Kubernetes and Cloud Foundry.\n\nFor example, given this VCAP_SERVICES:\n```\n  {\n    \"hana\" : [ {\n      \"credentials\" : {\n        ...\n      },\n      \"label\" : \"hana\",\n      \"name\" : \"hana1\",\n      \"plan\" : \"shared\",\n      \"tags\" : [ \"hana\", \"relational\" ]\n    },\n    {\n      \"credentials\" : {\n        ...\n      },\n      \"label\" : \"hana\",\n      \"name\" : \"hana2\",\n      \"plan\" : \"shared\",\n      \"tags\" : [ \"hana\", \"relational\", \"SP09\" ]\n    } ]\n  }\n```\n`readServices` would return:\n```\n{\n  hana1: {\n    \"credentials\" : {\n      ...\n    },\n    \"label\" : \"hana\",\n    \"name\" : \"hana1\",\n    \"plan\" : \"shared\",\n    \"tags\" : [ \"hana\", \"relational\" ]\n  },\n  hana2: {\n    \"credentials\" : {\n      ...\n    },\n    \"label\" : \"hana\",\n    \"name\" : \"hana2\",\n    \"plan\" : \"shared\",\n    \"tags\" : [ \"hana\", \"relational\", \"SP09\" ]\n  }\n}\n```\n\n\n### cfServiceCredentials(filter)\n\nSame as [serviceCredentials(filter)](#servicecredentialspath-filter) but works only in Cloud Foundry. It is recommended to use the generic function.\n\n### filterCFServices(filter)\n\nSame as [filterServices(filter)](#filterservicespath-filter) but works only in Cloud Foundry. It is recommended to use the generic function.\n\n### readCFServices()\n\nSame as [readServices()](#readservicespath) but works only in Cloud Foundry. It is recommended to use the generic function.\n\n## Local environment setup\n\nTo test your application locally you often need to setup its environment so that resembles the environment in Cloud Foundry or Kubernetes.\nYou can do this easily by defining the necessary environment variables in a JSON file.\n\nFor example you can create file _default-env.json_ with the following content in the working directory of the application :\n```json\n{\n  \"PORT\": 3000,\n  \"VCAP_SERVICES\": {\n    \"hana\": [\n      {\n        \"credentials\": {\n          \"host\": \"myhana\",\n          \"port\": \"30015\",\n          \"user\": \"SYSTEM\",\n          \"password\": \"secret\"\n        },\n        \"label\": \"hana\",\n        \"name\": \"hana-R90\",\n        \"tags\": [\n          \"hana\",\n          \"database\",\n          \"relational\"\n        ]\n      }\n    ],\n    \"scheduler\": [\n      {\n        \"credentials\": {\n          \"host\": \"localhost\",\n          \"port\": \"4242\",\n          \"user\": \"jobuser\",\n          \"password\": \"jobpassword\"\n        },\n        \"label\": \"scheduler\",\n        \"name\": \"jobscheduler\",\n        \"tags\": [\n          \"scheduler\"\n        ]\n      }\n    ]\n  }\n}\n```\nThen load it in your application:\n```js\nxsenv.loadEnv();\nconsole.log(process.env.PORT); // prints 3000\nconsole.log(xsenv.cfServiceCredentials('hana-R90')); // prints { host: 'myhana, port: '30015', user: 'SYSTEM', password: 'secret' }\n```\n\nThis way you don't need in your code conditional logic if it is running in Cloud Foundry or locally.\n\nYou can also use a different file name:\n```js\nxsenv.loadEnv('myenv.json');\n```\n\n### loadEnv([file])\n\nLoads the environment from a JSON file.\nThis function converts each top-level property to a string and sets it in the respective environment variable,\nunless it is already set. This function does not change existing environment variables. So the file content acts like default values for environment variables.\n\nThis function does not complain if the file does not exist.\n\n* `file` - optional name of JSON file to load, `'default-env.json'` by default. Does nothing if the file does not exist.\n\n## Loading SSL Certificates\n\nIf SSL is configured in XS advanced On-Premise Runtime, it will provide one or more\ntrusted CA certificates that applications can use to make SSL connections.\nIf present, the file paths of these certificates are listed in `XS_CACERT_PATH`\nenvironment variable separated by `path.delimiter` (`:` on LINUX and `;` on Windows).\n\n### loadCertificates([certPath])\n\nLoads the certificates listed in the given path.\nIf this argument is not provided, it uses `XS_CACERT_PATH` environment variable instead.\nIf that is not set either, the function returns `undefined`.\nThe function returns an array even if a single certificate is provided.\nThis function is synchronous.\n\n* `certPath` - optional string with certificate files to load. The file names are separated by `path.delimiter`. Default is `process.env.XS_CACERT_PATH`.\n* _returns_ - an array of loaded certificates or `undefined` if `certPath` argument is not provided\n* _throws_ - an error, if some of the files could not be loaded\n\nFor example, this code loads the trusted CA certificates so they are used for all\nsubsequent outgoing HTTPS connections:\n```js\nvar https = require('https');\nvar xsenv = require('@sap/xsenv');\n\nhttps.globalAgent.options.ca = xsenv.loadCertificates();\n```\n\nThis function can be used also to load SSL certificates for HANA like this:\n```js\nvar hdb = require('hdb');\nvar xsenv = require('@sap/xsenv');\n\nvar client = hdb.createClient({\n  host : 'hostname',\n  port : 30015,\n  ca   : xsenv.loadCertificates(),\n  ...\n});\n```\n\n## Debugging\n\nSet `DEBUG=xsenv` in the environment to enable debug traces. See [debug](https://www.npmjs.com/package/debug) package for details.\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 4.2.0 - 2023-11-21\n\n### Added\n- Added an environment variable XSENV_PASE_ALL_JSON to control if all the values in k8s secrets should be parsed as JSON instead of only JSON objects  \n- Added custom tags in service-bindings\n\n## 4.1.0 - 2023-11-06\n\n### Added\n- Added node 20.x support and tests\n\n## 4.0.0 - 2023-08-14\n\n### Removed\n- Removed node 10.x support and tests\n\n## 3.4.0 - 2022-10-27\n\n### Added\n- Support Node.js 18.x\n\n\n## 3.3.2 - 2022-06-17\n\n### Fixed\n- service bindings for Kubernetes: bindings were not read because of symlinks\n\n## 3.3.1 - 2022-06-08\n\n### Fixed\n- change node plugin version for xmake to 10.15.0\n\n## 3.3.0 - 2022-06-06\n\n### Added\n- Service bindings for Kubernetes\n\n## 3.2.2 - 2022-04-11\n\n### Removed\n- Removed node 8.x support and tests\n\n### Changed\n- Changed istanbul test framework with c8\n\n## 3.2.1 - 2022-02-28\n\n### Added\n- Reading K8s services now caches the results to decrease file system calls.\n- Documentation on how to disable caching for K8s Services if needed.\n\n## 3.2.0 - 2022-01-24\n\n### Added\n- Support Node.js 16.x\n\n### Updated\n- `debug` dependency to 4.3.3.\n\n## 3.1.1 - 2021-07-01\n\n### Fixed\n- Reading services will now properly check for K8s services when VCAP_SERVICES is defined but contains no services.\n- Getting a service will now properly check in K8s services if VCAP_SERVICES does not have the service.\n\n### Updated\n- `debug` dependency to 4.2.0.\n- `lodash` dependency to 4.17.21.\n\n## 3.1.0 - 2020-11-20\n\n### Added\n- Support Node.js 14.x\n\n## 3.0.0 - 2020-06-05\n\n### Removed\n- Node.js 6 support\n\n### Changed\n- K8S case: nested objects in credentials are now automatically parsed (does not apply to arrays)\n\n## 2.2.0 - 2019-11-28\n\n### Added\n- Support Node.js 12.x\n\n## 2.1.0 - 2019-10-15\n\n### Added\n- Support for K8S secrets mounted as volumes.\n\n## 2.0.0 - 2019-04-22\n\n### Removed\n- Node.js 4 support\n- Remove deprecated loadCaCert function\n\n## 1.3.0 - 2018-12-18\n\n### Added\n- Node.js 10 support\n\n### Fixed\n- Update `lodash` to 4.17.11\n\n## 1.2.9 - 2018-01-18\n### Added\n- Release with npm-shrinkwrap.json\n\n\n## 1.2.8 - 2017-10-09\n### Security\n- Updated debug package to fix a security issue https://snyk.io/vuln/npm:debug:20170905\n","downloadsCurrentMonth":607089,"downloadsCurrentFortnight":285601,"downloads365":7500092,"downloadsFortnightGrowth":-3.43,"downloadsHistory":[{"yearMonth":"2023-04","downloads":571476},{"yearMonth":"2023-05","downloads":659778},{"yearMonth":"2023-06","downloads":660133},{"yearMonth":"2023-07","downloads":614502},{"yearMonth":"2023-08","downloads":591663},{"yearMonth":"2023-09","downloads":613632},{"yearMonth":"2023-10","downloads":671118},{"yearMonth":"2023-11","downloads":677533},{"yearMonth":"2023-12","downloads":639525},{"yearMonth":"2024-01","downloads":643715},{"yearMonth":"2024-02","downloads":544161}],"versions":[{"version":"created","date":"2020-06-11T21:54:43.280Z"},{"version":"2.1.0","date":"2020-06-11T21:54:43.643Z"},{"version":"modified","date":"2023-11-21T16:59:03.390Z"},{"version":"3.0.0","date":"2020-06-11T21:54:50.244Z"},{"version":"1.2.8","date":"2020-06-11T21:54:56.183Z"},{"version":"1.2.9","date":"2020-06-11T21:55:02.509Z"},{"version":"1.3.0","date":"2020-06-11T21:55:08.770Z"},{"version":"2.0.0","date":"2020-06-11T21:55:15.769Z"},{"version":"2.2.0","date":"2020-06-11T21:55:23.079Z"},{"version":"1.2.6","date":"2020-06-11T21:55:55.328Z"},{"version":"1.2.7","date":"2020-06-11T21:56:01.437Z"},{"version":"3.1.0","date":"2020-11-02T11:21:35.958Z"},{"version":"3.1.1","date":"2021-07-09T08:33:56.831Z"},{"version":"3.2.0","date":"2022-01-25T13:13:34.736Z"},{"version":"3.2.1","date":"2022-03-04T09:19:10.044Z"},{"version":"3.2.2","date":"2022-04-11T11:12:40.503Z"},{"version":"3.3.0","date":"2022-06-06T10:40:02.079Z"},{"version":"3.3.1","date":"2022-06-08T08:23:57.562Z"},{"version":"3.3.2","date":"2022-06-17T14:06:39.633Z"},{"version":"3.4.0","date":"2022-10-31T14:56:09.237Z"},{"version":"4.0.0","date":"2023-08-14T12:34:24.449Z"},{"version":"4.1.0","date":"2023-11-14T09:51:04.339Z"},{"version":"4.2.0","date":"2023-11-21T16:59:02.970Z"}],"npmlink":"https://www.npmjs.com/package/@sap/xsenv"},{"name":"xsodata","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN developer-license-3.1.txt","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T18:48:55.716Z","updatedAt":"2023-11-30T14:59:52.511Z","readme":"XSODATA\n=======\n\nExpose data from HANA database artifacts like tables or views as OData V2 service with the help of .xsodata service definition files. \nStarting from version 8.1.1 - XSODATA is supported only with @sap/async-xsjs library. @sap/xsjs is deprecated and no new versions will be \nreleased. [see CHANGELOG](./CHANGELOG.md)\n\nNote: XSOData was developed to provide XS Classic users using XSOData the possibility to migrate to XS Advanced on node.js. \n      This library contains nearly the same feature set as XSOData provided on SAP HANA XS Classic. This module is already \n      in maintenance mode and it is not planned to extend or enhance it.\n      \n      If you want to create new OData services we strongly reoommend to use OData V4 along with a generic CDS-OData provider.\n      Here you can model your consumption persistency model with CDS (Core Data Services) and expose parts or the complete\n      model as OData service. Such a solution is already productively available on the JAVA runtime stack. \n      \n      For node.js we also provide an OData V4 solution. The development of the OData V4 node.js Library already started in 2016.\n      It is also planned that a generic CDS-Odata provider will be deliverd.\n\n      If you are developing an OData service for SAP Business Technology Platform, it is recommended to move to the SAP Cloud Application Programming Model (CAP).\n      The XSODATA solution supports HANA as a service, also support was introduced for SAP HANA Cloud Services from XSODATA v8.0.0 and above.\n\n## Usage\n\n  * This module is used in the XSJS/ASYNC-XSJS shim for SAP HANA XSC Engine applications to\n    allow the reuse of .xsodata files from XSC applications on SAP HANA XSA.\n\n  * It can also be used directly in your own nodejs server application. Be aware that you use the same version of the hdb and winston node module version in your application.\n  \n## Documentation \n\n[For documentation see here](./documentation)\n\n## Warning\n\n  * In order to restrict the amount of records loaded from the database (to reduce the memory usage) please use the \n    limit setting which can be set in the xsodata file [see here](documentation/xsodataSettings.md)\n  * The xsodata library CHANGES the TRANSACTION ISOLATION LEVEL on the used database connection\n  * The xsodata library CHANGES the SCHEMA on the used database connection\n  * The xsodata library uses temporary tables for performance reasons\n  * If you manually modify the db-connection/client inside xsodata-application-exits the modifications you have done\n   will not be restored by the xsodata library\n  \n  So the user of the xsodata library should clean the database connection\n  \n## Features - Overview\n\n  * Automatic metadata handling based on XSOData definition and HANA db metadata artifacts\n  * OData request handling with URI parsing including system query options\n  * OData request/response serialization and deserialization \n  * Load table records from HANA database via generated SQL queries\n  * Calculation view support\n  * Batch handling\n  * Logging:\n    When the xsjs/async-xsjs application log is enabled then xsodata also writes log information.\n    If, in addition, the environment variable XSODATA_LOG_MEMORY_CONSUMPTION is set to 'true'\n    xsodata writes also memory consumption information to the logs\n\n\n## Supported OData V2 Features:\n\nGET Requests:\n\n* URI0 = scheme serviceRoot \n* URI1 = scheme serviceRoot \"/\" entitySet\n* URI2 = scheme serviceRoot \"/\" entitySet \"(\" keyPredicate \")\"\n* URI6 = scheme serviceRoot \"/\" entitySet \"(\" keyPredicate \")/\" entityNavProperty\n* URI7 = scheme serviceRoot \"/\" entitySet \"(\" keyPredicate \")/$links/\" entityNavProperty\n* URI8 = scheme serviceRoot \"/$metadata\"\n* URI9 = scheme serviceRoot \"/$batch\"\n* URI15 = scheme serviceRoot \"/\" entitySet count\n\nCreateUpdateDelete Requests:\n\n* CUD - Entity\n* CUD - Link \n\n[System Query options](/documentation/supportedSystemQueryOptions.md):\n\n* $top\n* $skip\n* $filter, except for:\n    * comparison of navigation properties\n* $orderby, except for:\n    * comparison of navigation properties\n* $expand\n* $select\n* $format\n    * only json supported\n* $inlinecount\n\n[Supported HTTP methods per requests type](/documentation/supportedMethods.md)\n\n## Supported XS1 OData features (defined in the XSOData file):\n\n  * Definition of OData schema namespace\n  * OData Service exposure\n  * Metadata caching\n  * Create/update/delete restrictions of OData requests\n  * Exposure of table and views (including calculation views) as EntitySet\n  * Property Projection: Expose a subset of the table columns as properties of an OData EntityType\n  * [Automatic OData key generation](/documentation/generatedKeys.md), e.g. required for aggregated views\n  * Simple and complex associations \n  * [Data aggregation](/documentation/aggregations.md)\n  * Parameter EntitySets for calculation views\n  * ETAG handling\n  * Nullable properties\n  * Cache Control via cache header\n  * [Custom exits](/documentation/customExits.md) (JavaScript and SQL Script) for modification and validation requests\n  * Custom exits in batch requests\n  * Uses only UTF-8\n  * Uses \"content-type: application/json\" for CREATE, UPDATE, DELETE\n  * Expose data only via JSON format (ATOM format is not supported)\n  * Supported types and type mapping [see here](/documentation/typemapping.md) \n  * [Supported XSOData features by OSDL](/documentation/xsodataEbnf.md) \n  \n\nNote: \n\n* XS1 applications using analytical views, attribute views or calculation views <= SAP HANA SPS 10 have to migrate first their views to the new calculation views of SPS 11. \n* Authentication/Authorisation is not handled by XSOData node module and has to be done by the application using the node module. \n* [The module can be used in development mode and productive mode](/documentation/modes.md)\n* [Debug View is available when using the module in development mode](/documentation/debugView.md)\n\n## Features per HANA DB Artifact\n\n### Table\n\nSupports the following Features:\n- [Explicit Aggregations](/documentation/aggregations.md#explicit-aggregations)\n- [Generated Local Key](/documentation/generatedKeys.md)\n \nSupported Http Verbs:\n- GET, PUT, POST, DELETE\n\n### SQL View\n\nSupports the following Features:\n- [Explicit Aggregations](/documentation/aggregations.md#explicit-aggregations)\n- [Generated Local Key](/documentation/generatedKeys.md)\n\nSupported Http Verbs:\n- GET\n\n### XS Advanced Calculation View\n\nSupports the following Features:\n- [Implicit Aggregations](/documentation/aggregations.md#implicitderived-aggregations)\n- [Generated Local Key](/documentation/generatedKeys.md)\n\nSupported Http Verbs:\n- GET\n\n## Samples\n\n* [xsodata code samples without xsjs](/documentation/code_samples_pure_node/readme.md)\n* [Calcview](/documentation/calcviewSample.md)\n\n\n\n\n\n\n\n\n","changelog":"# Change Log\n\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## Unreleased\n\n## [8.1.1] - 2023-11-30\n\n* Add support for node 20\n* Remove support for node 14\n* Remove support for node 16\n* Update dependencies\n* Security fix - update @sap/xssec library to version 3.6.0\n\n## [8.1.0] - 2023-02-20\n* Add support Node.js 18\n* Update node module dependencies\n\n## [8.0.2] - 2023-01-30\n\n* Security fix - update @sap/xssec library to version 3.2.17.\n\n## [8.0.1] - 2022-09-13\n\n* remove node 12 support\n\n## [8.0.0] - 2022-08-04\n\n* HANA Cloud database support added\n* Public synonym support added\n* Update node module dependencies\n\n## [7.5.5] - 2022-04-21\n\n* On calc view: Stable sort order with $skip and $top usage for subsequent requests via \"order by\" of key fields in SQL statement\n\n## [7.5.4] - 2022-04-21\n\nBuild infrastructure fix\n\n## [7.5.1] - [7.5.3] - 2022-04-20\n\nBuild infrastructure fixes\n\n## [7.5.0] - 2022-03-22\n\n* Support of node version 16\n* Update module dependencies\n* Update of system query options and xsodata-settings help text\n* Minor changes: Error reporting\n\n## [7.4.5] - 2021-12-15\n\n* Suppress $metadata annotation <code>sap:aggregation-role=\"dimension\"</code> on calculation view property if it is used as description property referenced by annotation <code>sap:text</code> by another property of the calulation view. The annotation is only supressed if the corresponding xsodata-file has <code>settings</code> containing this: <code>noDimensionAnnoOnTextProperty true;</code>\n* Improvements on URI parsing errors:\n  * reporting URI resource path character position on parsing error, if possible\n  * Invalid navigation property on <code>$expand</code> system query option returns 400 (Bad Request) instead of 500 (Internal Server Error)\n* Removed support for NodeJS version 10\n\n## [7.4.4] - 2021-07-20\n\n* HANA client API usage changed: 'execQuery' used for read requests, change requests remain on 'exec'\n\n## [7.4.2] - 2021-05-05\n\n* Quote reserve for calcview \"in\" formula\n* node version support: 10, 12, 14\n\n## [7.3.7] - 2021-02-24\n\n### Fixed\n\nFor Edm.String typed properties, all single quotes must be preserved.\n\n## [7.3.5] - 2020-11-23\n\n### Fixed\n\nAuthorization header parsing conform to RFC6750\n\n## [7.3.4] - 2020-10-14\n\n### Fixed\n\nadd \"return\" before asynDone to avoid \"Callback was already called\" errors when \"dataCollector* classes\" are called\n\n## [7.3.3] - 2020-10-01\n\n### Fixed\n\nCommit on drop of temporary tables added.\n\n\n## [7.3.2] - 2020-09-30\n\n## [7.3.1] - 2020-09-29\n\n### Changed\n\n* Improved error messages.\n\n## [7.3.0] - 2020-09-15\n\n* Aggregation for \"count\":\n  * For explicit application the aggregation type \"count\" was not supported in the xsodata file. When\n    \"aggregates always (COUNT of \"Amount\");\" was used, a syntax error was thrown.\n  * For implicit aggregation, where the aggregation information is loaded from the calcviews measures (e.g.\n    using \"aggregates always;\" without a property list in the *.xsodata file), wrongly \"avg\" was used as measure\n    type instead of \"count\".\n  * With this fix aggregation type \"count\" is now properly supported\n    * For explicit application: \"aggregates always (COUNT of \"Amount\");\"\n    * For implicit aggregation: calcview measures \"count\" and \"avg\" are now supported property\n\n* Fix: If a temporary table is not properly dropped by the DB, a second drop step is performed to avoid errors\n    when recreating the table.\n\n## [7.2.0] - 2020-08-19\n\n* Improve logging infrastructure\n\n## [7.1.0] - 2020-08-11\n\n* OData type Edm.Time is mapped to hana types 'TIME' (due to backward compatiblity) which stores only hour, minutes\n  and seconds, so only the uri format **time'PT0H0M0S'** was supported. With this fix also the full representation\n  like time'P2010Y12M30DT01H02M03S' can be used (some UIs generated it) if the parts of year, mounth and day are zero.\n\n* Fix for missing annotations (e.g. \"sap:label\") if an calcview without input parameters is exposed as normal view\n  (this is without the \"parameter via\" keyword in the xsodata file)\n\n* Fixes for create, update, delete operations via user-exits on calculation views without input parameters.\n  Please note: if the input parameters are omitted and \"via keys\" is used, then the input parameter must be set in\n  the exit functions since they are rendered in the output.\n\n* Explicitly drop prepared statements immediately instead at request end\n\n## [7.0.3] - 2020-06-30\n\n### Added\n- license file: developer-license-3.1.txt\n\n## [7.0.2] - 2020-05-18\n\n* Add support for create, update, delete operations via user-exits on calculation views without input parameters.\n  Work for both, calculation views without input parameters exposed as normal view and exposed as calcview.\n\n## [7.0.1] - 2020-05-12\n\n* Add support for calculation views without input parameters.\n  Before release 7.0.0 calcviews without input parameters have not been supported, but worked accidentally if a calcview\n  was wrongly exposed as normal view. After the major release 7.0.0 this wrong exposure of a calcview resulted in an error.\n  Because calcviews without input parameters are used more often, the support for this calcviews is now supported.\n  You can either expose a calcview as normal view or as proper calcview, for the latter an input parameter entityset with\n  parenthesis must be used.\n\n## [7.0.0] - 2020-04-23\n\n* Add support for NodeJS version 12\n* Removed support for NodeJS version 6\n* Fix bug when using a view with explicit key in combination with concurrency token using default properties for ETag.\n  Now key properties are not considered for etag generation as written in the \"SAP HANA Developer Guide\":\n  _If you specify concurrency token only, then all properties, except the key properties, are used to calculate\n  the ETag value. If you provide specific properties, then only those properties are used for the calculation._\n\n## [6.2.1] - 2020-03-05\n\n* fixes in release process\n\n## [6.1.0] - 2020-03-05\n\n* fixes in release process\n\n## [6.0.0] - 2020-03-05\n\n* Add support for LTS Node.js version 12 and 10\n* Support for create/update/delete requests on calculation views if \"parameter via keys\" definition is used.\nRequirements:\n    * input parameters in the calculation view of type ALPHANUM, BLOB, DECIMAL, NVARCHAR, VARBINARY, VARCHAR must have length restriction\n    * input parameters in the calculation view of type DECIMAL must have scale restriction\n    * all key semantics also apply to keys coming from input parameters\n* **IMPORTANT** By default, now a maximum body size of \"10mb\" per request is allowed. More payload leads to an \"413 Payload Too Large\" error. This value of 10mb can be changed with the odata settings in the *.xsodata file\n[see **XSOdata Settings**](/documentation/xsodataSettings.md)\n\n## [5.0.0] - 2019-12-17\n\n### Info\n\n* Removed lock when opening a db connection\n  The new native hana-client driver used by xsjs is thread save, so the lock for retrieving a new db connection is not required anymore.\n  **IMPORTANT** If a custom open function is used, then this function must be reentrant or implement an own lock inside.\n\n### Fixed\n\n* When using $count to determine the number of records of an entity set in junction with the limit feature, the\nreturned number was also capped by the limit, this was wrong. Now the correct full number of records is returned.\n* Fixed typeError if a stored procedure used as custom exit does not return a proper error structure.\n\n## [4.7.0] - 2019-10-28\n\n### Fixed\n\nFixed error causing duplicate properties and property references in the metadata document. Prerequisites:\n* The error occurs if an calculation view has been used as source for an entityset\n* This calculation view contains an input parameter which is used in more than one measures\n* Example: Input parameter \"Input_Currency\" (a calcview variable) is used in the currency conversion for the measures \"VALUE\" and \"TAX\"\n\n## [4.6.0] - 2019-10-11\n\n### Fixed\n\nFixed error \"Error while executing a DB query\" when using an navigation property to navigate from a calculation view to an related entity.\n\n## [4.5.4] - 2019-08-26\n\n### Info\n\n- Update module dependencies\n\n## [4.5.3] - 2019-08-26\n\n### Info\n\n- Update module dependencies\n\n## [4.5.1] - 2019-08-23\n\n### Info\n\n- Updated documentation\n\n## [4.5.0] - 2019-08-23\n\n### Info\n\n- Update module dependencies\n- Adopt to new async behaviour\n- Adopt to new calcview metadata\n\n### Fixed\n\n- Fix bug in error case (duplicate call of callback)\n\n\n## [4.4.0] - 2019-01-25\n\n- Update module dependencies\n- The code field inside an OData error response (error.code) is now correctly send as string (not as number)\n- For calcviews the columns type length is determined from the COLUMN_SQL_TYPE if LENGTH is not set.\n- Fixed error while parsing multipart/mixed batch requests\n\n## [4.3.0] - 2018-10-19\n\n### Info\n\n- Minimal required @sap/hana-client version is 2.3.123\n- Improved test exits\n- **IMPORTANT** Conversion: When converting TIMESTAMP db type to OData V2 json payload, only the first 3 digits\n of the fractional part are used (OData V2 type DateTime does only supports millisecond precision). With the old\n hdb db driver the xsodata library got already only millisecond precision, with the new hana-client db-driver the xsodata\n library itself has to remove any digits and use only the millisecond part. The check if the digits for micro- or nanoseconds\n are zero and throwing an error if not (added with release 4.0.0) has been removed due to backward  compatibility reasons.\n\n## [4.2.0] - 2018-09-18\n\n### Changed\n\n- Upgraded lodash module dependency to 4.17.11\n\n## [4.1.0] - 2018-08-31\n\n### Added\n\n- Write memory consumption to log if requested\n\n### Fixed\n\n- Improve cleanup of temporary tables\n\n## [4.0.0] - 2018-08-15\n\n### Added\n\n- **IMPORTANT**|**INCOMPATIBLE** Added limit feature to restrict the amount of records loaded from the database.\n  There are defaults for the limit values [see **XSOdata Settings**](/documentation/xsodataSettings.md) which need to\n  be validated before using this version.\n- Support for hana-client database connector\n- **IMPORTANT**|**INCOMPATIBLE** Switched default database connector from hdb to hana-client\n  [see **Database connector**](/documentation/db.md)\n\n### Fixed\n\n- Use always the original DB property ordering when copying data into temporary tables for use\nin exits in the insert and update steps.\n\n\n## [3.7.0] - 2018-05-22\n\n### Fixed\n\n- Update dependencies\n\n## [3.6.7] - 2018-05-18\n\n### Fixed\n\n- Extended DB-Version check to avoid unnecessary cleanup of temporary tables (added new db versions)\n- Allow throwing an Error object in custom exits\n\n## New features with xsodata 3.6.0:\n\n### Fixed\n\n- Extended DB-Version check to avoid unnecessary cleanup of temporary tables\n- Commands for cleanup of temporary tables don't stop the request processing if tables are truncated/dropped already\n- Fixed error which leads to an unclosed db connection. This error occurred only if\n   - the xsdata library is used without the xsjs layer (which is not recommended) and\n   - the db connection information was provided via host, port, user,... to the OdataHandler\n   - as request options for the processRequest method a string containing the uriPrefix is used\n   (not an RequestOptions object).\n   - $batch processing is used\n- Fixed wrong decoding of OData strings of type Edm.String in $filter and $orderby expressions if the string contained\nexactly one single quote (e.g. '''' have been decoded wrongly to Json \"\" not to the correct \"'\")\n- Parsing milliseconds for Edm.DateTime works now as expected for hana column type TIMESTAMP.\n  Sample: HANA value \"9999-12-31T23:59:59.99\" is parsed now to have 990 ms instead of just 99ms\n\n### Changed\n\n- Upgraded @sap/xssec module dependencies\n\n## New features with xsodata 3.5.0:\n\n### Fixed\n\n- Proper pattern escaping for substringof, startswith and endswith operations on $filter or $orderby.\n- Fixed SQL error when retrieving the row count of calculation views with transparent filters.\n\n### Added:\n\n- Added new SQL error class to pass all errors related to DB query execution\n\n## New features with xsodata 3.4.0:\n\n### Added:\n\n- Support for points \".\" in HANA table column names and consistently in OData property names.\n  This feature has been added for backward compatibility reasons only. The OData V2 specification does not allow the usage\n  of points for property names as points are used to separate namespace parts and names.\n  So please consider not using it.\n\n### Changed\n\n- Upgraded @sap/xssec and @sap/xsenv module dependencies\n\n## New features with xsodata 3.3.0:\n\n### Fixed:\n\n- Removed failing sql calls to cleanup temporary tables, which become unnecessary with db patch 2.00.030.00.1515544046.\n- Numbers of type Edm.Int64 must be represented as string (e.g. \"123\") in json format even if they are within in the range of JS Number.\n\n## New features with xsodata 3.0.0:\n\n### Added\n\n- Support Node.js 4.x.x, 6.x.x and newly 8.x.x\n\n### Changed\n\n- Updated dependencies\n- Improved content id handling in batch requests\n\n### Fixed\n\n- Fixed conversion of binary data if generated key are used\n\n### Removed\n\n- Removed support for Node.js 0.12.9\n\n## New features with xsodata 2.4.0:\n\n### Added\n\n- Add \"hints\" setting to xsodata file definition to provide custom hints for SQL-select\n\n## New features with xsodata 2.3.0:\n\n### Added\n\n- Before/After commit exits also called for non batch modifications\n- Improved cleanup of temporary tables\n- Improved error message when using key property with point '.'\n- Rollback performed also for non batch modifications\n\n### Changed\n\n- Updated dependencies\n\n### Fixed\n\n- Fixed __metadata Uri in payload: name/value key pairs are now correct\n\n## Modifications with SAP HANA XSA 2.0 SPS 2:\n\n### Added\n\n- Request specific logging\n- I18N support for language specific metadata, e.g. labels in annotations\n- Update of Open Source libraries\n\n### Fixed\n\n- Several smaller bug fixes\n\n## Modifications with SAP HANA XSA 2.0 SPS 1:\n\n### Added\n\n- Switch to scoped package name @sap/xsodata\n- Support for node.js version 4.X.X & 6.9.X\n\n## New Features with SAP HANA XSA 2.0 SPS 0:\n\n### Added\n\n- [Annotations in metadata](/documentation/annotations.md)\n- [Scope based authorization checks](/documentation/authorization.md)\n- Support for node.js version 4.4.X & 6.2.X\n\n## New Features with SAP HANA XSA SPS 12:\n\n### Added\n\n- Support for $links requests\n- Custom exits for $links requests (modification requests only)\n- Support for node.js version 0.12.X & 4.4.X\n","downloadsCurrentMonth":4761,"downloadsCurrentFortnight":1915,"downloads365":62919,"downloadsFortnightGrowth":-28.09,"downloadsHistory":[{"yearMonth":"2023-04","downloads":5950},{"yearMonth":"2023-05","downloads":6565},{"yearMonth":"2023-06","downloads":6498},{"yearMonth":"2023-07","downloads":5666},{"yearMonth":"2023-08","downloads":5887},{"yearMonth":"2023-09","downloads":4312},{"yearMonth":"2023-10","downloads":4924},{"yearMonth":"2023-11","downloads":3677},{"yearMonth":"2023-12","downloads":5014},{"yearMonth":"2024-01","downloads":4821},{"yearMonth":"2024-02","downloads":4439}],"versions":[{"version":"created","date":"2020-06-11T18:48:55.716Z"},{"version":"2.0.5","date":"2020-06-11T18:48:56.178Z"},{"version":"modified","date":"2023-11-30T14:59:52.511Z"},{"version":"4.3.0","date":"2020-06-11T18:49:04.449Z"},{"version":"2.0.6","date":"2020-06-11T18:49:11.549Z"},{"version":"3.7.0","date":"2020-06-11T18:49:20.821Z"},{"version":"2.1.0","date":"2020-06-11T18:49:29.354Z"},{"version":"7.0.2","date":"2020-06-11T18:49:36.952Z"},{"version":"4.5.4","date":"2020-06-11T18:49:44.769Z"},{"version":"4.6.0","date":"2020-06-11T18:49:52.406Z"},{"version":"4.2.0","date":"2020-06-11T18:50:01.600Z"},{"version":"2.0.7","date":"2020-06-11T18:50:09.352Z"},{"version":"3.4.0","date":"2020-06-11T18:50:19.387Z"},{"version":"5.0.0","date":"2020-06-11T18:50:28.764Z"},{"version":"7.0.0","date":"2020-06-11T18:50:35.617Z"},{"version":"3.3.0","date":"2020-06-11T18:50:43.210Z"},{"version":"4.7.0","date":"2020-06-11T18:50:51.469Z"},{"version":"3.0.0","date":"2020-06-11T18:50:58.285Z"},{"version":"2.3.0","date":"2020-06-11T18:51:05.544Z"},{"version":"3.5.0","date":"2020-06-11T18:51:12.767Z"},{"version":"3.6.0","date":"2020-06-11T18:51:19.881Z"},{"version":"2.2.0","date":"2020-06-11T18:51:28.199Z"},{"version":"6.2.1","date":"2020-06-11T18:51:36.657Z"},{"version":"4.1.0","date":"2020-06-11T18:51:44.076Z"},{"version":"4.4.0","date":"2020-06-11T18:51:53.143Z"},{"version":"2.4.0","date":"2020-06-11T18:52:02.569Z"},{"version":"3.6.7","date":"2020-06-11T18:52:11.019Z"},{"version":"7.0.3","date":"2020-06-30T10:00:00.865Z"},{"version":"7.1.0","date":"2020-08-14T10:53:56.328Z"},{"version":"7.2.2","date":"2020-08-21T07:28:43.265Z"},{"version":"7.3.0","date":"2020-09-15T14:45:08.274Z"},{"version":"7.3.2","date":"2020-10-01T06:51:47.177Z"},{"version":"7.3.3","date":"2020-10-01T12:34:27.267Z"},{"version":"7.3.4","date":"2020-10-14T14:23:49.776Z"},{"version":"7.3.5","date":"2020-11-23T11:21:21.827Z"},{"version":"7.3.7","date":"2021-02-24T17:04:36.728Z"},{"version":"7.4.2","date":"2021-05-05T14:20:29.094Z"},{"version":"7.4.4","date":"2021-07-21T09:58:11.843Z"},{"version":"7.4.5","date":"2021-12-15T16:21:59.050Z"},{"version":"7.5.0","date":"2022-03-24T14:09:11.230Z"},{"version":"7.5.5","date":"2022-04-22T09:15:20.621Z"},{"version":"8.0.0","date":"2022-08-05T09:48:31.373Z"},{"version":"8.0.1","date":"2022-09-13T15:22:33.167Z"},{"version":"8.0.2","date":"2023-01-30T16:25:10.469Z"},{"version":"8.1.0","date":"2023-02-20T12:57:14.912Z"},{"version":"8.1.2","date":"2023-11-30T14:59:52.334Z"}],"npmlink":"https://www.npmjs.com/package/@sap/xsodata"},{"name":"xss-secure","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SEE LICENSE IN LICENSE file","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T19:01:47.700Z","updatedAt":"2024-03-06T12:21:21.496Z","readme":"@sap/xss-secure\n==============\n\nXSSSecurity Implementation taken from SAP UI5\n\n## Usage\n`var xssSecure = require('@sap/xss-secure');`\n\n## API Reference\n\n#### `encodeCSS(string)`\nEncode the string for inclusion into CSS string literals or identifiers.\n* `string` - The string to be escaped\n\nReturns the escaped `string`.\n```js\nxssSecure.encodeCSS('1<4'); // returns '1\\\\3c 4'\nxssSecure.encodeCSS('a-b'); // returns 'a\\2d b'\n```\n\n#### `encodeHTML(string)`\nEncode the string for inclusion into HTML content/attribute.\n* `string` - The string to be escaped\n\nReturns the escaped `string`.\n```js\nxssSecure.encodeHTML('1<4');  // returns '1&lt;4'\nxssSecure.encodeHTML('\\x00'); // returns '&#xfffd;'\n```\n\n#### `encodeJS(string)`\nEncode the string for inclusion into a JS string literal.\n* `string` - The string to be escaped\n\nReturns the escaped `string`.\n```js\nxssSecure.encodeJS('1<4');  // returns '1\\\\x3c4'\nxssSecure.encodeJS('\\x00'); // returns '\\\\x00'\n```\n\n#### `encodeURL(string)`\nEncode the string for inclusion into an URL parameter.\n* `string` - The string to be escaped\n\nReturns the escaped `string`.\n```js\nxssSecure.encodeURL('http://testing.com/?a=1&b=\"ok\"');\n// returns 'http%3a%2f%2ftesting.com%2f%3fa%3d1%26b%3d%22ok%22'\n```\n\n#### `encodeXML(string)`\nEncode the string for inclusion into XML content/attribute.\n* `string` - The string to be escaped\n\nReturns the escaped `string`.\nThis function is alias to `encodeHTML`.\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\nThis project adheres to [Semantic Versioning](http://semver.org/).\n\nThe format is based on [Keep a Changelog](http://keepachangelog.com/).\n\n## 5.0.0 - 2024-02-29\n\n### Removed\n- Node.js 12.x, 14.x and 16.x support and tests\n\n## 4.3.0 - 2022-11-08\n\n### Added\n- Support for Node.js 20.x\n\n## 4.2.0 - 2022-02-17\n\n### Added\n- Support for Node.js 18.x\n\n### Removed\n- Node.js 8.x and Node.js 10.x support\n\n## 4.1.0 - 2022-01-12\n\n### Added\n- Support for Node.js 16.x\n\n## 4.0.0 - 2020-11-09\n\n### Added\n- Node.js 14.x support.\n\n### Removed\n- Node.js 6.x support\n\n## 3.1.0 - 2019-12-06\n\n### Added\n- Node.js 12.x support.\n\n## 3.0.0 - 2019-04-25\n\n### Removed\n- Node.js v0.12 and v4 support\n\n## 2.2.0 - 2018-12-18\n\n### Added\n- Node.js version 10 support.\n- Release with npm-shrinkwrap.json\n\n## 2.1.0 - 2018-01-08\n\n### Added\n- Node.js version 8 support.\n- CHANGELOG.md\n\n## 2.0.11 - 2017-01-24\n\n### Changed\n- Rename package to use *sap* scope.\n\n## 2.0.10 - 2017-01-23\n\n### Changed\n- Improvements in documentation.\n","downloadsCurrentMonth":4863,"downloadsCurrentFortnight":2048,"downloads365":59552,"downloadsFortnightGrowth":-22.25,"downloadsHistory":[{"yearMonth":"2023-04","downloads":5402},{"yearMonth":"2023-05","downloads":6141},{"yearMonth":"2023-06","downloads":6149},{"yearMonth":"2023-07","downloads":5285},{"yearMonth":"2023-08","downloads":5452},{"yearMonth":"2023-09","downloads":3953},{"yearMonth":"2023-10","downloads":4520},{"yearMonth":"2023-11","downloads":3808},{"yearMonth":"2023-12","downloads":4806},{"yearMonth":"2024-01","downloads":4556},{"yearMonth":"2024-02","downloads":4400}],"versions":[{"version":"created","date":"2020-06-11T19:01:47.700Z"},{"version":"2.1.0","date":"2020-06-11T19:01:48.130Z"},{"version":"modified","date":"2024-03-06T12:21:21.496Z"},{"version":"2.2.0","date":"2020-06-11T19:01:54.748Z"},{"version":"3.0.0","date":"2020-06-11T19:02:00.965Z"},{"version":"3.1.0","date":"2020-06-11T19:02:07.710Z"},{"version":"2.0.11","date":"2020-06-11T19:02:15.057Z"},{"version":"4.0.0","date":"2020-11-10T10:38:03.083Z"},{"version":"4.1.0","date":"2022-01-28T12:40:06.046Z"},{"version":"4.2.0","date":"2023-02-20T07:58:00.095Z"},{"version":"4.3.0","date":"2023-11-16T12:21:44.431Z"},{"version":"5.0.0","date":"2024-03-06T12:21:21.049Z"}],"npmlink":"https://www.npmjs.com/package/@sap/xss-secure"},{"name":"xssec","type":"module","gitHubOwner":"gregorwolf","gitHubRepo":"SAP-NPM-API-collection","license":"SAP DEVELOPER LICENSE AGREEMENT","forks":10,"stars":36,"addedToBoUI5":"","createdAt":"2020-06-11T20:20:10.165Z","updatedAt":"2023-12-22T08:04:44.117Z","readme":"@sap/xssec: XS Advanced Container Security API for node.js\r\n==========================================================\r\n\r\n## XS Advanced Authentication Primer\r\n\r\nAuthentication for node applications in XS Advanced relies on a special usage of the OAuth 2.0 protocol, which is based on central authentication at the UAA server that then vouches for the authenticated user's identity via a so-called OAuth Access Token. The current implementation uses as access token a JSON web token (JWT), which is a signed text-based token following the JSON syntax.\r\n\r\nNormally, your node application will consist of several parts, that appear as separate applications in your manifest file, e.g. one application part that is responsible for the HANA database content, one application part for your application logic written e.g. in node.js (this is the one that can make use of this XS Advanced Container Security API for node.js), and finally one application part that is responsible for the UI layer (this is the one that may make use of the application router functionality). The latter two applications (the application logic in node.js and the application router) should be bound to one and the same UAA service instance. This has the effect, that these two parts can use the same OAuth client credentials.\r\n\r\nWhen your business users access your application UI with their browser, the application router redirects the browser to the UAA where your business users need to authenticate. After successful authentication, the UAA sends - again via the business user's browser - an OAuth authorization code back to the application router. Now the application router sends this authorization code directly (not via the browser) to the UAA to exchange it into an OAuth access token. If the access token is obtained successfully, the business user has logged on to the UI part of your application already. In order to enable your UI to pass this authentication on to the node.js application part, you need to ensure that the destination to your node.js application part is configured such that the access token is actually sent to the node.js part (\"forwardAuthToken\": true).\r\n\r\nIn order to authenticate this request, which arrives at the node.js backend, sap-xssec offers two mechanisms: Firstly, you can use the XS Advanced Container Security API directly to validate the access token. Secondly, you can make use of the passport strategy that is contained in module sap-xssec as another convenient way how to handle the access token. In the following, both options are described followed by the sap-xssec API description.\r\n\r\nsap-xssec offers an offline validation of the access token, which requires no additional call to the UAA. The trust for this offline validation is created by binding the XS UAA service instance to your application. Inside the credentials section in the environment variable VCAP_SERVICES, the key for validation of tokens is included. By default, the offline validation check will only accept tokens intended for the same OAuth2 client in the same UAA identity zone. This makes sense and will cover the vast majority of use cases. \r\n\r\nIf you want to enable another (foreign) application to use some of your application's scopes, you can add a ```granted-apps``` marker to your scope in the ```xs-security.json``` file (as in the following example). The value of the marker is a list of applications that is allowed to request a token with the denoted scope.\r\n\r\n```JSON\r\n{\r\n  \"xsappname\"     : \"sample-leave-request-app\",\r\n  \"description\"   : \"This sample application demos leave requests\",\r\n  \"scopes\"        : [ { \"name\"                : \"$XSAPPNAME.createLR\",\r\n                        \"description\"         : \"create leave requests\" },\r\n                      { \"name\"                : \"$XSAPPNAME.approveLR\",\r\n                        \"description\"         : \"approve leave requests\",\r\n                        \"granted-apps\"        : [\"MobileApprovals\"] }\r\n                    ],\r\n  \"attributes\"    : [ { \"name\"                : \"costcenter\",\r\n                        \"description\"         : \"costcenter\",\r\n                        \"valueType\"           : \"string\"\r\n                    } ],\r\n  \"role-templates\": [ { \"name\"                : \"employee\",\r\n                        \"description\"         : \"Role for creating leave requests\",\r\n                        \"scope-references\"    : [ \"$XSAPPNAME.createLR\",\"JobScheduler.scheduleJobs\" ],\r\n                        \"attribute-references\": [ \"costcenter\"] },\r\n                      { \"name\"                : \"manager\",\r\n                        \"description\"         : \"Role for creating and approving leave requests\",\r\n                        \"scope-references\"    : [ \"$XSAPPNAME.createLR\",\"$XSAPPNAME.approveLR\",\"JobScheduler.scheduleJobs\" ],\r\n                        \"attribute-references\": [ \"costcenter\" ] }\r\n                    ]\r\n}\r\n```\r\n\r\n## Usage of the XS Advanced Container Security API in your node.js Application\r\n\r\nIn order to use the capabilities of the XS Advanced container security API, add the module \"sap-xssec\" to the dependencies section of your application's package.json.\r\n\r\nTo enable tracing, you can set the environment variable DEBUG as follows: `DEBUG=xssec:*`.\r\n\r\n### Direct Usage with existing Access Token\r\n\r\nFor the usage of the XS Advanced Container Security API it is necessary to pass a JWT token. If you have such a token, you may use the API as follows. The examples below rely on users and credentials that you should substitute with the ones in your context. The code below is based on version v0.0.9 (if you use another version, the coding might differ).\r\n\r\nThe typical use case for calling this API lies from within a container when an HTTP request is received. In an authorization header (with keyword `bearer`) an access token is contained already. You can remove the prefix `bearer` and pass the remaining string (just as in the following example as `access_token`) to the API.\r\n\r\n```js\r\nxssec.createSecurityContext(access_token, xsenv.getServices({xsuaa:{tag:'xsuaa'}}).xsuaa, function(error, securityContext, tokenInfo) {\r\n    if (error) {\r\n        console.log('Security Context creation failed');\r\n        return;\r\n    }\r\n    console.log('Security Context created successfully');\r\n    console.log(tokenInfo.getPublicClaims());\r\n});\r\n```\r\n\r\nNote that the example above uses module `xsenv` to retrieve the configuration of the default services (which are read from environment variable `VCAP_SERVICES` or if not set, from the default configuration file). However, it passes only the required `uaa` configuration to the method `createSecurityContext`. As default the UAA configuration is searched with tag `xsuaa` by `xsenv`. For details we refer to module @sap/xsenv. The `xsenv` documentation also helps if you want to provide the credentials from e.g. a user provided service.\r\n\r\nThe creation function `xssec.createSecurityContext` is to be used for an end-user token (e.g. for grant_type `password` or grant_type `authorization_code`) where user information is expected to be available within the token and thus within the security context.\r\n\r\n`createSecurityContext` also accepts a token of grant_type `client_credentials`. This leads to the creation of a limited SecurityContext where certain functions are not available. For more details please consult the API description below or your documentation.\r\n\r\nWith version 3.1.0 there is a support for multiple configuration objects for one SecurityContext. For more details have a look [here](doc/MultiConfiguration.md).\r\n\r\n### Support for X-Correlation-ID header\r\n\r\nThe xssec library internally calls REST APIs of the XSUAA.\r\nNow it's possible to set a `correlationId` during context creation and for token exchange calls.\r\nFor this you have to restructe the configuration object.\r\n\r\n```js\r\nconst config = {\r\n  credentials: xsenv.getServices({xsuaa:{tag:'xsuaa'}}).xsuaa,\r\n  correlationId: \"1111-1111-11111111\"\r\n};\r\n\r\n//now you can call the createSecurityContext method as always\r\nxssec.createSecurityContext(access_token, config, function(error, securityContext, tokenInfo) {\r\n    if (error) {\r\n        console.log('Security Context creation failed');\r\n        return;\r\n    }\r\n    console.log('Security Context created successfully');\r\n    console.log(tokenInfo.getPublicClaims());\r\n});\r\n```\r\n\r\n### Usage with Passport Strategy\r\n\r\nIf you use [express](https://www.npmjs.com/package/express) and [passport](https://www.npmjs.com/package/passport), you can easily plug a ready-made authentication strategy.\r\n\r\nSince version 3.1.1 the JWTStratgy also supports the scope validation specified in [passport](http://www.passportjs.org/docs/oauth/#scope).\r\n\r\n```js\r\nvar express = require('express');\r\nvar passport = require('passport');\r\nvar JWTStrategy = require('@sap/xssec').JWTStrategy;\r\nvar xsenv = require('@sap/xsenv');\r\n\r\n...\r\n\r\nvar app = express();\r\n\r\n...\r\n\r\npassport.use(new JWTStrategy(xsenv.getServices({xsuaa:{tag:'xsuaa'}}).xsuaa));\r\n\r\napp.use(passport.initialize());\r\napp.use(passport.authenticate('JWT', { session: false }));\r\n```\r\n\r\nIf JWT token is present in the request and it is successfully verified, following objects are created:\r\n* request.user - according to [User Profile](http://passportjs.org/docs/profile) convention\r\n  * id\r\n  * name\r\n    * givenName\r\n    * familyName\r\n  * emails `[ { value: <email> } ]`\r\n* request.authInfo - the [Security Context](#api-description)\r\n* request.tokenInfo - the [TokenInfo](doc/TokenInfo.md) object\r\n\r\nIf the `client_credentials` JWT token is present in the request and it is successfully verified, following objects are created:\r\n* request.user - empty object\r\n* request.authInfo - the [Security Context](#api-description)\r\n* request.tokenInfo - the [TokenInfo](doc/TokenInfo.md) object\r\n\r\n\r\n#### Session\r\n\r\nIt is recommended to _disable the session_ as in the example above.\r\nIn XSA each request comes with a JWT token so it is authenticated explicitly and identifies the user.\r\nIf you still need the session, you can enable it but then you should also implement [user serialization/deserialization](http://passportjs.org/guide/configure/) and some sort of [session persistency](https://github.com/expressjs/session).\r\n\r\n\r\n### JWKS cache configuration\r\nTo verify the validity of a token, the library needs to ensure that it was signed with a `public key` from the authorization server's [JWKS](https://datatracker.ietf.org/doc/html/rfc7517) (JSON Web Key Set). The application retrieves the JWKS via HTTP from the authorization server. It is cached to reduce both the load on the authorization server and the latency of requests introduced by the token validation.\r\n\r\nThere are two values that are used to control the cache:\r\n- `expiration time`: When a JWKS is needed for validation whose cache entry has expired (`time since last refresh` > `X`), a refresh of the JWKS is performed (if not already in progress) and the token validation of the request needs to wait synchronously until the JWKS has been succesfully refreshed.\r\n- `refresh period`: When a JWKS is needed for validation whose cache entry is within the refresh period (`time until expiration` < `Y`), the cached JWKS will be used for validation (unless it has expired completely) and the JWKS will be refreshed asynchronously in the background.\r\n\r\nOnly **one HTTP request at a time** will be performed to refresh the JWKS.\r\n\r\nIn effect, productive systems with regular incoming requests should not experience delays from refreshing the JWKS (apart from the first request). Delays will only happen when the JWKS could not be refreshed during the refresh period, e.g. due to a prolonged outage of the JWKS endpoint or when no requests were received during the refresh period that would trigger a refresh.\r\n\r\n\r\n##### Default cache configuration\r\n```json\r\n{\r\n  \"expirationTime\": 1800000, // 1800000ms = 30min\r\n  \"refreshPeriod\": 900000, // 900000ms = 15min\r\n}\r\n```\r\n\r\n##### Manual cache configuration\r\nIn rare situations you might need to change the cache configuration.\r\nThe expiration time is important to support key rotation scenarios and should not be too high. Otherwise, the security of the application is impacted.\r\n\r\n:exclamation: **Normally you don't need to overwrite the default values!**\r\n\r\nTo overwrite cache parameters you need to specify them as key/value pairs under `<serviceCredentialJSON>.jwksCache`.\r\nPlease note that the cache parameters are configured in `ms` (milliseconds).\r\n\r\n***Example code:***\r\n\r\n```js\r\n// load service config\r\nlet config = xsenv.getServices({xsuaa:{tag:'xsuaa'}}).xsuaa;\r\n\r\n// add a jwksCache object to the config\r\nconfig.jwksCache = {\r\n  expirationTime: 3600000\r\n  refreshPeriod: 1800000,\r\n};\r\n\r\n// you can also overwrite only one value:\r\nconfig.jwksCache = {\r\n  refreshPeriod: 1200000,\r\n};\r\n\r\n// pass the config object to createSecurityConfig ...\r\nxssec.createSecurityContext(access_token, config, function(error, securityContext, tokenInfo) {\r\n   ...\r\n});\r\n\r\n// ... or if you use passport:\r\npassport.use(new JWTStrategy(config));\r\n...\r\n```\r\n\r\n### x5t Token Validation\r\nThe library optionaly supports token ownership validation via x5t thumbprint ([RFC 8705](https://datatracker.ietf.org/doc/html/rfc8705)) for tokens issues by SAP Identity service.\r\n\r\n:grey_exclamation: x5t token validation should only be enabled for applications using mTLS because the x5t validation will fail when there is no client certificate used for the request. SAP BTP will automatically put the client certificate in the `x-forwarded-client-cert` header of requests performed against `cert` application routes. From there it will be picked up by this lib to do the validation against the fingerprint claim from the token payload.\r\n\r\nTo enable x5t validation, pass a truthy value for the `x5tValidation` flag in the configuration object:\r\n\r\n```js\r\n// when creating securityContext manually\r\nxssec.createSecurityContext(access_token,\r\n{ x5tValidation: true, x509Certificate: ... // PEM or DER encoded certificate as string\r\n}, function(error, securityContext, tokenInfo) { ... });\r\n\r\n// when using passport\r\napp.use(passport.authenticate('JWT', { x5tValidation: true }));\r\n```\r\n\r\n### Test Usage without having an Access Token\r\n\r\nFor test purposes, you may retrieve the token for a certain user (whose credentials you know) from the UAA as in the following code-snippet.\r\n\r\n```js\r\nvar http = require(\"http\");\r\nvar xssec = require(\"@sap/xssec\");\r\nvar xsenv = require('@sap/xsenv');\r\nvar request = require('request');\r\n\r\nvar uaaService = xsenv.getServices( { uaa: 'uaa' } ).uaa;\r\nvar testService = xsenv.getServices( { test : { label : 'test' } } ).test;\r\nprocess.env.XSAPPNAME = testService.test.xsappname;\r\n\r\nvar options = {\r\n    url : uaaService.url + '/oauth/token?client_id=' + uaaService.clientid\r\n            + '&grant_type=password&username=' + testService.userid + '&password='\r\n            + testService.usersecret\r\n};\r\nrequest.get(\r\n    options,\r\n    function(error, response, body) {\r\n        if (error || response.statusCode !== 200) {\r\n            console.log('Token request failed');\r\n            return;\r\n        }\r\n\r\n        var json = null;\r\n        try {\r\n            json = JSON.parse(body);\r\n        } catch (e) {\r\n        \treturn callback(e);\r\n        }\r\n\r\n        xssec.createSecurityContext(json.access_token, uaaService, function(error, securityContext, tokenInfo) {\r\n            if (error) {\r\n                console.log('Security Context creation failed');\r\n                return;\r\n            }\r\n            console.log('Security Context created successfully');\r\n            console.log(tokenInfo.getPublicClaims());\r\n        });\r\n    }\r\n).auth(uaaService.clientid, uaaService.clientsecret, false);\r\n```\r\nNote that this example assumes additional test configuration in the file `default-services.json`.\r\n\r\n```json\r\n{\r\n  \"uaa\": {\r\n    \"url\"             : \"<UAA URL>\",\r\n    \"clientid\"        : \"<your application's OAuth client id>\",\r\n    \"clientsecret\"    : \"<your application's OAuth client secret>\",\r\n    \"xsappname\"       : \"<your application's name>\",\r\n    \"identityzone\"    : \"<desired UAA identity zone>\",\r\n    \"tags\"            : [\"xsuaa\"],\r\n    \"verificationkey\" : \"<verification key for offline validation>\"\r\n  },\r\n  \"test\": {\r\n    \"userid\"          : \"marissa\",\r\n    \"usersecret\"      : \"koala\"\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n### Support for X.509 authentication for token exchange\r\nXSUAA offers the possibility to use X.509 authentication.\r\nSince version 3.2.2 the node-xssec library supports to use this.\r\n\r\nAs a developer you normally do not need to do something differently. You create a SecurityContext with the configuration object you get from the environment.\r\nIf the XSUAA is configured to use X.509 the config object does not contain a `clientsecret`. Instead of this, there are a `certificate` and a `key` attributes.\r\nThe library will use these attributes during token exchanges to fetch the tokens from xsuaa using mtls.\r\n\r\n#### X.509 with XSUAA managed certificates\r\nIf your XSUAA instance is configured to manage certificates and keys on its own, you can take the configuration object from VCAP services and pass it to the `createSecurityContext` method.\r\nThe needed `certificate` and `key` attributes are already filled.\r\n\r\nThere is no difference to client-credential based token exchange.\r\n\r\n#### X.509 with external certificates\r\nIf you configured your XSUAA instance to use an external managed certificate/key you need to provide the `key` attribute to the configuration object.\r\n\r\nFor this you take the JSON from VCAP-Services and add the PEM encoded key as a string to the configuration.\r\n```js\r\n//read xsuaa config from VCAP\r\nconst config = xsenv.getServices({xsuaa:{tag:'xsuaa'}}).xsuaa;\r\n\r\nconst myExternalManagedKey = \"-----BEGIN RSA PRIVATE KEY-----...-----END RSA PRIVATE KEY-----\\n\";\r\nconfig.key = myExternalManagedKey;\r\n\r\n//if using passport\r\npassport.use(new JWTStrategy(config));\r\n\r\n//or create a security context directly\r\nxssec.createSecurityContext(access_token, config, function(error, securityContext, tokenInfo) {\r\n    //now you can run a tokenExchange with the provided key    \r\n    xssec.requestToken(config, constants.TYPE_USER_TOKEN, null, function(err, data) {\r\n\r\n    })    \r\n});\r\n```\r\n\r\n### Usage in Docker\r\n\r\nIn versions <= 3.0.0 there was **no** support for alpine base images.\r\nBut since verion >= 3.0.0 the xssec library has no dependency to a native library anymore. So it is now **fully compatible** with alpine images.\r\n\r\n## API Description\r\n\r\n### createSecurityContext\r\n\r\nThis function creates the Security Context by validating the received access token against credentials put into the application's environment via the UAA service binding.\r\n\r\nUsually, the received token must be intended for the current application. More clearly, the OAuth client id in the access token needs to be equal to the OAuth client id of the application (from the application's environment).\r\n\r\nParameters:\r\n\r\n* `access token` ... the access token as received from UAA in the \"authorization Bearer\" HTTP header\r\n* `config` ... a structure with mandatory elements url, clientid and clientsecret or cache configuration. Since version 3.1.0 it may also be an array of these structures (have a look [here](doc/MultiConfiguration.md))\r\n* `callback(error, securityContext, tokenInfo)`\r\n\r\n### getLogonName\r\n\r\nnot available for tokens of grant_type `client_credentials`, returns the logon name\r\n\r\n### getGivenName\r\n\r\nnot available for tokens of grant_type `client_credentials`, returns the given name\r\n\r\n### getFamilyName\r\n\r\nnot available for tokens of grant_type `client_credentials`, returns the family name\r\n\r\n### getEmail\r\n\r\nnot available for tokens of grant_type `client_credentials`, returns the email\r\n\r\n### getUserName\r\n\r\nreturns unique principal name of a user `user/<origin>/<logon name>` or client id that the access token has been issued for `client/<client id>`\r\n\r\n### getUniquePrincipalName\r\n\r\nnot available for tokens of grant_type `client_credentials`, returns unique principal name of a user. `user/<origin>/<logon name>`\r\n\r\n### getOrigin\r\n\r\n* returns the user origin. The origin is an alias that refers to a user store in which the user is persisted. For example, users that are authenticated by the UAA itself with a username/password combination have their origin set to the value uaa.\r\n\r\n### checkLocalScope\r\n\r\nchecks a scope that is published by the current application in the xs-security.json file.\r\n\r\nParameters:\r\n\r\n* `scope` ... the scope whose existence is checked against the available scopes of the current user. Here, no prefix is required.\r\n* returns `true` if the scope is contained in the user's scopes, `false` otherwise\r\n\r\n### checkFollowingInstanceScope\r\n\r\nchecks a instance specific scope that is published by the current application in the xs-security.json file. Use this to check a scope from a service instance.\r\n\r\nParameters:\r\n\r\n* `scope` ... the scope whose existence is checked against the available scopes of the current user. Here, no prefix is required.\r\n* returns `true` if the scope is contained in the user's scopes, `false` otherwise\r\n\r\n### checkScope\r\n\r\nchecks a scope that is published by an application.\r\n\r\nParameters:\r\n\r\n* `scope` ... the scope whose existence is checked against the available scopes of the current user.  Here, the prefix is required, thus the scope string is \"globally unique\".\r\n* returns `true` if the scope is contained in the user's scopes, `false` otherwise\r\n\r\n### getAppToken\r\n\r\n* returns the token of the application that can be used e.g. for token forwarding to another app.\r\n\r\n### getHdbToken\r\n\r\n* returns a token that can be used for contacting the HANA database. If the token, that the security context has been instantiated with, is a foreign token (meaning that the OAuth client contained in the token and the OAuth client of the current application do not match), `null` is returned instead of a token.\r\n\r\n### getTokenInfo\r\n* returns the [TokenInfo](doc/TokenInfo.md) object, containing all information received from token.\r\n\r\n### requestToken\r\n\r\nRequests a token based on the given type. The type can be `constants.TYPE_USER_TOKEN` or `constants.TYPE_CLIENT_CREDENTIALS_TOKEN`.\r\n\r\n* `serviceCredentials` ... the credentials of the service as JSON object. The attributes `clientid`, `clientsecret` and `url` (UAA) are mandatory. Note that the subdomain of the `url` will be adapted to the subdomain of the application token if necessary.\r\n* `type` ... allowed values are `constants.TYPE_USER_TOKEN` and `constants.TYPE_CLIENT_CREDENTIALS_TOKEN`\r\n* `additionalAttributes` ... the attributes that should be included into the JWT token as JSON object (key-value list), e.g. `{\"attr1\" : \"value1\", \"attr2\" : \"value2\"}` \r\n* `cb(error, token)` ... callback function\r\n\r\nalso have a look on how to initiate the [token flows](doc/TokenFlows.md) directly\r\n### hasAttributes\r\n\r\nnot available for tokens of grant_type `client_credentials`.\r\n\r\n* returns `true` if the token contains any xs user attributes, `false` otherwise.\r\n\r\n### getAttribute\r\n\r\nnot available for tokens of grant_type `client_credentials`.\r\n\r\nParameters:\r\n\r\n* `name` ... The name of the attribute that is requested.\r\n* returns the attribute exactly as it is contained in the access token. If no attribute with the given name is contained in the access token, `null` is returned. If the token, that the security context has been instantiated with, is a foreign token (meaning that the OAuth client contained in the token and the OAuth client of the current application do not match), `null` is returned regardless of whether the requested attribute is contained in the token or not.\r\n\r\n### getAdditionalAuthAttribute\r\n\r\nParameters:\r\n\r\n* `name` ... The name of the additional authentication attribute that is requested.\r\n* returns the additional authentication attribute exactly as it is contained in the access token. If no attribute with the given name is contained in the access token, `null` is returned. Note that additional authentication attributes are also returned in foreign mode (in contrast to getAttribute).\r\n\r\n### isInForeignMode\r\n\r\n* returns `true` if the token, that the security context has been instantiated with, is a foreign token that was not originally issued for the current application, `false` otherwise.\r\n\r\n### getSubdomain\r\n\r\n* returns the subdomain that the access token has been issued for.\r\n\r\n### getClientId\r\n\r\n* returns the client id that the access token has been issued for.\r\n\r\n### getSubaccountId\r\n\r\n* returns the subaccount id that the access token has been issued for.\r\n\r\n### getZoneId\r\n\r\n* returns the identity zone that the access token has been issued for.\r\n\r\n### getExpirationDate\r\n\r\n* returns the expiration date of the access token as javascript Date object.\r\n\r\n### getCloneServiceInstanceId\r\n\r\n* returns the service instance id of the clone if the XSUAA broker plan is used.\r\n\r\n### getGrantType\r\n\r\n* returns the grant type of the JWT token, e.g. `authorization_code`, `password`, `client_credentials` or `urn:ietf:params:oauth:grant-type:saml2-bearer`.\r\n\r\n## Latest published Version\r\nUse this command to check for the latest version that is published to the NPM repository:\r\n\r\n```\r\nnpm view --registry https://npm.sap.com @sap/xssec versions\r\n```\r\n","changelog":"# Change Log\nAll notable changes to this project will be documented in this file.\n\n## 3.6.1 - 2023-12-21\n- better support for older node versions\n\n## 3.6.0 - 2023-11-24\n- adapt optimized IAS server API\n\n## 3.5.0 - 2023-11-14\n- update dependencies (e.g. axios 0 -> 1)\n\n## 3.4.0 - 2023-10-23\n- add optional x5t validation (RFC 8705) for IAS tokens\n- Restore support for disableCache flag for JWKS retrieval\n- Bugfix for requests to XSUAA with array values inside form\n\n## 3.3.5 - 2023-09-28\n- Support for app2service and app2app for IAS\n\n## 3.3.4 - 2023-09-06\n- Fix IAS token exchange with X509 binding\n\n## 3.3.3 - 2023-08-08\n- Send either both x-app_tid & x-client_id headers or none of them to IAS /certs endpoint to prevent bad request\n\n## 3.3.2 - 2023-07-28\n- restore backward-compatibility feature: use cleanUpPemKey function on verification keys to support PEM with missing line breaks-\n- restore backward-compatible behaviour: use verificationKey as fallback if KID is not found in JWKS but throw error about missing KID if it fails\n- fix error handling for cert endpoint\n\n## 3.3.0 - 2023-07-24\n- add app_tid to formular for token exchanges\n- support for \"x-app_tid\" and \"x-client-id\" header for IAS cert endpoint\n- bugfix for unknown variable in new cache implementation\n\n## 3.2.18 - 2023-07-13\n- Replaced keycache implementation with new JwksReplica implementation: When a JWKS is used for validation, it is now checked if the cached replica will expire soon (default refresh period: 15min before expiration). If so, it will be refreshed in the background and the cached replica will still be used for validation until it has expired completely (default expiration time: 30min since last refresh). Validation of incoming requests will only be blocked by an expired JWKS if it could not be refreshed during the refresh period. Only one call at a time will be performed to refresh the JWKS.\n- Addd support for resource-attribute for token flow/token exchange calls\n\n## 3.2.17 - 2023-01-09\n- obfuscate credentials in debug output, when xssec:request debug variable is set\n\n## 3.2.15 - 2023-01-09\n- hotfix: upgrade to newest jsonwebtoken version ^9.0.0 because of security issue complainings. But the library was never affected\n\n## 3.2.14 - 2022-10-11\n- allow IAS issuer without https protocol prefix\n- fix for additionalAttributes\n- allow setting timeout without having credentials object provided\n\n## 3.2.13 - 2022-02-15\n- hofix in keycache implementation if you turn off to use the cache\n- upgrade to newer axios library\n\n## 3.2.12 - 2022-01-19\n- add support for UAA system plan \n- upgrade to newer axios library\n\n## 3.2.11 - 2021-11-30\n- add support for timeout setting for all requests-calls \n- support for password token flow in requests module\n- support for setting scopes for all requests to XSUAA\n## 3.2.10 - 2021-11-02\n- fix correlationID header names to \"x-vcap-request-id\" or \"x-correlationid\"\n\n## 3.2.9 - 2021-10-22\n- custom domain support for IAS\n- support for \"x-correlation-id\" header to be set for createSecurityContext and tokenexchange-calls\n- support to turn off the internal cache for a createSecurityContext call\n\n## 3.2.8 - 2021-10-18\n- add additional getter for user properties on XSUAA context\n- remove deed and unneeded code for IAS context\n- fix token flows in requests if subdomain is provided using certificate\n\n## 3.2.7 - 2021-09-15\n- replace got with axios library because of a bug in got lib during https get\n\n## 3.2.5 - 2021-09-07\n- fix to be backward-compatible for tokenFlow-APIs\n\n## 3.2.4 - 2021-09-03\n- fix an issue with IAS multitenancy support\n- remove the deprecated request library with got library\n\n## 3.2.3 - 2021-08-23\n- add checkFollowingInstanceScope to SecurityContext to retrieve instance specific scope without need to build scope string on your own\n- fix a reference error in key verification\n- support for multitenance IAS applications using 'x-zone_uuid' Header in jwks call\n\n## 3.2.2 - 2021-06-16\n- Support for tokenexchanges with X.509 certificates managed by XSUAA\n- Support for tokenexchanges with manually managed X.509 certificates\n- support for configuration objects that does not provide a clientsecret (but a certificate)\n\n## 3.2.1 - 2021-06-01\n- Add some more error and tracing information\n\n## 3.2.0 - 2021-04-20\n- Support for IAS token validation. ([more details](doc/IAS.md))\n\n## 3.1.2 - 2021-03-01\n- Feature: Support for IAS to XSUAA token exchange ([more details](doc/IAStoXSUAA.md))\n- Feature: Support for ZoneID enabled token flows ([more details](doc/TokenFlows.md))\n\n\n## 3.1.1 - 2021-02-11\n- Bugfix: Tokenexchange with additional attributes may result in a wrong formatted url\n- Feature: The passport middleware allows to provide scopes to be validated at authentication time. Details [here](http://www.passportjs.org/docs/oauth/#scope)\n\n## 3.1.0 - 2021-02-10\n- Support for multiple configurations for one security context ([more details here](doc/MultiConfiguration.md))\n- Bugfix: support for additional attributes in token exchange\n- Bugfix: authorization now in payload for better XSUAA support\n- correct support for azp (clientid) in token payload\n- method to identify an XSUAA token\n\n## 3.0.10 - 2021-10-01\n- The requests to the XSUAA are now available using the requests module also if you do not have a securityContext\n\n## 3.0.9 - 2020-08-06\n- Set request library to version 2.88.2 because of security vulnerability\n\n## 3.0.8 - 2020-08-06\n- Increase timeout for jwt-bearer token flow to reduce of timeouts with very big tokens.\n\n## 3.0.7 - 2020-07-24\n- Move the token to the request body for jwt-bearer token flow, because of problems with very big tokens\n\n## 3.0.6 - 2020-07-01\n- Audience Validation validates to true when the derived client_id of broker-clone token matches the trusted client. This is relevant to support tokens of grant type user_token that contains no scopes.\n\n## 3.0.5 - 2020-06-26\n- Audience Validation accepts tokens of grant type user_token that does not provide aud claim. In that case the audience is derived from the audiences from the scopes.\n- Audience Validation is skipped when cid of token matches the trusted client.\n- Use getSubaccountId() method only to fetch the subaccount id, e.g. for calling the metering API for user-based pricing.\n- In case you are interested in the customers tenant GUID make use of getZoneId method instead!\n- A new [TokenInfo](/doc/TokenInfo.md) class is introduced for better logging capabilities.\n\n## 3.0.3 - 2020-05-25\n\n- Fix jwt-bearer flow to take the right token as uri parameter.\n\n## 3.0.2 - 2020-05-20\n\n- Fix get verification key from keycache.\n\n## 3.0.1 - 2020-05-19\n\n- HotFix missing debugTrace in verification key\n- Fix RetryStrategy\n\n## 3.0.0 - 2020-05-15\n\n- Replace grant type user_token in method requestToken (TYPE_USER_TOKEN) in favor of urn:ietf:params:oauth:grant-type:jwt-bearer\n- Remove obsolete method getToken (use getHdbToken or getAppToken))\n- Remove obsolete method requestTokenForClient (use requestToken)\n- Remove obsolete method getIdentityZone (use getZoneId() instead, or getSubaccountId() for metering purposes) \n- Support for audience validation in token\n- remove of SAP_JWT_TRUST_ACL environment variable support (functionality now comes with audience validation); see also [here](https://jam4.sapjam.com/blogs/show/oEdyQO183plBoQdrvcPw2w).\n- remove depencency to node-jwt (ALPINE support)\n- restructure internal code for better maintainability\n\n## 2.2.5 - 2020-02-28\n\n- Update to node-jwt version 1.6.6\n\n## 2.2.4 - 2019-08-14\n\n- Support for API methods getUserName and getUniquePrincipalName\n \n## 2.2.3 - 2019-08-07\n\n- Add retry for recieving keys\n\n## 2.2.2 - 2019-06-24\n\n- Use verification key from binding as backup if online key retrieval fails\n\n## 2.2.1 - 2019-06-17\n\n- Fix uaaDomain comparison in key cache\n\n## 2.2.0 - 2019-06-17\n\n- Align key cache implementation with other container security libraries\n\n## 2.1.17 - 2019-05-17\n\n- Introduce http timeout of two seconds\n- Update version of module debug, lru-cache and @sap/xsenv\n- Fix token verification for broker master instance subscriptions\n\n## 2.1.16 - 2019-01-28\n\n- Fix token parser: switch ASCII to Utf8 decode\n\n## 2.1.15 - 2018-08-13\n\n- Update version of module request\n\n## 2.1.14 - 2018-07-24\n\n- Evaluate SAP_JWT_TRUST_ACL if trustedclientidsuffix is present but not matching\n\n## 2.1.13 - 2018-07-18\n\n- Update version of module request\n\n## 2.1.12 - 2018-06-01\n\n- Support for API methods getSubaccountId and getOrigin\n- Mark API method getIdentityZone as deprecated\n\n## 2.1.11 - 2018-05-18\n\n- Update version of module request\n\n## 2.1.10 - 2018-04-20\n\n- Fixes for keycache\n\n## 2.1.9 - 2018-04-18\n\n- Update version of module @sap/node-jwt (1.4.8)\n- Fixes for keycache\n- Update version of module request\n\n## 2.1.8 - 2018-03-14\n\n- Support for API method getAppToken\n\n## 2.1.7 - 2018-03-05\n\n- Support for API method requestToken\n\n## 2.1.6 - 2018-02-19\n\n- Update version of module @sap/node-jwt\n\n## 2.1.5 - 2018-02-07\n\n- Update version of module request\n\n## 2.1.4 - 2017-12-04\n\n- Support new JWT structure (attribute location ext_cxt)\n- First implementation for keycache\n\n## 2.1.3 - 2017-11-29\n\n- Support for API method getClientId\n\n## 2.1.2 - 2017-10-23\n\n- Support for API method getSubdomain\n\n## 2.1.1 - 2017-10-09\n\n- Update version of modules @sap/node-jwt, @sap/xsenv and debug\n\n## 2.1.0 - 2017-07-06\n\n- Support of API method requestTokenForClient\n- Update version of module @sap/node-jwt\n\n## 2.0.0 - 2017-06-26\n\n- Removal of deprecated constructor method createSecurityContextCc\n- Removal of API method method getUserInfo\n\n## 1.3.0 - 2017-06-23\n\n- Revert removal of API method method getUserInfo\n\n## 1.2.0 - 2017-06-22\n\n- Support for API methods getLogonName, getGivenName, getFamilyName, getEmail\n- Removal of API method method getUserInfo\n- Fix identity zone validation (only relevant for tenants created with SAP Cloud Cockpit)\n\n## 1.1.1 - 2017-05-30\n- Update version of dependent modules\n\n## 1.1.0 - 2017-05-22\n- Mark API method createSecurityContextCC as deprecated\n\n## 1.0.4 - 2017-05-17\n\n- Support for validation of XSUAA broker plan tokens\n- Support for API methods getCloneServiceInstanceId and getAdditionalAuthAttribute\n- Support for validation of XSUAA application plan tokens in arbitrary identity zones\n\n## 1.0.3 - 2017-03-29\n\n- Update version of dependent modules\n\n## 1.0.2 - 2017-02-22\n\n- Support for validation of SAML Bearer tokens\n\n## 1.0.1 - 2017-02-02\n\n- Support for client credentials tokens in JWT strategy\n\n## 1.0.0 - 2017-01-25\n\n- Introduction of scopeing, module name changed to @sap/xssec\n","downloadsCurrentMonth":409832,"downloadsCurrentFortnight":189485,"downloads365":5057398,"downloadsFortnightGrowth":-6.53,"downloadsHistory":[{"yearMonth":"2023-04","downloads":394026},{"yearMonth":"2023-05","downloads":443626},{"yearMonth":"2023-06","downloads":451500},{"yearMonth":"2023-07","downloads":414464},{"yearMonth":"2023-08","downloads":426692},{"yearMonth":"2023-09","downloads":421928},{"yearMonth":"2023-10","downloads":459700},{"yearMonth":"2023-11","downloads":459831},{"yearMonth":"2023-12","downloads":390450},{"yearMonth":"2024-01","downloads":401852},{"yearMonth":"2024-02","downloads":381514}],"versions":[{"version":"created","date":"2020-06-11T20:20:10.165Z"},{"version":"1.1.1","date":"2020-06-11T20:20:10.572Z"},{"version":"modified","date":"2023-12-22T08:04:44.117Z"},{"version":"2.1.1","date":"2020-06-11T20:20:17.045Z"},{"version":"2.1.16","date":"2020-06-11T20:20:24.064Z"},{"version":"3.0.3","date":"2020-06-11T20:20:30.852Z"},{"version":"2.1.15","date":"2020-06-11T20:20:37.128Z"},{"version":"2.2.3","date":"2020-06-11T20:20:43.503Z"},{"version":"2.1.12","date":"2020-06-11T20:20:50.012Z"},{"version":"2.1.0","date":"2020-06-11T20:20:56.911Z"},{"version":"2.1.11","date":"2020-06-11T20:21:05.983Z"},{"version":"3.0.2","date":"2020-06-11T20:21:12.152Z"},{"version":"2.1.14","date":"2020-06-11T20:21:18.729Z"},{"version":"3.0.1","date":"2020-06-11T20:21:26.944Z"},{"version":"2.1.10","date":"2020-06-11T20:21:33.330Z"},{"version":"1.1.0","date":"2020-06-11T20:21:40.810Z"},{"version":"2.1.17","date":"2020-06-11T20:21:47.033Z"},{"version":"2.1.6","date":"2020-06-11T20:21:53.255Z"},{"version":"2.1.4","date":"2020-06-11T20:22:01.187Z"},{"version":"2.1.8","date":"2020-06-11T20:22:08.194Z"},{"version":"1.0.2","date":"2020-06-11T20:22:15.569Z"},{"version":"1.0.3","date":"2020-06-11T20:22:21.986Z"},{"version":"2.2.4","date":"2020-06-11T20:22:28.402Z"},{"version":"2.1.3","date":"2020-06-11T20:22:34.555Z"},{"version":"2.2.2","date":"2020-06-11T20:22:40.677Z"},{"version":"2.1.2","date":"2020-06-11T20:22:47.366Z"},{"version":"3.0.0","date":"2020-06-11T20:22:53.412Z"},{"version":"1.3.0","date":"2020-06-11T20:23:00.521Z"},{"version":"2.0.0","date":"2020-06-11T20:23:06.658Z"},{"version":"2.1.9","date":"2020-06-11T20:23:12.880Z"},{"version":"2.2.5","date":"2020-06-11T20:23:19.004Z"},{"version":"2.1.7","date":"2020-06-11T20:23:26.771Z"},{"version":"2.2.1","date":"2020-06-11T20:23:34.267Z"},{"version":"2.2.0","date":"2020-06-11T20:23:40.477Z"},{"version":"2.1.5","date":"2020-06-11T20:23:46.720Z"},{"version":"3.0.5","date":"2020-06-26T12:38:13.575Z"},{"version":"3.0.6","date":"2020-07-01T13:01:27.319Z"},{"version":"3.0.7","date":"2020-07-24T13:06:32.077Z"},{"version":"3.0.8","date":"2020-08-06T09:49:52.435Z"},{"version":"3.0.9","date":"2020-08-06T19:51:37.452Z"},{"version":"3.0.10","date":"2020-10-02T10:54:09.343Z"},{"version":"3.1.0","date":"2021-02-10T10:12:09.037Z"},{"version":"3.1.1","date":"2021-02-11T17:18:11.818Z"},{"version":"3.1.2","date":"2021-03-02T12:49:22.536Z"},{"version":"3.2.0","date":"2021-04-20T09:20:43.754Z"},{"version":"3.2.1","date":"2021-06-02T08:39:43.709Z"},{"version":"3.2.2","date":"2021-06-17T08:24:42.935Z"},{"version":"3.2.3","date":"2021-08-23T17:44:03.153Z"},{"version":"3.2.4","date":"2021-09-06T17:38:34.146Z"},{"version":"3.2.5","date":"2021-09-07T15:15:32.543Z"},{"version":"3.2.7","date":"2021-09-15T14:29:26.295Z"},{"version":"3.2.8","date":"2021-10-18T11:40:30.677Z"},{"version":"3.2.9","date":"2021-10-22T15:17:30.672Z"},{"version":"3.2.10","date":"2021-11-03T09:36:21.224Z"},{"version":"3.2.11","date":"2021-11-30T15:25:48.204Z"},{"version":"3.2.12","date":"2022-01-19T14:01:27.085Z"},{"version":"3.2.13","date":"2022-02-15T15:27:54.921Z"},{"version":"3.2.14","date":"2022-10-12T07:40:50.190Z"},{"version":"3.2.15","date":"2023-01-09T09:49:15.484Z"},{"version":"3.2.17","date":"2023-01-20T14:04:01.833Z"},{"version":"3.2.18","date":"2023-07-14T08:09:15.689Z"},{"version":"3.3.0","date":"2023-07-24T18:07:17.065Z"},{"version":"3.3.2","date":"2023-07-28T11:41:29.590Z"},{"version":"3.3.3","date":"2023-08-08T13:33:38.418Z"},{"version":"3.3.4","date":"2023-09-06T07:13:33.416Z"},{"version":"3.3.5","date":"2023-09-29T09:31:41.146Z"},{"version":"3.4.0","date":"2023-10-24T11:46:17.090Z"},{"version":"3.5.0","date":"2023-11-15T12:06:28.489Z"},{"version":"3.6.0","date":"2023-11-24T15:41:59.335Z"},{"version":"3.6.1","date":"2023-12-22T08:04:43.915Z"}],"npmlink":"https://www.npmjs.com/package/@sap/xssec"}],"tags":[]}